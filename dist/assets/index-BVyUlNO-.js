(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function a0(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Mt={},Ya=[],$r=()=>{},zM=()=>!1,Cd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u0=e=>e.startsWith("onUpdate:"),hn=Object.assign,l0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},HM=Object.prototype.hasOwnProperty,ct=(e,t)=>HM.call(e,t),Fe=Array.isArray,Qa=e=>xc(e)==="[object Map]",kd=e=>xc(e)==="[object Set]",WS=e=>xc(e)==="[object Date]",He=e=>typeof e=="function",Zt=e=>typeof e=="string",$o=e=>typeof e=="symbol",kt=e=>e!==null&&typeof e=="object",hx=e=>(kt(e)||He(e))&&He(e.then)&&He(e.catch),dx=Object.prototype.toString,xc=e=>dx.call(e),GM=e=>xc(e).slice(8,-1),px=e=>xc(e)==="[object Object]",c0=e=>Zt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ll=a0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Od=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qM=/-(\w)/g,Ai=Od(e=>e.replace(qM,(t,n)=>n?n.toUpperCase():"")),WM=/\B([A-Z])/g,xu=Od(e=>e.replace(WM,"-$1").toLowerCase()),Nd=Od(e=>e.charAt(0).toUpperCase()+e.slice(1)),ev=Od(e=>e?`on${Nd(e)}`:""),Bo=(e,t)=>!Object.is(e,t),Sh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Fh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},XM=e=>{const t=parseFloat(e);return isNaN(t)?e:t},KM=e=>{const t=Zt(e)?Number(e):NaN;return isNaN(t)?e:t};let XS;const mx=()=>XS||(XS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Br(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Zt(r)?ZM(r):Br(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(Zt(e)||kt(e))return e}const YM=/;(?![^(]*\))/g,QM=/:([^]+)/,JM=/\/\*[^]*?\*\//g;function ZM(e){const t={};return e.replace(JM,"").split(YM).forEach(n=>{if(n){const r=n.split(QM);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function et(e){let t="";if(Zt(e))t=e;else if(Fe(e))for(let n=0;n<e.length;n++){const r=et(e[n]);r&&(t+=r+" ")}else if(kt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tL=a0(eL);function gx(e){return!!e||e===""}function nL(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Pd(e[r],t[r]);return n}function Pd(e,t){if(e===t)return!0;let n=WS(e),r=WS(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=$o(e),r=$o(t),n||r)return e===t;if(n=Fe(e),r=Fe(t),n||r)return n&&r?nL(e,t):!1;if(n=kt(e),r=kt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),c=t.hasOwnProperty(u);if(l&&!c||!l&&c||!Pd(e[u],t[u]))return!1}}return String(e)===String(t)}function vx(e,t){return e.findIndex(n=>Pd(n,t))}const ht=e=>Zt(e)?e:e==null?"":Fe(e)||kt(e)&&(e.toString===dx||!He(e.toString))?JSON.stringify(e,yx,2):String(e),yx=(e,t)=>t&&t.__v_isRef?yx(e,t.value):Qa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[tv(r,s)+" =>"]=i,n),{})}:kd(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>tv(n))}:$o(t)?tv(t):kt(t)&&!Fe(t)&&!px(t)?String(t):t,tv=(e,t="")=>{var n;return $o(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vr;class bx{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vr,!t&&vr&&(this.index=(vr.scopes||(vr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=vr;try{return vr=this,t()}finally{vr=n}}}on(){vr=this}off(){vr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function wx(e){return new bx(e)}function rL(e,t=vr){t&&t.active&&t.effects.push(e)}function _x(){return vr}function iL(e){vr&&vr.cleanups.push(e)}let js;class f0{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,rL(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ea();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(oL(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ta()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Mo,n=js;try{return Mo=!0,js=this,this._runnings++,KS(this),this.fn()}finally{YS(this),this._runnings--,js=n,Mo=t}}stop(){var t;this.active&&(KS(this),YS(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function oL(e){return e.value}function KS(e){e._trackId++,e._depsLength=0}function YS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Sx(e.deps[t],e);e.deps.length=e._depsLength}}function Sx(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Mo=!0,Bv=0;const Ex=[];function ea(){Ex.push(Mo),Mo=!1}function ta(){const e=Ex.pop();Mo=e===void 0?!0:e}function h0(){Bv++}function d0(){for(Bv--;!Bv&&zv.length;)zv.shift()()}function Tx(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Sx(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const zv=[];function Ix(e,t,n){h0();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&zv.push(r.scheduler)))}d0()}const xx=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},jh=new WeakMap,Us=Symbol(""),Hv=Symbol("");function cr(e,t,n){if(Mo&&js){let r=jh.get(e);r||jh.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=xx(()=>r.delete(n))),Tx(js,i)}}function Hi(e,t,n,r,i,s){const u=jh.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&Fe(e)){const c=Number(r);u.forEach((d,p)=>{(p==="length"||!$o(p)&&p>=c)&&l.push(d)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":Fe(e)?c0(n)&&l.push(u.get("length")):(l.push(u.get(Us)),Qa(e)&&l.push(u.get(Hv)));break;case"delete":Fe(e)||(l.push(u.get(Us)),Qa(e)&&l.push(u.get(Hv)));break;case"set":Qa(e)&&l.push(u.get(Us));break}h0();for(const c of l)c&&Ix(c,4);d0()}function sL(e,t){var n;return(n=jh.get(e))==null?void 0:n.get(t)}const aL=a0("__proto__,__v_isRef,__isVue"),Ax=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($o)),QS=uL();function uL(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=at(this);for(let s=0,u=this.length;s<u;s++)cr(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(at)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ea(),h0();const r=at(this)[t].apply(this,n);return d0(),ta(),r}}),e}function lL(e){const t=at(this);return cr(t,"has",e),t.hasOwnProperty(e)}class Cx{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?SL:Px:s?Nx:Ox).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const u=Fe(t);if(!i){if(u&&ct(QS,n))return Reflect.get(QS,n,r);if(n==="hasOwnProperty")return lL}const l=Reflect.get(t,n,r);return($o(n)?Ax.has(n):aL(n))||(i||cr(t,"get",n),s)?l:zt(l)?u&&c0(n)?l:l.value:kt(l)?i?g0(l):Yi(l):l}}class kx extends Cx{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const c=ou(s);if(!Uh(r)&&!ou(r)&&(s=at(s),r=at(r)),!Fe(t)&&zt(s)&&!zt(r))return c?!1:(s.value=r,!0)}const u=Fe(t)&&c0(n)?Number(n)<t.length:ct(t,n),l=Reflect.set(t,n,r,i);return t===at(i)&&(u?Bo(r,s)&&Hi(t,"set",n,r):Hi(t,"add",n,r)),l}deleteProperty(t,n){const r=ct(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Hi(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!$o(n)||!Ax.has(n))&&cr(t,"has",n),r}ownKeys(t){return cr(t,"iterate",Fe(t)?"length":Us),Reflect.ownKeys(t)}}class cL extends Cx{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const fL=new kx,hL=new cL,dL=new kx(!0),p0=e=>e,Rd=e=>Reflect.getPrototypeOf(e);function Yf(e,t,n=!1,r=!1){e=e.__v_raw;const i=at(e),s=at(t);n||(Bo(t,s)&&cr(i,"get",t),cr(i,"get",s));const{has:u}=Rd(i),l=r?p0:n?y0:Xl;if(u.call(i,t))return l(e.get(t));if(u.call(i,s))return l(e.get(s));e!==i&&e.get(t)}function Qf(e,t=!1){const n=this.__v_raw,r=at(n),i=at(e);return t||(Bo(e,i)&&cr(r,"has",e),cr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Jf(e,t=!1){return e=e.__v_raw,!t&&cr(at(e),"iterate",Us),Reflect.get(e,"size",e)}function JS(e){e=at(e);const t=at(this);return Rd(t).has.call(t,e)||(t.add(e),Hi(t,"add",e,e)),this}function ZS(e,t){t=at(t);const n=at(this),{has:r,get:i}=Rd(n);let s=r.call(n,e);s||(e=at(e),s=r.call(n,e));const u=i.call(n,e);return n.set(e,t),s?Bo(t,u)&&Hi(n,"set",e,t):Hi(n,"add",e,t),this}function eE(e){const t=at(this),{has:n,get:r}=Rd(t);let i=n.call(t,e);i||(e=at(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&Hi(t,"delete",e,void 0),s}function tE(){const e=at(this),t=e.size!==0,n=e.clear();return t&&Hi(e,"clear",void 0,void 0),n}function Zf(e,t){return function(r,i){const s=this,u=s.__v_raw,l=at(u),c=t?p0:e?y0:Xl;return!e&&cr(l,"iterate",Us),u.forEach((d,p)=>r.call(i,c(d),c(p),s))}}function eh(e,t,n){return function(...r){const i=this.__v_raw,s=at(i),u=Qa(s),l=e==="entries"||e===Symbol.iterator&&u,c=e==="keys"&&u,d=i[e](...r),p=n?p0:t?y0:Xl;return!t&&cr(s,"iterate",c?Hv:Us),{next(){const{value:f,done:m}=d.next();return m?{value:f,done:m}:{value:l?[p(f[0]),p(f[1])]:p(f),done:m}},[Symbol.iterator](){return this}}}}function co(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function pL(){const e={get(s){return Yf(this,s)},get size(){return Jf(this)},has:Qf,add:JS,set:ZS,delete:eE,clear:tE,forEach:Zf(!1,!1)},t={get(s){return Yf(this,s,!1,!0)},get size(){return Jf(this)},has:Qf,add:JS,set:ZS,delete:eE,clear:tE,forEach:Zf(!1,!0)},n={get(s){return Yf(this,s,!0)},get size(){return Jf(this,!0)},has(s){return Qf.call(this,s,!0)},add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear"),forEach:Zf(!0,!1)},r={get(s){return Yf(this,s,!0,!0)},get size(){return Jf(this,!0)},has(s){return Qf.call(this,s,!0)},add:co("add"),set:co("set"),delete:co("delete"),clear:co("clear"),forEach:Zf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=eh(s,!1,!1),n[s]=eh(s,!0,!1),t[s]=eh(s,!1,!0),r[s]=eh(s,!0,!0)}),[e,n,t,r]}const[mL,gL,vL,yL]=pL();function m0(e,t){const n=t?e?yL:vL:e?gL:mL;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(ct(n,i)&&i in r?n:r,i,s)}const bL={get:m0(!1,!1)},wL={get:m0(!1,!0)},_L={get:m0(!0,!1)},Ox=new WeakMap,Nx=new WeakMap,Px=new WeakMap,SL=new WeakMap;function EL(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TL(e){return e.__v_skip||!Object.isExtensible(e)?0:EL(GM(e))}function Yi(e){return ou(e)?e:v0(e,!1,fL,bL,Ox)}function Rx(e){return v0(e,!1,dL,wL,Nx)}function g0(e){return v0(e,!0,hL,_L,Px)}function v0(e,t,n,r,i){if(!kt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const u=TL(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return i.set(e,l),l}function Lo(e){return ou(e)?Lo(e.__v_raw):!!(e&&e.__v_isReactive)}function ou(e){return!!(e&&e.__v_isReadonly)}function Uh(e){return!!(e&&e.__v_isShallow)}function Dx(e){return Lo(e)||ou(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function Dd(e){return Object.isExtensible(e)&&Fh(e,"__v_skip",!0),e}const Xl=e=>kt(e)?Yi(e):e,y0=e=>kt(e)?g0(e):e;class Mx{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new f0(()=>t(this._value),()=>Eh(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=at(this);return(!t._cacheable||t.effect.dirty)&&Bo(t._value,t._value=t.effect.run())&&Eh(t,4),Lx(t),t.effect._dirtyLevel>=2&&Eh(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function IL(e,t,n=!1){let r,i;const s=He(e);return s?(r=e,i=$r):(r=e.get,i=e.set),new Mx(r,i,s||!i,n)}function Lx(e){var t;Mo&&js&&(e=at(e),Tx(js,(t=e.dep)!=null?t:e.dep=xx(()=>e.dep=void 0,e instanceof Mx?e:void 0)))}function Eh(e,t=4,n){e=at(e);const r=e.dep;r&&Ix(r,t)}function zt(e){return!!(e&&e.__v_isRef===!0)}function St(e){return Fx(e,!1)}function Vx(e){return Fx(e,!0)}function Fx(e,t){return zt(e)?e:new xL(e,t)}class xL{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:at(t),this._value=n?t:Xl(t)}get value(){return Lx(this),this._value}set value(t){const n=this.__v_isShallow||Uh(t)||ou(t);t=n?t:at(t),Bo(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Xl(t),Eh(this,4))}}function ft(e){return zt(e)?e.value:e}function vt(e){return He(e)?e():ft(e)}const AL={get:(e,t,n)=>ft(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return zt(i)&&!zt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function jx(e){return Lo(e)?e:new Proxy(e,AL)}function CL(e){const t=Fe(e)?new Array(e.length):{};for(const n in e)t[n]=Ux(e,n);return t}class kL{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sL(at(this._object),this._key)}}class OL{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Os(e,t,n){return zt(e)?e:He(e)?new OL(e):kt(e)&&arguments.length>1?Ux(e,t,n):St(e)}function Ux(e,t,n){const r=e[t];return zt(r)?r:new kL(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vo(e,t,n,r){try{return r?e(...r):e()}catch(i){Md(i,t,n)}}function zr(e,t,n,r){if(He(e)){const s=Vo(e,t,n,r);return s&&hx(s)&&s.catch(u=>{Md(u,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(zr(e[s],t,n,r));return i}function Md(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const d=s.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,u,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){Vo(c,null,10,[e,u,l]);return}}NL(e,n,i,r)}function NL(e,t,n,r=!0){console.error(e)}let Kl=!1,Gv=!1;const kn=[];let Si=0;const Ja=[];let _o=null,Ns=0;const $x=Promise.resolve();let b0=null;function or(e){const t=b0||$x;return e?t.then(this?e.bind(this):e):t}function PL(e){let t=Si+1,n=kn.length;for(;t<n;){const r=t+n>>>1,i=kn[r],s=Yl(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function w0(e){(!kn.length||!kn.includes(e,Kl&&e.allowRecurse?Si+1:Si))&&(e.id==null?kn.push(e):kn.splice(PL(e.id),0,e),Bx())}function Bx(){!Kl&&!Gv&&(Gv=!0,b0=$x.then(Hx))}function RL(e){const t=kn.indexOf(e);t>Si&&kn.splice(t,1)}function DL(e){Fe(e)?Ja.push(...e):(!_o||!_o.includes(e,e.allowRecurse?Ns+1:Ns))&&Ja.push(e),Bx()}function nE(e,t,n=Kl?Si+1:0){for(;n<kn.length;n++){const r=kn[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;kn.splice(n,1),n--,r()}}}function zx(e){if(Ja.length){const t=[...new Set(Ja)].sort((n,r)=>Yl(n)-Yl(r));if(Ja.length=0,_o){_o.push(...t);return}for(_o=t,Ns=0;Ns<_o.length;Ns++)_o[Ns]();_o=null,Ns=0}}const Yl=e=>e.id==null?1/0:e.id,ML=(e,t)=>{const n=Yl(e)-Yl(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Hx(e){Gv=!1,Kl=!0,kn.sort(ML);try{for(Si=0;Si<kn.length;Si++){const t=kn[Si];t&&t.active!==!1&&Vo(t,null,14)}}finally{Si=0,kn.length=0,zx(),Kl=!1,b0=null,(kn.length||Ja.length)&&Hx()}}function LL(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Mt;let i=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const p=`${u==="modelValue"?"model":u}Modifiers`,{number:f,trim:m}=r[p]||Mt;m&&(i=n.map(v=>Zt(v)?v.trim():v)),f&&(i=n.map(XM))}let l,c=r[l=ev(t)]||r[l=ev(Ai(t))];!c&&s&&(c=r[l=ev(xu(t))]),c&&zr(c,e,6,i);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,zr(d,e,6,i)}}function Gx(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let u={},l=!1;if(!He(e)){const c=d=>{const p=Gx(d,t,!0);p&&(l=!0,hn(u,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(kt(e)&&r.set(e,null),null):(Fe(s)?s.forEach(c=>u[c]=null):hn(u,s),kt(e)&&r.set(e,u),u)}function Ld(e,t){return!e||!Cd(t)?!1:(t=t.slice(2).replace(/Once$/,""),ct(e,t[0].toLowerCase()+t.slice(1))||ct(e,xu(t))||ct(e,t))}let On=null,qx=null;function $h(e){const t=On;return On=e,qx=e&&e.type.__scopeId||null,t}function Rn(e,t=On,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&pE(-1);const s=$h(t);let u;try{u=e(...i)}finally{$h(s),r._d&&pE(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function nv(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[u],slots:l,attrs:c,emit:d,render:p,renderCache:f,data:m,setupState:v,ctx:b,inheritAttrs:w}=e;let S,E;const x=$h(e);try{if(n.shapeFlag&4){const D=i||r,V=D;S=_i(p.call(V,D,f,s,v,m,b)),E=c}else{const D=t;S=_i(D.length>1?D(s,{attrs:c,slots:l,emit:d}):D(s,null)),E=t.props?c:VL(c)}}catch(D){Fl.length=0,Md(D,e,1),S=Z(oi)}let C=S;if(E&&w!==!1){const D=Object.keys(E),{shapeFlag:V}=C;D.length&&V&7&&(u&&D.some(u0)&&(E=FL(E,u)),C=Ho(C,E))}return n.dirs&&(C=Ho(C),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&(C.transition=n.transition),S=C,$h(x),S}const VL=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cd(n))&&((t||(t={}))[n]=e[n]);return t},FL=(e,t)=>{const n={};for(const r in e)(!u0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function jL(e,t,n){const{props:r,children:i,component:s}=e,{props:u,children:l,patchFlag:c}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?rE(r,u,d):!!u;if(c&8){const p=t.dynamicProps;for(let f=0;f<p.length;f++){const m=p[f];if(u[m]!==r[m]&&!Ld(d,m))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?rE(r,u,d):!0:!!u;return!1}function rE(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Ld(n,s))return!0}return!1}function UL({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const _0="components";function Ne(e,t){return Xx(_0,e,!0,t)||e}const Wx=Symbol.for("v-ndc");function Vd(e){return Zt(e)?Xx(_0,e,!1)||e:e||Wx}function Xx(e,t,n=!0,r=!1){const i=On||bn;if(i){const s=i.type;if(e===_0){const l=RV(s,!1);if(l&&(l===t||l===Ai(t)||l===Nd(Ai(t))))return s}const u=iE(i[e]||s[e],t)||iE(i.appContext[e],t);return!u&&r?s:u}}function iE(e,t){return e&&(e[t]||e[Ai(t)]||e[Nd(Ai(t))])}const $L=e=>e.__isSuspense;function BL(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):DL(e)}const zL=Symbol.for("v-scx"),HL=()=>Hr(zL);function Kx(e,t){return S0(e,null,t)}const th={};function xr(e,t,n){return S0(e,t,n)}function S0(e,t,{immediate:n,deep:r,flush:i,once:s,onTrack:u,onTrigger:l}=Mt){if(t&&s){const A=t;t=(...G)=>{A(...G),V()}}const c=bn,d=A=>r===!0?A:Ds(A,r===!1?1:void 0);let p,f=!1,m=!1;if(zt(e)?(p=()=>e.value,f=Uh(e)):Lo(e)?(p=()=>d(e),f=!0):Fe(e)?(m=!0,f=e.some(A=>Lo(A)||Uh(A)),p=()=>e.map(A=>{if(zt(A))return A.value;if(Lo(A))return d(A);if(He(A))return Vo(A,c,2)})):He(e)?t?p=()=>Vo(e,c,2):p=()=>(v&&v(),zr(e,c,3,[b])):p=$r,t&&r){const A=p;p=()=>Ds(A())}let v,b=A=>{v=C.onStop=()=>{Vo(A,c,4),v=C.onStop=void 0}},w;if(Bd)if(b=$r,t?n&&zr(t,c,3,[p(),m?[]:void 0,b]):p(),i==="sync"){const A=HL();w=A.__watcherHandles||(A.__watcherHandles=[])}else return $r;let S=m?new Array(e.length).fill(th):th;const E=()=>{if(!(!C.active||!C.dirty))if(t){const A=C.run();(r||f||(m?A.some((G,F)=>Bo(G,S[F])):Bo(A,S)))&&(v&&v(),zr(t,c,3,[A,S===th?void 0:m&&S[0]===th?[]:S,b]),S=A)}else C.run()};E.allowRecurse=!!t;let x;i==="sync"?x=E:i==="post"?x=()=>rr(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),x=()=>w0(E));const C=new f0(p,$r,x),D=_x(),V=()=>{C.stop(),D&&l0(D.effects,C)};return t?n?E():S=C.run():i==="post"?rr(C.run.bind(C),c&&c.suspense):C.run(),w&&w.push(V),V}function GL(e,t,n){const r=this.proxy,i=Zt(e)?e.includes(".")?Yx(r,e):()=>r[e]:e.bind(r,r);let s;He(t)?s=t:(s=t.handler,n=t);const u=Oc(this),l=S0(i,s.bind(r),n);return u(),l}function Yx(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ds(e,t,n=0,r){if(!kt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),zt(e))Ds(e.value,t,n,r);else if(Fe(e))for(let i=0;i<e.length;i++)Ds(e[i],t,n,r);else if(kd(e)||Qa(e))e.forEach(i=>{Ds(i,t,n,r)});else if(px(e))for(const i in e)Ds(e[i],t,n,r);return e}function Ql(e,t){if(On===null)return e;const n=zd(On)||On.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,u,l,c=Mt]=t[i];s&&(He(s)&&(s={mounted:s,updated:s}),s.deep&&Ds(u),r.push({dir:s,instance:n,value:u,oldValue:void 0,arg:l,modifiers:c}))}return e}function Es(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let u=0;u<i.length;u++){const l=i[u];s&&(l.oldValue=s[u].value);let c=l.dir[r];c&&(ea(),zr(c,n,8,[e.el,l,e,t]),ta())}}const So=Symbol("_leaveCb"),nh=Symbol("_enterCb");function qL(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Au(()=>{e.isMounted=!0}),Cc(()=>{e.isUnmounting=!0}),e}const Fr=[Function,Array],Qx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fr,onEnter:Fr,onAfterEnter:Fr,onEnterCancelled:Fr,onBeforeLeave:Fr,onLeave:Fr,onAfterLeave:Fr,onLeaveCancelled:Fr,onBeforeAppear:Fr,onAppear:Fr,onAfterAppear:Fr,onAppearCancelled:Fr},WL={name:"BaseTransition",props:Qx,setup(e,{slots:t}){const n=kc(),r=qL();return()=>{const i=t.default&&Zx(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const m of i)if(m.type!==oi){s=m;break}}const u=at(e),{mode:l}=u;if(r.isLeaving)return rv(s);const c=oE(s);if(!c)return rv(s);const d=qv(c,u,r,n);Wv(c,d);const p=n.subTree,f=p&&oE(p);if(f&&f.type!==oi&&!Ps(c,f)){const m=qv(f,u,r,n);if(Wv(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},rv(s);l==="in-out"&&c.type!==oi&&(m.delayLeave=(v,b,w)=>{const S=Jx(r,f);S[String(f.key)]=f,v[So]=()=>{b(),v[So]=void 0,delete d.delayedLeave},d.delayedLeave=w})}return s}}},XL=WL;function Jx(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function qv(e,t,n,r){const{appear:i,mode:s,persisted:u=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:f,onLeave:m,onAfterLeave:v,onLeaveCancelled:b,onBeforeAppear:w,onAppear:S,onAfterAppear:E,onAppearCancelled:x}=t,C=String(e.key),D=Jx(n,e),V=(F,P)=>{F&&zr(F,r,9,P)},A=(F,P)=>{const U=P[1];V(F,P),Fe(F)?F.every(k=>k.length<=1)&&U():F.length<=1&&U()},G={mode:s,persisted:u,beforeEnter(F){let P=l;if(!n.isMounted)if(i)P=w||l;else return;F[So]&&F[So](!0);const U=D[C];U&&Ps(e,U)&&U.el[So]&&U.el[So](),V(P,[F])},enter(F){let P=c,U=d,k=p;if(!n.isMounted)if(i)P=S||c,U=E||d,k=x||p;else return;let q=!1;const K=F[nh]=me=>{q||(q=!0,me?V(k,[F]):V(U,[F]),G.delayedLeave&&G.delayedLeave(),F[nh]=void 0)};P?A(P,[F,K]):K()},leave(F,P){const U=String(e.key);if(F[nh]&&F[nh](!0),n.isUnmounting)return P();V(f,[F]);let k=!1;const q=F[So]=K=>{k||(k=!0,P(),K?V(b,[F]):V(v,[F]),F[So]=void 0,D[U]===e&&delete D[U])};D[U]=e,m?A(m,[F,q]):q()},clone(F){return qv(F,t,n,r)}};return G}function rv(e){if(Fd(e))return e=Ho(e),e.children=null,e}function oE(e){return Fd(e)?e.children?e.children[0]:void 0:e}function Wv(e,t){e.shapeFlag&6&&e.component?Wv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zx(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let u=e[s];const l=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===mt?(u.patchFlag&128&&i++,r=r.concat(Zx(u.children,t,l))):(t||u.type!==oi)&&r.push(l!=null?Ho(u,{key:l}):u)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ac(e,t){return He(e)?hn({name:e.name},t,{setup:e}):e}const Th=e=>!!e.type.__asyncLoader,Fd=e=>e.type.__isKeepAlive;function KL(e,t){eA(e,"a",t)}function YL(e,t){eA(e,"da",t)}function eA(e,t,n=bn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(jd(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Fd(i.parent.vnode)&&QL(r,t,n,i),i=i.parent}}function QL(e,t,n,r){const i=jd(t,e,r,!0);nA(()=>{l0(r[t],i)},n)}function jd(e,t,n=bn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;ea();const l=Oc(n),c=zr(t,n,e,u);return l(),ta(),c});return r?i.unshift(s):i.push(s),s}}const Ji=e=>(t,n=bn)=>(!Bd||e==="sp")&&jd(e,(...r)=>t(...r),n),JL=Ji("bm"),Au=Ji("m"),tA=Ji("bu"),E0=Ji("u"),Cc=Ji("bum"),nA=Ji("um"),ZL=Ji("sp"),eV=Ji("rtg"),tV=Ji("rtc");function nV(e,t=bn){jd("ec",e,t)}function Ci(e,t,n,r){let i;const s=n&&n[r];if(Fe(e)||Zt(e)){i=new Array(e.length);for(let u=0,l=e.length;u<l;u++)i[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,s&&s[u])}else if(kt(e))if(e[Symbol.iterator])i=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);i=new Array(u.length);for(let l=0,c=u.length;l<c;l++){const d=u[l];i[l]=t(e[d],d,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}const Xv=e=>e?mA(e)?zd(e)||e.proxy:Xv(e.parent):null,Vl=hn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xv(e.parent),$root:e=>Xv(e.root),$emit:e=>e.emit,$options:e=>T0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,w0(e.update)}),$nextTick:e=>e.n||(e.n=or.bind(e.proxy)),$watch:e=>GL.bind(e)}),iv=(e,t)=>e!==Mt&&!e.__isScriptSetup&&ct(e,t),rV={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:u,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const v=u[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(iv(r,t))return u[t]=1,r[t];if(i!==Mt&&ct(i,t))return u[t]=2,i[t];if((d=e.propsOptions[0])&&ct(d,t))return u[t]=3,s[t];if(n!==Mt&&ct(n,t))return u[t]=4,n[t];Kv&&(u[t]=0)}}const p=Vl[t];let f,m;if(p)return t==="$attrs"&&cr(e,"get",t),p(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Mt&&ct(n,t))return u[t]=4,n[t];if(m=c.config.globalProperties,ct(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return iv(i,t)?(i[t]=n,!0):r!==Mt&&ct(r,t)?(r[t]=n,!0):ct(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},u){let l;return!!n[u]||e!==Mt&&ct(e,u)||iv(t,u)||(l=s[0])&&ct(l,u)||ct(r,u)||ct(Vl,u)||ct(i.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ct(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function sE(e){return Fe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Kv=!0;function iV(e){const t=T0(e),n=e.proxy,r=e.ctx;Kv=!1,t.beforeCreate&&aE(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:u,watch:l,provide:c,inject:d,created:p,beforeMount:f,mounted:m,beforeUpdate:v,updated:b,activated:w,deactivated:S,beforeDestroy:E,beforeUnmount:x,destroyed:C,unmounted:D,render:V,renderTracked:A,renderTriggered:G,errorCaptured:F,serverPrefetch:P,expose:U,inheritAttrs:k,components:q,directives:K,filters:me}=t;if(d&&oV(d,r,null),u)for(const Re in u){const Ve=u[Re];He(Ve)&&(r[Re]=Ve.bind(n))}if(i){const Re=i.call(n,n);kt(Re)&&(e.data=Yi(Re))}if(Kv=!0,s)for(const Re in s){const Ve=s[Re],Je=He(Ve)?Ve.bind(n,n):He(Ve.get)?Ve.get.bind(n,n):$r,Lt=!He(Ve)&&He(Ve.set)?Ve.set.bind(n):$r,Ot=We({get:Je,set:Lt});Object.defineProperty(r,Re,{enumerable:!0,configurable:!0,get:()=>Ot.value,set:Pt=>Ot.value=Pt})}if(l)for(const Re in l)rA(l[Re],r,n,Re);if(c){const Re=He(c)?c.call(n):c;Reflect.ownKeys(Re).forEach(Ve=>{Fo(Ve,Re[Ve])})}p&&aE(p,e,"c");function ie(Re,Ve){Fe(Ve)?Ve.forEach(Je=>Re(Je.bind(n))):Ve&&Re(Ve.bind(n))}if(ie(JL,f),ie(Au,m),ie(tA,v),ie(E0,b),ie(KL,w),ie(YL,S),ie(nV,F),ie(tV,A),ie(eV,G),ie(Cc,x),ie(nA,D),ie(ZL,P),Fe(U))if(U.length){const Re=e.exposed||(e.exposed={});U.forEach(Ve=>{Object.defineProperty(Re,Ve,{get:()=>n[Ve],set:Je=>n[Ve]=Je})})}else e.exposed||(e.exposed={});V&&e.render===$r&&(e.render=V),k!=null&&(e.inheritAttrs=k),q&&(e.components=q),K&&(e.directives=K)}function oV(e,t,n=$r){Fe(e)&&(e=Yv(e));for(const r in e){const i=e[r];let s;kt(i)?"default"in i?s=Hr(i.from||r,i.default,!0):s=Hr(i.from||r):s=Hr(i),zt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function aE(e,t,n){zr(Fe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function rA(e,t,n,r){const i=r.includes(".")?Yx(n,r):()=>n[r];if(Zt(e)){const s=t[e];He(s)&&xr(i,s)}else if(He(e))xr(i,e.bind(n));else if(kt(e))if(Fe(e))e.forEach(s=>rA(s,t,n,r));else{const s=He(e.handler)?e.handler.bind(n):t[e.handler];He(s)&&xr(i,s,e)}}function T0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let c;return l?c=l:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(d=>Bh(c,d,u,!0)),Bh(c,t,u)),kt(t)&&s.set(t,c),c}function Bh(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Bh(e,s,n,!0),i&&i.forEach(u=>Bh(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=sV[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const sV={data:uE,props:lE,emits:lE,methods:Pl,computed:Pl,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:Pl,directives:Pl,watch:uV,provide:uE,inject:aV};function uE(e,t){return t?e?function(){return hn(He(e)?e.call(this,this):e,He(t)?t.call(this,this):t)}:t:e}function aV(e,t){return Pl(Yv(e),Yv(t))}function Yv(e){if(Fe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zn(e,t){return e?[...new Set([].concat(e,t))]:t}function Pl(e,t){return e?hn(Object.create(null),e,t):t}function lE(e,t){return e?Fe(e)&&Fe(t)?[...new Set([...e,...t])]:hn(Object.create(null),sE(e),sE(t??{})):t}function uV(e,t){if(!e)return t;if(!t)return e;const n=hn(Object.create(null),e);for(const r in t)n[r]=zn(e[r],t[r]);return n}function iA(){return{app:null,config:{isNativeTag:zM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lV=0;function cV(e,t){return function(r,i=null){He(r)||(r=hn({},r)),i!=null&&!kt(i)&&(i=null);const s=iA(),u=new WeakSet;let l=!1;const c=s.app={_uid:lV++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:MV,get config(){return s.config},set config(d){},use(d,...p){return u.has(d)||(d&&He(d.install)?(u.add(d),d.install(c,...p)):He(d)&&(u.add(d),d(c,...p))),c},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),c},component(d,p){return p?(s.components[d]=p,c):s.components[d]},directive(d,p){return p?(s.directives[d]=p,c):s.directives[d]},mount(d,p,f){if(!l){const m=Z(r,i);return m.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),p&&t?t(m,d):e(m,d,f),l=!0,c._container=d,d.__vue_app__=c,zd(m.component)||m.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,p){return s.provides[d]=p,c},runWithContext(d){const p=Za;Za=c;try{return d()}finally{Za=p}}};return c}}let Za=null;function Fo(e,t){if(bn){let n=bn.provides;const r=bn.parent&&bn.parent.provides;r===n&&(n=bn.provides=Object.create(r)),n[e]=t}}function Hr(e,t,n=!1){const r=bn||On;if(r||Za){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Za._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&He(t)?t.call(r&&r.proxy):t}}function fV(){return!!(bn||On||Za)}function hV(e,t,n,r=!1){const i={},s={};Fh(s,$d,1),e.propsDefaults=Object.create(null),oA(e,t,i,s);for(const u in e.propsOptions[0])u in i||(i[u]=void 0);n?e.props=r?i:Rx(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function dV(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:u}}=e,l=at(i),[c]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const p=e.vnode.dynamicProps;for(let f=0;f<p.length;f++){let m=p[f];if(Ld(e.emitsOptions,m))continue;const v=t[m];if(c)if(ct(s,m))v!==s[m]&&(s[m]=v,d=!0);else{const b=Ai(m);i[b]=Qv(c,l,b,v,e,!1)}else v!==s[m]&&(s[m]=v,d=!0)}}}else{oA(e,t,i,s)&&(d=!0);let p;for(const f in l)(!t||!ct(t,f)&&((p=xu(f))===f||!ct(t,p)))&&(c?n&&(n[f]!==void 0||n[p]!==void 0)&&(i[f]=Qv(c,l,f,void 0,e,!0)):delete i[f]);if(s!==l)for(const f in s)(!t||!ct(t,f))&&(delete s[f],d=!0)}d&&Hi(e,"set","$attrs")}function oA(e,t,n,r){const[i,s]=e.propsOptions;let u=!1,l;if(t)for(let c in t){if(Ll(c))continue;const d=t[c];let p;i&&ct(i,p=Ai(c))?!s||!s.includes(p)?n[p]=d:(l||(l={}))[p]=d:Ld(e.emitsOptions,c)||(!(c in r)||d!==r[c])&&(r[c]=d,u=!0)}if(s){const c=at(n),d=l||Mt;for(let p=0;p<s.length;p++){const f=s[p];n[f]=Qv(i,c,f,d[f],e,!ct(d,f))}}return u}function Qv(e,t,n,r,i,s){const u=e[n];if(u!=null){const l=ct(u,"default");if(l&&r===void 0){const c=u.default;if(u.type!==Function&&!u.skipFactory&&He(c)){const{propsDefaults:d}=i;if(n in d)r=d[n];else{const p=Oc(i);r=d[n]=c.call(null,t),p()}}else r=c}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===xu(n))&&(r=!0))}return r}function sA(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,u={},l=[];let c=!1;if(!He(e)){const p=f=>{c=!0;const[m,v]=sA(f,t,!0);hn(u,m),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!c)return kt(e)&&r.set(e,Ya),Ya;if(Fe(s))for(let p=0;p<s.length;p++){const f=Ai(s[p]);cE(f)&&(u[f]=Mt)}else if(s)for(const p in s){const f=Ai(p);if(cE(f)){const m=s[p],v=u[f]=Fe(m)||He(m)?{type:m}:hn({},m);if(v){const b=dE(Boolean,v.type),w=dE(String,v.type);v[0]=b>-1,v[1]=w<0||b<w,(b>-1||ct(v,"default"))&&l.push(f)}}}const d=[u,l];return kt(e)&&r.set(e,d),d}function cE(e){return e[0]!=="$"&&!Ll(e)}function fE(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function hE(e,t){return fE(e)===fE(t)}function dE(e,t){return Fe(t)?t.findIndex(n=>hE(n,e)):He(t)&&hE(t,e)?0:-1}const aA=e=>e[0]==="_"||e==="$stable",I0=e=>Fe(e)?e.map(_i):[_i(e)],pV=(e,t,n)=>{if(t._n)return t;const r=Rn((...i)=>I0(t(...i)),n);return r._c=!1,r},uA=(e,t,n)=>{const r=e._ctx;for(const i in e){if(aA(i))continue;const s=e[i];if(He(s))t[i]=pV(i,s,r);else if(s!=null){const u=I0(s);t[i]=()=>u}}},lA=(e,t)=>{const n=I0(t);e.slots.default=()=>n},mV=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=at(t),Fh(t,"_",n)):uA(t,e.slots={})}else e.slots={},t&&lA(e,t);Fh(e.slots,$d,1)},gV=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,u=Mt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(hn(i,t),!n&&l===1&&delete i._):(s=!t.$stable,uA(t,i)),u=t}else t&&(lA(e,t),u={default:1});if(s)for(const l in i)!aA(l)&&u[l]==null&&delete i[l]};function Jv(e,t,n,r,i=!1){if(Fe(e)){e.forEach((m,v)=>Jv(m,t&&(Fe(t)?t[v]:t),n,r,i));return}if(Th(r)&&!i)return;const s=r.shapeFlag&4?zd(r.component)||r.component.proxy:r.el,u=i?null:s,{i:l,r:c}=e,d=t&&t.r,p=l.refs===Mt?l.refs={}:l.refs,f=l.setupState;if(d!=null&&d!==c&&(Zt(d)?(p[d]=null,ct(f,d)&&(f[d]=null)):zt(d)&&(d.value=null)),He(c))Vo(c,l,12,[u,p]);else{const m=Zt(c),v=zt(c);if(m||v){const b=()=>{if(e.f){const w=m?ct(f,c)?f[c]:p[c]:c.value;i?Fe(w)&&l0(w,s):Fe(w)?w.includes(s)||w.push(s):m?(p[c]=[s],ct(f,c)&&(f[c]=p[c])):(c.value=[s],e.k&&(p[e.k]=c.value))}else m?(p[c]=u,ct(f,c)&&(f[c]=u)):v&&(c.value=u,e.k&&(p[e.k]=u))};u?(b.id=-1,rr(b,n)):b()}}}const rr=BL;function vV(e){return yV(e)}function yV(e,t){const n=mx();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:u,createText:l,createComment:c,setText:d,setElementText:p,parentNode:f,nextSibling:m,setScopeId:v=$r,insertStaticContent:b}=e,w=(O,R,j,X=null,z=null,oe=null,ue=void 0,ae=null,he=!!R.dynamicChildren)=>{if(O===R)return;O&&!Ps(O,R)&&(X=$(O),Pt(O,z,oe,!0),O=null),R.patchFlag===-2&&(he=!1,R.dynamicChildren=null);const{type:te,ref:ve,shapeFlag:Me}=R;switch(te){case Ud:S(O,R,j,X);break;case oi:E(O,R,j,X);break;case Ih:O==null&&x(R,j,X,ue);break;case mt:q(O,R,j,X,z,oe,ue,ae,he);break;default:Me&1?V(O,R,j,X,z,oe,ue,ae,he):Me&6?K(O,R,j,X,z,oe,ue,ae,he):(Me&64||Me&128)&&te.process(O,R,j,X,z,oe,ue,ae,he,ge)}ve!=null&&z&&Jv(ve,O&&O.ref,oe,R||O,!R)},S=(O,R,j,X)=>{if(O==null)r(R.el=l(R.children),j,X);else{const z=R.el=O.el;R.children!==O.children&&d(z,R.children)}},E=(O,R,j,X)=>{O==null?r(R.el=c(R.children||""),j,X):R.el=O.el},x=(O,R,j,X)=>{[O.el,O.anchor]=b(O.children,R,j,X,O.el,O.anchor)},C=({el:O,anchor:R},j,X)=>{let z;for(;O&&O!==R;)z=m(O),r(O,j,X),O=z;r(R,j,X)},D=({el:O,anchor:R})=>{let j;for(;O&&O!==R;)j=m(O),i(O),O=j;i(R)},V=(O,R,j,X,z,oe,ue,ae,he)=>{R.type==="svg"?ue="svg":R.type==="math"&&(ue="mathml"),O==null?A(R,j,X,z,oe,ue,ae,he):P(O,R,z,oe,ue,ae,he)},A=(O,R,j,X,z,oe,ue,ae)=>{let he,te;const{props:ve,shapeFlag:Me,transition:xe,dirs:je}=O;if(he=O.el=u(O.type,oe,ve&&ve.is,ve),Me&8?p(he,O.children):Me&16&&F(O.children,he,null,X,z,ov(O,oe),ue,ae),je&&Es(O,null,X,"created"),G(he,O,O.scopeId,ue,X),ve){for(const Pe in ve)Pe!=="value"&&!Ll(Pe)&&s(he,Pe,null,ve[Pe],oe,O.children,X,z,Oe);"value"in ve&&s(he,"value",null,ve.value,oe),(te=ve.onVnodeBeforeMount)&&bi(te,X,O)}je&&Es(O,null,X,"beforeMount");const Qe=bV(z,xe);Qe&&xe.beforeEnter(he),r(he,R,j),((te=ve&&ve.onVnodeMounted)||Qe||je)&&rr(()=>{te&&bi(te,X,O),Qe&&xe.enter(he),je&&Es(O,null,X,"mounted")},z)},G=(O,R,j,X,z)=>{if(j&&v(O,j),X)for(let oe=0;oe<X.length;oe++)v(O,X[oe]);if(z){let oe=z.subTree;if(R===oe){const ue=z.vnode;G(O,ue,ue.scopeId,ue.slotScopeIds,z.parent)}}},F=(O,R,j,X,z,oe,ue,ae,he=0)=>{for(let te=he;te<O.length;te++){const ve=O[te]=ae?Eo(O[te]):_i(O[te]);w(null,ve,R,j,X,z,oe,ue,ae)}},P=(O,R,j,X,z,oe,ue)=>{const ae=R.el=O.el;let{patchFlag:he,dynamicChildren:te,dirs:ve}=R;he|=O.patchFlag&16;const Me=O.props||Mt,xe=R.props||Mt;let je;if(j&&Ts(j,!1),(je=xe.onVnodeBeforeUpdate)&&bi(je,j,R,O),ve&&Es(R,O,j,"beforeUpdate"),j&&Ts(j,!0),te?U(O.dynamicChildren,te,ae,j,X,ov(R,z),oe):ue||Ve(O,R,ae,null,j,X,ov(R,z),oe,!1),he>0){if(he&16)k(ae,R,Me,xe,j,X,z);else if(he&2&&Me.class!==xe.class&&s(ae,"class",null,xe.class,z),he&4&&s(ae,"style",Me.style,xe.style,z),he&8){const Qe=R.dynamicProps;for(let Pe=0;Pe<Qe.length;Pe++){const L=Qe[Pe],M=Me[L],W=xe[L];(W!==M||L==="value")&&s(ae,L,M,W,z,O.children,j,X,Oe)}}he&1&&O.children!==R.children&&p(ae,R.children)}else!ue&&te==null&&k(ae,R,Me,xe,j,X,z);((je=xe.onVnodeUpdated)||ve)&&rr(()=>{je&&bi(je,j,R,O),ve&&Es(R,O,j,"updated")},X)},U=(O,R,j,X,z,oe,ue)=>{for(let ae=0;ae<R.length;ae++){const he=O[ae],te=R[ae],ve=he.el&&(he.type===mt||!Ps(he,te)||he.shapeFlag&70)?f(he.el):j;w(he,te,ve,null,X,z,oe,ue,!0)}},k=(O,R,j,X,z,oe,ue)=>{if(j!==X){if(j!==Mt)for(const ae in j)!Ll(ae)&&!(ae in X)&&s(O,ae,j[ae],null,ue,R.children,z,oe,Oe);for(const ae in X){if(Ll(ae))continue;const he=X[ae],te=j[ae];he!==te&&ae!=="value"&&s(O,ae,te,he,ue,R.children,z,oe,Oe)}"value"in X&&s(O,"value",j.value,X.value,ue)}},q=(O,R,j,X,z,oe,ue,ae,he)=>{const te=R.el=O?O.el:l(""),ve=R.anchor=O?O.anchor:l("");let{patchFlag:Me,dynamicChildren:xe,slotScopeIds:je}=R;je&&(ae=ae?ae.concat(je):je),O==null?(r(te,j,X),r(ve,j,X),F(R.children||[],j,ve,z,oe,ue,ae,he)):Me>0&&Me&64&&xe&&O.dynamicChildren?(U(O.dynamicChildren,xe,j,z,oe,ue,ae),(R.key!=null||z&&R===z.subTree)&&cA(O,R,!0)):Ve(O,R,j,ve,z,oe,ue,ae,he)},K=(O,R,j,X,z,oe,ue,ae,he)=>{R.slotScopeIds=ae,O==null?R.shapeFlag&512?z.ctx.activate(R,j,X,ue,he):me(R,j,X,z,oe,ue,he):Se(O,R,he)},me=(O,R,j,X,z,oe,ue)=>{const ae=O.component=CV(O,X,z);if(Fd(O)&&(ae.ctx.renderer=ge),kV(ae),ae.asyncDep){if(z&&z.registerDep(ae,ie),!O.el){const he=ae.subTree=Z(oi);E(null,he,R,j)}}else ie(ae,O,R,j,z,oe,ue)},Se=(O,R,j)=>{const X=R.component=O.component;if(jL(O,R,j))if(X.asyncDep&&!X.asyncResolved){Re(X,R,j);return}else X.next=R,RL(X.update),X.effect.dirty=!0,X.update();else R.el=O.el,X.vnode=R},ie=(O,R,j,X,z,oe,ue)=>{const ae=()=>{if(O.isMounted){let{next:ve,bu:Me,u:xe,parent:je,vnode:Qe}=O;{const pe=fA(O);if(pe){ve&&(ve.el=Qe.el,Re(O,ve,ue)),pe.asyncDep.then(()=>{O.isUnmounted||ae()});return}}let Pe=ve,L;Ts(O,!1),ve?(ve.el=Qe.el,Re(O,ve,ue)):ve=Qe,Me&&Sh(Me),(L=ve.props&&ve.props.onVnodeBeforeUpdate)&&bi(L,je,ve,Qe),Ts(O,!0);const M=nv(O),W=O.subTree;O.subTree=M,w(W,M,f(W.el),$(W),O,z,oe),ve.el=M.el,Pe===null&&UL(O,M.el),xe&&rr(xe,z),(L=ve.props&&ve.props.onVnodeUpdated)&&rr(()=>bi(L,je,ve,Qe),z)}else{let ve;const{el:Me,props:xe}=R,{bm:je,m:Qe,parent:Pe}=O,L=Th(R);if(Ts(O,!1),je&&Sh(je),!L&&(ve=xe&&xe.onVnodeBeforeMount)&&bi(ve,Pe,R),Ts(O,!0),Me&&gt){const M=()=>{O.subTree=nv(O),gt(Me,O.subTree,O,z,null)};L?R.type.__asyncLoader().then(()=>!O.isUnmounted&&M()):M()}else{const M=O.subTree=nv(O);w(null,M,j,X,O,z,oe),R.el=M.el}if(Qe&&rr(Qe,z),!L&&(ve=xe&&xe.onVnodeMounted)){const M=R;rr(()=>bi(ve,Pe,M),z)}(R.shapeFlag&256||Pe&&Th(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&O.a&&rr(O.a,z),O.isMounted=!0,R=j=X=null}},he=O.effect=new f0(ae,$r,()=>w0(te),O.scope),te=O.update=()=>{he.dirty&&he.run()};te.id=O.uid,Ts(O,!0),te()},Re=(O,R,j)=>{R.component=O;const X=O.vnode.props;O.vnode=R,O.next=null,dV(O,R.props,X,j),gV(O,R.children,j),ea(),nE(O),ta()},Ve=(O,R,j,X,z,oe,ue,ae,he=!1)=>{const te=O&&O.children,ve=O?O.shapeFlag:0,Me=R.children,{patchFlag:xe,shapeFlag:je}=R;if(xe>0){if(xe&128){Lt(te,Me,j,X,z,oe,ue,ae,he);return}else if(xe&256){Je(te,Me,j,X,z,oe,ue,ae,he);return}}je&8?(ve&16&&Oe(te,z,oe),Me!==te&&p(j,Me)):ve&16?je&16?Lt(te,Me,j,X,z,oe,ue,ae,he):Oe(te,z,oe,!0):(ve&8&&p(j,""),je&16&&F(Me,j,X,z,oe,ue,ae,he))},Je=(O,R,j,X,z,oe,ue,ae,he)=>{O=O||Ya,R=R||Ya;const te=O.length,ve=R.length,Me=Math.min(te,ve);let xe;for(xe=0;xe<Me;xe++){const je=R[xe]=he?Eo(R[xe]):_i(R[xe]);w(O[xe],je,j,null,z,oe,ue,ae,he)}te>ve?Oe(O,z,oe,!0,!1,Me):F(R,j,X,z,oe,ue,ae,he,Me)},Lt=(O,R,j,X,z,oe,ue,ae,he)=>{let te=0;const ve=R.length;let Me=O.length-1,xe=ve-1;for(;te<=Me&&te<=xe;){const je=O[te],Qe=R[te]=he?Eo(R[te]):_i(R[te]);if(Ps(je,Qe))w(je,Qe,j,null,z,oe,ue,ae,he);else break;te++}for(;te<=Me&&te<=xe;){const je=O[Me],Qe=R[xe]=he?Eo(R[xe]):_i(R[xe]);if(Ps(je,Qe))w(je,Qe,j,null,z,oe,ue,ae,he);else break;Me--,xe--}if(te>Me){if(te<=xe){const je=xe+1,Qe=je<ve?R[je].el:X;for(;te<=xe;)w(null,R[te]=he?Eo(R[te]):_i(R[te]),j,Qe,z,oe,ue,ae,he),te++}}else if(te>xe)for(;te<=Me;)Pt(O[te],z,oe,!0),te++;else{const je=te,Qe=te,Pe=new Map;for(te=Qe;te<=xe;te++){const qe=R[te]=he?Eo(R[te]):_i(R[te]);qe.key!=null&&Pe.set(qe.key,te)}let L,M=0;const W=xe-Qe+1;let pe=!1,ye=0;const Ie=new Array(W);for(te=0;te<W;te++)Ie[te]=0;for(te=je;te<=Me;te++){const qe=O[te];if(M>=W){Pt(qe,z,oe,!0);continue}let ot;if(qe.key!=null)ot=Pe.get(qe.key);else for(L=Qe;L<=xe;L++)if(Ie[L-Qe]===0&&Ps(qe,R[L])){ot=L;break}ot===void 0?Pt(qe,z,oe,!0):(Ie[ot-Qe]=te+1,ot>=ye?ye=ot:pe=!0,w(qe,R[ot],j,null,z,oe,ue,ae,he),M++)}const Ge=pe?wV(Ie):Ya;for(L=Ge.length-1,te=W-1;te>=0;te--){const qe=Qe+te,ot=R[qe],lt=qe+1<ve?R[qe+1].el:X;Ie[te]===0?w(null,ot,j,lt,z,oe,ue,ae,he):pe&&(L<0||te!==Ge[L]?Ot(ot,j,lt,2):L--)}}},Ot=(O,R,j,X,z=null)=>{const{el:oe,type:ue,transition:ae,children:he,shapeFlag:te}=O;if(te&6){Ot(O.component.subTree,R,j,X);return}if(te&128){O.suspense.move(R,j,X);return}if(te&64){ue.move(O,R,j,ge);return}if(ue===mt){r(oe,R,j);for(let Me=0;Me<he.length;Me++)Ot(he[Me],R,j,X);r(O.anchor,R,j);return}if(ue===Ih){C(O,R,j);return}if(X!==2&&te&1&&ae)if(X===0)ae.beforeEnter(oe),r(oe,R,j),rr(()=>ae.enter(oe),z);else{const{leave:Me,delayLeave:xe,afterLeave:je}=ae,Qe=()=>r(oe,R,j),Pe=()=>{Me(oe,()=>{Qe(),je&&je()})};xe?xe(oe,Qe,Pe):Pe()}else r(oe,R,j)},Pt=(O,R,j,X=!1,z=!1)=>{const{type:oe,props:ue,ref:ae,children:he,dynamicChildren:te,shapeFlag:ve,patchFlag:Me,dirs:xe}=O;if(ae!=null&&Jv(ae,null,j,O,!0),ve&256){R.ctx.deactivate(O);return}const je=ve&1&&xe,Qe=!Th(O);let Pe;if(Qe&&(Pe=ue&&ue.onVnodeBeforeUnmount)&&bi(Pe,R,O),ve&6)we(O.component,j,X);else{if(ve&128){O.suspense.unmount(j,X);return}je&&Es(O,null,R,"beforeUnmount"),ve&64?O.type.remove(O,R,j,z,ge,X):te&&(oe!==mt||Me>0&&Me&64)?Oe(te,R,j,!1,!0):(oe===mt&&Me&384||!z&&ve&16)&&Oe(he,R,j),X&&Tt(O)}(Qe&&(Pe=ue&&ue.onVnodeUnmounted)||je)&&rr(()=>{Pe&&bi(Pe,R,O),je&&Es(O,null,R,"unmounted")},j)},Tt=O=>{const{type:R,el:j,anchor:X,transition:z}=O;if(R===mt){Fn(j,X);return}if(R===Ih){D(O);return}const oe=()=>{i(j),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(O.shapeFlag&1&&z&&!z.persisted){const{leave:ue,delayLeave:ae}=z,he=()=>ue(j,oe);ae?ae(O.el,oe,he):he()}else oe()},Fn=(O,R)=>{let j;for(;O!==R;)j=m(O),i(O),O=j;i(R)},we=(O,R,j)=>{const{bum:X,scope:z,update:oe,subTree:ue,um:ae}=O;X&&Sh(X),z.stop(),oe&&(oe.active=!1,Pt(ue,O,R,j)),ae&&rr(ae,R),rr(()=>{O.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Oe=(O,R,j,X=!1,z=!1,oe=0)=>{for(let ue=oe;ue<O.length;ue++)Pt(O[ue],R,j,X,z)},$=O=>O.shapeFlag&6?$(O.component.subTree):O.shapeFlag&128?O.suspense.next():m(O.anchor||O.el);let re=!1;const Y=(O,R,j)=>{O==null?R._vnode&&Pt(R._vnode,null,null,!0):w(R._vnode||null,O,R,null,null,null,j),re||(re=!0,nE(),zx(),re=!1),R._vnode=O},ge={p:w,um:Pt,m:Ot,r:Tt,mt:me,mc:F,pc:Ve,pbc:U,n:$,o:e};let ze,gt;return t&&([ze,gt]=t(ge)),{render:Y,hydrate:ze,createApp:cV(Y,ze)}}function ov({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ts({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function bV(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function cA(e,t,n=!1){const r=e.children,i=t.children;if(Fe(r)&&Fe(i))for(let s=0;s<r.length;s++){const u=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Eo(i[s]),l.el=u.el),n||cA(u,l)),l.type===Ud&&(l.el=u.el)}}function wV(e){const t=e.slice(),n=[0];let r,i,s,u,l;const c=e.length;for(r=0;r<c;r++){const d=e[r];if(d!==0){if(i=n[n.length-1],e[i]<d){t[r]=i,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<d?s=l+1:u=l;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}function fA(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:fA(t)}const _V=e=>e.__isTeleport,mt=Symbol.for("v-fgt"),Ud=Symbol.for("v-txt"),oi=Symbol.for("v-cmt"),Ih=Symbol.for("v-stc"),Fl=[];let ni=null;function le(e=!1){Fl.push(ni=e?null:[])}function SV(){Fl.pop(),ni=Fl[Fl.length-1]||null}let Jl=1;function pE(e){Jl+=e}function hA(e){return e.dynamicChildren=Jl>0?ni||Ya:null,SV(),Jl>0&&ni&&ni.push(e),e}function de(e,t,n,r,i,s){return hA(T(e,t,n,r,i,s,!0))}function zo(e,t,n,r,i){return hA(Z(e,t,n,r,i,!0))}function Zv(e){return e?e.__v_isVNode===!0:!1}function Ps(e,t){return e.type===t.type&&e.key===t.key}const $d="__vInternal",dA=({key:e})=>e??null,xh=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Zt(e)||zt(e)||He(e)?{i:On,r:e,k:t,f:!!n}:e:null);function T(e,t=null,n=null,r=0,i=null,s=e===mt?0:1,u=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&dA(t),ref:t&&xh(t),scopeId:qx,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:On};return l?(x0(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=Zt(n)?8:16),Jl>0&&!u&&ni&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&ni.push(c),c}const Z=EV;function EV(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Wx)&&(e=oi),Zv(e)){const l=Ho(e,t,!0);return n&&x0(l,n),Jl>0&&!s&&ni&&(l.shapeFlag&6?ni[ni.indexOf(e)]=l:ni.push(l)),l.patchFlag|=-2,l}if(DV(e)&&(e=e.__vccOpts),t){t=TV(t);let{class:l,style:c}=t;l&&!Zt(l)&&(t.class=et(l)),kt(c)&&(Dx(c)&&!Fe(c)&&(c=hn({},c)),t.style=Br(c))}const u=Zt(e)?1:$L(e)?128:_V(e)?64:kt(e)?4:He(e)?2:0;return T(e,t,n,r,i,u,s,!0)}function TV(e){return e?Dx(e)||$d in e?hn({},e):e:null}function Ho(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:u}=e,l=t?pA(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&dA(l),ref:t&&t.ref?n&&i?Fe(i)?i.concat(xh(t)):[i,xh(t)]:xh(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==mt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ho(e.ssContent),ssFallback:e.ssFallback&&Ho(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Zl(e=" ",t=0){return Z(Ud,null,e,t)}function IV(e,t){const n=Z(Ih,null,e);return n.staticCount=t,n}function Ar(e="",t=!1){return t?(le(),zo(oi,null,e)):Z(oi,null,e)}function _i(e){return e==null||typeof e=="boolean"?Z(oi):Fe(e)?Z(mt,null,e.slice()):typeof e=="object"?Eo(e):Z(Ud,null,String(e))}function Eo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ho(e)}function x0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Fe(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),x0(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!($d in t)?t._ctx=On:i===3&&On&&(On.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:On},n=32):(t=String(t),r&64?(n=16,t=[Zl(t)]):n=8);e.children=t,e.shapeFlag|=n}function pA(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=et([t.class,r.class]));else if(i==="style")t.style=Br([t.style,r.style]);else if(Cd(i)){const s=t[i],u=r[i];u&&s!==u&&!(Fe(s)&&s.includes(u))&&(t[i]=s?[].concat(s,u):u)}else i!==""&&(t[i]=r[i])}return t}function bi(e,t,n,r=null){zr(e,t,7,[n,r])}const xV=iA();let AV=0;function CV(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||xV,s={uid:AV++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new bx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sA(r,i),emitsOptions:Gx(r,i),emit:null,emitted:null,propsDefaults:Mt,inheritAttrs:r.inheritAttrs,ctx:Mt,data:Mt,props:Mt,attrs:Mt,slots:Mt,refs:Mt,setupState:Mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=LL.bind(null,s),e.ce&&e.ce(s),s}let bn=null;const kc=()=>bn||On;let zh,ey;{const e=mx(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(u=>u(s)):i[0](s)}};zh=t("__VUE_INSTANCE_SETTERS__",n=>bn=n),ey=t("__VUE_SSR_SETTERS__",n=>Bd=n)}const Oc=e=>{const t=bn;return zh(e),e.scope.on(),()=>{e.scope.off(),zh(t)}},mE=()=>{bn&&bn.scope.off(),zh(null)};function mA(e){return e.vnode.shapeFlag&4}let Bd=!1;function kV(e,t=!1){t&&ey(t);const{props:n,children:r}=e.vnode,i=mA(e);hV(e,n,i,t),mV(e,r);const s=i?OV(e,t):void 0;return t&&ey(!1),s}function OV(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Dd(new Proxy(e.ctx,rV));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?PV(e):null,s=Oc(e);ea();const u=Vo(r,e,0,[e.props,i]);if(ta(),s(),hx(u)){if(u.then(mE,mE),t)return u.then(l=>{gE(e,l,t)}).catch(l=>{Md(l,e,0)});e.asyncDep=u}else gE(e,u,t)}else gA(e,t)}function gE(e,t,n){He(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:kt(t)&&(e.setupState=jx(t)),gA(e,n)}let vE;function gA(e,t,n){const r=e.type;if(!e.render){if(!t&&vE&&!r.render){const i=r.template||T0(e).template;if(i){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,d=hn(hn({isCustomElement:s,delimiters:l},u),c);r.render=vE(i,d)}}e.render=r.render||$r}{const i=Oc(e);ea();try{iV(e)}finally{ta(),i()}}}function NV(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return cr(e,"get","$attrs"),t[n]}}))}function PV(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return NV(e)},slots:e.slots,emit:e.emit,expose:t}}function zd(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(jx(Dd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vl)return Vl[n](e)},has(t,n){return n in t||n in Vl}}))}function RV(e,t=!0){return He(e)?e.displayName||e.name:e.name||t&&e.__name}function DV(e){return He(e)&&"__vccOpts"in e}const We=(e,t)=>IL(e,t,Bd);function yn(e,t,n){const r=arguments.length;return r===2?kt(t)&&!Fe(t)?Zv(t)?Z(e,null,[t]):Z(e,t):Z(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Zv(n)&&(n=[n]),Z(e,t,n))}const MV="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const LV="http://www.w3.org/2000/svg",VV="http://www.w3.org/1998/Math/MathML",To=typeof document<"u"?document:null,yE=To&&To.createElement("template"),FV={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?To.createElementNS(LV,e):t==="mathml"?To.createElementNS(VV,e):To.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const u=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{yE.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const l=yE.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fo="transition",Sl="animation",ec=Symbol("_vtc"),A0=(e,{slots:t})=>yn(XL,jV(e),t);A0.displayName="Transition";const vA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};A0.props=hn({},Qx,vA);const Is=(e,t=[])=>{Fe(e)?e.forEach(n=>n(...t)):e&&e(...t)},bE=e=>e?Fe(e)?e.some(t=>t.length>1):e.length>1:!1;function jV(e){const t={};for(const q in e)q in vA||(t[q]=e[q]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:d=u,appearToClass:p=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,b=UV(i),w=b&&b[0],S=b&&b[1],{onBeforeEnter:E,onEnter:x,onEnterCancelled:C,onLeave:D,onLeaveCancelled:V,onBeforeAppear:A=E,onAppear:G=x,onAppearCancelled:F=C}=t,P=(q,K,me)=>{xs(q,K?p:l),xs(q,K?d:u),me&&me()},U=(q,K)=>{q._isLeaving=!1,xs(q,f),xs(q,v),xs(q,m),K&&K()},k=q=>(K,me)=>{const Se=q?G:x,ie=()=>P(K,q,me);Is(Se,[K,ie]),wE(()=>{xs(K,q?c:s),ho(K,q?p:l),bE(Se)||_E(K,r,w,ie)})};return hn(t,{onBeforeEnter(q){Is(E,[q]),ho(q,s),ho(q,u)},onBeforeAppear(q){Is(A,[q]),ho(q,c),ho(q,d)},onEnter:k(!1),onAppear:k(!0),onLeave(q,K){q._isLeaving=!0;const me=()=>U(q,K);ho(q,f),zV(),ho(q,m),wE(()=>{q._isLeaving&&(xs(q,f),ho(q,v),bE(D)||_E(q,r,S,me))}),Is(D,[q,me])},onEnterCancelled(q){P(q,!1),Is(C,[q])},onAppearCancelled(q){P(q,!0),Is(F,[q])},onLeaveCancelled(q){U(q),Is(V,[q])}})}function UV(e){if(e==null)return null;if(kt(e))return[sv(e.enter),sv(e.leave)];{const t=sv(e);return[t,t]}}function sv(e){return KM(e)}function ho(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ec]||(e[ec]=new Set)).add(t)}function xs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[ec];n&&(n.delete(t),n.size||(e[ec]=void 0))}function wE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let $V=0;function _E(e,t,n,r){const i=e._endId=++$V,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:l,propCount:c}=BV(e,t);if(!u)return r();const d=u+"end";let p=0;const f=()=>{e.removeEventListener(d,m),s()},m=v=>{v.target===e&&++p>=c&&f()};setTimeout(()=>{p<c&&f()},l+1),e.addEventListener(d,m)}function BV(e,t){const n=window.getComputedStyle(e),r=b=>(n[b]||"").split(", "),i=r(`${fo}Delay`),s=r(`${fo}Duration`),u=SE(i,s),l=r(`${Sl}Delay`),c=r(`${Sl}Duration`),d=SE(l,c);let p=null,f=0,m=0;t===fo?u>0&&(p=fo,f=u,m=s.length):t===Sl?d>0&&(p=Sl,f=d,m=c.length):(f=Math.max(u,d),p=f>0?u>d?fo:Sl:null,m=p?p===fo?s.length:c.length:0);const v=p===fo&&/\b(transform|all)(,|$)/.test(r(`${fo}Property`).toString());return{type:p,timeout:f,propCount:m,hasTransform:v}}function SE(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>EE(n)+EE(e[r])))}function EE(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function zV(){return document.body.offsetHeight}function HV(e,t,n){const r=e[ec];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Hh=Symbol("_vod"),yA=Symbol("_vsh"),Gh={beforeMount(e,{value:t},{transition:n}){e[Hh]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):El(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),El(e,!0),r.enter(e)):r.leave(e,()=>{El(e,!1)}):El(e,t))},beforeUnmount(e,{value:t}){El(e,t)}};function El(e,t){e.style.display=t?e[Hh]:"none",e[yA]=!t}const GV=Symbol(""),qV=/(^|;)\s*display\s*:/;function WV(e,t,n){const r=e.style,i=Zt(n);let s=!1;if(n&&!i){if(t)if(Zt(t))for(const u of t.split(";")){const l=u.slice(0,u.indexOf(":")).trim();n[l]==null&&Ah(r,l,"")}else for(const u in t)n[u]==null&&Ah(r,u,"");for(const u in n)u==="display"&&(s=!0),Ah(r,u,n[u])}else if(i){if(t!==n){const u=r[GV];u&&(n+=";"+u),r.cssText=n,s=qV.test(n)}}else t&&e.removeAttribute("style");Hh in e&&(e[Hh]=s?r.display:"",e[yA]&&(r.display="none"))}const TE=/\s*!important$/;function Ah(e,t,n){if(Fe(n))n.forEach(r=>Ah(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=XV(e,t);TE.test(n)?e.setProperty(xu(r),n.replace(TE,""),"important"):e[r]=n}}const IE=["Webkit","Moz","ms"],av={};function XV(e,t){const n=av[t];if(n)return n;let r=Ai(t);if(r!=="filter"&&r in e)return av[t]=r;r=Nd(r);for(let i=0;i<IE.length;i++){const s=IE[i]+r;if(s in e)return av[t]=s}return t}const xE="http://www.w3.org/1999/xlink";function KV(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xE,t.slice(6,t.length)):e.setAttributeNS(xE,t,n);else{const s=tL(t);n==null||s&&!gx(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function YV(e,t,n,r,i,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,i,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const d=l==="OPTION"?e.getAttribute("value")||"":e.value,p=n??"";(d!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=gx(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function bA(e,t,n,r){e.addEventListener(t,n,r)}function QV(e,t,n,r){e.removeEventListener(t,n,r)}const AE=Symbol("_vei");function JV(e,t,n,r,i=null){const s=e[AE]||(e[AE]={}),u=s[t];if(r&&u)u.value=r;else{const[l,c]=ZV(t);if(r){const d=s[t]=nF(r,i);bA(e,l,d,c)}else u&&(QV(e,l,u,c),s[t]=void 0)}}const CE=/(?:Once|Passive|Capture)$/;function ZV(e){let t;if(CE.test(e)){t={};let r;for(;r=e.match(CE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):xu(e.slice(2)),t]}let uv=0;const eF=Promise.resolve(),tF=()=>uv||(eF.then(()=>uv=0),uv=Date.now());function nF(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;zr(rF(r,n.value),t,5,[r])};return n.value=e,n.attached=tF(),n}function rF(e,t){if(Fe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const kE=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,iF=(e,t,n,r,i,s,u,l,c)=>{const d=i==="svg";t==="class"?HV(e,r,d):t==="style"?WV(e,n,r):Cd(t)?u0(t)||JV(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oF(e,t,r,d))?YV(e,t,r,s,u,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),KV(e,t,r,d))};function oF(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&kE(t)&&He(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return kE(t)&&Zt(n)?!1:t in e}const OE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Fe(t)?n=>Sh(t,n):t},lv=Symbol("_assign"),sF={deep:!0,created(e,t,n){e[lv]=OE(n),bA(e,"change",()=>{const r=e._modelValue,i=aF(e),s=e.checked,u=e[lv];if(Fe(r)){const l=vx(r,i),c=l!==-1;if(s&&!c)u(r.concat(i));else if(!s&&c){const d=[...r];d.splice(l,1),u(d)}}else if(kd(r)){const l=new Set(r);s?l.add(i):l.delete(i),u(l)}else u(wA(e,s))})},mounted:NE,beforeUpdate(e,t,n){e[lv]=OE(n),NE(e,t,n)}};function NE(e,{value:t,oldValue:n},r){e._modelValue=t,Fe(t)?e.checked=vx(t,r.props.value)>-1:kd(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Pd(t,wA(e,!0)))}function aF(e){return"_value"in e?e._value:e.value}function wA(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const uF=["ctrl","shift","alt","meta"],lF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>uF.some(n=>e[`${n}Key`]&&!t.includes(n))},Be=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let u=0;u<t.length;u++){const l=lF[t[u]];if(l&&l(i,t))return}return e(i,...s)})},cF=hn({patchProp:iF},FV);let PE;function fF(){return PE||(PE=vV(cF))}const hF=(...e)=>{const t=fF().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=pF(r);if(!i)return;const s=t._component;!He(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const u=n(i,!1,dF(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},t};function dF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pF(e){return Zt(e)?document.querySelector(e):e}var mF=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let _A;const Hd=e=>_A=e,SA=Symbol();function ty(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var jl;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(jl||(jl={}));function gF(){const e=wx(!0),t=e.run(()=>St({}));let n=[],r=[];const i=Dd({install(s){Hd(i),i._a=s,s.provide(SA,i),s.config.globalProperties.$pinia=i,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!mF?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const EA=()=>{};function RE(e,t,n,r=EA){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&_x()&&iL(i),i}function Ma(e,...t){e.slice().forEach(n=>{n(...t)})}const vF=e=>e();function ny(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];ty(i)&&ty(r)&&e.hasOwnProperty(n)&&!zt(r)&&!Lo(r)?e[n]=ny(i,r):e[n]=r}return e}const yF=Symbol();function bF(e){return!ty(e)||!e.hasOwnProperty(yF)}const{assign:bo}=Object;function wF(e){return!!(zt(e)&&e.effect)}function _F(e,t,n,r){const{state:i,actions:s,getters:u}=t,l=n.state.value[e];let c;function d(){l||(n.state.value[e]=i?i():{});const p=CL(n.state.value[e]);return bo(p,s,Object.keys(u||{}).reduce((f,m)=>(f[m]=Dd(We(()=>{Hd(n);const v=n._s.get(e);return u[m].call(v,v)})),f),{}))}return c=TA(e,d,t,n,r,!0),c}function TA(e,t,n={},r,i,s){let u;const l=bo({actions:{}},n),c={deep:!0};let d,p,f=[],m=[],v;const b=r.state.value[e];!s&&!b&&(r.state.value[e]={}),St({});let w;function S(F){let P;d=p=!1,typeof F=="function"?(F(r.state.value[e]),P={type:jl.patchFunction,storeId:e,events:v}):(ny(r.state.value[e],F),P={type:jl.patchObject,payload:F,storeId:e,events:v});const U=w=Symbol();or().then(()=>{w===U&&(d=!0)}),p=!0,Ma(f,P,r.state.value[e])}const E=s?function(){const{state:P}=n,U=P?P():{};this.$patch(k=>{bo(k,U)})}:EA;function x(){u.stop(),f=[],m=[],r._s.delete(e)}function C(F,P){return function(){Hd(r);const U=Array.from(arguments),k=[],q=[];function K(ie){k.push(ie)}function me(ie){q.push(ie)}Ma(m,{args:U,name:F,store:V,after:K,onError:me});let Se;try{Se=P.apply(this&&this.$id===e?this:V,U)}catch(ie){throw Ma(q,ie),ie}return Se instanceof Promise?Se.then(ie=>(Ma(k,ie),ie)).catch(ie=>(Ma(q,ie),Promise.reject(ie))):(Ma(k,Se),Se)}}const D={_p:r,$id:e,$onAction:RE.bind(null,m),$patch:S,$reset:E,$subscribe(F,P={}){const U=RE(f,F,P.detached,()=>k()),k=u.run(()=>xr(()=>r.state.value[e],q=>{(P.flush==="sync"?p:d)&&F({storeId:e,type:jl.direct,events:v},q)},bo({},c,P)));return U},$dispose:x},V=Yi(D);r._s.set(e,V);const G=(r._a&&r._a.runWithContext||vF)(()=>r._e.run(()=>(u=wx()).run(t)));for(const F in G){const P=G[F];if(zt(P)&&!wF(P)||Lo(P))s||(b&&bF(P)&&(zt(P)?P.value=b[F]:ny(P,b[F])),r.state.value[e][F]=P);else if(typeof P=="function"){const U=C(F,P);G[F]=U,l.actions[F]=P}}return bo(V,G),bo(at(V),G),Object.defineProperty(V,"$state",{get:()=>r.state.value[e],set:F=>{S(P=>{bo(P,F)})}}),r._p.forEach(F=>{bo(V,u.run(()=>F({store:V,app:r._a,pinia:r,options:l})))}),b&&s&&n.hydrate&&n.hydrate(V.$state,b),d=!0,p=!0,V}function Cu(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function u(l,c){const d=fV();return l=l||(d?Hr(SA,null):null),l&&Hd(l),l=_A,l._s.has(r)||(s?TA(r,t,i,l):_F(r,i,l)),l._s.get(r)}return u.$id=r,u}function In(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const i=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,i):i[s]},n),{})}function xn(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...i){return e(this.$pinia)[r](...i)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...i){return e(this.$pinia)[t[r]](...i)},n),{})}function Bt(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(i){return e(this.$pinia)[r]=i}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(i){return e(this.$pinia)[t[r]]=i}},n),{})}/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Sn(e){return typeof e=="function"}function IA(e){return e==null}const Gs=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function C0(e){return Number(e)>=0}function SF(e){const t=parseFloat(e);return isNaN(t)?e:t}function EF(e){return typeof e=="object"&&e!==null}function TF(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function DE(e){if(!EF(e)||TF(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function tc(e,t){return Object.keys(t).forEach(n=>{if(DE(t[n])&&DE(e[n])){e[n]||(e[n]={}),tc(e[n],t[n]);return}e[n]=t[n]}),e}function Rl(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(C0(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const xA={};function Zr(e,t){xF(e,t),xA[e]=t}function IF(e){return xA[e]}function xF(e,t){if(!Sn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function ME(e,t,n){typeof n.value=="object"&&(n.value=At(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function At(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(u){i.add(At(u))})):s==="[object Map]"?(i=new Map,e.forEach(function(u,l){i.set(At(l),At(u))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(At(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)ME(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||ME(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}const Gd=Symbol("vee-validate-form"),AF=Symbol("vee-validate-field-instance"),qh=Symbol("Default empty value"),CF=typeof window<"u";function ry(e){return Sn(e)&&!!e.__locatorRef}function ri(e){return!!e&&Sn(e.parse)&&e.__type==="VVTypedSchema"}function Wh(e){return!!e&&Sn(e.validate)}function Nc(e){return e==="checkbox"||e==="radio"}function kF(e){return Gs(e)||Array.isArray(e)}function OF(e){return Array.isArray(e)?e.length===0:Gs(e)&&Object.keys(e).length===0}function qd(e){return/^\[.+\]$/i.test(e)}function NF(e){return AA(e)&&e.multiple}function AA(e){return e.tagName==="SELECT"}function PF(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function RF(e,t){return!PF(e,t)&&t.type!=="file"&&!Nc(t.type)}function CA(e){return k0(e)&&e.target&&"submit"in e.target}function k0(e){return e?!!(typeof Event<"u"&&Sn(Event)&&e instanceof Event||e&&e.srcElement):!1}function LE(e,t){return t in e&&e[t]!==qh}function Yn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Yn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Yn(r[1],t.get(r[0])))return!1;return!0}if(VE(e)&&VE(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(i=Object.keys(e),n=i.length,r=n;r--!==0;){var s=i[r];if(!Yn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function VE(e){return CF?e instanceof File:!1}function O0(e){return qd(e)?e.replace(/\[|\]/gi,""):e}function ar(e,t,n){return e?qd(t)?e[O0(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((i,s)=>kF(i)&&s in i?i[s]:n,e):n}function wo(e,t,n){if(qd(t)){e[O0(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<r.length;s++){if(s===r.length-1){i[r[s]]=n;return}(!(r[s]in i)||IA(i[r[s]]))&&(i[r[s]]=C0(r[s+1])?[]:{}),i=i[r[s]]}}function cv(e,t){if(Array.isArray(e)&&C0(t)){e.splice(Number(t),1);return}Gs(e)&&delete e[t]}function FE(e,t){if(qd(t)){delete e[O0(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){cv(r,n[s]);break}if(!(n[s]in r)||IA(r[n[s]]))break;r=r[n[s]]}const i=n.map((s,u)=>ar(e,n.slice(0,u).join(".")));for(let s=i.length-1;s>=0;s--)if(OF(i[s])){if(s===0){cv(e,n[0]);continue}cv(i[s-1],n[s-1])}}function yr(e){return Object.keys(e)}function kA(e,t=void 0){const n=kc();return(n==null?void 0:n.provides[e])||Hr(e,t)}function jE(e,t,n){if(Array.isArray(e)){const r=[...e],i=r.findIndex(s=>Yn(s,t));return i>=0?r.splice(i,1):r.push(t),r}return Yn(e,t)?n:t}function UE(e,t=0){let n=null,r=[];return function(...i){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...i);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function DF(e,t){return Gs(t)&&t.number?SF(e):e}function iy(e,t){let n;return async function(...i){const s=e(...i);n=s;const u=await s;return s!==n?u:(n=void 0,t(u,i))}}function oy(e){return Array.isArray(e)?e:e?[e]:[]}function rh(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function MF(e){let t=null,n=[];return function(...r){const i=or(()=>{if(t!==i)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=i,new Promise(s=>n.push(s))}}function N0(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,i;return(i=(r=t.slots).default)===null||i===void 0?void 0:i.call(r,n())}}:t.slots.default}function fv(e){if(OA(e))return e._value}function OA(e){return"_value"in e}function LF(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Xh(e){if(!k0(e))return e;const t=e.target;if(Nc(t.type)&&OA(t))return fv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(NF(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(fv);if(AA(t)){const n=Array.from(t.options).find(r=>r.selected);return n?fv(n):t.value}return LF(t)}function NA(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Gs(e)&&e._$$isNormalized?e:Gs(e)?Object.keys(e).reduce((n,r)=>{const i=VF(e[r]);return e[r]!==!1&&(n[r]=$E(i)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const i=FF(r);return i.name&&(n[i.name]=$E(i.params)),n},t):t}function VF(e){return e===!0?[]:Array.isArray(e)||Gs(e)?e:[e]}function $E(e){const t=n=>typeof n=="string"&&n[0]==="@"?jF(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const FF=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function jF(e){const t=n=>ar(n,e)||n[e];return t.__locatorRef=e,t}function UF(e){return Array.isArray(e)?e.filter(ry):yr(e).filter(t=>ry(e[t])).map(t=>e[t])}const $F={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let sy=Object.assign({},$F);const Ms=()=>sy,BF=e=>{sy=Object.assign(Object.assign({},sy),e)},zF=BF;async function PA(e,t,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await HF(i,e)).errors;return{errors:u,valid:!u.length}}async function HF(e,t){if(ri(e.rules)||Wh(e.rules))return qF(t,e.rules);if(Sn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],c=l.length,d=[];for(let p=0;p<c;p++){const f=l[p],m=await f(t,u);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))d.push(...m);else{const b=typeof m=="string"?m:DA(u);d.push(b)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:NA(e.rules)}),r=[],i=Object.keys(n.rules),s=i.length;for(let u=0;u<s;u++){const l=i[u],c=await WF(n,t,{name:l,params:n.rules[l]});if(c.error&&(r.push(c.error),e.bails))return{errors:r}}return{errors:r}}function GF(e){return!!e&&e.name==="ValidationError"}function RA(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(i){if(!GF(i))throw i;if(!(!((r=i.inner)===null||r===void 0)&&r.length)&&i.errors.length)return{errors:[{path:i.path,errors:i.errors}]};const s=i.inner.reduce((u,l)=>{const c=l.path||"";return u[c]||(u[c]={errors:[],path:c}),u[c].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function qF(e,t){const r=await(ri(t)?t:RA(t)).parse(e),i=[];for(const s of r.errors)s.errors.length&&i.push(...s.errors);return{errors:i}}async function WF(e,t,n){const r=IF(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=XF(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},u=await r(t,i,s);return typeof u=="string"?{error:u}:{error:u?void 0:DA(s)}}function DA(e){const t=Ms().generateMessage;return t?t(e):"Field is invalid"}function XF(e,t){const n=r=>ry(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,i)=>(r[i]=n(e[i]),r),{})}async function KF(e,t){const r=await(ri(e)?e:RA(e)).parse(At(t)),i={},s={};for(const u of r.errors){const l=u.errors,c=(u.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);i[c]={valid:!l.length,errors:l},l.length&&(s[c]=l[0])}return{valid:!r.errors.length,results:i,errors:s,values:r.value}}async function YF(e,t,n){const i=yr(e).map(async d=>{var p,f,m;const v=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],b=await PA(ar(t,d),e[d],{name:(v==null?void 0:v.name)||d,label:v==null?void 0:v.label,values:t,bails:(m=(f=n==null?void 0:n.bailsMap)===null||f===void 0?void 0:f[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},b),{path:d})});let s=!0;const u=await Promise.all(i),l={},c={};for(const d of u)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,c[d.path]=d.errors[0]);return{valid:s,results:l,errors:c}}let BE=0;function QF(e,t){const{value:n,initialValue:r,setInitialValue:i}=JF(e,t.modelValue,t.form);if(!t.form){let c=function(v){var b;"value"in v&&(n.value=v.value),"errors"in v&&p(v.errors),"touched"in v&&(m.touched=(b=v.touched)!==null&&b!==void 0?b:m.touched),"initialValue"in v&&i(v.initialValue)};const{errors:d,setErrors:p}=tj(),f=BE>=Number.MAX_SAFE_INTEGER?0:++BE,m=ej(n,r,d,t.schema);return{id:f,path:e,value:n,initialValue:r,meta:m,flags:{pendingUnmount:{[f]:!1},pendingReset:!1},errors:d,setState:c}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),u=We(()=>s.errors);function l(c){var d,p,f;"value"in c&&(n.value=c.value),"errors"in c&&((d=t.form)===null||d===void 0||d.setFieldError(ft(e),c.errors)),"touched"in c&&((p=t.form)===null||p===void 0||p.setFieldTouched(ft(e),(f=c.touched)!==null&&f!==void 0?f:!1)),"initialValue"in c&&i(c.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function JF(e,t,n){const r=St(ft(t));function i(){return n?ar(n.initialValues.value,ft(e),ft(r)):ft(r)}function s(d){if(!n){r.value=d;return}n.setFieldInitialValue(ft(e),d,!0)}const u=We(i);if(!n)return{value:St(i()),initialValue:u,setInitialValue:s};const l=ZF(t,n,u,e);return n.stageInitialValue(ft(e),l,!0),{value:We({get(){return ar(n.values,ft(e))},set(d){n.setFieldValue(ft(e),d,!1)}}),initialValue:u,setInitialValue:s}}function ZF(e,t,n,r){return zt(e)?ft(e):e!==void 0?e:ar(t.values,ft(r),ft(n))}function ej(e,t,n,r){var i,s;const u=(s=(i=r==null?void 0:r.describe)===null||i===void 0?void 0:i.call(r).required)!==null&&s!==void 0?s:!1,l=Yi({touched:!1,pending:!1,valid:!0,required:u,validated:!!ft(n).length,initialValue:We(()=>ft(t)),dirty:We(()=>!Yn(ft(e),ft(t)))});return xr(n,c=>{l.valid=!c.length},{immediate:!0,flush:"sync"}),l}function tj(){const e=St([]);return{errors:e,setErrors:t=>{e.value=oy(t)}}}function nj(e,t,n){return Nc(n==null?void 0:n.type)?ij(e,t,n):MA(e,t,n)}function MA(e,t,n){const{initialValue:r,validateOnMount:i,bails:s,type:u,checkedValue:l,label:c,validateOnValueUpdate:d,uncheckedValue:p,controlled:f,keepValueOnUnmount:m,syncVModel:v,form:b}=rj(n),w=f?kA(Gd):void 0,S=b||w,E=We(()=>Rl(vt(e))),x=We(()=>{if(vt(S==null?void 0:S.schema))return;const Oe=ft(t);return Wh(Oe)||ri(Oe)||Sn(Oe)||Array.isArray(Oe)?Oe:NA(Oe)}),{id:C,value:D,initialValue:V,meta:A,setState:G,errors:F,flags:P}=QF(E,{modelValue:r,form:S,bails:s,label:c,type:u,validate:x.value?Se:void 0,schema:ri(t)?t:void 0}),U=We(()=>F.value[0]);v&&oj({value:D,prop:v,handleChange:ie,shouldValidate:()=>d&&!P.pendingReset});const k=(we,Oe=!1)=>{A.touched=!0,Oe&&K()};async function q(we){var Oe,$;if(S!=null&&S.validateSchema){const{results:re}=await S.validateSchema(we);return(Oe=re[vt(E)])!==null&&Oe!==void 0?Oe:{valid:!0,errors:[]}}return x.value?PA(D.value,x.value,{name:vt(E),label:vt(c),values:($=S==null?void 0:S.values)!==null&&$!==void 0?$:{},bails:s}):{valid:!0,errors:[]}}const K=iy(async()=>(A.pending=!0,A.validated=!0,q("validated-only")),we=>(P.pendingUnmount[Tt.id]||(G({errors:we.errors}),A.pending=!1,A.valid=we.valid),we)),me=iy(async()=>q("silent"),we=>(A.valid=we.valid,we));function Se(we){return(we==null?void 0:we.mode)==="silent"?me():K()}function ie(we,Oe=!0){const $=Xh(we);Lt($,Oe)}Au(()=>{if(i)return K();(!S||!S.validateSchema)&&me()});function Re(we){A.touched=we}function Ve(we){var Oe;const $=we&&"value"in we?we.value:V.value;G({value:At($),initialValue:At($),touched:(Oe=we==null?void 0:we.touched)!==null&&Oe!==void 0?Oe:!1,errors:(we==null?void 0:we.errors)||[]}),A.pending=!1,A.validated=!1,me()}const Je=kc();function Lt(we,Oe=!0){D.value=Je&&v?DF(we,Je.props.modelModifiers):we,(Oe?K:me)()}function Ot(we){G({errors:Array.isArray(we)?we:[we]})}const Pt=We({get(){return D.value},set(we){Lt(we,d)}}),Tt={id:C,name:E,label:c,value:Pt,meta:A,errors:F,errorMessage:U,type:u,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:m,resetField:Ve,handleReset:()=>Ve(),validate:Se,handleChange:ie,handleBlur:k,setState:G,setTouched:Re,setErrors:Ot,setValue:Lt};if(Fo(AF,Tt),zt(t)&&typeof ft(t)!="function"&&xr(t,(we,Oe)=>{Yn(we,Oe)||(A.validated?K():me())},{deep:!0}),!S)return Tt;const Fn=We(()=>{const we=x.value;return!we||Sn(we)||Wh(we)||ri(we)||Array.isArray(we)?{}:Object.keys(we).reduce((Oe,$)=>{const re=UF(we[$]).map(Y=>Y.__locatorRef).reduce((Y,ge)=>{const ze=ar(S.values,ge)||S.values[ge];return ze!==void 0&&(Y[ge]=ze),Y},{});return Object.assign(Oe,re),Oe},{})});return xr(Fn,(we,Oe)=>{if(!Object.keys(we).length)return;!Yn(we,Oe)&&(A.validated?K():me())}),Cc(()=>{var we;const Oe=(we=vt(Tt.keepValueOnUnmount))!==null&&we!==void 0?we:vt(S.keepValuesOnUnmount),$=vt(E);if(Oe||!S||P.pendingUnmount[Tt.id]){S==null||S.removePathState($,C);return}P.pendingUnmount[Tt.id]=!0;const re=S.getPathState($);if(Array.isArray(re==null?void 0:re.id)&&(re!=null&&re.multiple)?re!=null&&re.id.includes(Tt.id):(re==null?void 0:re.id)===Tt.id){if(re!=null&&re.multiple&&Array.isArray(re.value)){const ge=re.value.findIndex(ze=>Yn(ze,vt(Tt.checkedValue)));if(ge>-1){const ze=[...re.value];ze.splice(ge,1),S.setFieldValue($,ze)}Array.isArray(re.id)&&re.id.splice(re.id.indexOf(Tt.id),1)}else S.unsetPathValue(vt(E));S.removePathState($,C)}}),Tt}function rj(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",i=n&&!("initialValue"in(e||{}))?ay(kc(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:i});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:i,controlled:u??!0,checkedValue:s,syncVModel:l})}function ij(e,t,n){const r=n!=null&&n.standalone?void 0:kA(Gd),i=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const c=l.handleChange,d=We(()=>{const f=vt(l.value),m=vt(i);return Array.isArray(f)?f.findIndex(v=>Yn(v,m))>=0:Yn(m,f)});function p(f,m=!0){var v,b;if(d.value===((v=f==null?void 0:f.target)===null||v===void 0?void 0:v.checked)){m&&l.validate();return}const w=vt(e),S=r==null?void 0:r.getPathState(w),E=Xh(f);let x=(b=vt(i))!==null&&b!==void 0?b:E;r&&(S!=null&&S.multiple)&&S.type==="checkbox"?x=jE(ar(r.values,w)||[],x,void 0):(n==null?void 0:n.type)==="checkbox"&&(x=jE(vt(l.value),x,vt(s))),c(x,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:i,uncheckedValue:s,handleChange:p})}return u(MA(e,t,n))}function oj({prop:e,value:t,handleChange:n,shouldValidate:r}){const i=kc();if(!i||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in i.props&&(xr(t,l=>{Yn(l,ay(i,s))||i.emit(u,l)}),xr(()=>ay(i,s),l=>{if(l===qh&&t.value===void 0)return;const c=l===qh?void 0:l;Yn(c,t.value)||n(c,r())}))}function ay(e,t){if(e)return e.props[t]}const sj=Ac({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Ms().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:qh},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Os(e,"rules"),r=Os(e,"name"),i=Os(e,"label"),s=Os(e,"uncheckedValue"),u=Os(e,"keepValue"),{errors:l,value:c,errorMessage:d,validate:p,handleChange:f,handleBlur:m,setTouched:v,resetField:b,handleReset:w,meta:S,checked:E,setErrors:x}=nj(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:uj(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:i,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),C=function(P,U=!0){f(P,U)},D=We(()=>{const{validateOnInput:F,validateOnChange:P,validateOnBlur:U,validateOnModelUpdate:k}=aj(e);function q(ie){m(ie,U),Sn(t.attrs.onBlur)&&t.attrs.onBlur(ie)}function K(ie){C(ie,F),Sn(t.attrs.onInput)&&t.attrs.onInput(ie)}function me(ie){C(ie,P),Sn(t.attrs.onChange)&&t.attrs.onChange(ie)}const Se={name:e.name,onBlur:q,onInput:K,onChange:me};return Se["onUpdate:modelValue"]=ie=>C(ie,k),Se}),V=We(()=>{const F=Object.assign({},D.value);Nc(t.attrs.type)&&E&&(F.checked=E.value);const P=zE(e,t);return RF(P,t.attrs)&&(F.value=c.value),F}),A=We(()=>Object.assign(Object.assign({},D.value),{modelValue:c.value}));function G(){return{field:V.value,componentField:A.value,value:c.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:b,handleChange:C,handleInput:F=>C(F,!1),handleReset:w,handleBlur:D.value.onBlur,setTouched:v,setErrors:x}}return t.expose({value:c,meta:S,errors:l,errorMessage:d,setErrors:x,setTouched:v,reset:b,validate:p,handleChange:f}),()=>{const F=Vd(zE(e,t)),P=N0(F,t,G);return F?yn(F,Object.assign(Object.assign({},t.attrs),V.value),P):P}}});function zE(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function aj(e){var t,n,r,i;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:c}=Ms();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(i=e.validateOnModelUpdate)!==null&&i!==void 0?i:c}}function uj(e,t){return Nc(t.attrs.type)?LE(e,"modelValue")?e.modelValue:void 0:LE(e,"modelValue")?e.modelValue:t.attrs.value}const lj=sj;let cj=0;const ih=["bails","fieldsCount","id","multiple","type","validate"];function LA(e){const t=Object.assign({},vt((e==null?void 0:e.initialValues)||{})),n=ft(e==null?void 0:e.validationSchema);return n&&ri(n)&&Sn(n.cast)?At(n.cast(t)||{}):At(t)}function fj(e){var t;const n=cj++;let r=0;const i=St(!1),s=St(!1),u=St(0),l=[],c=Yi(LA(e)),d=St([]),p=St({}),f=St({}),m=MF(()=>{f.value=d.value.reduce((L,M)=>(L[Rl(vt(M.path))]=M,L),{})});function v(L,M){const W=ie(L);if(!W){typeof L=="string"&&(p.value[Rl(L)]=oy(M));return}if(typeof L=="string"){const pe=Rl(L);p.value[pe]&&delete p.value[pe]}W.errors=oy(M),W.valid=!W.errors.length}function b(L){yr(L).forEach(M=>{v(M,L[M])})}e!=null&&e.initialErrors&&b(e.initialErrors);const w=We(()=>{const L=d.value.reduce((M,W)=>(W.errors.length&&(M[W.path]=W.errors),M),{});return Object.assign(Object.assign({},p.value),L)}),S=We(()=>yr(w.value).reduce((L,M)=>{const W=w.value[M];return W!=null&&W.length&&(L[M]=W[0]),L},{})),E=We(()=>d.value.reduce((L,M)=>(L[M.path]={name:M.path||"",label:M.label||""},L),{})),x=We(()=>d.value.reduce((L,M)=>{var W;return L[M.path]=(W=M.bails)!==null&&W!==void 0?W:!0,L},{})),C=Object.assign({},(e==null?void 0:e.initialErrors)||{}),D=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:V,originalInitialValues:A,setInitialValues:G}=dj(d,c,e),F=hj(d,c,A,S),P=We(()=>d.value.reduce((L,M)=>{const W=ar(c,M.path);return wo(L,M.path,W),L},{})),U=e==null?void 0:e.validationSchema;function k(L,M){var W,pe;const ye=We(()=>ar(V.value,vt(L))),Ie=f.value[vt(L)],Ge=(M==null?void 0:M.type)==="checkbox"||(M==null?void 0:M.type)==="radio";if(Ie&&Ge){Ie.multiple=!0;const Jn=r++;return Array.isArray(Ie.id)?Ie.id.push(Jn):Ie.id=[Ie.id,Jn],Ie.fieldsCount++,Ie.__flags.pendingUnmount[Jn]=!1,Ie}const qe=We(()=>ar(c,vt(L))),ot=vt(L),lt=Ve.findIndex(Jn=>Jn===ot);lt!==-1&&Ve.splice(lt,1);const It=We(()=>{var Jn,ci,to,ju,fi,fa;return ri(U)?(to=(ci=(Jn=U).describe)===null||ci===void 0?void 0:ci.call(Jn,vt(L)).required)!==null&&to!==void 0?to:!1:ri(M==null?void 0:M.schema)&&(fa=(fi=(ju=M==null?void 0:M.schema).describe)===null||fi===void 0?void 0:fi.call(ju).required)!==null&&fa!==void 0?fa:!1}),Nt=r++,pn=Yi({id:Nt,path:L,touched:!1,pending:!1,valid:!0,validated:!!(!((W=C[ot])===null||W===void 0)&&W.length),required:It,initialValue:ye,errors:Vx([]),bails:(pe=M==null?void 0:M.bails)!==null&&pe!==void 0?pe:!1,label:M==null?void 0:M.label,type:(M==null?void 0:M.type)||"default",value:qe,multiple:!1,__flags:{pendingUnmount:{[Nt]:!1},pendingReset:!1},fieldsCount:1,validate:M==null?void 0:M.validate,dirty:We(()=>!Yn(ft(qe),ft(ye)))});return d.value.push(pn),f.value[ot]=pn,m(),S.value[ot]&&!C[ot]&&or(()=>{ue(ot,{mode:"silent"})}),zt(L)&&xr(L,Jn=>{m();const ci=At(qe.value);f.value[Jn]=pn,or(()=>{wo(c,Jn,ci)})}),pn}const q=UE(ve,5),K=UE(ve,5),me=iy(async L=>await(L==="silent"?q():K()),(L,[M])=>{const W=yr(Oe.errorBag.value),ye=[...new Set([...yr(L.results),...d.value.map(Ie=>Ie.path),...W])].sort().reduce((Ie,Ge)=>{var qe;const ot=Ge,lt=ie(ot)||Re(ot),It=((qe=L.results[ot])===null||qe===void 0?void 0:qe.errors)||[],Nt=vt(lt==null?void 0:lt.path)||ot,pn=pj({errors:It,valid:!It.length},Ie.results[Nt]);return Ie.results[Nt]=pn,pn.valid||(Ie.errors[Nt]=pn.errors[0]),lt&&p.value[Nt]&&delete p.value[Nt],lt?(lt.valid=pn.valid,M==="silent"||M==="validated-only"&&!lt.validated||v(lt,pn.errors),Ie):(v(Nt,It),Ie)},{valid:L.valid,results:{},errors:{}});return L.values&&(ye.values=L.values),yr(ye.results).forEach(Ie=>{var Ge;const qe=ie(Ie);qe&&M!=="silent"&&(M==="validated-only"&&!qe.validated||v(qe,(Ge=ye.results[Ie])===null||Ge===void 0?void 0:Ge.errors))}),ye});function Se(L){d.value.forEach(L)}function ie(L){const M=typeof L=="string"?Rl(L):L;return typeof M=="string"?f.value[M]:M}function Re(L){return d.value.filter(W=>L.startsWith(W.path)).reduce((W,pe)=>W?pe.path.length>W.path.length?pe:W:pe,void 0)}let Ve=[],Je;function Lt(L){return Ve.push(L),Je||(Je=or(()=>{[...Ve].sort().reverse().forEach(W=>{FE(c,W)}),Ve=[],Je=null})),Je}function Ot(L){return function(W,pe){return function(Ie){return Ie instanceof Event&&(Ie.preventDefault(),Ie.stopPropagation()),Se(Ge=>Ge.touched=!0),i.value=!0,u.value++,oe().then(Ge=>{const qe=At(c);if(Ge.valid&&typeof W=="function"){const ot=At(P.value);let lt=L?ot:qe;return Ge.values&&(lt=Ge.values),W(lt,{evt:Ie,controlledValues:ot,setErrors:b,setFieldError:v,setTouched:j,setFieldTouched:ze,setValues:Y,setFieldValue:$,resetForm:z,resetField:X})}!Ge.valid&&typeof pe=="function"&&pe({values:qe,evt:Ie,errors:Ge.errors,results:Ge.results})}).then(Ge=>(i.value=!1,Ge),Ge=>{throw i.value=!1,Ge})}}}const Tt=Ot(!1);Tt.withControlled=Ot(!0);function Fn(L,M){const W=d.value.findIndex(ye=>ye.path===L&&(Array.isArray(ye.id)?ye.id.includes(M):ye.id===M)),pe=d.value[W];if(!(W===-1||!pe)){if(or(()=>{ue(L,{mode:"silent",warn:!1})}),pe.multiple&&pe.fieldsCount&&pe.fieldsCount--,Array.isArray(pe.id)){const ye=pe.id.indexOf(M);ye>=0&&pe.id.splice(ye,1),delete pe.__flags.pendingUnmount[M]}(!pe.multiple||pe.fieldsCount<=0)&&(d.value.splice(W,1),ae(L),m(),delete f.value[L])}}function we(L){yr(f.value).forEach(M=>{M.startsWith(L)&&delete f.value[M]}),d.value=d.value.filter(M=>!M.path.startsWith(L)),or(()=>{m()})}const Oe={formId:n,values:c,controlledValues:P,errorBag:w,errors:S,schema:U,submitCount:u,meta:F,isSubmitting:i,isValidating:s,fieldArrays:l,keepValuesOnUnmount:D,validateSchema:ft(U)?me:void 0,validate:oe,setFieldError:v,validateField:ue,setFieldValue:$,setValues:Y,setErrors:b,setFieldTouched:ze,setTouched:j,resetForm:z,resetField:X,handleSubmit:Tt,useFieldModel:je,defineInputBinds:Qe,defineComponentBinds:Pe,defineField:xe,stageInitialValue:he,unsetInitialValue:ae,setFieldInitialValue:te,createPathState:k,getPathState:ie,unsetPathValue:Lt,removePathState:Fn,initialValues:V,getAllPathStates:()=>d.value,destroyPath:we,isFieldTouched:gt,isFieldDirty:O,isFieldValid:R};function $(L,M,W=!0){const pe=At(M),ye=typeof L=="string"?L:L.path;ie(ye)||k(ye),wo(c,ye,pe),W&&ue(ye)}function re(L,M=!0){yr(c).forEach(W=>{delete c[W]}),yr(L).forEach(W=>{$(W,L[W],!1)}),M&&oe()}function Y(L,M=!0){tc(c,L),l.forEach(W=>W&&W.reset()),M&&oe()}function ge(L,M){const W=ie(vt(L))||k(L);return We({get(){return W.value},set(pe){var ye;const Ie=vt(L);$(Ie,pe,(ye=vt(M))!==null&&ye!==void 0?ye:!1)}})}function ze(L,M){const W=ie(L);W&&(W.touched=M)}function gt(L){const M=ie(L);return M?M.touched:d.value.filter(W=>W.path.startsWith(L)).some(W=>W.touched)}function O(L){const M=ie(L);return M?M.dirty:d.value.filter(W=>W.path.startsWith(L)).some(W=>W.dirty)}function R(L){const M=ie(L);return M?M.valid:d.value.filter(W=>W.path.startsWith(L)).every(W=>W.valid)}function j(L){if(typeof L=="boolean"){Se(M=>{M.touched=L});return}yr(L).forEach(M=>{ze(M,!!L[M])})}function X(L,M){var W;const pe=M&&"value"in M?M.value:ar(V.value,L),ye=ie(L);ye&&(ye.__flags.pendingReset=!0),te(L,At(pe),!0),$(L,pe,!1),ze(L,(W=M==null?void 0:M.touched)!==null&&W!==void 0?W:!1),v(L,(M==null?void 0:M.errors)||[]),or(()=>{ye&&(ye.__flags.pendingReset=!1)})}function z(L,M){let W=At(L!=null&&L.values?L.values:A.value);W=M!=null&&M.force?W:tc(A.value,W),W=ri(U)&&Sn(U.cast)?U.cast(W):W,G(W),Se(pe=>{var ye;pe.__flags.pendingReset=!0,pe.validated=!1,pe.touched=((ye=L==null?void 0:L.touched)===null||ye===void 0?void 0:ye[pe.path])||!1,$(pe.path,ar(W,pe.path),!1),v(pe.path,void 0)}),M!=null&&M.force?re(W,!1):Y(W,!1),b((L==null?void 0:L.errors)||{}),u.value=(L==null?void 0:L.submitCount)||0,or(()=>{oe({mode:"silent"}),Se(pe=>{pe.__flags.pendingReset=!1})})}async function oe(L){const M=(L==null?void 0:L.mode)||"force";if(M==="force"&&Se(Ie=>Ie.validated=!0),Oe.validateSchema)return Oe.validateSchema(M);s.value=!0;const W=await Promise.all(d.value.map(Ie=>Ie.validate?Ie.validate(L).then(Ge=>({key:Ie.path,valid:Ge.valid,errors:Ge.errors})):Promise.resolve({key:Ie.path,valid:!0,errors:[]})));s.value=!1;const pe={},ye={};for(const Ie of W)pe[Ie.key]={valid:Ie.valid,errors:Ie.errors},Ie.errors.length&&(ye[Ie.key]=Ie.errors[0]);return{valid:W.every(Ie=>Ie.valid),results:pe,errors:ye}}async function ue(L,M){var W;const pe=ie(L);if(pe&&(M==null?void 0:M.mode)!=="silent"&&(pe.validated=!0),U){const{results:ye}=await me((M==null?void 0:M.mode)||"validated-only");return ye[L]||{errors:[],valid:!0}}return pe!=null&&pe.validate?pe.validate(M):(!pe&&(W=M==null?void 0:M.warn),Promise.resolve({errors:[],valid:!0}))}function ae(L){FE(V.value,L)}function he(L,M,W=!1){te(L,M),wo(c,L,M),W&&!(e!=null&&e.initialValues)&&wo(A.value,L,At(M))}function te(L,M,W=!1){wo(V.value,L,At(M)),W&&wo(A.value,L,At(M))}async function ve(){const L=ft(U);if(!L)return{valid:!0,results:{},errors:{}};s.value=!0;const M=Wh(L)||ri(L)?await KF(L,c):await YF(L,c,{names:E.value,bailsMap:x.value});return s.value=!1,M}const Me=Tt((L,{evt:M})=>{CA(M)&&M.target.submit()});Au(()=>{if(e!=null&&e.initialErrors&&b(e.initialErrors),e!=null&&e.initialTouched&&j(e.initialTouched),e!=null&&e.validateOnMount){oe();return}Oe.validateSchema&&Oe.validateSchema("silent")}),zt(U)&&xr(U,()=>{var L;(L=Oe.validateSchema)===null||L===void 0||L.call(Oe,"validated-only")}),Fo(Gd,Oe);function xe(L,M){const W=Sn(M)||M==null?void 0:M.label,pe=ie(vt(L))||k(L,{label:W}),ye=()=>Sn(M)?M(rh(pe,ih)):M||{};function Ie(){var It;pe.touched=!0,((It=ye().validateOnBlur)!==null&&It!==void 0?It:Ms().validateOnBlur)&&ue(pe.path)}function Ge(){var It;((It=ye().validateOnInput)!==null&&It!==void 0?It:Ms().validateOnInput)&&or(()=>{ue(pe.path)})}function qe(){var It;((It=ye().validateOnChange)!==null&&It!==void 0?It:Ms().validateOnChange)&&or(()=>{ue(pe.path)})}const ot=We(()=>{const It={onChange:qe,onInput:Ge,onBlur:Ie};return Sn(M)?Object.assign(Object.assign({},It),M(rh(pe,ih)).props||{}):M!=null&&M.props?Object.assign(Object.assign({},It),M.props(rh(pe,ih))):It});return[ge(L,()=>{var It,Nt,pn;return(pn=(It=ye().validateOnModelUpdate)!==null&&It!==void 0?It:(Nt=Ms())===null||Nt===void 0?void 0:Nt.validateOnModelUpdate)!==null&&pn!==void 0?pn:!0}),ot]}function je(L){return Array.isArray(L)?L.map(M=>ge(M,!0)):ge(L)}function Qe(L,M){const[W,pe]=xe(L,M);function ye(){pe.value.onBlur()}function Ie(qe){const ot=Xh(qe);$(vt(L),ot,!1),pe.value.onInput()}function Ge(qe){const ot=Xh(qe);$(vt(L),ot,!1),pe.value.onChange()}return We(()=>Object.assign(Object.assign({},pe.value),{onBlur:ye,onInput:Ie,onChange:Ge,value:W.value}))}function Pe(L,M){const[W,pe]=xe(L,M),ye=ie(vt(L));function Ie(Ge){W.value=Ge}return We(()=>{const Ge=Sn(M)?M(rh(ye,ih)):M||{};return Object.assign({[Ge.model||"modelValue"]:W.value,[`onUpdate:${Ge.model||"modelValue"}`]:Ie},pe.value)})}return Object.assign(Object.assign({},Oe),{values:g0(c),handleReset:()=>z(),submitForm:Me})}function hj(e,t,n,r){const i={touched:"some",pending:"some",valid:"every"},s=We(()=>!Yn(t,ft(n)));function u(){const c=e.value;return yr(i).reduce((d,p)=>{const f=i[p];return d[p]=c[f](m=>m[p]),d},{})}const l=Yi(u());return Kx(()=>{const c=u();l.touched=c.touched,l.valid=c.valid,l.pending=c.pending}),We(()=>Object.assign(Object.assign({initialValues:ft(n)},l),{valid:l.valid&&!yr(r.value).length,dirty:s.value}))}function dj(e,t,n){const r=LA(n),i=St(r),s=St(At(r));function u(l,c=!1){i.value=tc(At(i.value)||{},At(l)),s.value=tc(At(s.value)||{},At(l)),c&&e.value.forEach(d=>{if(d.touched)return;const f=ar(i.value,d.path);wo(t,d.path,At(f))})}return{initialValues:i,originalInitialValues:s,setInitialValues:u}}function pj(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const mj=Ac({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Os(e,"validationSchema"),r=Os(e,"keepValues"),{errors:i,errorBag:s,values:u,meta:l,isSubmitting:c,isValidating:d,submitCount:p,controlledValues:f,validate:m,validateField:v,handleReset:b,resetForm:w,handleSubmit:S,setErrors:E,setFieldError:x,setFieldValue:C,setValues:D,setFieldTouched:V,setTouched:A,resetField:G}=fj({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:r}),F=S((ie,{evt:Re})=>{CA(Re)&&Re.target.submit()},e.onInvalidSubmit),P=e.onSubmit?S(e.onSubmit,e.onInvalidSubmit):F;function U(ie){k0(ie)&&ie.preventDefault(),b(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function k(ie,Re){return S(typeof ie=="function"&&!Re?ie:Re,e.onInvalidSubmit)(ie)}function q(){return At(u)}function K(){return At(l.value)}function me(){return At(i.value)}function Se(){return{meta:l.value,errors:i.value,errorBag:s.value,values:u,isSubmitting:c.value,isValidating:d.value,submitCount:p.value,controlledValues:f.value,validate:m,validateField:v,handleSubmit:k,handleReset:b,submitForm:F,setErrors:E,setFieldError:x,setFieldValue:C,setValues:D,setFieldTouched:V,setTouched:A,resetForm:w,resetField:G,getValues:q,getMeta:K,getErrors:me}}return t.expose({setFieldError:x,setErrors:E,setFieldValue:C,setValues:D,setFieldTouched:V,setTouched:A,resetForm:w,validate:m,validateField:v,resetField:G,getValues:q,getMeta:K,getErrors:me,values:u,meta:l,errors:i}),function(){const Re=e.as==="form"?e.as:e.as?Vd(e.as):null,Ve=N0(Re,t,Se);return Re?yn(Re,Object.assign(Object.assign(Object.assign({},Re==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:P,onReset:U}),Ve):Ve}}}),gj=mj,vj=Ac({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=Hr(Gd,void 0),r=We(()=>n==null?void 0:n.errors.value[e.name]);function i(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Vd(e.as):e.as,u=N0(s,t,i),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?yn(s||"span",l,r.value):yn(s,l,u)}}}),yj=vj;/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const oh={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},bj=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Pc(e,t){return Array.isArray(e)?e[0]:e[t]}function Qo(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const VA=(e,t)=>{if(Qo(e))return!0;const n=bj(t);if(Array.isArray(e))return e.every(i=>VA(i,{locale:n}));const r=String(e);return n?(oh[n]||oh.en).test(r):Object.keys(oh).some(i=>oh[i].test(r))},wj=(e,t)=>{const n=Pc(t,"target");return String(e)===String(n)},HE=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_j=e=>Qo(e)?!0:Array.isArray(e)?e.every(t=>HE.test(String(t))):HE.test(String(e)),FA=(e,t)=>{if(Qo(e))return!0;const n=Pc(t,"length");return Array.isArray(e)?e.every(r=>FA(r,{length:n})):[...String(e)].length<=Number(n)},jA=(e,t)=>{if(Qo(e))return!0;const n=Pc(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>jA(r,{max:n})):Number(e)<=Number(n)},UA=(e,t)=>{if(Qo(e))return!0;const n=Pc(t,"length");return Array.isArray(e)?e.every(r=>UA(r,{length:n})):[...String(e)].length>=Number(n)},$A=(e,t)=>{if(Qo(e))return!0;const n=Pc(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>$A(r,{min:n})):Number(e)>=Number(n)},BA=(e,t)=>Qo(e)?!0:Array.isArray(e)?e.every(n=>BA(n,t)):Array.from(t).some(n=>n==e),GE=(e,t)=>Qo(e)?!0:!BA(e,t);function Sj(e){return e==null}function Ej(e){return Array.isArray(e)&&e.length===0}const qE=e=>Sj(e)||Ej(e)||e===!1?!1:!!String(e).trim().length,Tj={install(e){e.component("VeeForm",gj),e.component("VeeField",lj),e.component("ErrorMessage",yj),Zr("required",qE),Zr("tos",qE),Zr("min",UA),Zr("max",FA),Zr("alpha_spaces",VA),Zr("email",_j),Zr("min_value",$A),Zr("max_value",jA),Zr("passwords_mismatch",wj),Zr("excluded",GE),Zr("contry_excluded",GE),zF({generateMessage:t=>{const n=()=>({albumSinger:"歌手名稱",albumName:"專輯名稱",albumCoverImgUrl:"專輯封面",email:"email",password:"密碼",albumGenre:"專輯類型",albumDesc:"專輯描述"})[t.field]||t.field,r={required:`${n()}欄位不可為空白`,min:`${n()}欄位所輸入文字長度太短`,max:`${n()}欄位所輸入文字長度太長`,alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`請使用有效的${t.field}格式`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,contry_excluded:"Due to restrictions, we do not accept users from this laction",passwords_mismatch:"與所輸入的密碼不符合",tos:"You must accept the Terms of Service."};return r[t.rule.name]?r[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Kh=function(){return Kh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Kh.apply(this,arguments)};function zA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uy=function(e,t){return uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},uy(e,t)};function Ij(e,t){uy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(e){return nc(void 0,e)}function nc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!Aj(r)||(e[r]=nc(e[r],t[r]));return e}function Aj(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cj=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qs())}function Oj(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nj(){return typeof self=="object"&&self.self===self}function Pj(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Rj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dj(){return qs().indexOf("Electron/")>=0}function Mj(){var e=qs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Lj(){return qs().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vj="FirebaseError",HA=function(e){Ij(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=Vj,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,P0.prototype.create),s}return t}(Error),P0=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?Fj(u,i):"Error",c=this.serviceName+": "+l+" ("+s+").",d=new HA(s,c,i);return d},e}();function Fj(e,t){return e.replace(jj,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var jj=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Uj(e,t){var n=new $j(e,t);return n.subscribe.bind(n)}var $j=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bj(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=hv),s.error===void 0&&(s.error=hv),s.complete===void 0&&(s.complete=hv);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function Bj(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function hv(){}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ly=function(){return ly=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ly.apply(this,arguments)};function zj(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{d(r.next(p))}catch(f){u(f)}}function c(p){try{d(r.throw(p))}catch(f){u(f)}}function d(p){p.done?s(p.value):i(p.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function Hj(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return c([d,p])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Gj(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function GA(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],u;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){u={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function qj(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(GA(arguments[t]));return e}var Rc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wj=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=$a);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Cj;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=ly({identifier:$a,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var u=this.getOrInitializeService(s);if(!u){if(i)return null;throw Error("Service "+this.name+" is not available")}return u}catch(l){if(i)return null;throw l}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,Kj(t))try{this.getOrInitializeService($a)}catch{}try{for(var i=Gj(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var u=GA(s.value,2),l=u[0],c=u[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService(d);c.resolve(p)}catch{}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clearInstance=function(t){t===void 0&&(t=$a),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return zj(this,void 0,void 0,function(){var t;return Hj(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(qj(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.getOrInitializeService=function(t){var n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,Xj(t)),this.instances.set(t,n)),n||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:$a:t},e}();function Xj(e){return e===$a?void 0:e}function Kj(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yj=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new Wj(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ti(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,i++)r[i]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var As,R0=[],pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pt||(pt={}));var qA={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},Qj=pt.INFO,Jj=(As={},As[pt.DEBUG]="log",As[pt.VERBOSE]="log",As[pt.INFO]="info",As[pt.WARN]="warn",As[pt.ERROR]="error",As),Zj=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=Jj[t];if(s)console[s].apply(console,ti(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},WA=function(){function e(t){this.name=t,this._logLevel=Qj,this._logHandler=Zj,this._userLogHandler=null,R0.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in pt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?qA[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pt.DEBUG],t)),this._logHandler.apply(this,ti([this,pt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pt.VERBOSE],t)),this._logHandler.apply(this,ti([this,pt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pt.INFO],t)),this._logHandler.apply(this,ti([this,pt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pt.WARN],t)),this._logHandler.apply(this,ti([this,pt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,pt.ERROR],t)),this._logHandler.apply(this,ti([this,pt.ERROR],t))},e}();function eU(e){R0.forEach(function(t){t.setLogLevel(e)})}function tU(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=qA[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(c,d){for(var p=[],f=2;f<arguments.length;f++)p[f-2]=arguments[f];var m=p.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");d>=(l??c.logLevel)&&e({level:pt[d].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=R0;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var po,nU=(po={},po["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",po["bad-app-name"]="Illegal App name: '{$appName}",po["duplicate-app"]="Firebase App named '{$appName}' already exists",po["app-deleted"]="Firebase App named '{$appName}' already deleted",po["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",po["invalid-log-argument"]="First argument to `onLog` must be null or a function.",po),Ba=new P0("app","Firebase",nU),XA="@firebase/app",rU="0.6.14",iU="@firebase/analytics",oU="@firebase/auth",sU="@firebase/database",aU="@firebase/functions",uU="@firebase/installations",lU="@firebase/messaging",cU="@firebase/performance",fU="@firebase/remote-config",hU="@firebase/storage",dU="@firebase/firestore",pU="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,Yh="[DEFAULT]",mU=($n={},$n[XA]="fire-core",$n[iU]="fire-analytics",$n[oU]="fire-auth",$n[sU]="fire-rtdb",$n[aU]="fire-fn",$n[uU]="fire-iid",$n[lU]="fire-fcm",$n[cU]="fire-perf",$n[fU]="fire-rc",$n[hU]="fire-gcs",$n[dU]="fire-fst",$n["fire-js"]="fire-js",$n[pU]="fire-js-all",$n);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var su=new WA("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ch=function(){function e(t,n,r){var i,s,u=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=xj(t),this.container=new Yj(n.name),this._addComponent(new Rc("app",function(){return u},"PUBLIC"));try{for(var l=zA(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var d=c.value;this._addComponent(d)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Yh),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Yh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){su.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ba.create("app-deleted",{appName:this.name_})},e}();Ch.prototype.name&&Ch.prototype.options||Ch.prototype.delete||console.log("dc");var gU="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:eU,onLog:p,apps:null,SDK_VERSION:gU,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||Yh,!WE(t,m))throw Ba.create("no-app",{appName:m});return t[m]}s.App=e;function u(m,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var b=v;v={name:b}}var w=v;w.name===void 0&&(w.name=Yh);var S=w.name;if(typeof S!="string"||!S)throw Ba.create("bad-app-name",{appName:String(S)});if(WE(t,S))throw Ba.create("duplicate-app",{appName:S});var E=new e(m,w,r);return t[S]=E,E}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var v,b,w=m.name;if(n.has(w))return su.debug("There were multiple attempts to register component "+w+"."),m.type==="PUBLIC"?r[w]:null;if(n.set(w,m),m.type==="PUBLIC"){var S=function(D){if(D===void 0&&(D=s()),typeof D[w]!="function")throw Ba.create("invalid-app-argument",{appName:w});return D[w]()};m.serviceProps!==void 0&&nc(S,m.serviceProps),r[w]=S,e.prototype[w]=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];var A=this._getService.bind(this,w);return A.apply(this,m.multipleInstances?D:[])}}try{for(var E=zA(Object.keys(t)),x=E.next();!x.done;x=E.next()){var C=x.value;t[C]._addComponent(m)}}catch(D){v={error:D}}finally{try{x&&!x.done&&(b=E.return)&&b.call(E)}finally{if(v)throw v.error}}return m.type==="PUBLIC"?r[w]:null}function d(m,v,b){var w,S=(w=mU[m])!==null&&w!==void 0?w:m;b&&(S+="-"+b);var E=S.match(/\s|\//),x=v.match(/\s|\//);if(E||x){var C=['Unable to register library "'+S+'" with version "'+v+'":'];E&&C.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),E&&x&&C.push("and"),x&&C.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),su.warn(C.join(" "));return}c(new Rc(S+"-version",function(){return{library:S,version:v}},"VERSION"))}function p(m,v){if(m!==null&&typeof m!="function")throw Ba.create("invalid-log-argument",{appName:name});tU(m,v)}function f(m,v){if(v==="serverAuth")return null;var b=v;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){var e=vU(Ch);e.INTERNAL=Kh(Kh({},e.INTERNAL),{createFirebaseNamespace:KA,extendNamespace:t,createSubscribe:Uj,ErrorFactory:P0,deepExtend:nc});function t(n){nc(e,n)}return e}var D0=KA();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yU=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(bU(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function bU(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(e,t){e.INTERNAL.registerComponent(new Rc("platform-logger",function(n){return new yU(n)},"PRIVATE")),e.registerVersion(XA,rU,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Nj()&&self.firebase!==void 0){su.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var XE=self.firebase.SDK_VERSION;XE&&XE.indexOf("LITE")>=0&&su.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _U=D0.initializeApp;D0.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Oj()&&su.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),_U.apply(void 0,e)};var Ae=D0;wU(Ae);var SU="firebase",EU="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.registerVersion(SU,EU,"app");(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,a,h){o!=Array.prototype&&o!=Object.prototype&&(o[a]=h.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var a=0;a<o.length;++a){var h=o[a];if(h&&h.Math==Math)return h}return globalThis}var r=n(this);function i(o,a){if(a){var h=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var y=o[g];y in h||(h[y]={}),h=h[y]}o=o[o.length-1],g=h[o],a=a(g),a!=g&&a!=null&&t(h,o,{configurable:!0,writable:!0,value:a})}}function s(o){var a=0;return function(){return a<o.length?{done:!1,value:o[a++]}:{done:!0}}}function u(o){var a=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return a?a.call(o):{next:s(o)}}i("Promise",function(o){function a(I){this.b=0,this.c=void 0,this.a=[];var N=this.f();try{I(N.resolve,N.reject)}catch(H){N.reject(H)}}function h(){this.a=null}function g(I){return I instanceof a?I:new a(function(N){N(I)})}if(o)return o;h.prototype.b=function(I){if(this.a==null){this.a=[];var N=this;this.c(function(){N.g()})}this.a.push(I)};var y=r.setTimeout;h.prototype.c=function(I){y(I,0)},h.prototype.g=function(){for(;this.a&&this.a.length;){var I=this.a;this.a=[];for(var N=0;N<I.length;++N){var H=I[N];I[N]=null;try{H()}catch(Q){this.f(Q)}}}this.a=null},h.prototype.f=function(I){this.c(function(){throw I})},a.prototype.f=function(){function I(Q){return function($e){H||(H=!0,Q.call(N,$e))}}var N=this,H=!1;return{resolve:I(this.m),reject:I(this.g)}},a.prototype.m=function(I){if(I===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(I instanceof a)this.s(I);else{e:switch(typeof I){case"object":var N=I!=null;break e;case"function":N=!0;break e;default:N=!1}N?this.v(I):this.h(I)}},a.prototype.v=function(I){var N=void 0;try{N=I.then}catch(H){this.g(H);return}typeof N=="function"?this.u(N,I):this.h(I)},a.prototype.g=function(I){this.i(2,I)},a.prototype.h=function(I){this.i(1,I)},a.prototype.i=function(I,N){if(this.b!=0)throw Error("Cannot settle("+I+", "+N+"): Promise already settled in state"+this.b);this.b=I,this.c=N,this.l()},a.prototype.l=function(){if(this.a!=null){for(var I=0;I<this.a.length;++I)_.b(this.a[I]);this.a=null}};var _=new h;return a.prototype.s=function(I){var N=this.f();I.Qa(N.resolve,N.reject)},a.prototype.u=function(I,N){var H=this.f();try{I.call(N,H.resolve,H.reject)}catch(Q){H.reject(Q)}},a.prototype.then=function(I,N){function H(dt,mn){return typeof dt=="function"?function(ji){try{Q(dt(ji))}catch(Zg){$e(Zg)}}:mn}var Q,$e,wt=new a(function(dt,mn){Q=dt,$e=mn});return this.Qa(H(I,Q),H(N,$e)),wt},a.prototype.catch=function(I){return this.then(void 0,I)},a.prototype.Qa=function(I,N){function H(){switch(Q.b){case 1:I(Q.c);break;case 2:N(Q.c);break;default:throw Error("Unexpected state: "+Q.b)}}var Q=this;this.a==null?_.b(H):this.a.push(H)},a.resolve=g,a.reject=function(I){return new a(function(N,H){H(I)})},a.race=function(I){return new a(function(N,H){for(var Q=u(I),$e=Q.next();!$e.done;$e=Q.next())g($e.value).Qa(N,H)})},a.all=function(I){var N=u(I),H=N.next();return H.done?g([]):new a(function(Q,$e){function wt(ji){return function(Zg){dt[ji]=Zg,mn--,mn==0&&Q(dt)}}var dt=[],mn=0;do dt.push(void 0),mn++,g(H.value).Qa(wt(dt.length-1),$e),H=N.next();while(!H.done)})},a});var l=l||{},c=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function f(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&d.test(o)?o:""}function m(){}function v(o){var a=typeof o;return a!="object"?a:o?Array.isArray(o)?"array":a:"null"}function b(o){var a=v(o);return a=="array"||a=="object"&&typeof o.length=="number"}function w(o){return v(o)=="function"}function S(o){var a=typeof o;return a=="object"&&o!=null||a=="function"}function E(o){return Object.prototype.hasOwnProperty.call(o,x)&&o[x]||(o[x]=++C)}var x="closure_uid_"+(1e9*Math.random()>>>0),C=0;function D(o,a,h){return o.call.apply(o.bind,arguments)}function V(o,a,h){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,g),o.apply(a,y)}}return function(){return o.apply(a,arguments)}}function A(o,a,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A=D:A=V,A.apply(null,arguments)}function G(o,a){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),o.apply(this,g)}}var F=Date.now;function P(o,a){function h(){}h.prototype=a.prototype,o.ab=a.prototype,o.prototype=new h,o.prototype.constructor=o}function U(o){return o}function k(o,a,h){this.code=K+o,this.message=a||me[o]||"",this.a=h||null}P(k,Error),k.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},k.prototype.toJSON=function(){return this.w()};function q(o){var a=o&&o.code;return a?new k(a.substring(K.length),o.message,o.serverResponse):null}var K="auth/",me={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Se={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ie(o){for(var a in Se)if(Se[a].id===o)return o=Se[a],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Re;Re=ie("__EID__")?"__EID__":void 0;function Ve(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Je(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Je);else{var a=Error().stack;a&&(this.stack=a)}o&&(this.message=String(o))}P(Je,Error),Je.prototype.name="CustomError";function Lt(o,a){o=o.split("%s");for(var h="",g=o.length-1,y=0;y<g;y++)h+=o[y]+(y<a.length?a[y]:"%s");Je.call(this,h+o[g])}P(Lt,Je),Lt.prototype.name="AssertionError";function Ot(o,a){throw new Lt("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Pt(o,a){this.c=o,this.f=a,this.b=0,this.a=null}Pt.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Tt(o,a){o.f(a),100>o.b&&(o.b++,a.next=o.a,o.a=a)}function Fn(){this.b=this.a=null}var we=new Pt(function(){return new $},function(o){o.reset()});Fn.prototype.add=function(o,a){var h=we.get();h.set(o,a),this.b?this.b.next=h:this.a=h,this.b=h};function Oe(){var o=Ow,a=null;return o.a&&(a=o.a,o.a=o.a.next,o.a||(o.b=null),a.next=null),a}function $(){this.next=this.b=this.a=null}$.prototype.set=function(o,a){this.a=o,this.b=a,this.next=null},$.prototype.reset=function(){this.next=this.b=this.a=null};var re=Array.prototype.indexOf?function(o,a){return Array.prototype.indexOf.call(o,a,void 0)}:function(o,a){if(typeof o=="string")return typeof a!="string"||a.length!=1?-1:o.indexOf(a,0);for(var h=0;h<o.length;h++)if(h in o&&o[h]===a)return h;return-1},Y=Array.prototype.forEach?function(o,a,h){Array.prototype.forEach.call(o,a,h)}:function(o,a,h){for(var g=o.length,y=typeof o=="string"?o.split(""):o,_=0;_<g;_++)_ in y&&a.call(h,y[_],_,o)};function ge(o,a){for(var h=typeof o=="string"?o.split(""):o,g=o.length-1;0<=g;--g)g in h&&a.call(void 0,h[g],g,o)}var ze=Array.prototype.filter?function(o,a){return Array.prototype.filter.call(o,a,void 0)}:function(o,a){for(var h=o.length,g=[],y=0,_=typeof o=="string"?o.split(""):o,I=0;I<h;I++)if(I in _){var N=_[I];a.call(void 0,N,I,o)&&(g[y++]=N)}return g},gt=Array.prototype.map?function(o,a){return Array.prototype.map.call(o,a,void 0)}:function(o,a){for(var h=o.length,g=Array(h),y=typeof o=="string"?o.split(""):o,_=0;_<h;_++)_ in y&&(g[_]=a.call(void 0,y[_],_,o));return g},O=Array.prototype.some?function(o,a){return Array.prototype.some.call(o,a,void 0)}:function(o,a){for(var h=o.length,g=typeof o=="string"?o.split(""):o,y=0;y<h;y++)if(y in g&&a.call(void 0,g[y],y,o))return!0;return!1};function R(o){e:{for(var a=SR,h=o.length,g=typeof o=="string"?o.split(""):o,y=0;y<h;y++)if(y in g&&a.call(void 0,g[y],y,o)){a=y;break e}a=-1}return 0>a?null:typeof o=="string"?o.charAt(a):o[a]}function j(o,a){return 0<=re(o,a)}function X(o,a){a=re(o,a);var h;return(h=0<=a)&&Array.prototype.splice.call(o,a,1),h}function z(o,a){var h=0;ge(o,function(g,y){a.call(void 0,g,y,o)&&Array.prototype.splice.call(o,y,1).length==1&&h++})}function oe(o){return Array.prototype.concat.apply([],arguments)}function ue(o){var a=o.length;if(0<a){for(var h=Array(a),g=0;g<a;g++)h[g]=o[g];return h}return[]}var ae=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},he=/&/g,te=/</g,ve=/>/g,Me=/"/g,xe=/'/g,je=/\x00/g,Qe=/[\x00&<>"']/;function Pe(o,a){return o.indexOf(a)!=-1}function L(o,a){return o<a?-1:o>a?1:0}var M;e:{var W=c.navigator;if(W){var pe=W.userAgent;if(pe){M=pe;break e}}M=""}function ye(o){return Pe(M,o)}function Ie(o,a){for(var h in o)a.call(void 0,o[h],h,o)}function Ge(o){for(var a in o)return!1;return!0}function qe(o){var a={},h;for(h in o)a[h]=o[h];return a}var ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(o,a){for(var h,g,y=1;y<arguments.length;y++){g=arguments[y];for(h in g)o[h]=g[h];for(var _=0;_<ot.length;_++)h=ot[_],Object.prototype.hasOwnProperty.call(g,h)&&(o[h]=g[h])}}function It(o,a){e:{try{var h=o&&o.ownerDocument,g=h&&(h.defaultView||h.parentWindow);if(g=g||c,g.Element&&g.Location){var y=g;break e}}catch{}y=null}if(y&&typeof y[a]<"u"&&(!o||!(o instanceof y[a])&&(o instanceof y.Location||o instanceof y.Element))){if(S(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;Ot("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,_)}}function Nt(o,a){this.a=o===ci&&a||"",this.b=Jn}Nt.prototype.sa=!0,Nt.prototype.ra=function(){return this.a},Nt.prototype.toString=function(){return"Const{"+this.a+"}"};function pn(o){return o instanceof Nt&&o.constructor===Nt&&o.b===Jn?o.a:(Ot("expected object of type Const, got '"+o+"'"),"type_error:Const")}var Jn={},ci={},to;function ju(){if(to===void 0){var o=null,a=c.trustedTypes;if(a&&a.createPolicy){try{o=a.createPolicy("goog#html",{createHTML:U,createScript:U,createScriptURL:U})}catch(h){c.console&&c.console.error(h.message)}to=o}else to=o}return to}function fi(o,a){this.a=a===pw?o:""}fi.prototype.sa=!0,fi.prototype.ra=function(){return this.a.toString()},fi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function fa(o){return o instanceof fi&&o.constructor===fi?o.a:(Ot("expected object of type TrustedResourceUrl, got '"+o+"' of type "+v(o)),"type_error:TrustedResourceUrl")}function kp(o,a){var h=pn(o);if(!JN.test(h))throw Error("Invalid TrustedResourceUrl format: "+h);return o=h.replace(QN,function(g,y){if(!Object.prototype.hasOwnProperty.call(a,y))throw Error('Found marker, "'+y+'", in format string, "'+h+'", but no valid label mapping found in args: '+JSON.stringify(a));return g=a[y],g instanceof Nt?pn(g):encodeURIComponent(String(g))}),ZN(o)}var QN=/%{(\w+)}/g,JN=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,pw={};function ZN(o){var a=ju();return o=a?a.createScriptURL(o):o,new fi(o,pw)}function Zn(o,a){this.a=a===Uu?o:""}Zn.prototype.sa=!0,Zn.prototype.ra=function(){return this.a.toString()},Zn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Jc(o){return o instanceof Zn&&o.constructor===Zn?o.a:(Ot("expected object of type SafeUrl, got '"+o+"' of type "+v(o)),"type_error:SafeUrl")}var eP=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tP=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,mw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function gw(o){if(o instanceof Zn)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),mw.test(o))o=new Zn(o,Uu);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var a=o.match(tP);o=a&&eP.test(a[1])?new Zn(o,Uu):null}return o}function vw(o){return o instanceof Zn?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),mw.test(o)||(o="about:invalid#zClosurez"),new Zn(o,Uu))}var Uu={},yw=new Zn("about:invalid#zClosurez",Uu);function ha(o,a,h){this.a=h===bw?o:""}ha.prototype.sa=!0,ha.prototype.ra=function(){return this.a.toString()},ha.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function nP(o){return o instanceof ha&&o.constructor===ha?o.a:(Ot("expected object of type SafeHtml, got '"+o+"' of type "+v(o)),"type_error:SafeHtml")}var bw={};function rP(o,a){It(o,"HTMLScriptElement"),o.src=fa(a),(a=o.ownerDocument&&o.ownerDocument.defaultView)&&a!=c?a=f(a.document):(p===null&&(p=f(c.document)),a=p),a&&o.setAttribute("nonce",a)}function ww(o,a,h,g){return o=o instanceof Zn?o:vw(o),a=a||c,h=h instanceof Nt?pn(h):h||"",a.open(Jc(o),h,g,void 0)}function _w(o,a){for(var h=o.split("%s"),g="",y=Array.prototype.slice.call(arguments,1);y.length&&1<h.length;)g+=h.shift()+y.shift();return g+h.join("%s")}function Op(o){return Qe.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(he,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(te,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(ve,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(Me,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(xe,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(je,"&#0;"))),o}function Np(o){return Np[" "](o),o}Np[" "]=m;function iP(o,a){var h=uP;return Object.prototype.hasOwnProperty.call(h,o)?h[o]:h[o]=a(o)}var oP=ye("Opera"),Wr=ye("Trident")||ye("MSIE"),Sw=ye("Edge"),sP=Sw||Wr,Ew=ye("Gecko")&&!(Pe(M.toLowerCase(),"webkit")&&!ye("Edge"))&&!(ye("Trident")||ye("MSIE"))&&!ye("Edge"),aP=Pe(M.toLowerCase(),"webkit")&&!ye("Edge");function Tw(){var o=c.document;return o?o.documentMode:void 0}var Zc;e:{var Pp="",Rp=function(){var o=M;if(Ew)return/rv:([^\);]+)(\)|;)/.exec(o);if(Sw)return/Edge\/([\d\.]+)/.exec(o);if(Wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(aP)return/WebKit\/(\S+)/.exec(o);if(oP)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Rp&&(Pp=Rp?Rp[1]:""),Wr){var Dp=Tw();if(Dp!=null&&Dp>parseFloat(Pp)){Zc=String(Dp);break e}}Zc=Pp}var uP={};function Iw(o){return iP(o,function(){for(var a=0,h=ae(String(Zc)).split("."),g=ae(String(o)).split("."),y=Math.max(h.length,g.length),_=0;a==0&&_<y;_++){var I=h[_]||"",N=g[_]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],I[0].length==0&&N[0].length==0)break;a=L(I[1].length==0?0:parseInt(I[1],10),N[1].length==0?0:parseInt(N[1],10))||L(I[2].length==0,N[2].length==0)||L(I[2],N[2]),I=I[3],N=N[3]}while(a==0)}return 0<=a})}var Mp;if(c.document&&Wr){var xw=Tw();Mp=xw||parseInt(Zc,10)||void 0}else Mp=void 0;var no=Mp;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var lP=!Wr||9<=Number(no);function $u(o){var a=document;return typeof o=="string"?a.getElementById(o):o}function Aw(o,a){Ie(a,function(h,g){h&&typeof h=="object"&&h.sa&&(h=h.ra()),g=="style"?o.style.cssText=h:g=="class"?o.className=h:g=="for"?o.htmlFor=h:Cw.hasOwnProperty(g)?o.setAttribute(Cw[g],h):g.lastIndexOf("aria-",0)==0||g.lastIndexOf("data-",0)==0?o.setAttribute(g,h):o[g]=h})}var Cw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function cP(o,a,h){var g=arguments,y=document,_=String(g[0]),I=g[1];if(!lP&&I&&(I.name||I.type)){if(_=["<",_],I.name&&_.push(' name="',Op(I.name),'"'),I.type){_.push(' type="',Op(I.type),'"');var N={};lt(N,I),delete N.type,I=N}_.push(">"),_=_.join("")}return _=ef(y,_),I&&(typeof I=="string"?_.className=I:Array.isArray(I)?_.className=I.join(" "):Aw(_,I)),2<g.length&&fP(y,_,g),_}function fP(o,a,h){function g(N){N&&a.appendChild(typeof N=="string"?o.createTextNode(N):N)}for(var y=2;y<h.length;y++){var _=h[y];if(!b(_)||S(_)&&0<_.nodeType)g(_);else{e:{if(_&&typeof _.length=="number"){if(S(_)){var I=typeof _.item=="function"||typeof _.item=="string";break e}if(w(_)){I=typeof _.item=="function";break e}}I=!1}Y(I?ue(_):_,g)}}}function ef(o,a){return a=String(a),o.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),o.createElement(a)}function kw(o){c.setTimeout(function(){throw o},0)}var Lp;function hP(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ye("Presto")&&(o=function(){var y=ef(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var _=y.contentWindow;y=_.document,y.open(),y.close();var I="callImmediate"+Math.random(),N=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;y=A(function(H){(N=="*"||H.origin==N)&&H.data==I&&this.port1.onmessage()},this),_.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(I,N)}}}),typeof o<"u"&&!ye("Trident")&&!ye("MSIE")){var a=new o,h={},g=h;return a.port1.onmessage=function(){if(h.next!==void 0){h=h.next;var y=h.Gb;h.Gb=null,y()}},function(y){g.next={Gb:y},g=g.next,a.port2.postMessage(0)}}return function(y){c.setTimeout(y,0)}}function tf(o,a){nf||dP(),Vp||(nf(),Vp=!0),Ow.add(o,a)}var nf;function dP(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);nf=function(){o.then(Nw)}}else nf=function(){var a=Nw;!w(c.setImmediate)||c.Window&&c.Window.prototype&&!ye("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Lp||(Lp=hP()),Lp(a)):c.setImmediate(a)}}var Vp=!1,Ow=new Fn;function Nw(){for(var o;o=Oe();){try{o.a.call(o.b)}catch(a){kw(a)}Tt(we,o)}Vp=!1}function Ze(o,a){if(this.a=is,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var h=this;o.call(a,function(g){os(h,Bu,g)},function(g){if(!(g instanceof da))try{throw g instanceof Error?g:Error("Promise rejected.")}catch{}os(h,Mi,g)})}catch(g){os(this,Mi,g)}}var is=0,Bu=2,Mi=3;function Pw(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Pw.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Rw=new Pt(function(){return new Pw},function(o){o.reset()});function Fp(o,a,h){var g=Rw.get();return g.g=o,g.b=a,g.f=h,g}function Le(o){if(o instanceof Ze)return o;var a=new Ze(m);return os(a,Bu,o),a}function Vt(o){return new Ze(function(a,h){h(o)})}function Dw(o,a,h){Fw(o,a,h,null)||tf(G(a,o))}function pP(o){return new Ze(function(a,h){var g=o.length,y=[];if(g)for(var _=function(Q,$e){g--,y[Q]=$e,g==0&&a(y)},I=function(Q){h(Q)},N=0,H;N<o.length;N++)H=o[N],Dw(H,G(_,N),I);else a(y)})}function Mw(o){return new Ze(function(a){var h=o.length,g=[];if(h)for(var y=function(N,H,Q){h--,g[N]=H?{Pb:!0,value:Q}:{Pb:!1,reason:Q},h==0&&a(g)},_=0,I;_<o.length;_++)I=o[_],Dw(I,G(y,_,!0),G(y,_,!1));else a(g)})}Ze.prototype.then=function(o,a,h){return Vw(this,w(o)?o:null,w(a)?a:null,h)},Ze.prototype.$goog_Thenable=!0,e=Ze.prototype,e.oa=function(o,a){return o=Fp(o,o,a),o.c=!0,jp(this,o),this},e.o=function(o,a){return Vw(this,null,o,a)},e.cancel=function(o){if(this.a==is){var a=new da(o);tf(function(){Lw(this,a)},this)}};function Lw(o,a){if(o.a==is)if(o.c){var h=o.c;if(h.b){for(var g=0,y=null,_=null,I=h.b;I&&(I.c||(g++,I.a==o&&(y=I),!(y&&1<g)));I=I.next)y||(_=I);y&&(h.a==is&&g==1?Lw(h,a):(_?(g=_,g.next==h.f&&(h.f=g),g.next=g.next.next):Uw(h),$w(h,y,Mi,a)))}o.c=null}else os(o,Mi,a)}function jp(o,a){o.b||o.a!=Bu&&o.a!=Mi||jw(o),o.f?o.f.next=a:o.b=a,o.f=a}function Vw(o,a,h,g){var y=Fp(null,null,null);return y.a=new Ze(function(_,I){y.g=a?function(N){try{var H=a.call(g,N);_(H)}catch(Q){I(Q)}}:_,y.b=h?function(N){try{var H=h.call(g,N);H===void 0&&N instanceof da?I(N):_(H)}catch(Q){I(Q)}}:I}),y.a.c=o,jp(o,y),y.a}e.$c=function(o){this.a=is,os(this,Bu,o)},e.ad=function(o){this.a=is,os(this,Mi,o)};function os(o,a,h){o.a==is&&(o===h&&(a=Mi,h=new TypeError("Promise cannot resolve to itself")),o.a=1,Fw(h,o.$c,o.ad,o)||(o.i=h,o.a=a,o.c=null,jw(o),a!=Mi||h instanceof da||gP(o,h)))}function Fw(o,a,h,g){if(o instanceof Ze)return jp(o,Fp(a||m,h||null,g)),!0;if(Ve(o))return o.then(a,h,g),!0;if(S(o))try{var y=o.then;if(w(y))return mP(o,y,a,h,g),!0}catch(_){return h.call(g,_),!0}return!1}function mP(o,a,h,g,y){function _(H){N||(N=!0,g.call(y,H))}function I(H){N||(N=!0,h.call(y,H))}var N=!1;try{a.call(o,I,_)}catch(H){_(H)}}function jw(o){o.h||(o.h=!0,tf(o.gc,o))}function Uw(o){var a=null;return o.b&&(a=o.b,o.b=a.next,a.next=null),o.b||(o.f=null),a}e.gc=function(){for(var o;o=Uw(this);)$w(this,o,this.a,this.i);this.h=!1};function $w(o,a,h,g){if(h==Mi&&a.b&&!a.c)for(;o&&o.g;o=o.c)o.g=!1;if(a.a)a.a.c=null,Bw(a,h,g);else try{a.c?a.g.call(a.f):Bw(a,h,g)}catch(y){zw.call(null,y)}Tt(Rw,a)}function Bw(o,a,h){a==Bu?o.g.call(o.f,h):o.b&&o.b.call(o.f,h)}function gP(o,a){o.g=!0,tf(function(){o.g&&zw.call(null,a)})}var zw=kw;function da(o){Je.call(this,o)}P(da,Je),da.prototype.name="cancel";function rf(){this.xa=this.xa,this.pa=this.pa}var vP=0;rf.prototype.xa=!1;function Hw(o){!o.xa&&(o.xa=!0,o.Da(),vP!=0)&&E(o)}rf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var yP=Object.freeze||function(o){return o},Gw=!Wr||9<=Number(no),bP=Wr&&!Iw("9"),wP=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,a=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,a),c.removeEventListener("test",m,a)}catch{}return o}();function er(o,a){this.type=o,this.b=this.target=a,this.defaultPrevented=!1}er.prototype.preventDefault=function(){this.defaultPrevented=!0};function ss(o,a){if(er.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var h=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=a,a=o.relatedTarget){if(Ew){e:{try{Np(a.nodeName);var y=!0;break e}catch{}y=!1}y||(a=null)}}else h=="mouseover"?a=o.fromElement:h=="mouseout"&&(a=o.toElement);this.relatedTarget=a,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_P[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}P(ss,er);var _P=yP({2:"touch",3:"pen",4:"mouse"});ss.prototype.preventDefault=function(){ss.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,bP)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},ss.prototype.g=function(){return this.a};var zu="closure_listenable_"+(1e6*Math.random()|0),SP=0;function EP(o,a,h,g,y){this.listener=o,this.proxy=null,this.src=a,this.type=h,this.capture=!!g,this.Va=y,this.key=++SP,this.va=this.Pa=!1}function of(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function sf(o){this.src=o,this.a={},this.b=0}sf.prototype.add=function(o,a,h,g,y){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var I=$p(o,a,g,y);return-1<I?(a=o[I],h||(a.Pa=!1)):(a=new EP(a,this.src,_,!!g,y),a.Pa=h,o.push(a)),a};function Up(o,a){var h=a.type;h in o.a&&X(o.a[h],a)&&(of(a),o.a[h].length==0&&(delete o.a[h],o.b--))}function $p(o,a,h,g){for(var y=0;y<o.length;++y){var _=o[y];if(!_.va&&_.listener==a&&_.capture==!!h&&_.Va==g)return y}return-1}var Bp="closure_lm_"+(1e6*Math.random()|0),zp={};function Dr(o,a,h,g,y){if(g&&g.once)Hp(o,a,h,g,y);else if(Array.isArray(a))for(var _=0;_<a.length;_++)Dr(o,a[_],h,g,y);else h=qp(h),o&&o[zu]?Qw(o,a,h,S(g)?!!g.capture:!!g,y):qw(o,a,h,!1,g,y)}function qw(o,a,h,g,y,_){if(!a)throw Error("Invalid event type");var I=S(y)?!!y.capture:!!y,N=af(o);if(N||(o[Bp]=N=new sf(o)),h=N.add(a,h,g,I,_),!h.proxy)if(g=TP(),h.proxy=g,g.src=o,g.listener=h,o.addEventListener)wP||(y=I),y===void 0&&(y=!1),o.addEventListener(a.toString(),g,y);else if(o.attachEvent)o.attachEvent(Xw(a.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.")}function TP(){var o=IP,a=Gw?function(h){return o.call(a.src,a.listener,h)}:function(h){if(h=o.call(a.src,a.listener,h),!h)return h};return a}function Hp(o,a,h,g,y){if(Array.isArray(a))for(var _=0;_<a.length;_++)Hp(o,a[_],h,g,y);else h=qp(h),o&&o[zu]?Wp(o,a,h,S(g)?!!g.capture:!!g,y):qw(o,a,h,!0,g,y)}function pr(o,a,h,g,y){if(Array.isArray(a))for(var _=0;_<a.length;_++)pr(o,a[_],h,g,y);else g=S(g)?!!g.capture:!!g,h=qp(h),o&&o[zu]?(o=o.v,a=String(a).toString(),a in o.a&&(_=o.a[a],h=$p(_,h,g,y),-1<h&&(of(_[h]),Array.prototype.splice.call(_,h,1),_.length==0&&(delete o.a[a],o.b--)))):o&&(o=af(o))&&(a=o.a[a.toString()],o=-1,a&&(o=$p(a,h,g,y)),(h=-1<o?a[o]:null)&&Ww(h))}function Ww(o){if(typeof o!="number"&&o&&!o.va){var a=o.src;if(a&&a[zu])Up(a.v,o);else{var h=o.type,g=o.proxy;a.removeEventListener?a.removeEventListener(h,g,o.capture):a.detachEvent?a.detachEvent(Xw(h),g):a.addListener&&a.removeListener&&a.removeListener(g),(h=af(a))?(Up(h,o),h.b==0&&(h.src=null,a[Bp]=null)):of(o)}}}function Xw(o){return o in zp?zp[o]:zp[o]="on"+o}function Kw(o,a,h,g){var y=!0;if((o=af(o))&&(a=o.a[a.toString()]))for(a=a.concat(),o=0;o<a.length;o++){var _=a[o];_&&_.capture==h&&!_.va&&(_=Yw(_,g),y=y&&_!==!1)}return y}function Yw(o,a){var h=o.listener,g=o.Va||o.src;return o.Pa&&Ww(o),h.call(g,a)}function IP(o,a){if(o.va)return!0;if(!Gw){if(!a)e:{a=["window","event"];for(var h=c,g=0;g<a.length;g++)if(h=h[a[g]],h==null){a=null;break e}a=h}if(g=a,a=new ss(g,this),h=!0,!(0>g.keyCode||g.returnValue!=null)){e:{var y=!1;if(g.keyCode==0)try{g.keyCode=-1;break e}catch{y=!0}(y||g.returnValue==null)&&(g.returnValue=!0)}for(g=[],y=a.b;y;y=y.parentNode)g.push(y);for(o=o.type,y=g.length-1;0<=y;y--){a.b=g[y];var _=Kw(g[y],o,!0,a);h=h&&_}for(y=0;y<g.length;y++)a.b=g[y],_=Kw(g[y],o,!1,a),h=h&&_}return h}return Yw(o,new ss(a,this))}function af(o){return o=o[Bp],o instanceof sf?o:null}var Gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function qp(o){return w(o)?o:(o[Gp]||(o[Gp]=function(a){return o.handleEvent(a)}),o[Gp])}function jn(){rf.call(this),this.v=new sf(this),this.ac=this,this.gb=null}P(jn,rf),jn.prototype[zu]=!0,jn.prototype.addEventListener=function(o,a,h,g){Dr(this,o,a,h,g)},jn.prototype.removeEventListener=function(o,a,h,g){pr(this,o,a,h,g)},jn.prototype.dispatchEvent=function(o){var a,h=this.gb;if(h)for(a=[];h;h=h.gb)a.push(h);h=this.ac;var g=o.type||o;if(typeof o=="string")o=new er(o,h);else if(o instanceof er)o.target=o.target||h;else{var y=o;o=new er(g,h),lt(o,y)}if(y=!0,a)for(var _=a.length-1;0<=_;_--){var I=o.b=a[_];y=uf(I,g,!0,o)&&y}if(I=o.b=h,y=uf(I,g,!0,o)&&y,y=uf(I,g,!1,o)&&y,a)for(_=0;_<a.length;_++)I=o.b=a[_],y=uf(I,g,!1,o)&&y;return y},jn.prototype.Da=function(){if(jn.ab.Da.call(this),this.v){var o=this.v,a;for(a in o.a){for(var h=o.a[a],g=0;g<h.length;g++)of(h[g]);delete o.a[a],o.b--}}this.gb=null};function Qw(o,a,h,g,y){o.v.add(String(a),h,!1,g,y)}function Wp(o,a,h,g,y){o.v.add(String(a),h,!0,g,y)}function uf(o,a,h,g){if(a=o.v.a[String(a)],!a)return!0;a=a.concat();for(var y=!0,_=0;_<a.length;++_){var I=a[_];if(I&&!I.va&&I.capture==h){var N=I.listener,H=I.Va||I.src;I.Pa&&Up(o.v,I),y=N.call(H,g)!==!1&&y}}return y&&!g.defaultPrevented}function Xp(o,a,h){if(w(o))h&&(o=A(o,h));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:c.setTimeout(o,a||0)}function pa(o){var a=null;return new Ze(function(h,g){a=Xp(function(){h(void 0)},o),a==-1&&g(Error("Failed to schedule timer."))}).o(function(h){throw c.clearTimeout(a),h})}function Jw(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(b(o)){for(var a=[],h=o.length,g=0;g<h;g++)a.push(o[g]);return a}a=[],h=0;for(g in o)a[h++]=o[g];return a}function Zw(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(b(o)||typeof o=="string"){var a=[];o=o.length;for(var h=0;h<o;h++)a.push(h);return a}a=[],h=0;for(var g in o)a[h++]=g;return a}}function xP(o,a){if(o.forEach&&typeof o.forEach=="function")o.forEach(a,void 0);else if(b(o)||typeof o=="string")Y(o,a,void 0);else for(var h=Zw(o),g=Jw(o),y=g.length,_=0;_<y;_++)a.call(void 0,g[_],h&&h[_],o)}function ma(o,a){this.b={},this.a=[],this.c=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var g=0;g<h;g+=2)this.set(arguments[g],arguments[g+1])}else if(o)if(o instanceof ma)for(h=o.Y(),g=0;g<h.length;g++)this.set(h[g],o.get(h[g]));else for(g in o)this.set(g,o[g])}e=ma.prototype,e.W=function(){Kp(this);for(var o=[],a=0;a<this.a.length;a++)o.push(this.b[this.a[a]]);return o},e.Y=function(){return Kp(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Kp(o){if(o.c!=o.a.length){for(var a=0,h=0;a<o.a.length;){var g=o.a[a];as(o.b,g)&&(o.a[h++]=g),a++}o.a.length=h}if(o.c!=o.a.length){var y={};for(h=a=0;a<o.a.length;)g=o.a[a],as(y,g)||(o.a[h++]=g,y[g]=1),a++;o.a.length=h}}e.get=function(o,a){return as(this.b,o)?this.b[o]:a},e.set=function(o,a){as(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=a},e.forEach=function(o,a){for(var h=this.Y(),g=0;g<h.length;g++){var y=h[g],_=this.get(y);o.call(a,_,y,this)}};function as(o,a){return Object.prototype.hasOwnProperty.call(o,a)}var e_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function AP(o,a){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var g=o[h].indexOf("="),y=null;if(0<=g){var _=o[h].substring(0,g);y=o[h].substring(g+1)}else _=o[h];a(_,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function ro(o,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var h;o instanceof ro?(this.i=a!==void 0?a:o.i,Hu(this,o.c),this.l=o.l,this.a=o.a,Gu(this,o.g),this.f=o.f,Yp(this,i_(o.b)),this.h=o.h):o&&(h=String(o).match(e_))?(this.i=!!a,Hu(this,h[1]||"",!0),this.l=qu(h[2]||""),this.a=qu(h[3]||"",!0),Gu(this,h[4]),this.f=qu(h[5]||"",!0),Yp(this,h[6]||"",!0),this.h=qu(h[7]||"")):(this.i=!!a,this.b=new us(null,this.i))}ro.prototype.toString=function(){var o=[],a=this.c;a&&o.push(Wu(a,t_,!0),":");var h=this.a;return(h||a=="file")&&(o.push("//"),(a=this.l)&&o.push(Wu(a,t_,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.g,h!=null&&o.push(":",String(h))),(h=this.f)&&(this.a&&h.charAt(0)!="/"&&o.push("/"),o.push(Wu(h,h.charAt(0)=="/"?OP:kP,!0))),(h=this.b.toString())&&o.push("?",h),(h=this.h)&&o.push("#",Wu(h,PP)),o.join("")},ro.prototype.resolve=function(o){var a=new ro(this),h=!!o.c;h?Hu(a,o.c):h=!!o.l,h?a.l=o.l:h=!!o.a,h?a.a=o.a:h=o.g!=null;var g=o.f;if(h)Gu(a,o.g);else if(h=!!o.f){if(g.charAt(0)!="/")if(this.a&&!this.f)g="/"+g;else{var y=a.f.lastIndexOf("/");y!=-1&&(g=a.f.substr(0,y+1)+g)}if(y=g,y==".."||y==".")g="";else if(Pe(y,"./")||Pe(y,"/.")){g=y.lastIndexOf("/",0)==0,y=y.split("/");for(var _=[],I=0;I<y.length;){var N=y[I++];N=="."?g&&I==y.length&&_.push(""):N==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),g&&I==y.length&&_.push("")):(_.push(N),g=!0)}g=_.join("/")}else g=y}return h?a.f=g:h=o.b.toString()!=="",h?Yp(a,i_(o.b)):h=!!o.h,h&&(a.h=o.h),a};function Hu(o,a,h){o.c=h?qu(a,!0):a,o.c&&(o.c=o.c.replace(/:$/,""))}function Gu(o,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);o.g=a}else o.g=null}function Yp(o,a,h){a instanceof us?(o.b=a,RP(o.b,o.i)):(h||(a=Wu(a,NP)),o.b=new us(a,o.i))}function Kt(o,a,h){o.b.set(a,h)}function Mr(o,a){return o.b.get(a)}function tr(o){return o instanceof ro?new ro(o):new ro(o,void 0)}function lf(o,a,h,g){var y=new ro(null,void 0);return o&&Hu(y,o),a&&(y.a=a),h&&Gu(y,h),g&&(y.f=g),y}function qu(o,a){return o?a?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Wu(o,a,h){return typeof o=="string"?(o=encodeURI(o).replace(a,CP),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function CP(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var t_=/[#\/\?@]/g,kP=/[#\?:]/g,OP=/[#\?]/g,NP=/[#\?@]/g,PP=/#/g;function us(o,a){this.b=this.a=null,this.c=o||null,this.f=!!a}function io(o){o.a||(o.a=new ma,o.b=0,o.c&&AP(o.c,function(a,h){o.add(decodeURIComponent(a.replace(/\+/g," ")),h)}))}function n_(o){var a=Zw(o);if(typeof a>"u")throw Error("Keys are undefined");var h=new us(null,void 0);o=Jw(o);for(var g=0;g<a.length;g++){var y=a[g],_=o[g];Array.isArray(_)?r_(h,y,_):h.add(y,_)}return h}e=us.prototype,e.add=function(o,a){io(this),this.c=null,o=ga(this,o);var h=this.a.get(o);return h||this.a.set(o,h=[]),h.push(a),this.b+=1,this};function hi(o,a){io(o),a=ga(o,a),as(o.a.b,a)&&(o.c=null,o.b-=o.a.get(a).length,o=o.a,as(o.b,a)&&(delete o.b[a],o.c--,o.a.length>2*o.c&&Kp(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Qp(o,a){return io(o),a=ga(o,a),as(o.a.b,a)}e.forEach=function(o,a){io(this),this.a.forEach(function(h,g){Y(h,function(y){o.call(a,y,g,this)},this)},this)},e.Y=function(){io(this);for(var o=this.a.W(),a=this.a.Y(),h=[],g=0;g<a.length;g++)for(var y=o[g],_=0;_<y.length;_++)h.push(a[g]);return h},e.W=function(o){io(this);var a=[];if(typeof o=="string")Qp(this,o)&&(a=oe(a,this.a.get(ga(this,o))));else{o=this.a.W();for(var h=0;h<o.length;h++)a=oe(a,o[h])}return a},e.set=function(o,a){return io(this),this.c=null,o=ga(this,o),Qp(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[a]),this.b+=1,this},e.get=function(o,a){return o?(o=this.W(o),0<o.length?String(o[0]):a):a};function r_(o,a,h){hi(o,a),0<h.length&&(o.c=null,o.a.set(ga(o,a),ue(h)),o.b+=h.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],a=this.a.Y(),h=0;h<a.length;h++){var g=a[h],y=encodeURIComponent(String(g));g=this.W(g);for(var _=0;_<g.length;_++){var I=y;g[_]!==""&&(I+="="+encodeURIComponent(String(g[_]))),o.push(I)}}return this.c=o.join("&")};function i_(o){var a=new us;return a.c=o.c,o.a&&(a.a=new ma(o.a),a.b=o.b),a}function ga(o,a){return a=String(a),o.f&&(a=a.toLowerCase()),a}function RP(o,a){a&&!o.f&&(io(o),o.c=null,o.a.forEach(function(h,g){var y=g.toLowerCase();g!=y&&(hi(this,g),r_(this,y,h))},o)),o.f=a}function o_(o){var a=[];return Jp(new DP,o,a),a.join("")}function DP(){}function Jp(o,a,h){if(a==null)h.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var g=a;a=g.length,h.push("[");for(var y="",_=0;_<a;_++)h.push(y),Jp(o,g[_],h),y=",";h.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{h.push("{"),y="";for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&(_=a[g],typeof _!="function"&&(h.push(y),a_(g,h),h.push(":"),Jp(o,_,h),y=","));h.push("}");return}}switch(typeof a){case"string":a_(a,h);break;case"number":h.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":h.push(String(a));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var s_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},MP=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function a_(o,a){a.push('"',o.replace(MP,function(h){var g=s_[h];return g||(g="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),s_[h]=g),g}),'"')}function Zp(){var o=_n();return Wr&&!!no&&no==11||/Edge\/\d+/.test(o)}function Xu(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function u_(o,a){a=a||c.window;var h="about:blank";o&&(h=Jc(gw(o)||yw)),a.location.href=h}function l_(o,a){var h=[],g;for(g in o)g in a?typeof o[g]!=typeof a[g]?h.push(g):typeof o[g]=="object"&&o[g]!=null&&a[g]!=null?0<l_(o[g],a[g]).length&&h.push(g):o[g]!==a[g]&&h.push(g):h.push(g);for(g in a)g in o||h.push(g);return h}function LP(){var o=_n();return o=va(o)!=d_?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Wr||!no||9<no}function c_(o){return o=(o||_n()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function ls(o){o=o||c.window;try{o.close()}catch{}}function f_(o,a,h){var g=Math.floor(1e9*Math.random()).toString();a=a||500,h=h||600;var y=(window.screen.availHeight-h)/2,_=(window.screen.availWidth-a)/2;a={width:a,height:h,top:0<y?y:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},h=_n().toLowerCase(),g&&(a.target=g,Pe(h,"crios/")&&(a.target="_blank")),va(_n())==nm&&(o=o||"http://localhost",a.scrollbars=!0),h=o||"",(o=a)||(o={}),g=window,a=h instanceof Zn?h:gw(typeof h.href<"u"?h.href:String(h))||yw,h=o.target||h.target,y=[];for(I in o)switch(I){case"width":case"height":case"top":case"left":y.push(I+"="+o[I]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(I+"="+(o[I]?1:0))}var I=y.join(",");if((ye("iPhone")&&!ye("iPod")&&!ye("iPad")||ye("iPad")||ye("iPod"))&&g.navigator&&g.navigator.standalone&&h&&h!="_self"?(I=ef(document,"A"),It(I,"HTMLAnchorElement"),a=a instanceof Zn?a:vw(a),I.href=Jc(a),I.setAttribute("target",h),o.noreferrer&&I.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,g,1),I.dispatchEvent(o),I={}):o.noreferrer?(I=ww("",g,h,I),o=Jc(a),I&&(sP&&Pe(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),I.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Op(o)+'">',o=(g=ju())?g.createHTML(o):o,o=new ha(o,null,bw),g=I.document)&&(g.write(nP(o)),g.close())):(I=ww(a,g,h,I))&&o.noopener&&(I.opener=null),I)try{I.focus()}catch{}return I}function VP(o){return new Ze(function(a){function h(){pa(2e3).then(function(){if(!o||o.closed)a();else return h()})}return h()})}var FP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jP=/^[^@]+@[^@]+$/;function cf(){var o=null;return new Ze(function(a){c.document.readyState=="complete"?a():(o=function(){a()},Hp(window,"load",o))}).o(function(a){throw pr(window,"load",o),a})}function UP(){return em(void 0)?cf().then(function(){return new Ze(function(o,a){var h=c.document,g=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);h.addEventListener("deviceready",function(){clearTimeout(g),o()},!1)})}):Vt(Error("Cordova must run in an Android or iOS file scheme."))}function em(o){return o=o||_n(),!(ba()!=="file:"&&ba()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function tm(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function Xr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function di(){return Ae.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ae.INTERNAL.hasOwnProperty("node")?"Node":Xr()?"Worker":"Browser"}function h_(){var o=di();return o==="ReactNative"||o==="Node"}function $P(){for(var o=50,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}var nm="Firefox",d_="Chrome";function va(o){var a=o.toLowerCase();if(Pe(a,"opera/")||Pe(a,"opr/")||Pe(a,"opios/"))return"Opera";if(Pe(a,"iemobile"))return"IEMobile";if(Pe(a,"msie")||Pe(a,"trident/"))return"IE";if(Pe(a,"edge/"))return"Edge";if(Pe(a,"firefox/"))return nm;if(Pe(a,"silk/"))return"Silk";if(Pe(a,"blackberry"))return"Blackberry";if(Pe(a,"webos"))return"Webos";if(!Pe(a,"safari/")||Pe(a,"chrome/")||Pe(a,"crios/")||Pe(a,"android"))if(!Pe(a,"chrome/")&&!Pe(a,"crios/")||Pe(a,"edge/")){if(Pe(a,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return d_;else return"Safari";return"Other"}var p_={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ya(o,a){a=a||[];var h=[],g={},y;for(y in p_)g[p_[y]]=!0;for(y=0;y<a.length;y++)typeof g[a[y]]<"u"&&(delete g[a[y]],h.push(a[y]));return h.sort(),a=h,a.length||(a=["FirebaseCore-web"]),h=di(),h==="Browser"?(g=_n(),h=va(g)):h==="Worker"&&(g=_n(),h=va(g)+"-"+h),h+"/JsCore/"+o+"/"+a.join(",")}function _n(){return c.navigator&&c.navigator.userAgent||""}function Ft(o,a){o=o.split("."),a=a||c;for(var h=0;h<o.length&&typeof a=="object"&&a!=null;h++)a=a[o[h]];return h!=o.length&&(a=void 0),a}function rm(){try{var o=c.localStorage,a=fs();if(o)return o.setItem(a,"1"),o.removeItem(a),Zp()?!!c.indexedDB:!0}catch{return Xr()&&!!c.indexedDB}return!1}function cs(){return(ff()||ba()==="chrome-extension:"||em())&&!h_()&&rm()&&!Xr()}function ff(){return ba()==="http:"||ba()==="https:"}function ba(){return c.location&&c.location.protocol||null}function Ku(o){return o=o||_n(),!(c_(o)||va(o)==nm)}function Yu(o){return typeof o>"u"?null:o_(o)}function m_(o){var a={},h;for(h in o)o.hasOwnProperty(h)&&o[h]!==null&&o[h]!==void 0&&(a[h]=o[h]);return a}function wa(o){if(o!==null)return JSON.parse(o)}function fs(o){return o||Math.floor(1e9*Math.random()).toString()}function g_(o){return o=o||_n(),!(va(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function v_(){var o=c.___jsl;if(o&&o.H){for(var a in o.H)if(o.H[a].r=o.H[a].r||[],o.H[a].L=o.H[a].L||[],o.H[a].r=o.H[a].L.concat(),o.CP)for(var h=0;h<o.CP.length;h++)o.CP[h]=null}}function oo(o,a){if(o>a)throw Error("Short delay should be less than long delay!");this.a=o,this.c=a,o=_n(),a=di(),this.b=c_(o)||a==="ReactNative"}oo.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(ff()||ba()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function im(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function BP(){var o=c.document,a=null;return im()||!o?Le():new Ze(function(h){a=function(){im()&&(o.removeEventListener("visibilitychange",a,!1),h())},o.addEventListener("visibilitychange",a,!1)}).o(function(h){throw o.removeEventListener("visibilitychange",a,!1),h})}function Qu(o){try{var a=new Date(parseInt(o,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(o))return a.toUTCString()}catch{}return null}function y_(){return!(!Ft("fireauth.oauthhelper",c)&&!Ft("fireauth.iframe",c))}function zP(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function HP(){var o=c.navigator;return o&&o.serviceWorker?Le().then(function(){return o.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Le(null)}var b_={};function om(o){b_[o]||(b_[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var sm;try{var am={};Object.defineProperty(am,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(am,"abcd",{configurable:!0,enumerable:!0,value:2}),sm=am.abcd==2}catch{sm=!1}function Te(o,a,h){sm?Object.defineProperty(o,a,{configurable:!0,enumerable:!0,value:h}):o[a]=h}function Un(o,a){if(a)for(var h in a)a.hasOwnProperty(h)&&Te(o,h,a[h])}function pi(o){var a={};return Un(a,o),a}function GP(o){var a={},h;for(h in o)o.hasOwnProperty(h)&&(a[h]=o[h]);return a}function qP(o,a){if(!a||!a.length)return!0;if(!o)return!1;for(var h=0;h<a.length;h++){var g=o[a[h]];if(g==null||g==="")return!1}return!0}function um(o){var a=o;if(typeof o=="object"&&o!=null){a="length"in o?[]:{};for(var h in o)Te(a,h,um(o[h]))}return a}function lm(o){var a=o&&(o[dm]?"phone":null);if(a&&o&&o[hm]){Te(this,"uid",o[hm]),Te(this,"displayName",o[w_]||null);var h=null;o[fm]&&(h=new Date(o[fm]).toUTCString()),Te(this,"enrollmentTime",h),Te(this,"factorId",a)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}lm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function cm(o){try{var a=new Ju(o)}catch{a=null}return a}var w_="displayName",fm="enrolledAt",hm="mfaEnrollmentId",dm="phoneInfo";function Ju(o){lm.call(this,o),Te(this,"phoneNumber",o[dm])}P(Ju,lm),Ju.prototype.w=function(){var o=Ju.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function WP(o){var a={},h=o[XP],g=o[YP],y=o[QP];if(o=cm(o[KP]),!y||y!=hf&&y!=Zu&&!h||y==Zu&&!g||y==pm&&!o)throw Error("Invalid checkActionCode response!");y==Zu?(a[S_]=h||null,a[E_]=h||null,a[__]=g):(a[S_]=g||null,a[E_]=g||null,a[__]=h||null),a[JP]=o||null,Te(this,eR,y),Te(this,ZP,um(a))}var pm="REVERT_SECOND_FACTOR_ADDITION",hf="EMAIL_SIGNIN",Zu="VERIFY_AND_CHANGE_EMAIL",XP="email",KP="mfaInfo",YP="newEmail",QP="requestType",__="email",S_="fromEmail",JP="multiFactorInfo",E_="previousEmail",ZP="data",eR="operation";function mm(o){o=tr(o);var a=Mr(o,T_)||null,h=Mr(o,I_)||null,g=Mr(o,x_)||null;if(g=g&&iR[g]||null,!a||!h||!g)throw new k("argument-error",T_+", "+I_+"and "+x_+" are required in a valid action code URL.");Un(this,{apiKey:a,operation:g,code:h,continueUrl:Mr(o,tR)||null,languageCode:Mr(o,nR)||null,tenantId:Mr(o,rR)||null})}var T_="apiKey",I_="oobCode",tR="continueUrl",nR="languageCode",x_="mode",rR="tenantId",iR={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:pm,signIn:hf,verifyAndChangeEmail:Zu,verifyEmail:"VERIFY_EMAIL"};function A_(o){try{return new mm(o)}catch{return null}}function df(o){var a=o[oR];if(typeof a>"u")throw new k("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new k("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var h=o[C_];if(h&&typeof h=="object"){a=h[R_];var g=h[N_];if(h=h[P_],typeof a=="string"&&a.length){if(this.a=a,typeof g<"u"&&typeof g!="boolean")throw new k("argument-error",N_+" property must be a boolean when specified.");if(this.g=!!g,typeof h<"u"&&(typeof h!="string"||typeof h=="string"&&!h.length))throw new k("argument-error",P_+" property must be a non empty string when specified.");this.b=h||null}else{if(typeof a<"u")throw new k("argument-error",R_+" property must be a non empty string when specified.");if(typeof g<"u"||typeof h<"u")throw new k("missing-android-pkg-name")}}else if(typeof h<"u")throw new k("argument-error",C_+" property must be a non null object when specified.");if(this.f=null,(a=o[O_])&&typeof a=="object"){if(a=a[D_],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new k("argument-error",D_+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new k("argument-error",O_+" property must be a non null object when specified.");if(a=o[gm],typeof a<"u"&&typeof a!="boolean")throw new k("argument-error",gm+" property must be a boolean when specified.");if(this.c=!!a,o=o[k_],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new k("argument-error",k_+" property must be a non empty string when specified.");this.i=o||null}var C_="android",k_="dynamicLinkDomain",gm="handleCodeInApp",O_="iOS",oR="url",N_="installApp",P_="minimumVersion",R_="packageName",D_="bundleId";function pf(o){var a={};a.continueUrl=o.h,a.canHandleCodeInApp=o.c,(a.androidPackageName=o.a)&&(a.androidMinimumVersion=o.b,a.androidInstallApp=o.g),a.iOSBundleId=o.f,a.dynamicLinkDomain=o.i;for(var h in a)a[h]===null&&delete a[h];return a}function sR(o){return gt(o,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var el=null;function aR(o){var a=[];return uR(o,function(h){a.push(h)}),a}function uR(o,a){function h(H){for(;g<o.length;){var Q=o.charAt(g++),$e=el[Q];if($e!=null)return $e;if(!/^[\s\xa0]*$/.test(Q))throw Error("Unknown base64 encoding at char: "+Q)}return H}lR();for(var g=0;;){var y=h(-1),_=h(0),I=h(64),N=h(64);if(N===64&&y===-1)break;a(y<<2|_>>4),I!=64&&(a(_<<4&240|I>>2),N!=64&&a(I<<6&192|N))}}function lR(){if(!el){el={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],h=0;5>h;h++)for(var g=o.concat(a[h].split("")),y=0;y<g.length;y++){var _=g[y];el[_]===void 0&&(el[_]=y)}}}function mf(o){var a=M_(o);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=o,this.a=a.exp,this.i=a.sub,o=Date.now()/1e3,this.g=a.iat||(o>this.a?this.a:o),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}mf.prototype.T=function(){return this.f},mf.prototype.l=function(){return this.c},mf.prototype.toString=function(){return this.h};function gf(o){try{return new mf(o)}catch{return null}}function M_(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var a=(4-o.length%4)%4,h=0;h<a;h++)o+=".";try{var g=aR(o);for(o=[],h=a=0;a<g.length;){var y=g[a++];if(128>y)o[h++]=String.fromCharCode(y);else if(191<y&&224>y){var _=g[a++];o[h++]=String.fromCharCode((y&31)<<6|_&63)}else if(239<y&&365>y){_=g[a++];var I=g[a++],N=g[a++],H=((y&7)<<18|(_&63)<<12|(I&63)<<6|N&63)-65536;o[h++]=String.fromCharCode(55296+(H>>10)),o[h++]=String.fromCharCode(56320+(H&1023))}else _=g[a++],I=g[a++],o[h++]=String.fromCharCode((y&15)<<12|(_&63)<<6|I&63)}return JSON.parse(o.join(""))}catch{}return null}var L_="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),vf=["client_id","response_type","scope","redirect_uri","state"],vm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:vf},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:vf},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:vf},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:L_},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function ym(o){for(var a in vm)if(vm[a].fa==o)return vm[a];return null}function V_(o){var a={};a["facebook.com"]=j_,a["google.com"]=$_,a["github.com"]=U_,a["twitter.com"]=B_;var h=o&&o[F_];try{if(h)return a[h]?new a[h](o):new mi(o);if(typeof o[bm]<"u")return new wm(o)}catch{}return null}var bm="idToken",F_="providerId";function wm(o){var a=o[F_];if(!a&&o[bm]){var h=gf(o[bm]);h&&h.b&&(a=h.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),h=!1,typeof o.isNewUser<"u"?h=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(h=!0),Te(this,"providerId",a),Te(this,"isNewUser",h)}function mi(o){wm.call(this,o),o=wa(o.rawUserInfo||"{}"),Te(this,"profile",um(o||{}))}P(mi,wm);function j_(o){if(mi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}P(j_,mi);function U_(o){if(mi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Te(this,"username",this.profile&&this.profile.login||null)}P(U_,mi);function $_(o){if(mi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}P($_,mi);function B_(o){if(mi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Te(this,"username",o.screenName||null)}P(B_,mi);function z_(o){var a=tr(o),h=Mr(a,"link"),g=Mr(tr(h),"link");return a=Mr(a,"deep_link_id"),Mr(tr(a),"link")||a||g||h||o}function yf(o,a){if(!o&&!a)throw new k("internal-error","Internal assert: no raw session string available");if(o&&a)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=a||null,this.type=this.a?tl:bf}var tl="enroll",bf="signin";yf.prototype.Ha=function(){return this.a?Le(this.a):Le(this.b)},yf.prototype.w=function(){return this.type==tl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function _a(){}_a.prototype.ka=function(){},_a.prototype.b=function(){},_a.prototype.c=function(){},_a.prototype.w=function(){};function Sa(o,a){return o.then(function(h){if(h[Qr]){var g=gf(h[Qr]);if(!g||a!=g.i)throw new k("user-mismatch");return h}throw new k("user-mismatch")}).o(function(h){throw h&&h.code&&h.code==K+"user-not-found"?new k("user-mismatch"):h})}function hs(o,a){if(a)this.a=a;else throw new k("internal-error","failed to construct a credential");Te(this,"providerId",o),Te(this,"signInMethod",o)}hs.prototype.ka=function(o){return Hm(o,_m(this))},hs.prototype.b=function(o,a){var h=_m(this);return h.idToken=a,Gm(o,h)},hs.prototype.c=function(o,a){return Sa(qm(o,_m(this)),a)};function _m(o){return{pendingToken:o.a,requestUri:"http://localhost"}}hs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function cR(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new hs(o.providerId,o.pendingToken)}catch{}return null}function Li(o,a,h){if(this.a=null,a.idToken||a.accessToken)a.idToken&&Te(this,"idToken",a.idToken),a.accessToken&&Te(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&Te(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)Te(this,"accessToken",a.oauthToken),Te(this,"secret",a.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");Te(this,"providerId",o),Te(this,"signInMethod",h)}Li.prototype.ka=function(o){return Hm(o,Sm(this))},Li.prototype.b=function(o,a){var h=Sm(this);return h.idToken=a,Gm(o,h)},Li.prototype.c=function(o,a){var h=Sm(this);return Sa(qm(o,h),a)};function Sm(o){var a={};return o.idToken&&(a.id_token=o.idToken),o.accessToken&&(a.access_token=o.accessToken),o.secret&&(a.oauth_token_secret=o.secret),a.providerId=o.providerId,o.nonce&&!o.a&&(a.nonce=o.nonce),a={postBody:n_(a).toString(),requestUri:"http://localhost"},o.a&&(delete a.postBody,a.pendingToken=o.a),a}Li.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function fR(o){if(o&&o.providerId&&o.signInMethod){var a={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Li(o.providerId,a,o.signInMethod)}catch{}}return null}function ds(o,a){this.Qc=a||[],Un(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(ym(o)||{}).Ja||null,this.ob=null}ds.prototype.Ka=function(o){return this.Ib=qe(o),this};function H_(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');ds.call(this,o,[])}P(H_,ds);function mr(o){ds.call(this,o,vf),this.a=[]}P(mr,ds),mr.prototype.Ca=function(o){return j(this.a,o)||this.a.push(o),this},mr.prototype.Qb=function(){return ue(this.a)},mr.prototype.credential=function(o,a){var h;if(S(o)?h={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:h={idToken:o||null,accessToken:a||null},!h.idToken&&!h.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Li(this.providerId,h,this.providerId)};function ps(){mr.call(this,"facebook.com")}P(ps,mr),Te(ps,"PROVIDER_ID","facebook.com"),Te(ps,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function G_(o){if(!o)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return S(o)&&(a=o.accessToken),new ps().credential({accessToken:a})}function ms(){mr.call(this,"github.com")}P(ms,mr),Te(ms,"PROVIDER_ID","github.com"),Te(ms,"GITHUB_SIGN_IN_METHOD","github.com");function q_(o){if(!o)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=o;return S(o)&&(a=o.accessToken),new ms().credential({accessToken:a})}function gs(){mr.call(this,"google.com"),this.Ca("profile")}P(gs,mr),Te(gs,"PROVIDER_ID","google.com"),Te(gs,"GOOGLE_SIGN_IN_METHOD","google.com");function W_(o,a){var h=o;return S(o)&&(h=o.idToken,a=o.accessToken),new gs().credential({idToken:h,accessToken:a})}function Ea(){ds.call(this,"twitter.com",L_)}P(Ea,ds),Te(Ea,"PROVIDER_ID","twitter.com"),Te(Ea,"TWITTER_SIGN_IN_METHOD","twitter.com");function X_(o,a){var h=o;if(S(h)||(h={oauthToken:o,oauthTokenSecret:a}),!h.oauthToken||!h.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Li("twitter.com",h,"twitter.com")}function so(o,a,h){this.a=o,this.f=a,Te(this,"providerId","password"),Te(this,"signInMethod",h===Lr.EMAIL_LINK_SIGN_IN_METHOD?Lr.EMAIL_LINK_SIGN_IN_METHOD:Lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}so.prototype.ka=function(o){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?nt(o,KR,{email:this.a,oobCode:this.f}):nt(o,S1,{email:this.a,password:this.f})},so.prototype.b=function(o,a){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?nt(o,YR,{idToken:a,email:this.a,oobCode:this.f}):nt(o,_1,{idToken:a,email:this.a,password:this.f})},so.prototype.c=function(o,a){return Sa(this.ka(o),a)},so.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function hR(o){return o&&o.email&&o.password?new so(o.email,o.password,o.signInMethod):null}function Lr(){Un(this,{providerId:"password",isOAuthProvider:!1})}function K_(o,a){if(a=Em(a),!a)throw new k("argument-error","Invalid email link!");return new so(o,a.code,Lr.EMAIL_LINK_SIGN_IN_METHOD)}function Em(o){return o=z_(o),(o=A_(o))&&o.operation===hf?o:null}Un(Lr,{PROVIDER_ID:"password"}),Un(Lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Un(Lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ao(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new k("internal-error");this.a=o,Te(this,"providerId","phone"),this.fa="phone",Te(this,"signInMethod","phone")}ao.prototype.ka=function(o){return o.fb(nl(this))},ao.prototype.b=function(o,a){var h=nl(this);return h.idToken=a,nt(o,gD,h)},ao.prototype.c=function(o,a){var h=nl(this);return h.operation="REAUTH",o=nt(o,vD,h),Sa(o,a)},ao.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function dR(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var a={};return Y(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(h){o[h]&&(a[h]=o[h])}),new ao(a)}return null}function nl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function Vi(o){try{this.a=o||Ae.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Un(this,{providerId:"phone",isOAuthProvider:!1})}Vi.prototype.fb=function(o,a){var h=this.a.a;return Le(a.verify()).then(function(g){if(typeof g!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var y=S(o)?o.session:null,_=S(o)?o.phoneNumber:o,I;return y&&y.type==tl?I=y.Ha().then(function(N){return UR(h,{idToken:N,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:g}})}):y&&y.type==bf?I=y.Ha().then(function(N){return $R(h,{mfaPendingCredential:N,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:g}})}):I=jR(h,{phoneNumber:_,recaptchaToken:g}),I.then(function(N){return typeof a.reset=="function"&&a.reset(),N},function(N){throw typeof a.reset=="function"&&a.reset(),N});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Y_(o,a){if(!o)throw new k("missing-verification-id");if(!a)throw new k("missing-verification-code");return new ao({eb:o,cb:a})}Un(Vi,{PROVIDER_ID:"phone"}),Un(Vi,{PHONE_SIGN_IN_METHOD:"phone"});function Tm(o){if(o.temporaryProof&&o.phoneNumber)return new ao({La:o.temporaryProof,ea:o.phoneNumber});var a=o&&o.providerId;if(!a||a==="password")return null;var h=o&&o.oauthAccessToken,g=o&&o.oauthTokenSecret,y=o&&o.nonce,_=o&&o.oauthIdToken,I=o&&o.pendingToken;try{switch(a){case"google.com":return W_(_,h);case"facebook.com":return G_(h);case"github.com":return q_(h);case"twitter.com":return X_(h,g);default:return h||g||_||I?I?a.indexOf("saml.")==0?new hs(a,I):new Li(a,{pendingToken:I,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},a):new mr(a).credential({idToken:_,accessToken:h,rawNonce:y}):null}}catch{return null}}function Im(o){if(!o.isOAuthProvider)throw new k("invalid-oauth-provider")}function Kr(o,a,h,g,y,_,I){if(this.c=o,this.b=a||null,this.g=h||null,this.f=g||null,this.i=_||null,this.h=I||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}Kr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Kr.prototype.T=function(){return this.h},Kr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Q_(o){return o=o||{},o.type?new Kr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&q(o.error),o.postBody,o.tenantId):null}function pR(){this.b=null,this.a=[]}var xm=null;function mR(o){var a=xm;a.a.push(o),a.b||(a.b=function(h){for(var g=0;g<a.a.length;g++)a.a[g](h)},o=Ft("universalLinks.subscribe",c),typeof o=="function"&&o(null,a.b))}function Am(o){var a="unauthorized-domain",h=void 0,g=tr(o);o=g.a,g=g.c,g=="chrome-extension"?h=_w("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):g=="http"||g=="https"?h=_w("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):a="operation-not-supported-in-this-environment",k.call(this,a,h)}P(Am,k);function rl(o,a,h){k.call(this,o,h),o=a||{},o.Jb&&Te(this,"email",o.Jb),o.ea&&Te(this,"phoneNumber",o.ea),o.credential&&Te(this,"credential",o.credential),o.Zb&&Te(this,"tenantId",o.Zb)}P(rl,k),rl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&lt(o,a),o},rl.prototype.toJSON=function(){return this.w()};function wf(o){if(o.code){var a=o.code||"";a.indexOf(K)==0&&(a=a.substring(K.length));var h={credential:Tm(o),Zb:o.tenantId};if(o.email)h.Jb=o.email;else if(o.phoneNumber)h.ea=o.phoneNumber;else if(!h.credential)return new k(a,o.message||void 0);return new rl(a,h,o.message)}return null}function il(){}il.prototype.c=null;function J_(o){return o.c||(o.c=o.b())}var Cm;function _f(){}P(_f,il),_f.prototype.a=function(){var o=Z_(this);return o?new ActiveXObject(o):new XMLHttpRequest},_f.prototype.b=function(){var o={};return Z_(this)&&(o[0]=!0,o[1]=!0),o};function Z_(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],h=0;h<a.length;h++){var g=a[h];try{return new ActiveXObject(g),o.f=g}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Cm=new _f;function Sf(){}P(Sf,il),Sf.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new e1;throw Error("Unsupported browser")},Sf.prototype.b=function(){return{}};function e1(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=A(this.qc,this),this.a.onerror=A(this.Sb,this),this.a.onprogress=A(this.rc,this),this.a.ontimeout=A(this.vc,this)}e=e1.prototype,e.open=function(o,a,h){if(h!=null&&!h)throw Error("Only async requests are supported.");this.a.open(o,a)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,km(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",km(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,km(this,1)};function km(o,a){o.readyState=a,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Om(o,a,h){this.reset(o,a,h,void 0,void 0)}Om.prototype.a=null,Om.prototype.reset=function(o,a,h,g,y){delete this.a};function Nm(o){this.f=o,this.b=this.c=this.a=null}function ol(o,a){this.name=o,this.value=a}ol.prototype.toString=function(){return this.name};var t1=new ol("SEVERE",1e3),Pm=new ol("WARNING",900),gR=new ol("CONFIG",700),vR=new ol("FINE",500);function n1(o){return o.c?o.c:o.a?n1(o.a):(Ot("Root logger has no level set."),null)}Nm.prototype.log=function(o,a,h){if(o.value>=n1(this).value)for(w(a)&&(a=a()),o=new Om(o,String(a),this.f),h&&(o.a=h),h=this;h;)h=h.a};var Rm={},Ef=null;function Dm(o){Ef||(Ef=new Nm(""),Rm[""]=Ef,Ef.c=gR);var a;if(!(a=Rm[o])){a=new Nm(o);var h=o.lastIndexOf("."),g=o.substr(h+1);h=Dm(o.substr(0,h)),h.b||(h.b={}),h.b[g]=a,a.a=h,Rm[o]=a}return a}function Vr(o,a){o&&o.log(vR,a,void 0)}function Tf(o){this.f=o}P(Tf,il),Tf.prototype.a=function(){return new If(this.f)},Tf.prototype.b=function(o){return function(){return o}}({});function If(o){jn.call(this),this.u=o,this.h=void 0,this.readyState=Mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Dm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(If,jn);var Mm=0;e=If.prototype,e.open=function(o,a){if(this.readyState!=Mm)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=a,this.readyState=1,al(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(a.body=o),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,sl(this)),this.readyState=Mm},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,al(this)),this.a&&(this.readyState=3,al(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,r1(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function r1(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var a=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});a&&(this.response=this.responseText+=a),o.done?sl(this):al(this),this.readyState==3&&r1(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,sl(this))},e.sc=function(o){this.a&&(this.response=o,sl(this))},e.Ua=function(o){var a=this.i;a&&a.log(Pm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&sl(this)};function sl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,al(o)}e.setRequestHeader=function(o,a){this.l.append(o,a)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Pm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Pm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var a=this.b.entries(),h=a.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=a.next();return o.join(`\r
`)};function al(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(If.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function ul(o){jn.call(this),this.headers=new ma,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=i1,this.u=this.S=!1}P(ul,jn);var i1="";ul.prototype.b=Dm("goog.net.XhrIo");var yR=/^https?$/i,bR=["POST","PUT"];function wR(o,a,h,g,y){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+a);h=h?h.toUpperCase():"GET",o.l=a,o.h="",o.R=h,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Cm.a(),o.C=o.D?J_(o.D):J_(Cm),o.a.onreadystatechange=A(o.Vb,o);try{Vr(o.b,Fi(o,"Opening Xhr")),o.O=!0,o.a.open(h,String(a),!0),o.O=!1}catch(I){Vr(o.b,Fi(o,"Error opening Xhr: "+I.message)),o1(o,I);return}a=g||"";var _=new ma(o.headers);y&&xP(y,function(I,N){_.set(N,I)}),y=R(_.Y()),g=c.FormData&&a instanceof c.FormData,!j(bR,h)||y||g||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(I,N){this.a.setRequestHeader(N,I)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{u1(o),0<o.g&&(o.u=_R(o.a),Vr(o.b,Fi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=A(o.Ma,o)):o.s=Xp(o.Ma,o.g,o)),Vr(o.b,Fi(o,"Sending request")),o.i=!0,o.a.send(a),o.i=!1}catch(I){Vr(o.b,Fi(o,"Send error: "+I.message)),o1(o,I)}}function _R(o){return Wr&&Iw(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function SR(o){return o.toLowerCase()=="content-type"}e=ul.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Vr(this.b,Fi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function o1(o,a){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=a,s1(o),xf(o)}function s1(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Vr(this.b,Fi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xf(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xf(this,!0)),ul.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?a1(this):this.Jc())},e.Jc=function(){a1(this)};function a1(o){if(o.c&&typeof l<"u"){if(o.C[1]&&ll(o)==4&&Af(o)==2)Vr(o.b,Fi(o,"Local request error detected and ignored"));else if(o.i&&ll(o)==4)Xp(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),ll(o)==4){Vr(o.b,Fi(o,"Request complete")),o.c=!1;try{var a=Af(o);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var y;if(y=a===0){var _=String(o.l).match(e_)[1]||null;if(!_&&c.self&&c.self.location){var I=c.self.location.protocol;_=I.substr(0,I.length-1)}y=!yR.test(_?_.toLowerCase():"")}g=y}if(g)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var N=2<ll(o)?o.a.statusText:""}catch(H){Vr(o.b,"Can not get status: "+H.message),N=""}o.h=N+" ["+Af(o)+"]",s1(o)}}finally{xf(o)}}}}function xf(o,a){if(o.a){u1(o);var h=o.a,g=o.C[0]?m:null;o.a=null,o.C=null,a||o.dispatchEvent("ready");try{h.onreadystatechange=g}catch(y){(o=o.b)&&o.log(t1,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function u1(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function ll(o){return o.a?o.a.readyState:0}function Af(o){try{return 2<ll(o)?o.a.status:-1}catch{return-1}}function ER(o){try{return o.a?o.a.responseText:""}catch(a){return Vr(o.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case i1:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(t1,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Vr(this.b,"Can not get response: "+a.message),null}};function Fi(o,a){return a+" ["+o.R+" "+o.l+" "+Af(o)+"]"}function vs(o){var a=xR;this.g=[],this.u=a,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}vs.prototype.cancel=function(o){if(this.a)this.c instanceof vs&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,o?a.cancel(o):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new fl,Cf(this),cl(this,!1,o))}},vs.prototype.m=function(o,a){this.i=!1,cl(this,o,a)};function cl(o,a,h){o.a=!0,o.c=h,o.f=!a,c1(o)}function Cf(o){if(o.a){if(!o.v)throw new kf;o.v=!1}}function TR(o,a){Lm(o,null,a,void 0)}function Lm(o,a,h,g){o.g.push([a,h,g]),o.a&&c1(o)}vs.prototype.then=function(o,a,h){var g,y,_=new Ze(function(I,N){g=I,y=N});return Lm(this,g,function(I){I instanceof fl?_.cancel():y(I)}),_.then(o,a,h)},vs.prototype.$goog_Thenable=!0;function l1(o){return O(o.g,function(a){return w(a[1])})}function c1(o){if(o.h&&o.a&&l1(o)){var a=o.h,h=Of[a];h&&(c.clearTimeout(h.a),delete Of[a]),o.h=0}o.b&&(o.b.l--,delete o.b),a=o.c;for(var g=h=!1;o.g.length&&!o.i;){var y=o.g.shift(),_=y[0],I=y[1];if(y=y[2],_=o.f?I:_)try{var N=_.call(y||o.s,a);N!==void 0&&(o.f=o.f&&(N==a||N instanceof Error),o.c=a=N),(Ve(a)||typeof c.Promise=="function"&&a instanceof c.Promise)&&(g=!0,o.i=!0)}catch(H){a=H,o.f=!0,l1(o)||(h=!0)}}o.c=a,g&&(N=A(o.m,o,!0),g=A(o.m,o,!1),a instanceof vs?(Lm(a,N,g),a.C=!0):a.then(N,g)),h&&(a=new f1(a),Of[a.a]=a,o.h=a.a)}function kf(){Je.call(this)}P(kf,Je),kf.prototype.message="Deferred has already fired",kf.prototype.name="AlreadyCalledError";function fl(){Je.call(this)}P(fl,Je),fl.prototype.message="Deferred was canceled",fl.prototype.name="CanceledError";function f1(o){this.a=c.setTimeout(A(this.c,this),0),this.b=o}f1.prototype.c=function(){throw delete Of[this.a],this.b};var Of={};function Vm(o){var a={},h=a.document||document,g=fa(o).toString(),y=ef(document,"SCRIPT"),_={Wb:y,Ma:void 0},I=new vs(_),N=null,H=a.timeout!=null?a.timeout:5e3;return 0<H&&(N=window.setTimeout(function(){Nf(y,!0);var Q=new Fm(CR,"Timeout reached for loading script "+g);Cf(I),cl(I,!1,Q)},H),_.Ma=N),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(Nf(y,a.xd||!1,N),Cf(I),cl(I,!0,null))},y.onerror=function(){Nf(y,!0,N);var Q=new Fm(AR,"Error while loading script "+g);Cf(I),cl(I,!1,Q)},_=a.attributes||{},lt(_,{type:"text/javascript",charset:"UTF-8"}),Aw(y,_),rP(y,o),IR(h).appendChild(y),I}function IR(o){var a;return(a=(o||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:o.documentElement}function xR(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&Nf(o,!0,this.Ma)}}function Nf(o,a,h){h!=null&&c.clearTimeout(h),o.onload=m,o.onerror=m,o.onreadystatechange=m,a&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var AR=0,CR=1;function Fm(o,a){var h="Jsloader error (code #"+o+")";a&&(h+=": "+a),Je.call(this,h),this.code=o}P(Fm,Je);function Pf(o){this.f=o}P(Pf,il),Pf.prototype.a=function(){return new this.f},Pf.prototype.b=function(){return{}};function Yr(o,a,h){if(this.c=o,o=a||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||kR,this.g=qe(o.secureTokenHeaders||OR),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||NR,this.a=qe(o.firebaseHeaders||PR),h&&(this.a["X-Client-Version"]=h,this.g["X-Client-Version"]=h),h=di()=="Node",h=c.XMLHttpRequest||h&&Ae.INTERNAL.node&&Ae.INTERNAL.node.XMLHttpRequest,!h&&!Xr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Xr()?this.f=new Tf(self):h_()?this.f=new Pf(h):this.f=new Sf,this.b=null}var jm,Qr="idToken",kR=new oo(3e4,6e4),OR={"Content-Type":"application/x-www-form-urlencoded"},NR=new oo(3e4,6e4),PR={"Content-Type":"application/json"};function h1(o,a){a?o.a["X-Firebase-Locale"]=a:delete o.a["X-Firebase-Locale"]}function Ta(o,a){a&&(o.l=Um("https://securetoken.googleapis.com/v1/token",a),o.h=Um("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),o.i=Um("https://identitytoolkit.googleapis.com/v2/",a))}function Um(o,a){return o=tr(o),a=tr(a.url),o.f=o.a+o.f,Hu(o,a.c),o.a=a.a,Gu(o,a.g),o.toString()}function d1(o,a){a?(o.a["X-Client-Version"]=a,o.g["X-Client-Version"]=a):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Yr.prototype.T=function(){return this.b};function p1(o,a,h,g,y,_,I){LP()||Xr()?o=A(o.u,o):(jm||(jm=new Ze(function(N,H){DR(N,H)})),o=A(o.s,o)),o(a,h,g,y,_,I)}Yr.prototype.u=function(o,a,h,g,y,_){if(Xr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var I=new ul(this.f);if(_){I.g=Math.max(0,_);var N=setTimeout(function(){I.dispatchEvent("timeout")},_)}Qw(I,"complete",function(){N&&clearTimeout(N);var H=null;try{H=JSON.parse(ER(this))||null}catch{H=null}a&&a(H)}),Wp(I,"ready",function(){N&&clearTimeout(N),Hw(this)}),Wp(I,"timeout",function(){N&&clearTimeout(N),Hw(this),a&&a(null)}),wR(I,o,h,g,y)};var RR=new Nt(ci,"https://apis.google.com/js/client.js?onload=%{onload}"),m1="__fcb"+Math.floor(1e6*Math.random()).toString();function DR(o,a){if(((window.gapi||{}).client||{}).request)o();else{c[m1]=function(){((window.gapi||{}).client||{}).request?o():a(Error("CORS_UNSUPPORTED"))};var h=kp(RR,{onload:m1});TR(Vm(h),function(){a(Error("CORS_UNSUPPORTED"))})}}Yr.prototype.s=function(o,a,h,g,y){var _=this;jm.then(function(){window.gapi.client.setApiKey(_.c);var I=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:h,body:g,headers:y,authType:"none",callback:function(N){window.gapi.auth.setToken(I),a&&a(N)}})}).o(function(I){a&&a({error:{message:I&&I.message||"CORS_UNSUPPORTED"}})})};function MR(o,a){return new Ze(function(h,g){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?p1(o,o.l+"?key="+encodeURIComponent(o.c),function(y){y?y.error?g(Xm(y)):y.access_token&&y.refresh_token?h(y):g(new k("internal-error")):g(new k("network-request-failed"))},"POST",n_(a).toString(),o.g,o.m.get()):g(new k("internal-error"))})}function g1(o,a,h,g,y,_,I){var N=tr(a+h);Kt(N,"key",o.c),I&&Kt(N,"cb",F().toString());var H=g=="GET";if(H)for(var Q in y)y.hasOwnProperty(Q)&&Kt(N,Q,y[Q]);return new Ze(function($e,wt){p1(o,N.toString(),function(dt){dt?dt.error?wt(Xm(dt,_||{})):$e(dt):wt(new k("network-request-failed"))},g,H?void 0:o_(m_(y)),o.a,o.v.get())})}function ys(o){if(o=o.email,typeof o!="string"||!jP.test(o))throw new k("invalid-email")}function v1(o){"email"in o&&ys(o)}function LR(o,a){return nt(o,qR,{identifier:a,continueUri:ff()?Xu():"http://localhost"}).then(function(h){return h.signinMethods||[]})}function VR(o){return nt(o,iD,{}).then(function(a){return a.authorizedDomains||[]})}function nr(o){if(!o[Qr])throw o.mfaPendingCredential?new k("multi-factor-auth-required",null,qe(o)):new k("internal-error")}function $m(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new k("internal-error")}else{if(!o.sessionInfo)throw new k("missing-verification-id");if(!o.code)throw new k("missing-verification-code")}}Yr.prototype.zb=function(){return nt(this,uD,{})},Yr.prototype.Bb=function(o,a){return nt(this,w1,{idToken:o,email:a})},Yr.prototype.Cb=function(o,a){return nt(this,_1,{idToken:o,password:a})};var FR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Yr.prototype,e.Db=function(o,a){var h={idToken:o},g=[];return Ie(FR,function(y,_){var I=a[_];I===null?g.push(y):_ in a&&(h[_]=I)}),g.length&&(h.deleteAttribute=g),nt(this,w1,h)},e.vb=function(o,a){return o={requestType:"PASSWORD_RESET",email:o},lt(o,a),nt(this,rD,o)},e.wb=function(o,a){return o={requestType:"EMAIL_SIGNIN",email:o},lt(o,a),nt(this,eD,o)},e.ub=function(o,a){return o={requestType:"VERIFY_EMAIL",idToken:o},lt(o,a),nt(this,tD,o)},e.Eb=function(o,a,h){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:a},lt(o,h),nt(this,nD,o)};function jR(o,a){return nt(o,aD,a)}e.fb=function(o){return nt(this,mD,o)};function UR(o,a){return nt(o,lD,a).then(function(h){return h.phoneSessionInfo.sessionInfo})}function y1(o){if(!o.phoneVerificationInfo)throw new k("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new k("missing-verification-code")}function $R(o,a){return nt(o,cD,a).then(function(h){return h.phoneResponseInfo.sessionInfo})}function BR(o,a,h){return nt(o,XR,{idToken:a,deleteProvider:h})}function Bm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new k("internal-error")}function zm(o,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(o.sessionId?a.nonce=o.sessionId:o.postBody&&(o=new us(o.postBody),Qp(o,"nonce")&&(a.nonce=o.get("nonce")))),a}function b1(o){var a=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",a=wf(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",a=wf(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",a=wf(o)):o.errorMessage&&(a=E1(o.errorMessage)),a)throw a;nr(o)}function Hm(o,a){return a.returnIdpCredential=!0,nt(o,fD,a)}function Gm(o,a){return a.returnIdpCredential=!0,nt(o,dD,a)}function qm(o,a){return a.returnIdpCredential=!0,a.autoCreate=!1,nt(o,hD,a)}function Wm(o){if(!o.oobCode)throw new k("invalid-action-code")}e.nb=function(o,a){return nt(this,sD,{oobCode:o,newPassword:a})},e.Ra=function(o){return nt(this,HR,{oobCode:o})},e.jb=function(o){return nt(this,zR,{oobCode:o})};var zR={endpoint:"setAccountInfo",A:Wm,Z:"email",B:!0},HR={endpoint:"resetPassword",A:Wm,G:function(o){var a=o.requestType;if(!a||!o.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},GR={endpoint:"signupNewUser",A:function(o){if(ys(o),!o.password)throw new k("weak-password")},G:nr,V:!0,B:!0},qR={endpoint:"createAuthUri",B:!0},WR={endpoint:"deleteAccount",N:["idToken"]},XR={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new k("internal-error")}},KR={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ys,G:nr,V:!0,B:!0},YR={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ys,G:nr,V:!0},QR={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:y1,G:nr,B:!0,Na:!0},JR={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:y1,G:nr,B:!0,Na:!0},ZR={endpoint:"getAccountInfo"},eD={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new k("internal-error");ys(o)},Z:"email",B:!0},tD={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},nD={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},rD={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new k("internal-error");ys(o)},Z:"email",B:!0},iD={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},oD={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new k("internal-error")}},sD={endpoint:"resetPassword",A:Wm,Z:"email",B:!0},aD={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},w1={endpoint:"setAccountInfo",N:["idToken"],A:v1,V:!0},_1={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(v1(o),!o.password)throw new k("weak-password")},G:nr,V:!0},uD={endpoint:"signupNewUser",G:nr,V:!0,B:!0},lD={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new k("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},cD={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},fD={endpoint:"verifyAssertion",A:Bm,Ya:zm,G:b1,V:!0,B:!0},hD={endpoint:"verifyAssertion",A:Bm,Ya:zm,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(o.errorMessage)throw E1(o.errorMessage);nr(o)},V:!0,B:!0},dD={endpoint:"verifyAssertion",A:function(o){if(Bm(o),!o.idToken)throw new k("internal-error")},Ya:zm,G:b1,V:!0},pD={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new k("invalid-custom-token")},G:nr,V:!0,B:!0},S1={endpoint:"verifyPassword",A:function(o){if(ys(o),!o.password)throw new k("wrong-password")},G:nr,V:!0,B:!0},mD={endpoint:"verifyPhoneNumber",A:$m,G:nr,B:!0},gD={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new k("internal-error");$m(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",wf(o);nr(o)}},vD={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:$m,G:nr,B:!0},yD={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Qr]^!!o.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function nt(o,a,h){if(!qP(h,a.N))return Vt(new k("internal-error"));var g=!!a.Na,y=a.Ub||"POST",_;return Le(h).then(a.A).then(function(){return a.V&&(h.returnSecureToken=!0),a.B&&o.b&&typeof h.tenantId>"u"&&(h.tenantId=o.b),g?g1(o,o.i,a.endpoint,y,h,a.Hb,a.lb||!1):g1(o,o.h,a.endpoint,y,h,a.Hb,a.lb||!1)}).then(function(I){return _=I,a.Ya?a.Ya(h,_):_}).then(a.G).then(function(){if(!a.Z)return _;if(!(a.Z in _))throw new k("internal-error");return _[a.Z]})}function E1(o){return Xm({error:{errors:[{message:o}],code:400,message:o}})}function Xm(o,a){var h=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",g={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(h=g[h]?new k(g[h]):null)return h;h=o.error&&o.error.message||"",g={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},lt(g,a||{}),a=(a=h.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var y in g)if(h.indexOf(y)===0)return new k(g[y],a);return!a&&o&&(a=Yu(o)),new k("internal-error",a)}function bD(o){this.b=o,this.a=null,this.rb=wD(this)}function wD(o){return xD().then(function(){return new Ze(function(a,h){Ft("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ft("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(g){function y(){clearTimeout(_),a()}o.a=g,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){h(Error("Network Error"))},ID.get());g.ping(y).then(y,function(){h(Error("Network Error"))})})})})}function _D(o,a){return o.rb.then(function(){return new Ze(function(h){o.a.send(a.type,a,h,Ft("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function SD(o,a){o.rb.then(function(){o.a.register("authEvent",a,Ft("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var ED=new Nt(ci,"https://apis.google.com/js/api.js?onload=%{onload}"),TD=new oo(3e4,6e4),ID=new oo(5e3,15e3),Rf=null;function xD(){return Rf||(Rf=new Ze(function(o,a){function h(){v_(),Ft("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){v_(),a(Error("Network Error"))},timeout:TD.get()})}if(Ft("gapi.iframes.Iframe"))o();else if(Ft("gapi.load"))h();else{var g="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[g]=function(){Ft("gapi.load")?h():a(Error("Network Error"))},g=kp(ED,{onload:g}),Le(Vm(g)).o(function(){a(Error("Network Error"))})}}).o(function(o){throw Rf=null,o}))}function T1(o,a,h,g){this.l=o,this.h=a,this.i=h,this.g=g,this.f=null,this.g?(o=tr(this.g.url),o=lf(o.c,o.a,o.g,"/emulator/auth/iframe")):o=lf("https",this.l,null,"/__/auth/iframe"),this.a=o,Kt(this.a,"apiKey",this.h),Kt(this.a,"appName",this.i),this.b=null,this.c=[]}T1.prototype.toString=function(){return this.f?Kt(this.a,"v",this.f):hi(this.a.b,"v"),this.b?Kt(this.a,"eid",this.b):hi(this.a.b,"eid"),this.c.length?Kt(this.a,"fw",this.c.join(",")):hi(this.a.b,"fw"),this.a.toString()};function Km(o,a,h,g,y,_){this.u=o,this.s=a,this.c=h,this.m=g,this.v=_,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}Km.prototype.yb=function(o){return this.h=o,this},Km.prototype.toString=function(){if(this.v){var o=tr(this.v.url);o=lf(o.c,o.a,o.g,"/emulator/auth/handler")}else o=lf("https",this.u,null,"/__/auth/handler");if(Kt(o,"apiKey",this.s),Kt(o,"appName",this.c),Kt(o,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var h=Ae.app(this.c).auth().la()}catch{h=null}a.ob=h,Kt(o,"providerId",this.a.providerId),h=this.a,a=m_(h.Ib);for(var g in a)a[g]=a[g].toString();g=h.Qc,a=qe(a);for(var y=0;y<g.length;y++){var _=g[y];_ in a&&delete a[_]}h.pb&&h.ob&&!a[h.pb]&&(a[h.pb]=h.ob),Ge(a)||Kt(o,"customParameters",Yu(a))}if(typeof this.a.Qb=="function"&&(h=this.a.Qb(),h.length&&Kt(o,"scopes",h.join(","))),this.l?Kt(o,"redirectUrl",this.l):hi(o.b,"redirectUrl"),this.g?Kt(o,"eventId",this.g):hi(o.b,"eventId"),this.i?Kt(o,"v",this.i):hi(o.b,"v"),this.b)for(var I in this.b)this.b.hasOwnProperty(I)&&!Mr(o,I)&&Kt(o,I,this.b[I]);return this.h?Kt(o,"tid",this.h):hi(o.b,"tid"),this.f?Kt(o,"eid",this.f):hi(o.b,"eid"),I=Ym(this.c),I.length&&Kt(o,"fw",I.join(",")),o.toString()};function Ym(o){try{return Ae.app(o).auth().Ga()}catch{return[]}}function I1(o,a,h,g,y,_){this.s=o,this.g=a,this.b=h,this.f=_,this.c=g||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function x1(o){var a=Xu();return VR(o).then(function(h){e:{var g=tr(a),y=g.c;g=g.a;for(var _=0;_<h.length;_++){var I=h[_],N=g,H=y;if(I.indexOf("chrome-extension://")==0?N=tr(I).a==N&&H=="chrome-extension":H!="http"&&H!="https"?N=!1:FP.test(I)?N=N==I:(I=I.split(".").join("\\."),N=new RegExp("^(.+\\."+I+"|"+I+")$","i").test(N)),N){h=!0;break e}}h=!1}if(!h)throw new Am(Xu())})}function A1(o){return o.m||(o.m=cf().then(function(){if(!o.u){var a=o.c,h=o.i,g=Ym(o.b),y=new T1(o.s,o.g,o.b,o.f);y.f=a,y.b=h,y.c=ue(g||[]),o.u=y.toString()}o.v=new bD(o.u),AD(o)})),o.m}e=I1.prototype,e.Ob=function(o,a,h){var g=new k("popup-closed-by-user"),y=new k("web-storage-unsupported"),_=this,I=!1;return this.ma().then(function(){CD(_).then(function(N){N||(o&&ls(o),a(y),I=!0)})}).o(function(){}).then(function(){if(!I)return VP(o)}).then(function(){if(!I)return pa(h).then(function(){a(g)})})},e.Xb=function(){var o=_n();return!Ku(o)&&!g_(o)},e.Tb=function(){return!1},e.Mb=function(o,a,h,g,y,_,I,N){if(!o)return Vt(new k("popup-blocked"));if(I&&!Ku())return this.ma().o(function(Q){ls(o),y(Q)}),g(),Le();this.a||(this.a=x1(C1(this)));var H=this;return this.a.then(function(){var Q=H.ma().o(function($e){throw ls(o),y($e),$e});return g(),Q}).then(function(){if(Im(h),!I){var Q=hl(H.s,H.g,H.b,a,h,null,_,H.c,void 0,H.i,N,H.f);u_(Q,o)}}).o(function(Q){throw Q.code=="auth/network-request-failed"&&(H.a=null),Q})};function C1(o){return o.l||(o.C=o.c?ya(o.c,Ym(o.b)):null,o.l=new Yr(o.g,ie(o.i),o.C),o.f&&Ta(o.l,o.f)),o.l}e.Nb=function(o,a,h,g){this.a||(this.a=x1(C1(this)));var y=this;return this.a.then(function(){Im(a);var _=hl(y.s,y.g,y.b,o,a,Xu(),h,y.c,void 0,y.i,g,y.f);u_(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(y.a=null),_})},e.ma=function(){var o=this;return A1(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new k("network-request-failed")})},e.$b=function(){return!0};function hl(o,a,h,g,y,_,I,N,H,Q,$e,wt){return o=new Km(o,a,h,g,y,wt),o.l=_,o.g=I,o.i=N,o.b=qe(H||null),o.f=Q,o.yb($e).toString()}function AD(o){if(!o.v)throw Error("IfcHandler must be initialized!");SD(o.v,function(a){var h={};if(a&&a.authEvent){var g=!1;for(a=Q_(a.authEvent),h=0;h<o.h.length;h++)g=o.h[h](a)||g;return h={},h.status=g?"ACK":"ERROR",Le(h)}return h.status="ERROR",Le(h)})}function CD(o){var a={type:"webStorageSupport"};return A1(o).then(function(){return _D(o.v,a)}).then(function(h){if(h&&h.length&&typeof h[0].webStorageSupport<"u")return h[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){z(this.h,function(a){return a==o})};function k1(o){if(this.a=o||Ae.INTERNAL.reactNative&&Ae.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=k1.prototype,e.get=function(o){return Le(this.a.getItem(o)).then(function(a){return a&&wa(a)})},e.set=function(o,a){return Le(this.a.setItem(o,Yu(a)))},e.U=function(o){return Le(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function O1(o){this.b=o,this.a={},this.f=A(this.c,this)}var N1=[];function kD(){var o=Xr()?self:null;if(Y(N1,function(h){h.b==o&&(a=h)}),!a){var a=new O1(o);N1.push(a)}return a}O1.prototype.c=function(o){var a=o.data.eventType,h=o.data.eventId,g=this.a[a];if(g&&0<g.length){o.ports[0].postMessage({status:"ack",eventId:h,eventType:a,response:null});var y=[];Y(g,function(_){y.push(Le().then(function(){return _(o.origin,o.data.data)}))}),Mw(y).then(function(_){var I=[];Y(_,function(N){I.push({fulfilled:N.Pb,value:N.value,reason:N.reason?N.reason.message:void 0})}),Y(I,function(N){for(var H in N)typeof N[H]>"u"&&delete N[H]}),o.ports[0].postMessage({status:"done",eventId:h,eventType:a,response:I})})}};function P1(o,a,h){Ge(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[a]>"u"&&(o.a[a]=[]),o.a[a].push(h)}function R1(o){this.a=o}R1.prototype.postMessage=function(o,a){this.a.postMessage(o,a)};function D1(o){this.c=o,this.b=!1,this.a=[]}function M1(o,a,h,g){var y,_=h||{},I,N,H,Q=null;if(o.b)return Vt(Error("connection_unavailable"));var $e=g?800:50,wt=typeof MessageChannel<"u"?new MessageChannel:null;return new Ze(function(dt,mn){wt?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),wt.port1.start(),N=setTimeout(function(){mn(Error("unsupported_event"))},$e),I=function(ji){ji.data.eventId===y&&(ji.data.status==="ack"?(clearTimeout(N),H=setTimeout(function(){mn(Error("timeout"))},3e3)):ji.data.status==="done"?(clearTimeout(H),typeof ji.data.response<"u"?dt(ji.data.response):mn(Error("unknown_error"))):(clearTimeout(N),clearTimeout(H),mn(Error("invalid_response"))))},Q={messageChannel:wt,onMessage:I},o.a.push(Q),wt.port1.addEventListener("message",I),o.c.postMessage({eventType:a,eventId:y,data:_},[wt.port2])):mn(Error("connection_unavailable"))}).then(function(dt){return Qm(o,Q),dt}).o(function(dt){throw Qm(o,Q),dt})}function Qm(o,a){if(a){var h=a.messageChannel,g=a.onMessage;h&&(h.port1.removeEventListener("message",g),h.port1.close()),z(o.a,function(y){return y==a})}}D1.prototype.close=function(){for(;0<this.a.length;)Qm(this,this.a[0]);this.b=!0};function L1(){if(!eg())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Xr()&&self?(this.v=kD(),P1(this.v,"keyChanged",function(a,h){return j1(o).then(function(g){return 0<g.length&&Y(o.a,function(y){y(g)}),{keyProcessed:j(g,h.key)}})}),P1(this.v,"ping",function(){return Le(["keyChanged"])})):HP().then(function(a){(o.h=a)&&(o.g=new D1(new R1(a)),M1(o.g,"ping",null,!0).then(function(h){h[0].fulfilled&&j(h[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Jm;function OD(o){return new Ze(function(a,h){var g=o.m.deleteDatabase("firebaseLocalStorageDb");g.onsuccess=function(){a()},g.onerror=function(y){h(Error(y.target.error))}})}function V1(o){return new Ze(function(a,h){var g=o.m.open("firebaseLocalStorageDb",1);g.onerror=function(y){try{y.preventDefault()}catch{}h(Error(y.target.error))},g.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){h(_)}},g.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?a(y):OD(o).then(function(){return V1(o)}).then(function(_){a(_)}).o(function(_){h(_)})}})}function Zm(o){return o.i||(o.i=V1(o)),o.i}function Df(o,a){function h(y,_){Zm(o).then(a).then(y).o(function(I){if(3<++g)_(I);else return Zm(o).then(function(N){return N.close(),o.i=void 0,h(y,_)}).o(function(N){_(N)})})}var g=0;return new Ze(h)}function eg(){try{return!!c.indexedDB}catch{return!1}}function dl(o){return o.objectStore("firebaseLocalStorage")}function pl(o,a){return o.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Ia(o){return new Ze(function(a,h){o.onsuccess=function(g){g&&g.target?a(g.target.result):a()},o.onerror=function(g){h(g.target.error)}})}e=L1.prototype,e.set=function(o,a){var h=this,g=!1;return Df(this,function(y){return y=dl(pl(y,!0)),Ia(y.get(o))}).then(function(y){return Df(h,function(_){if(_=dl(pl(_,!0)),y)return y.value=a,Ia(_.put(y));h.b++,g=!0;var I={};return I.fbase_key=o,I.value=a,Ia(_.add(I))})}).then(function(){return h.c[o]=a,F1(h,o)}).oa(function(){g&&h.b--})};function F1(o,a){return o.g&&o.h&&zP()===o.h?M1(o.g,"keyChanged",{key:a},o.s).then(function(){}).o(function(){}):Le()}e.get=function(o){return Df(this,function(a){return Ia(dl(pl(a,!1)).get(o))}).then(function(a){return a&&a.value})},e.U=function(o){var a=this,h=!1;return Df(this,function(g){return h=!0,a.b++,Ia(dl(pl(g,!0)).delete(o))}).then(function(){return delete a.c[o],F1(a,o)}).oa(function(){h&&a.b--})};function j1(o){return Zm(o).then(function(a){var h=dl(pl(a,!1));return h.getAll?Ia(h.getAll()):new Ze(function(g,y){var _=[],I=h.openCursor();I.onsuccess=function(N){(N=N.target.result)?(_.push(N.value),N.continue()):g(_)},I.onerror=function(N){y(N.target.error)}})}).then(function(a){var h={},g=[];if(o.b==0){for(g=0;g<a.length;g++)h[a[g].fbase_key]=a[g].value;g=l_(o.c,h),o.c=h}return g})}e.ca=function(o){this.a.length==0&&ND(this),this.a.push(o)},e.ia=function(o){z(this.a,function(a){return a==o}),this.a.length==0&&U1(this)};function ND(o){function a(){o.f=setTimeout(function(){o.l=j1(o).then(function(h){0<h.length&&Y(o.a,function(g){g(h)})}).then(function(){a()}).o(function(h){h.message!="STOP_EVENT"&&a()})},800)}U1(o),a()}function U1(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function $1(o){var a=this,h=null;this.a=[],this.type="indexedDB",this.c=o,this.b=Le().then(function(){if(eg()){var g=fs(),y="__sak"+g;return Jm||(Jm=new L1),h=Jm,h.set(y,g).then(function(){return h.get(y)}).then(function(_){if(_!==g)throw Error("indexedDB not supported!");return h.U(y)}).then(function(){return h}).o(function(){return a.c})}return a.c}).then(function(g){return a.type=g.type,g.ca(function(y){Y(a.a,function(_){_(y)})}),g})}e=$1.prototype,e.get=function(o){return this.b.then(function(a){return a.get(o)})},e.set=function(o,a){return this.b.then(function(h){return h.set(o,a)})},e.U=function(o){return this.b.then(function(a){return a.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){z(this.a,function(a){return a==o})};function ml(){this.a={},this.type="inMemory"}e=ml.prototype,e.get=function(o){return Le(this.a[o])},e.set=function(o,a){return this.a[o]=a,Le()},e.U=function(o){return delete this.a[o],Le()},e.ca=function(){},e.ia=function(){};function Mf(){if(!PD())throw di()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=B1()||Ae.INTERNAL.node.localStorage,this.type="localStorage"}function B1(){try{var o=c.localStorage,a=fs();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function PD(){var o=di()=="Node";if(o=B1()||o&&Ae.INTERNAL.node&&Ae.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Mf.prototype,e.get=function(o){var a=this;return Le().then(function(){var h=a.a.getItem(o);return wa(h)})},e.set=function(o,a){var h=this;return Le().then(function(){var g=Yu(a);g===null?h.U(o):h.a.setItem(o,g)})},e.U=function(o){var a=this;return Le().then(function(){a.a.removeItem(o)})},e.ca=function(o){c.window&&Dr(c.window,"storage",o)},e.ia=function(o){c.window&&pr(c.window,"storage",o)};function tg(){this.type="nullStorage"}e=tg.prototype,e.get=function(){return Le(null)},e.set=function(){return Le()},e.U=function(){return Le()},e.ca=function(){},e.ia=function(){};function ng(){if(!RD())throw di()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=z1()||Ae.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function z1(){try{var o=c.sessionStorage,a=fs();return o&&(o.setItem(a,"1"),o.removeItem(a)),o}catch{return null}}function RD(){var o=di()=="Node";if(o=z1()||o&&Ae.INTERNAL.node&&Ae.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=ng.prototype,e.get=function(o){var a=this;return Le().then(function(){var h=a.a.getItem(o);return wa(h)})},e.set=function(o,a){var h=this;return Le().then(function(){var g=Yu(a);g===null?h.U(o):h.a.setItem(o,g)})},e.U=function(o){var a=this;return Le().then(function(){a.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function DD(){var o={};o.Browser=MD,o.Node=LD,o.ReactNative=VD,o.Worker=FD,this.a=o[di()]}var rg,MD={F:Mf,bb:ng},LD={F:Mf,bb:ng},VD={F:k1,bb:tg},FD={F:Mf,bb:tg},xa={rd:"local",NONE:"none",td:"session"};function jD(o){var a=new k("invalid-persistence-type"),h=new k("unsupported-persistence-type");e:{for(g in xa)if(xa[g]==o){var g=!0;break e}g=!1}if(!g||typeof o!="string")throw a;switch(di()){case"ReactNative":if(o==="session")throw h;break;case"Node":if(o!=="none")throw h;break;case"Worker":if(o==="session"||!eg()&&o!=="none")throw h;break;default:if(!rm()&&o!=="none")throw h}}function H1(){var o=!!(!g_(_n())&&tm()),a=Ku(),h=rm();this.m=o,this.h=a,this.l=h,this.a={},rg||(rg=new DD),o=rg;try{this.g=!Zp()&&y_()||!c.indexedDB?new o.a.F:new $1(Xr()?new ml:new o.a.F)}catch{this.g=new ml,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new ml}this.v=new ml,this.f=A(this.Yb,this),this.b={}}var ig;function gl(){return ig||(ig=new H1),ig}function bs(o,a){switch(a){case"session":return o.i;case"none":return o.v;default:return o.g}}function Aa(o,a){return"firebase:"+o.name+(a?":"+a:"")}function UD(o,a,h){var g=Aa(a,h),y=bs(o,a.F);return o.get(a,h).then(function(_){var I=null;try{I=wa(c.localStorage.getItem(g))}catch{}if(I&&!_)return c.localStorage.removeItem(g),o.set(a,I,h);I&&_&&y.type!="localStorage"&&c.localStorage.removeItem(g)})}e=H1.prototype,e.get=function(o,a){return bs(this,o.F).get(Aa(o,a))};function Ca(o,a,h){return h=Aa(a,h),a.F=="local"&&(o.b[h]=null),bs(o,a.F).U(h)}e.set=function(o,a,h){var g=Aa(o,h),y=this,_=bs(this,o.F);return _.set(g,a).then(function(){return _.get(g)}).then(function(I){o.F=="local"&&(y.b[g]=I)})},e.addListener=function(o,a,h){o=Aa(o,a),this.l&&(this.b[o]=c.localStorage.getItem(o)),Ge(this.a)&&(bs(this,"local").ca(this.f),this.h||(Zp()||!y_())&&c.indexedDB||!this.l||$D(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(h)},e.removeListener=function(o,a,h){o=Aa(o,a),this.a[o]&&(z(this.a[o],function(g){return g==h}),this.a[o].length==0&&delete this.a[o]),Ge(this.a)&&(bs(this,"local").ia(this.f),og(this))};function $D(o){og(o),o.c=setInterval(function(){for(var a in o.a){var h=c.localStorage.getItem(a),g=o.b[a];h!=g&&(o.b[a]=h,h=new ss({type:"storage",key:a,target:window,oldValue:g,newValue:h,a:!0}),o.Yb(h))}},1e3)}function og(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var a=o.a.key;if(a==null)for(var h in this.a){var g=this.b[h];typeof g>"u"&&(g=null);var y=c.localStorage.getItem(h);y!==g&&(this.b[h]=y,this.mb(h))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof o.a.a<"u"?bs(this,"local").ia(this.f):og(this),this.m){if(h=c.localStorage.getItem(a),g=o.a.newValue,g!==h)g!==null?c.localStorage.setItem(a,g):c.localStorage.removeItem(a);else if(this.b[a]===g&&typeof o.a.a>"u")return}var _=this;h=function(){(typeof o.a.a<"u"||_.b[a]!==c.localStorage.getItem(a))&&(_.b[a]=c.localStorage.getItem(a),_.mb(a))},Wr&&no&&no==10&&c.localStorage.getItem(a)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(h,10):h()}}else Y(o,A(this.mb,this))},e.mb=function(o){this.a[o]&&Y(this.a[o],function(a){a()})};function BD(o){this.a=o,this.b=gl()}var sg={name:"authEvent",F:"local"};function zD(o){return o.b.get(sg,o.a).then(function(a){return Q_(a)})}function HD(){this.a=gl()}function GD(){this.b=-1}function Lf(o,a){this.b=G1,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=a,this.l=c.Int32Array?new Int32Array(64):Array(64),Vf===void 0&&(c.Int32Array?Vf=new Int32Array(X1):Vf=X1),this.reset()}var Vf;P(Lf,GD);for(var G1=64,qD=G1-1,q1=[],ag=0;ag<qD;ag++)q1[ag]=0;var W1=oe(128,q1);Lf.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ue(this.h)};function ug(o){for(var a=o.f,h=o.l,g=0,y=0;y<a.length;)h[g++]=a[y]<<24|a[y+1]<<16|a[y+2]<<8|a[y+3],y=4*g;for(a=16;64>a;a++){y=h[a-15]|0,g=h[a-2]|0;var _=(h[a-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,I=(h[a-7]|0)+((g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)|0;h[a]=_+I|0}g=o.a[0]|0,y=o.a[1]|0;var N=o.a[2]|0,H=o.a[3]|0,Q=o.a[4]|0,$e=o.a[5]|0,wt=o.a[6]|0;for(_=o.a[7]|0,a=0;64>a;a++){var dt=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&y^g&N^y&N)|0;I=Q&$e^~Q&wt,_=_+((Q>>>6|Q<<26)^(Q>>>11|Q<<21)^(Q>>>25|Q<<7))|0,I=I+(Vf[a]|0)|0,I=_+(I+(h[a]|0)|0)|0,_=wt,wt=$e,$e=Q,Q=H+I|0,H=N,N=y,y=g,g=I+dt|0}o.a[0]=o.a[0]+g|0,o.a[1]=o.a[1]+y|0,o.a[2]=o.a[2]+N|0,o.a[3]=o.a[3]+H|0,o.a[4]=o.a[4]+Q|0,o.a[5]=o.a[5]+$e|0,o.a[6]=o.a[6]+wt|0,o.a[7]=o.a[7]+_|0}function lg(o,a,h){h===void 0&&(h=a.length);var g=0,y=o.c;if(typeof a=="string")for(;g<h;)o.f[y++]=a.charCodeAt(g++),y==o.b&&(ug(o),y=0);else if(b(a))for(;g<h;){var _=a[g++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[y++]=_,y==o.b&&(ug(o),y=0)}else throw Error("message must be string or array");o.c=y,o.g+=h}var X1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function K1(){Lf.call(this,8,WD)}P(K1,Lf);var WD=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Y1(o,a,h,g,y,_){this.v=o,this.i=a,this.l=h,this.m=g||null,this.u=y||null,this.s=_,this.h=a+":"+h,this.C=new HD,this.g=new BD(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ff(o){return new k("invalid-cordova-configuration",o)}e=Y1.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=UP().then(function(){if(typeof Ft("universalLinks.subscribe",c)!="function")throw Ff("cordova-universal-links-plugin-fix is not installed");if(typeof Ft("BuildInfo.packageName",c)>"u")throw Ff("cordova-plugin-buildinfo is not installed");if(typeof Ft("cordova.plugins.browsertab.openUrl",c)!="function")throw Ff("cordova-plugin-browsertab is not installed");if(typeof Ft("cordova.InAppBrowser.open",c)!="function")throw Ff("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function XD(){for(var o=20,a=[];0<o;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return a.join("")}function KD(o){var a=new K1;lg(a,o),o=[];var h=8*a.g;56>a.c?lg(a,W1,56-a.c):lg(a,W1,a.b-(a.c-56));for(var g=63;56<=g;g--)a.f[g]=h&255,h/=256;for(ug(a),g=h=0;g<a.i;g++)for(var y=24;0<=y;y-=8)o[h++]=a.a[g]>>y&255;return sR(o)}e.Ob=function(o,a){return a(new k("operation-not-supported-in-this-environment")),Le()},e.Mb=function(){return Vt(new k("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,a,h,g){if(this.c)return Vt(new k("redirect-operation-pending"));var y=this,_=c.document,I=null,N=null,H=null,Q=null;return this.c=Le().then(function(){return Im(a),J1(y)}).then(function(){return YD(y,o,a,h,g)}).then(function(){return new Ze(function($e,wt){N=function(){var dt=Ft("cordova.plugins.browsertab.close",c);return $e(),typeof dt=="function"&&dt(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(N),H=function(){I||(I=pa(2e3).then(function(){wt(new k("redirect-cancelled-by-user"))}))},Q=function(){im()&&H()},_.addEventListener("resume",H,!1),_n().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",Q,!1)}).o(function($e){return cg(y).then(function(){throw $e})})}).oa(function(){H&&_.removeEventListener("resume",H,!1),Q&&_.removeEventListener("visibilitychange",Q,!1),I&&I.cancel(),N&&y.Sa(N),y.c=null})};function YD(o,a,h,g,y){var _=XD(),I=new Kr(a,g,null,_,new k("no-auth-event"),null,y),N=Ft("BuildInfo.packageName",c);if(typeof N!="string")throw new k("invalid-cordova-configuration");var H=Ft("BuildInfo.displayName",c),Q={};if(_n().toLowerCase().match(/iphone|ipad|ipod/))Q.ibi=N;else if(_n().toLowerCase().match(/android/))Q.apn=N;else return Vt(new k("operation-not-supported-in-this-environment"));H&&(Q.appDisplayName=H),_=KD(_),Q.sessionId=_;var $e=hl(o.v,o.i,o.l,a,h,null,g,o.m,Q,o.u,y,o.s);return o.ma().then(function(){var wt=o.h;return o.C.a.set(sg,I.w(),wt)}).then(function(){var wt=Ft("cordova.plugins.browsertab.isAvailable",c);if(typeof wt!="function")throw new k("invalid-cordova-configuration");var dt=null;wt(function(mn){if(mn){if(dt=Ft("cordova.plugins.browsertab.openUrl",c),typeof dt!="function")throw new k("invalid-cordova-configuration");dt($e)}else{if(dt=Ft("cordova.InAppBrowser.open",c),typeof dt!="function")throw new k("invalid-cordova-configuration");mn=_n(),o.a=dt($e,mn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||mn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Q1(o,a){for(var h=0;h<o.b.length;h++)try{o.b[h](a)}catch{}}function J1(o){return o.f||(o.f=o.ma().then(function(){return new Ze(function(a){function h(g){return a(g),o.Sa(h),!1}o.Ea(h),QD(o)})})),o.f}function cg(o){var a=null;return zD(o.g).then(function(h){return a=h,h=o.g,Ca(h.b,sg,h.a)}).then(function(){return a})}function QD(o){function a(I){g=!0,y&&y.cancel(),cg(o).then(function(N){var H=h;if(N&&I&&I.url){var Q=null;H=z_(I.url),H.indexOf("/__/auth/callback")!=-1&&(Q=tr(H),Q=wa(Mr(Q,"firebaseError")||null),Q=(Q=typeof Q=="object"?q(Q):null)?new Kr(N.c,N.b,null,null,Q,null,N.T()):new Kr(N.c,N.b,H,N.f,null,null,N.T())),H=Q||h}Q1(o,H)})}var h=new Kr("unknown",null,null,null,new k("no-auth-event")),g=!1,y=pa(500).then(function(){return cg(o).then(function(){g||Q1(o,h)})}),_=c.handleOpenURL;c.handleOpenURL=function(I){if(I.toLowerCase().indexOf(Ft("BuildInfo.packageName",c).toLowerCase()+"://")==0&&a({url:I}),typeof _=="function")try{_(I)}catch(N){console.error(N)}},xm||(xm=new pR),mR(a)}e.Ea=function(o){this.b.push(o),J1(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Kr("unknown",null,null,null,new k("no-auth-event")),o(a))})},e.Sa=function(o){z(this.b,function(a){return a==o})};function JD(o){this.a=o,this.b=gl()}var fg={name:"pendingRedirect",F:"session"};function ZD(o){return o.b.set(fg,"pending",o.a)}function hg(o){return Ca(o.b,fg,o.a)}function eM(o){return o.b.get(fg,o.a).then(function(a){return a=="pending"})}function jf(o,a,h,g){this.i={},this.u=0,this.D=o,this.v=a,this.m=h,this.J=g,this.h=[],this.f=!1,this.l=A(this.s,this),this.b=new Uf,this.C=new cS,this.g=new JD(sS(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Z1(this.D,this.v,this.m,Re,this.J)}function Z1(o,a,h,g,y){var _=Ae.SDK_VERSION||null;return em()?new Y1(o,a,h,_,g,y):new I1(o,a,h,_,g,y)}jf.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Z1(this.D,this.v,this.m,null,this.J),this.i={}};function eS(o){o.f||(o.f=!0,o.a.Ea(o.l));var a=o.a;return o.a.ma().o(function(h){throw o.a==a&&o.reset(),h})}function tS(o){o.a.Xb()&&eS(o).o(function(a){var h=new Kr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));pg(a)&&o.s(h)}),o.a.Tb()||uS(o.b)}function dg(o,a){j(o.h,a)||o.h.push(a),o.f||eM(o.g).then(function(h){h?hg(o.g).then(function(){eS(o).o(function(g){var y=new Kr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));pg(g)&&o.s(y)})}):tS(o)}).o(function(){tS(o)})}function nS(o,a){z(o.h,function(h){return h==a})}jf.prototype.s=function(o){if(!o)throw new k("invalid-auth-event");if(6e5<=F()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var a=!1,h=0;h<this.h.length;h++){var g=this.h[h];if(g.Fb(o.c,o.b)){(a=this.c[o.c])&&(a.h(o,g),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=F())),a=!0;break}}return uS(this.b),a};var tM=new oo(2e3,1e4),nM=new oo(3e4,6e4);jf.prototype.qa=function(){return this.b.qa()};function rS(o,a,h,g,y,_,I){return o.a.Mb(a,h,g,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},y,_,I)}function pg(o){return!!(o&&o.code=="auth/cordova-not-ready")}function iS(o,a,h,g,y){var _;return ZD(o.g).then(function(){return o.a.Nb(a,h,g,y).o(function(I){if(pg(I))throw new k("operation-not-supported-in-this-environment");return _=I,hg(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new Ze(function(){}):hg(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function oS(o,a,h,g,y){return o.a.Ob(g,function(_){a.na(h,null,_,y)},tM.get())}var mg={};function sS(o,a,h){return o=o+":"+a,h&&(o=o+":"+h.url),o}function aS(o,a,h,g){var y=sS(a,h,g);return mg[y]||(mg[y]=new jf(o,a,h,g)),mg[y]}function Uf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Uf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Uf.prototype.h=function(o,a){if(o){this.reset(),this.g=!0;var h=o.c,g=o.b,y=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!_),h!="unknown"||y||_?o.a?(ws(this,!0,null,o.a),Le()):a.Fa(h,g)?rM(this,o,a):Vt(new k("invalid-auth-event")):(ws(this,!1,null,null),Le())}else Vt(new k("invalid-auth-event"))};function uS(o){o.g||(o.g=!0,ws(o,!1,null,null))}function $f(o){o.g&&!o.i&&ws(o,!1,null,null)}function rM(o,a,h){h=h.Fa(a.c,a.b);var g=a.g,y=a.f,_=a.i,I=a.T(),N=!!a.c.match(/Redirect$/);h(g,y,I,_).then(function(H){ws(o,N,H,null)}).o(function(H){ws(o,N,null,H)})}function iM(o,a){if(o.b=function(){return Vt(a)},o.c.length)for(var h=0;h<o.c.length;h++)o.c[h](a)}function lS(o,a){if(o.b=function(){return Le(a)},o.f.length)for(var h=0;h<o.f.length;h++)o.f[h](a)}function ws(o,a,h,g){a?g?iM(o,g):lS(o,h):lS(o,{user:null}),o.f=[],o.c=[]}Uf.prototype.qa=function(){var o=this;return new Ze(function(a,h){o.b?o.b().then(a,h):(o.f.push(a),o.c.push(h),oM(o))})};function oM(o){var a=new k("timeout");o.a&&o.a.cancel(),o.a=pa(nM.get()).then(function(){o.b||(o.g=!0,ws(o,!0,null,a))})}function cS(){}cS.prototype.h=function(o,a){if(o){var h=o.c,g=o.b;o.a?(a.na(o.c,null,o.a,o.b),Le()):a.Fa(h,g)?sM(o,a):Vt(new k("invalid-auth-event"))}else Vt(new k("invalid-auth-event"))};function sM(o,a){var h=o.b,g=o.c;a.Fa(g,h)(o.g,o.f,o.T(),o.i).then(function(y){a.na(g,y,null,h)}).o(function(y){a.na(g,null,y,h)})}function fS(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function gg(o,a){this.a=a,Te(this,"verificationId",o)}gg.prototype.confirm=function(o){return o=Y_(this.verificationId,o),this.a(o)};function vg(o,a,h,g){return new Vi(o).fb(a,h).then(function(y){return new gg(y,g)})}function aM(o){var a=M_(o);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Un(this,{token:o,expirationTime:Qu(1e3*a.exp),authTime:Qu(1e3*a.auth_time),issuedAtTime:Qu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function yg(o,a,h){var g=a&&a[dS];if(!g)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=qe(a),this.g=h,this.c=new yf(null,g),this.b=[];var y=this;Y(a[hS]||[],function(_){(_=cm(_))&&y.b.push(_)}),Te(this,"auth",this.a),Te(this,"session",this.c),Te(this,"hints",this.b)}var hS="mfaInfo",dS="mfaPendingCredential";yg.prototype.Rc=function(o){var a=this;return o.sb(this.a.a,this.c).then(function(h){var g=qe(a.f);return delete g[hS],delete g[dS],lt(g,h),a.g(g)})};function bg(o,a,h,g){k.call(this,"multi-factor-auth-required",g,a),this.b=new yg(o,a,h),Te(this,"resolver",this.b)}P(bg,k);function pS(o,a,h){if(o&&S(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new bg(a,o.serverResponse,h,o.message)}catch{}return null}function mS(){}mS.prototype.sb=function(o,a,h){return a.type==tl?uM(this,o,a,h):lM(this,o,a)};function uM(o,a,h,g){return h.Ha().then(function(y){return y={idToken:y},typeof g<"u"&&(y.displayName=g),lt(y,{phoneVerificationInfo:nl(o.a)}),nt(a,QR,y)})}function lM(o,a,h){return h.Ha().then(function(g){return g={mfaPendingCredential:g},lt(g,{phoneVerificationInfo:nl(o.a)}),nt(a,JR,g)})}function wg(o){Te(this,"factorId",o.fa),this.a=o}P(wg,mS);function gS(o){if(wg.call(this,o),this.a.fa!=Vi.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}P(gS,wg);function ka(o,a){er.call(this,o);for(var h in a)this[h]=a[h]}P(ka,er);function _g(o,a){this.a=o,this.b=[],this.c=A(this.yc,this),Dr(this.a,"userReloaded",this.c);var h=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Y(a.multiFactor.enrolledFactors,function(g){var y=null,_={};if(g){g.uid&&(_[hm]=g.uid),g.displayName&&(_[w_]=g.displayName),g.enrollmentTime&&(_[fm]=new Date(g.enrollmentTime).toISOString()),g.phoneNumber&&(_[dm]=g.phoneNumber);try{y=new Ju(_)}catch{}g=y}else g=null;g&&h.push(g)}),Bf(this,h)}function cM(o){var a=[];return Y(o.mfaInfo||[],function(h){(h=cm(h))&&a.push(h)}),a}e=_g.prototype,e.yc=function(o){Bf(this,cM(o.hd))};function Bf(o,a){o.b=a,Te(o,"enrolledFactors",a)}e.Rb=function(){return this.a.I().then(function(o){return new yf(o,null)})},e.fc=function(o,a){var h=this,g=this.a.a;return this.Rb().then(function(y){return o.sb(g,y,a)}).then(function(y){return gi(h.a,y),h.a.reload()})},e.bd=function(o){var a=this,h=typeof o=="string"?o:o.uid,g=this.a.a;return this.a.I().then(function(y){return nt(g,yD,{idToken:y,mfaEnrollmentId:h})}).then(function(y){var _=ze(a.b,function(I){return I.uid!=h});return Bf(a,_),gi(a.a,y),a.a.reload().o(function(I){if(I.code!="auth/user-token-expired")throw I})})},e.w=function(){return{multiFactor:{enrolledFactors:gt(this.b,function(o){return o.w()})}}};function Sg(o,a,h){if(this.h=o,this.i=a,this.g=h,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Sg.prototype.start=function(){this.a=this.c,Eg(this,!0)};function fM(o,a){return a?(o.a=o.c,o.g()):(a=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),a)}function Eg(o,a){o.stop(),o.b=pa(fM(o,a)).then(function(){return BP()}).then(function(){return o.h()}).then(function(){Eg(o,!0)}).o(function(h){o.i(h)&&Eg(o,!1)})}Sg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Tg(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Tg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function vS(o,a){typeof a>"u"&&(o.b?(a=o.b,a=a.a-a.g):a=0),o.c=Date.now()+1e3*a}function yS(o,a){o.b=gf(a[Qr]||""),o.a=a.refreshToken,a=a.expiresIn,vS(o,typeof a<"u"?Number(a):void 0)}function hM(o,a){o.b=a.b,o.a=a.a,o.c=a.c}function dM(o,a){return MR(o.f,a).then(function(h){return o.b=gf(h.access_token),o.a=h.refresh_token,vS(o,h.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(h){throw h.code=="auth/user-token-expired"&&(o.a=null),h})}Tg.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Vt(new k("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?dM(this,{grant_type:"refresh_token",refresh_token:this.a}):Le(null):Le({accessToken:this.b.toString(),refreshToken:this.a})};function zf(o,a){this.a=o||null,this.b=a||null,Un(this,{lastSignInTime:Qu(a||null),creationTime:Qu(o||null)})}function pM(o){return new zf(o.a,o.b)}zf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function mM(o,a,h,g,y,_){Un(this,{uid:o,displayName:g||null,photoURL:y||null,email:h||null,phoneNumber:_||null,providerId:a})}function gr(o,a,h){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var g=Ae.SDK_VERSION?ya(Ae.SDK_VERSION):null;this.a=new Yr(this.l,ie(Re),g),o.emulatorConfig&&Ta(this.a,o.emulatorConfig),this.b=new Tg(this.a),Og(this,a[Qr]),yS(this.b,a),Te(this,"refreshToken",this.b.a),wS(this,h||{}),jn.call(this),this.R=!1,this.s&&cs()&&(this.i=aS(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=gM(this),this.aa=A(this.hb,this);var y=this;this.ya=null,this.Oa=function(_){y.wa(_.h)},this.ja=null,this.Aa=function(_){Ta(y.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){vl(y,_.f)},this.ba=null,this.O=new _g(this,h),Te(this,"multiFactor",this.O)}P(gr,jn),gr.prototype.wa=function(o){this.ya=o,h1(this.a,o)},gr.prototype.la=function(){return this.ya};function Ig(o,a){o.ja&&pr(o.ja,"languageCodeChanged",o.Oa),(o.ja=a)&&Dr(a,"languageCodeChanged",o.Oa)}function xg(o,a){o.X&&pr(o.X,"emulatorConfigChanged",o.Aa),(o.X=a)&&Dr(a,"emulatorConfigChanged",o.Aa)}function vl(o,a){o.$=a,d1(o.a,Ae.SDK_VERSION?ya(Ae.SDK_VERSION,o.$):null)}gr.prototype.Ga=function(){return ue(this.$)};function Ag(o,a){o.ba&&pr(o.ba,"frameworkChanged",o.Ba),(o.ba=a)&&Dr(a,"frameworkChanged",o.Ba)}gr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Cg(o){try{return Ae.app(o.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function gM(o){return new Sg(function(){return o.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=o.b.c-Date.now()-3e5;return 0<a?a:0})}function bS(o){o.D||o.u.b||(o.u.start(),pr(o,"tokenChanged",o.aa),Dr(o,"tokenChanged",o.aa))}function kg(o){pr(o,"tokenChanged",o.aa),o.u.stop()}function Og(o,a){o.za=a,Te(o,"_lat",a)}function vM(o,a){z(o.S,function(h){return h==a})}function _s(o){for(var a=[],h=0;h<o.S.length;h++)a.push(o.S[h](o));return Mw(a).then(function(){return o})}function yl(o){o.i&&!o.R&&(o.R=!0,dg(o.i,o))}function wS(o,a){Un(o,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new zf(a.createdAt,a.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Te(gr.prototype,"providerId","firebase");function _S(){}function Ng(o){return Le().then(function(){if(o.D)throw new k("app-deleted")})}function Pg(o){return gt(o.providerData,function(a){return a.providerId})}function Rg(o,a){a&&(SS(o,a.providerId),o.providerData.push(a))}function SS(o,a){z(o.providerData,function(h){return h.providerId==a})}function uo(o,a,h){(a!="uid"||h)&&o.hasOwnProperty(a)&&Te(o,a,h)}function Hf(o,a){o!=a&&(Un(o,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?Te(o,"metadata",pM(a.metadata)):Te(o,"metadata",new zf),Y(a.providerData,function(h){Rg(o,h)}),hM(o.b,a.b),Te(o,"refreshToken",o.b.a),Bf(o.O,a.O.b))}e=gr.prototype,e.reload=function(){var o=this;return un(this,Ng(this).then(function(){return Dg(o).then(function(){return _s(o)}).then(_S)}))};function Dg(o){return o.I().then(function(a){var h=o.isAnonymous;return yM(o,a).then(function(){return h||uo(o,"isAnonymous",!1),a})})}e.oc=function(o){return this.I(o).then(function(a){return new aM(a)})},e.I=function(o){var a=this;return un(this,Ng(this).then(function(){return a.b.getToken(o)}).then(function(h){if(!h)throw new k("internal-error");return h.accessToken!=a.za&&(Og(a,h.accessToken),a.dispatchEvent(new ka("tokenChanged"))),uo(a,"refreshToken",h.refreshToken),h.accessToken}))};function gi(o,a){a[Qr]&&o.za!=a[Qr]&&(yS(o.b,a),o.dispatchEvent(new ka("tokenChanged")),Og(o,a[Qr]),uo(o,"refreshToken",o.b.a))}function yM(o,a){return nt(o.a,ZR,{idToken:a}).then(A(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new k("internal-error");o=o[0],wS(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var a=bM(o),h=0;h<a.length;h++)Rg(this,a[h]);uo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ka("userReloaded",{hd:o}))};function bM(o){return(o=o.providerUserInfo)&&o.length?gt(o,function(a){return new mM(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(o){return om("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var a=this,h=null;return un(this,o.c(this.a,this.uid).then(function(g){return gi(a,g),h=bl(a,g,"reauthenticate"),a.h=null,a.reload()}).then(function(){return h}),!0)};function Gf(o,a){return Dg(o).then(function(){if(j(Pg(o),a))return _s(o).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(o){return om("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var a=this,h=null;return un(this,Gf(this,o.providerId).then(function(){return a.I()}).then(function(g){return o.b(a.a,g)}).then(function(g){return h=bl(a,g,"link"),ES(a,g)}).then(function(){return h}))},e.Dc=function(o,a){var h=this;return un(this,Gf(this,"phone").then(function(){return vg(Cg(h),o,a,A(h.qb,h))}))},e.Mc=function(o,a){var h=this;return un(this,Le().then(function(){return vg(Cg(h),o,a,A(h.tb,h))}),!0)};function bl(o,a,h){var g=Tm(a);return a=V_(a),pi({user:o,credential:g,additionalUserInfo:a,operationType:h})}function ES(o,a){return gi(o,a),o.reload().then(function(){return o})}e.Bb=function(o){var a=this;return un(this,this.I().then(function(h){return a.a.Bb(h,o)}).then(function(h){return gi(a,h),a.reload()}))},e.ed=function(o){var a=this;return un(this,this.I().then(function(h){return o.b(a.a,h)}).then(function(h){return gi(a,h),a.reload()}))},e.Cb=function(o){var a=this;return un(this,this.I().then(function(h){return a.a.Cb(h,o)}).then(function(h){return gi(a,h),a.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Ng(this);var a=this;return un(this,this.I().then(function(h){return a.a.Db(h,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(h){return gi(a,h),uo(a,"displayName",h.displayName||null),uo(a,"photoURL",h.photoUrl||null),Y(a.providerData,function(g){g.providerId==="password"&&(Te(g,"displayName",a.displayName),Te(g,"photoURL",a.photoURL))}),_s(a)}).then(_S))},e.cd=function(o){var a=this;return un(this,Dg(this).then(function(h){return j(Pg(a),o)?BR(a.a,h,[o]).then(function(g){var y={};return Y(g.providerUserInfo||[],function(_){y[_.providerId]=!0}),Y(Pg(a),function(_){y[_]||SS(a,_)}),y[Vi.PROVIDER_ID]||Te(a,"phoneNumber",null),_s(a)}):_s(a).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var o=this;return un(this,this.I().then(function(a){return nt(o.a,WR,{idToken:a})}).then(function(){o.dispatchEvent(new ka("userDeleted"))})).then(function(){for(var a=0;a<o.J.length;a++)o.J[a].cancel("app-deleted");Ig(o,null),xg(o,null),Ag(o,null),o.J=[],o.D=!0,kg(o),Te(o,"refreshToken",null),o.i&&nS(o.i,o)})},e.Fb=function(o,a){return!!(o=="linkViaPopup"&&(this.g||null)==a&&this.f||o=="reauthViaPopup"&&(this.g||null)==a&&this.f||o=="linkViaRedirect"&&(this.ga||null)==a||o=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(o,a,h,g){o!="linkViaPopup"&&o!="reauthViaPopup"||g!=(this.g||null)||(h&&this.C?this.C(h):a&&!h&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="linkViaPopup"&&a==(this.g||null)?A(this.Kb,this):o=="reauthViaPopup"&&a==(this.g||null)?A(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==a?A(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==a?A(this.Lb,this):null},e.Ec=function(o){var a=this;return TS(this,"linkViaPopup",o,function(){return Gf(a,o.providerId).then(function(){return _s(a)})},!1)},e.Nc=function(o){return TS(this,"reauthViaPopup",o,function(){return Le()},!0)};function TS(o,a,h,g,y){if(!cs())return Vt(new k("operation-not-supported-in-this-environment"));if(o.h&&!y)return Vt(o.h);var _=ym(h.providerId),I=fs(o.uid+":::"),N=null;(!Ku()||tm())&&o.s&&h.isOAuthProvider&&(N=hl(o.s,o.l,o.m,a,h,null,I,Ae.SDK_VERSION||null,null,null,o.tenantId));var H=f_(N,_&&_.ua,_&&_.ta);return g=g().then(function(){if(xS(o),!y)return o.I().then(function(){})}).then(function(){return rS(o.i,H,a,h,I,!!N,o.tenantId)}).then(function(){return new Ze(function(Q,$e){o.na(a,null,new k("cancelled-popup-request"),o.g||null),o.f=Q,o.C=$e,o.g=I,o.c=oS(o.i,o,a,H,I)})}).then(function(Q){return H&&ls(H),Q?pi(Q):null}).o(function(Q){throw H&&ls(H),Q}),un(o,g,y)}e.Fc=function(o){var a=this;return IS(this,"linkViaRedirect",o,function(){return Gf(a,o.providerId)},!1)},e.Oc=function(o){return IS(this,"reauthViaRedirect",o,function(){return Le()},!0)};function IS(o,a,h,g,y){if(!cs())return Vt(new k("operation-not-supported-in-this-environment"));if(o.h&&!y)return Vt(o.h);var _=null,I=fs(o.uid+":::");return g=g().then(function(){if(xS(o),!y)return o.I().then(function(){})}).then(function(){return o.ga=I,_s(o)}).then(function(N){return o.ha&&(N=o.ha,N=N.b.set(Mg,o.w(),N.a)),N}).then(function(){return iS(o.i,a,h,I,o.tenantId)}).o(function(N){if(_=N,o.ha)return CS(o.ha);throw _}).then(function(){if(_)throw _}),un(o,g,y)}function xS(o){if(!o.i||!o.R)throw o.i&&!o.R?new k("internal-error"):new k("auth-domain-config-required")}e.Kb=function(o,a,h,g){var y=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return h=this.I().then(function(I){return Gm(y.a,{requestUri:o,postBody:g,sessionId:a,idToken:I})}).then(function(I){return _=bl(y,I,"link"),ES(y,I)}).then(function(){return _}),un(this,h)},e.Lb=function(o,a,h,g){var y=this;this.c&&(this.c.cancel(),this.c=null);var _=null,I=Le().then(function(){return Sa(qm(y.a,{requestUri:o,sessionId:a,postBody:g,tenantId:h}),y.uid)}).then(function(N){return _=bl(y,N,"reauthenticate"),gi(y,N),y.h=null,y.reload()}).then(function(){return _});return un(this,I,!0)},e.ub=function(o){var a=this,h=null;return un(this,this.I().then(function(g){return h=g,typeof o>"u"||Ge(o)?{}:pf(new df(o))}).then(function(g){return a.a.ub(h,g)}).then(function(g){if(a.email!=g)return a.reload()}).then(function(){}))},e.Eb=function(o,a){var h=this,g=null;return un(this,this.I().then(function(y){return g=y,typeof a>"u"||Ge(a)?{}:pf(new df(a))}).then(function(y){return h.a.Eb(g,o,y)}).then(function(y){if(h.email!=y)return h.reload()}).then(function(){}))};function un(o,a,h){var g=wM(o,a,h);return o.J.push(g),g.oa(function(){X(o.J,g)}),g.o(function(y){var _=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(_=pS(y.w(),Cg(o),A(o.jc,o))),_||y})}e.jc=function(o){var a=null,h=this;return o=Sa(Le(o),h.uid).then(function(g){return a=bl(h,g,"reauthenticate"),gi(h,g),h.h=null,h.reload()}).then(function(){return a}),un(this,o,!0)};function wM(o,a,h){return o.h&&!h?(a.cancel(),Vt(o.h)):a.o(function(g){throw!g||g.code!="auth/user-disabled"&&g.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new ka("userInvalidated")),o.h=g),g})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&lt(o,this.metadata.w()),Y(this.providerData,function(a){o.providerData.push(GP(a))}),lt(o,this.O.w()),o};function AS(o){if(!o.apiKey)return null;var a={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},h={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){h[Qr]=o.stsTokenManager.accessToken,h.refreshToken=o.stsTokenManager.refreshToken||null;var g=o.stsTokenManager.expirationTime;g&&(h.expiresIn=(g-Date.now())/1e3)}else return null;var y=new gr(a,h,o);return o.providerData&&Y(o.providerData,function(_){_&&Rg(y,pi(_))}),o.redirectEventId&&(y.ga=o.redirectEventId),y}function _M(o,a,h,g){var y=new gr(o,a);return h&&(y.ha=h),g&&vl(y,g),y.reload().then(function(){return y})}function SM(o,a,h,g){var y=o.b,_={};return _[Qr]=y.b&&y.b.toString(),_.refreshToken=y.a,a=new gr(a||{apiKey:o.l,authDomain:o.s,appName:o.m},_),h&&(a.ha=h),g&&vl(a,g),Hf(a,o),a}function EM(o){this.a=o,this.b=gl()}var Mg={name:"redirectUser",F:"session"};function CS(o){return Ca(o.b,Mg,o.a)}function TM(o,a){return o.b.get(Mg,o.a).then(function(h){return h&&a&&(h.authDomain=a),AS(h||{})})}function Lg(o){this.a=o,this.b=gl(),this.c=null,this.f=IM(this),this.b.addListener(vi("local"),this.a,A(this.g,this))}Lg.prototype.g=function(){var o=this,a=vi("local");Oa(this,function(){return Le().then(function(){return o.c&&o.c.F!="local"?o.b.get(a,o.a):null}).then(function(h){if(h)return Vg(o,"local").then(function(){o.c=a})})})};function Vg(o,a){var h=[],g;for(g in xa)xa[g]!==a&&h.push(Ca(o.b,vi(xa[g]),o.a));return h.push(Ca(o.b,Fg,o.a)),pP(h)}function IM(o){var a=vi("local"),h=vi("session"),g=vi("none");return UD(o.b,a,o.a).then(function(){return o.b.get(h,o.a)}).then(function(y){return y?h:o.b.get(g,o.a).then(function(_){return _?g:o.b.get(a,o.a).then(function(I){return I?a:o.b.get(Fg,o.a).then(function(N){return N?vi(N):a})})})}).then(function(y){return o.c=y,Vg(o,y.F)}).o(function(){o.c||(o.c=a)})}var Fg={name:"persistence",F:"session"};function vi(o){return{name:"authUser",F:o}}Lg.prototype.xb=function(o){var a=null,h=this;return jD(o),Oa(this,function(){return o!=h.c.F?h.b.get(h.c,h.a).then(function(g){return a=g,Vg(h,o)}).then(function(){if(h.c=vi(o),a)return h.b.set(h.c,a,h.a)}):Le()})};function xM(o){return Oa(o,function(){return o.b.set(Fg,o.c.F,o.a)})}function kS(o,a){return Oa(o,function(){return o.b.set(o.c,a.w(),o.a)})}function OS(o){return Oa(o,function(){return Ca(o.b,o.c,o.a)})}function NS(o,a,h){return Oa(o,function(){return o.b.get(o.c,o.a).then(function(g){return g&&a&&(g.authDomain=a),g&&h&&(g.emulatorConfig=h),AS(g||{})})})}function Oa(o,a){return o.f=o.f.then(a,a),o.f}function Jr(o){if(this.l=!1,Te(this,"settings",new fS),Te(this,"app",o),xt(this).options&&xt(this).options.apiKey)o=Ae.SDK_VERSION?ya(Ae.SDK_VERSION):null,this.a=new Yr(xt(this).options&&xt(this).options.apiKey,ie(Re),o);else throw new k("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=Ae.INTERNAL.createSubscribe(A(this.zc,this)),this.X=void 0,this.bc=Ae.INTERNAL.createSubscribe(A(this.Ac,this)),Na(this,null),this.i=new Lg(xt(this).options.apiKey+":"+xt(this).name),this.D=new EM(xt(this).options.apiKey+":"+xt(this).name),this.$=Wt(this,PM(this)),this.h=Wt(this,RM(this)),this.ba=!1,this.ja=A(this.Zc,this),this.Ba=A(this.da,this),this.ya=A(this.mc,this),this.za=A(this.wc,this),this.Aa=A(this.xc,this),this.b=null,kM(this),this.INTERNAL={},this.INTERNAL.delete=A(this.delete,this),this.INTERNAL.logFramework=A(this.Gc,this),this.u=0,jn.call(this),CM(this),this.J=[],this.P=null}P(Jr,jn);function PS(o){er.call(this,"languageCodeChanged"),this.h=o}P(PS,er);function RS(o){er.call(this,"emulatorConfigChanged"),this.c=o}P(RS,er);function DS(o){er.call(this,"frameworkChanged"),this.f=o}P(DS,er),e=Jr.prototype,e.xb=function(o){return o=this.i.xb(o),Wt(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,h1(this.a,this.aa),this.dispatchEvent(new PS(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,a){if(!this.P){if(!/^https?:\/\//.test(o))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,AM(a),this.P={url:o,ec:a},this.settings.ib=!0,Ta(this.a,this.P),this.dispatchEvent(new RS(this.P))}};function AM(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&cf().then(function(){var a=c.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#ff0000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),c.document.body.appendChild(a)})}e.Gc=function(o){this.J.push(o),d1(this.a,Ae.SDK_VERSION?ya(Ae.SDK_VERSION,this.J):null),this.dispatchEvent(new DS(this.J))},e.Ga=function(){return ue(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function CM(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(a){this.wa(a)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(a){this.yb(a)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var a=tr(this.P.url);a=pi({protocol:a.c,host:a.a,port:a.g,options:pi({disableWarnings:this.P.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:xt(this).options.apiKey,authDomain:xt(this).options.authDomain,appName:xt(this).name,currentUser:Ke(this)&&Ke(this).w()}};function jg(o){return o.Oa||Vt(new k("auth-domain-config-required"))}function kM(o){var a=xt(o).options.authDomain,h=xt(o).options.apiKey;a&&cs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=aS(a,h,xt(o).name,o.P),dg(o.b,o),Ke(o)&&yl(Ke(o)),o.m){yl(o.m);var g=o.m;g.wa(o.la()),Ig(g,o),g=o.m,vl(g,o.J),Ag(g,o),g=o.m,Ta(g.a,o.P),xg(g,o),o.m=null}return o.b}}))}e.Fb=function(o,a){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(o,a,h,g){o=="signInViaPopup"&&this.g==g&&(h&&this.C?this.C(h):a&&!h&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,a){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==a&&this.f?A(this.ic,this):null},e.ic=function(o,a,h,g){var y=this,_={requestUri:o,postBody:g,sessionId:a,tenantId:h};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return Ss(y,Hm(y.a,_))})},e.Xc=function(o){if(!cs())return Vt(new k("operation-not-supported-in-this-environment"));var a=this,h=ym(o.providerId),g=fs(),y=null;(!Ku()||tm())&&xt(this).options.authDomain&&o.isOAuthProvider&&(y=hl(xt(this).options.authDomain,xt(this).options.apiKey,xt(this).name,"signInViaPopup",o,null,g,Ae.SDK_VERSION||null,null,null,this.T(),this.P));var _=f_(y,h&&h.ua,h&&h.ta);return h=jg(this).then(function(I){return rS(I,_,"signInViaPopup",o,g,!!y,a.T())}).then(function(){return new Ze(function(I,N){a.na("signInViaPopup",null,new k("cancelled-popup-request"),a.g),a.f=I,a.C=N,a.g=g,a.c=oS(a.b,a,"signInViaPopup",_,g)})}).then(function(I){return _&&ls(_),I?pi(I):null}).o(function(I){throw _&&ls(_),I}),Wt(this,h)},e.Yc=function(o){if(!cs())return Vt(new k("operation-not-supported-in-this-environment"));var a=this,h=jg(this).then(function(){return xM(a.i)}).then(function(){return iS(a.b,"signInViaRedirect",o,void 0,a.T())});return Wt(this,h)};function MS(o){if(!cs())return Vt(new k("operation-not-supported-in-this-environment"));var a=jg(o).then(function(){return o.b.qa()}).then(function(h){return h?pi(h):null});return Wt(o,a)}e.qa=function(){var o=this;return MS(this).then(function(a){return o.b&&$f(o.b.b),a}).o(function(a){throw o.b&&$f(o.b.b),a})},e.dd=function(o){if(!o)return Vt(new k("null-user"));if(this.S!=o.tenantId)return Vt(new k("tenant-id-mismatch"));var a=this,h={};h.apiKey=xt(this).options.apiKey,h.authDomain=xt(this).options.authDomain,h.appName=xt(this).name;var g=SM(o,h,a.D,a.Ga());return Wt(this,this.h.then(function(){if(xt(a).options.apiKey!=o.l)return g.reload()}).then(function(){return Ke(a)&&o.uid==Ke(a).uid?(Hf(Ke(a),o),a.da(o)):(Na(a,g),yl(g),a.da(g))}).then(function(){wl(a)}))};function OM(o,a){var h={};return h.apiKey=xt(o).options.apiKey,h.authDomain=xt(o).options.authDomain,h.appName=xt(o).name,o.P&&(h.emulatorConfig=o.P),o.$.then(function(){return _M(h,a,o.D,o.Ga())}).then(function(g){return Ke(o)&&g.uid==Ke(o).uid?(Hf(Ke(o),g),o.da(g)):(Na(o,g),yl(g),o.da(g))}).then(function(){wl(o)})}function Na(o,a){Ke(o)&&(vM(Ke(o),o.Ba),pr(Ke(o),"tokenChanged",o.ya),pr(Ke(o),"userDeleted",o.za),pr(Ke(o),"userInvalidated",o.Aa),kg(Ke(o))),a&&(a.S.push(o.Ba),Dr(a,"tokenChanged",o.ya),Dr(a,"userDeleted",o.za),Dr(a,"userInvalidated",o.Aa),0<o.u&&bS(a)),Te(o,"currentUser",a),a&&(a.wa(o.la()),Ig(a,o),vl(a,o.J),Ag(a,o),Ta(a.a,o.P),xg(a,o))}e.Ab=function(){var o=this,a=this.h.then(function(){return o.b&&$f(o.b.b),Ke(o)?(Na(o,null),OS(o.i).then(function(){wl(o)})):Le()});return Wt(this,a)};function NM(o){var a=TM(o.D,xt(o).options.authDomain).then(function(h){return(o.m=h)&&(h.ha=o.D),CS(o.D)});return Wt(o,a)}function PM(o){var a=xt(o).options.authDomain,h=NM(o).then(function(){return NS(o.i,a,o.P)}).then(function(g){return g?(g.ha=o.D,o.m&&(o.m.ga||null)==(g.ga||null)?g:g.reload().then(function(){return kS(o.i,g).then(function(){return g})}).o(function(y){return y.code=="auth/network-request-failed"?g:OS(o.i)})):null}).then(function(g){Na(o,g||null)});return Wt(o,h)}function RM(o){return o.$.then(function(){return MS(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var a=o.i;a.b.addListener(vi("local"),a.a,o.ja)}})}e.Zc=function(){var o=this;return NS(this.i,xt(this).options.authDomain).then(function(a){if(!o.l){var h;if(h=Ke(o)&&a){h=Ke(o).uid;var g=a.uid;h=h==null||h===""||g===void 0||g===null||g===""?!1:h==g}if(h)return Hf(Ke(o),a),Ke(o).I();(Ke(o)||a)&&(Na(o,a),a&&(yl(a),a.ha=o.D),o.b&&dg(o.b,o),wl(o))}})},e.da=function(o){return kS(this.i,o)},e.mc=function(){wl(this),this.da(Ke(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Ss(o,a){var h=null,g=null;return Wt(o,a.then(function(y){return h=Tm(y),g=V_(y),OM(o,y)},function(y){var _=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(_=pS(y.w(),o,A(o.kc,o))),_||y}).then(function(){return pi({user:Ke(o),credential:h,additionalUserInfo:g,operationType:"signIn"})}))}e.kc=function(o){var a=this;return this.h.then(function(){return Ss(a,Le(o))})},e.zc=function(o){var a=this;this.addAuthTokenListener(function(){o.next(Ke(a))})},e.Ac=function(o){var a=this;DM(this,function(){o.next(Ke(a))})},e.Ic=function(o,a,h){var g=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Ke(g)):typeof o.next=="function"&&o.next(Ke(g))}),this.hb(o,a,h)},e.Hc=function(o,a,h){var g=this;return this.ba&&Promise.resolve().then(function(){g.X=g.getUid(),typeof o=="function"?o(Ke(g)):typeof o.next=="function"&&o.next(Ke(g))}),this.bc(o,a,h)},e.nc=function(o){var a=this,h=this.h.then(function(){return Ke(a)?Ke(a).I(o).then(function(g){return{accessToken:g}}):null});return Wt(this,h)},e.Tc=function(o){var a=this;return this.h.then(function(){return Ss(a,nt(a.a,pD,{token:o}))}).then(function(h){var g=h.user;return uo(g,"isAnonymous",!1),a.da(g),h})},e.Uc=function(o,a){var h=this;return this.h.then(function(){return Ss(h,nt(h.a,S1,{email:o,password:a}))})},e.dc=function(o,a){var h=this;return this.h.then(function(){return Ss(h,nt(h.a,GR,{email:o,password:a}))})},e.$a=function(o){var a=this;return this.h.then(function(){return Ss(a,o.ka(a.a))})},e.Sc=function(o){return om("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var a=Ke(o);if(a&&a.isAnonymous){var h=pi({providerId:null,isNewUser:!1});return pi({user:a,credential:null,additionalUserInfo:h,operationType:"signIn"})}return Ss(o,o.a.zb()).then(function(g){var y=g.user;return uo(y,"isAnonymous",!0),o.da(y),g})})};function xt(o){return o.app}function Ke(o){return o.currentUser}e.getUid=function(){return Ke(this)&&Ke(this).uid||null};function qf(o){return Ke(o)&&Ke(o)._lat||null}function wl(o){if(o.ba){for(var a=0;a<o.s.length;a++)o.s[a]&&o.s[a](qf(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),a=0;a<o.O.length;a++)o.O[a]&&o.O[a](qf(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Ke(this)&&bS(Ke(this))},e.Pc=function(o){var a=this;Y(this.s,function(h){h==o&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Ke(this)&&kg(Ke(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var a=this;this.s.push(o),Wt(this,this.h.then(function(){a.l||j(a.s,o)&&o(qf(a))}))},e.removeAuthTokenListener=function(o){z(this.s,function(a){return a==o})};function DM(o,a){o.O.push(a),Wt(o,o.h.then(function(){!o.l&&j(o.O,a)&&o.X!==o.getUid()&&(o.X=o.getUid(),a(qf(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(vi("local"),o.a,this.ja)),this.b&&(nS(this.b,this),$f(this.b.b)),Promise.resolve()};function Wt(o,a){return o.R.push(a),a.oa(function(){X(o.R,a)}),a}e.hc=function(o){return Wt(this,LR(this.a,o))},e.Bc=function(o){return!!Em(o)},e.wb=function(o,a){var h=this;return Wt(this,Le().then(function(){var g=new df(a);if(!g.c)throw new k("argument-error",gm+" must be true when sending sign in link to email");return pf(g)}).then(function(g){return h.a.wb(o,g)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(a){return a.data.email})},e.nb=function(o,a){return Wt(this,this.a.nb(o,a).then(function(){}))},e.Ra=function(o){return Wt(this,this.a.Ra(o).then(function(a){return new WP(a)}))},e.jb=function(o){return Wt(this,this.a.jb(o).then(function(){}))},e.vb=function(o,a){var h=this;return Wt(this,Le().then(function(){return typeof a>"u"||Ge(a)?{}:pf(new df(a))}).then(function(g){return h.a.vb(o,g)}).then(function(){}))},e.Wc=function(o,a){return Wt(this,vg(this,o,a,A(this.$a,this)))},e.Vc=function(o,a){var h=this;return Wt(this,Le().then(function(){var g=a||Xu(),y=K_(o,g);if(g=Em(g),!g)throw new k("argument-error","Invalid email link!");if(g.tenantId!==h.T())throw new k("tenant-id-mismatch");return h.$a(y)}))};function _l(){}_l.prototype.render=function(){},_l.prototype.reset=function(){},_l.prototype.getResponse=function(){},_l.prototype.execute=function(){};function Pa(){this.a={},this.b=1e12}var Ug=null;Pa.prototype.render=function(o,a){return this.a[this.b.toString()]=new Wf(o,a),this.b++},Pa.prototype.reset=function(o){var a=$g(this,o);o=LS(o),a&&o&&(a.delete(),delete this.a[o])},Pa.prototype.getResponse=function(o){return(o=$g(this,o))?o.getResponse():null},Pa.prototype.execute=function(o){(o=$g(this,o))&&o.execute()};function $g(o,a){return(a=LS(a))&&o.a[a]||null}function LS(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Wf(o,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=$u(o);var h=this;this.i=function(){h.execute()},this.h?this.execute():Dr(this.f,"click",this.i)}Wf.prototype.getResponse=function(){return Bg(this),this.b},Wf.prototype.execute=function(){Bg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=$P();var a=o.c.callback,h=o.c["expired-callback"];if(a)try{a(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,h)try{h()}catch{}o.h&&o.execute()},6e4)},500))},Wf.prototype.delete=function(){Bg(this),this.g=!0,clearTimeout(this.a),this.a=null,pr(this.f,"click",this.i)};function Bg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function zg(){}Te(zg,"FACTOR_ID","phone");function Hg(){}Hg.prototype.g=function(){return Ug||(Ug=new Pa),Le(Ug)},Hg.prototype.c=function(){};var Gg=null;function qg(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var MM=new Nt(ci,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),LM=new oo(3e4,6e4);qg.prototype.g=function(o){var a=this;return new Ze(function(h,g){var y=setTimeout(function(){g(new k("network-request-failed"))},LM.get());if(!c.grecaptcha||o!==a.f&&!a.b){c[a.a]=function(){if(c.grecaptcha){a.f=o;var I=c.grecaptcha.render;c.grecaptcha.render=function(N,H){return N=I(N,H),a.b++,N},clearTimeout(y),h(c.grecaptcha)}else clearTimeout(y),g(new k("internal-error"));delete c[a.a]};var _=kp(MM,{onload:a.a,hl:o||""});Le(Vm(_)).o(function(){clearTimeout(y),g(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),h(c.grecaptcha)})},qg.prototype.c=function(){this.b--};var Wg=null;function Xg(o,a,h,g,y,_,I){if(Te(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=a,this.g=null,I?(Gg||(Gg=new Hg),I=Gg):(Wg||(Wg=new qg),I=Wg),this.m=I,this.a=h||{theme:"light",type:"image"},this.h=[],this.a[jS])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[VM]==="invisible",!c.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!$u(a)||!this.i&&$u(a).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Yr(o,_||null,y||null),this.u=g||function(){return null};var N=this;this.l=[];var H=this.a[VS];this.a[VS]=function($e){if(US(N,$e),typeof H=="function")H($e);else if(typeof H=="string"){var wt=Ft(H,c);typeof wt=="function"&&wt($e)}};var Q=this.a[FS];this.a[FS]=function(){if(US(N,null),typeof Q=="function")Q();else if(typeof Q=="string"){var $e=Ft(Q,c);typeof $e=="function"&&$e()}}}var VS="callback",FS="expired-callback",jS="sitekey",VM="size";function US(o,a){for(var h=0;h<o.l.length;h++)try{o.l[h](a)}catch{}}function FM(o,a){z(o.l,function(h){return h==a})}function Kg(o,a){return o.h.push(a),a.oa(function(){X(o.h,a)}),a}e=Xg.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Kg(this,Le().then(function(){if(ff()&&!Xr())return cf();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(a){return o.g=a,nt(o.s,oD,{})}).then(function(a){o.a[jS]=a.recaptchaSiteKey}).o(function(a){throw o.f=null,a}))},e.render=function(){Xf(this);var o=this;return Kg(this,this.Ia().then(function(){if(o.c===null){var a=o.v;if(!o.i){var h=$u(a);a=cP("DIV"),h.appendChild(a)}o.c=o.g.render(a,o.a)}return o.c}))},e.verify=function(){Xf(this);var o=this;return Kg(this,this.render().then(function(a){return new Ze(function(h){var g=o.g.getResponse(a);if(g)h(g);else{var y=function(_){_&&(FM(o,y),h(_))};o.l.push(y),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Xf(this),this.c!==null&&this.g.reset(this.c)};function Xf(o){if(o.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Xf(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=$u(this.v);for(var a;a=o.firstChild;)o.removeChild(a)}};function Yg(o,a,h){var g=!1;try{this.b=h||Ae.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)h=this.b.options.apiKey;else throw new k("invalid-api-key");var y=this,_=null;try{_=this.b.auth().Ga()}catch{}try{g=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=Ae.SDK_VERSION?ya(Ae.SDK_VERSION,_):null,Xg.call(this,h,o,a,function(){try{var I=y.b.auth().la()}catch{I=null}return I},_,ie(Re),g)}P(Yg,Xg);function $S(o,a,h,g){e:{h=Array.prototype.slice.call(h);for(var y=0,_=!1,I=0;I<a.length;I++)if(a[I].optional)_=!0;else{if(_)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(_=a.length,h.length<y||_<h.length)g="Expected "+(y==_?y==1?"1 argument":y+" arguments":y+"-"+_+" arguments")+" but got "+h.length+".";else{for(y=0;y<h.length;y++)if(_=a[y].optional&&h[y]===void 0,!a[y].M(h[y])&&!_){if(a=a[y],0>y||y>=BS.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");h=BS[y],g=(g?"":h+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}g=null}}if(g)throw new k("argument-error",o+" failed: "+g)}var BS="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ee(o,a){return{name:o||"",K:"a valid string",optional:!!a,M:function(h){return typeof h=="string"}}}function Qg(o,a){return{name:o||"",K:"a boolean",optional:!!a,M:function(h){return typeof h=="boolean"}}}function tn(o,a){return{name:o||"",K:"a valid object",optional:!!a,M:S}}function Ra(o,a){return{name:o||"",K:"a function",optional:!!a,M:function(h){return typeof h=="function"}}}function yi(o,a){return{name:o||"",K:"null",optional:!!a,M:function(h){return h===null}}}function jM(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function UM(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Jr)}}}function $M(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof Ae.app.App)}}}function lo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var h=!o||a.providerId===o;return!(!a.ka||!h)}}}function zS(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function Da(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Jg(o,a){return S(o)&&typeof o.type=="string"&&o.type===a&&typeof o.Ha=="function"}function HS(o){return S(o)&&typeof o.uid=="string"}function Kf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Yt(o,a,h,g){return{name:h||"",K:o.K+" or "+a.K,optional:!!g,M:function(y){return o.M(y)||a.M(y)}}}function Ht(o,a){for(var h in a){var g=a[h].name;o[g]=qS(g,o[h],a[h].j)}}function GS(o,a){for(var h in a){var g=a[h].name;g!==h&&Object.defineProperty(o,g,{get:G(function(y){return this[y]},h),set:G(function(y,_,I,N){$S(y,[I],[N],!0),this[_]=N},g,h,a[h].kb),enumerable:!0})}}function Qt(o,a,h,g){o[a]=qS(a,h,g)}function qS(o,a,h){function g(){var I=Array.prototype.slice.call(arguments);return $S(y,h,I),a.apply(this,I)}if(!h)return a;var y=BM(o),_;for(_ in a)g[_]=a[_];for(_ in a.prototype)g.prototype[_]=a.prototype[_];return g}function BM(o){return o=o.split("."),o[o.length-1]}Ht(Jr.prototype,{jb:{name:"applyActionCode",j:[Ee("code")]},Ra:{name:"checkActionCode",j:[Ee("code")]},nb:{name:"confirmPasswordReset",j:[Ee("code"),Ee("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ee("email"),Ee("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ee("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ee("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Yt(tn(),Ra(),"nextOrObserver"),Ra("opt_error",!0),Ra("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Yt(tn(),Ra(),"nextOrObserver"),Ra("opt_error",!0),Ra("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Ee("email"),Yt(tn("opt_actionCodeSettings",!0),yi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Ee("email"),tn("actionCodeSettings")]},xb:{name:"setPersistence",j:[Ee("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[lo()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[lo()]},Tc:{name:"signInWithCustomToken",j:[Ee("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ee("email"),Ee("password")]},Vc:{name:"signInWithEmailLink",j:[Ee("email"),Ee("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ee("phoneNumber"),Kf()]},Xc:{name:"signInWithPopup",j:[Da()]},Yc:{name:"signInWithRedirect",j:[Da()]},dd:{name:"updateCurrentUser",j:[Yt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(a){return!!(a&&a instanceof gr)}}}(),yi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ee(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ee("url"),tn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ee("code")]}}),GS(Jr.prototype,{lc:{name:"languageCode",kb:Yt(Ee(),yi(),"languageCode")},ti:{name:"tenantId",kb:Yt(Ee(),yi(),"tenantId")}}),Jr.Persistence=xa,Jr.Persistence.LOCAL="local",Jr.Persistence.SESSION="session",Jr.Persistence.NONE="none",Ht(gr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Qg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Qg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[lo()]},qb:{name:"linkWithCredential",j:[lo()]},Dc:{name:"linkWithPhoneNumber",j:[Ee("phoneNumber"),Kf()]},Ec:{name:"linkWithPopup",j:[Da()]},Fc:{name:"linkWithRedirect",j:[Da()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[lo()]},tb:{name:"reauthenticateWithCredential",j:[lo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ee("phoneNumber"),Kf()]},Nc:{name:"reauthenticateWithPopup",j:[Da()]},Oc:{name:"reauthenticateWithRedirect",j:[Da()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Yt(tn("opt_actionCodeSettings",!0),yi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ee(null,!0)]},cd:{name:"unlink",j:[Ee("provider")]},Bb:{name:"updateEmail",j:[Ee("email")]},Cb:{name:"updatePassword",j:[Ee("password")]},ed:{name:"updatePhoneNumber",j:[lo("phone")]},Db:{name:"updateProfile",j:[tn("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Ee("email"),Yt(tn("opt_actionCodeSettings",!0),yi(null,!0),"opt_actionCodeSettings",!0)]}}),Ht(Pa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ht(_l.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ht(Ze.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),GS(fS.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Qg("appVerificationDisabledForTesting")}}),Ht(gg.prototype,{confirm:{name:"confirm",j:[Ee("verificationCode")]}}),Qt(_a,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var a,h=[fR,hR,dR,cR],g=0;g<h.length;g++)if(a=h[g](o))return a;return null},[Yt(Ee(),tn(),"json")]),Qt(Lr,"credential",function(o,a){return new so(o,a)},[Ee("email"),Ee("password")]),Ht(so.prototype,{w:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(ps.prototype,{Ca:{name:"addScope",j:[Ee("scope")]},Ka:{name:"setCustomParameters",j:[tn("customOAuthParameters")]}}),Qt(ps,"credential",G_,[Yt(Ee(),tn(),"token")]),Qt(Lr,"credentialWithLink",K_,[Ee("email"),Ee("emailLink")]),Ht(ms.prototype,{Ca:{name:"addScope",j:[Ee("scope")]},Ka:{name:"setCustomParameters",j:[tn("customOAuthParameters")]}}),Qt(ms,"credential",q_,[Yt(Ee(),tn(),"token")]),Ht(gs.prototype,{Ca:{name:"addScope",j:[Ee("scope")]},Ka:{name:"setCustomParameters",j:[tn("customOAuthParameters")]}}),Qt(gs,"credential",W_,[Yt(Ee(),Yt(tn(),yi()),"idToken"),Yt(Ee(),yi(),"accessToken",!0)]),Ht(Ea.prototype,{Ka:{name:"setCustomParameters",j:[tn("customOAuthParameters")]}}),Qt(Ea,"credential",X_,[Yt(Ee(),tn(),"token"),Ee("secret",!0)]),Ht(mr.prototype,{Ca:{name:"addScope",j:[Ee("scope")]},credential:{name:"credential",j:[Yt(Ee(),Yt(tn(),yi()),"optionsOrIdToken"),Yt(Ee(),yi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[tn("customOAuthParameters")]}}),Ht(Li.prototype,{w:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(hs.prototype,{w:{name:"toJSON",j:[Ee(null,!0)]}}),Qt(Vi,"credential",Y_,[Ee("verificationId"),Ee("verificationCode")]),Ht(Vi.prototype,{fb:{name:"verifyPhoneNumber",j:[Yt(Ee(),function(o,a){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(h){return h?h.session&&h.phoneNumber?Jg(h.session,tl)&&typeof h.phoneNumber=="string":h.session&&h.multiFactorHint?Jg(h.session,bf)&&HS(h.multiFactorHint):h.session&&h.multiFactorUid?Jg(h.session,bf)&&typeof h.multiFactorUid=="string":h.phoneNumber?typeof h.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Kf()]}}),Ht(ao.prototype,{w:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(k.prototype,{toJSON:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(rl.prototype,{toJSON:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(Am.prototype,{toJSON:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(bg.prototype,{toJSON:{name:"toJSON",j:[Ee(null,!0)]}}),Ht(yg.prototype,{Rc:{name:"resolveSignIn",j:[zS()]}}),Ht(_g.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[zS(),Ee("displayName",!0)]},bd:{name:"unenroll",j:[Yt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:HS},Ee(),"multiFactorInfoIdentifier")]}}),Ht(Yg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qt(mm,"parseLink",A_,[Ee("link")]),Qt(zg,"assertion",function(o){return new gS(o)},[lo("phone")]),function(){if(typeof Ae<"u"&&Ae.INTERNAL&&Ae.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:pm,VERIFY_AND_CHANGE_EMAIL:Zu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jr,AuthCredential:_a,Error:k};Qt(o,"EmailAuthProvider",Lr,[]),Qt(o,"FacebookAuthProvider",ps,[]),Qt(o,"GithubAuthProvider",ms,[]),Qt(o,"GoogleAuthProvider",gs,[]),Qt(o,"TwitterAuthProvider",Ea,[]),Qt(o,"OAuthProvider",mr,[Ee("providerId")]),Qt(o,"SAMLAuthProvider",H_,[Ee("providerId")]),Qt(o,"PhoneAuthProvider",Vi,[UM()]),Qt(o,"RecaptchaVerifier",Yg,[Yt(Ee(),jM(),"recaptchaContainer"),tn("recaptchaParameters",!0),$M()]),Qt(o,"ActionCodeURL",mm,[]),Qt(o,"PhoneMultiFactorGenerator",zg,[]),Ae.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Jr(a)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),Ae.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:A(a.getUid,a),getToken:A(a.nc,a),addAuthTokenListener:A(a.cc,a),removeAuthTokenListener:A(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ae.registerVersion("@firebase/auth","0.16.3"),Ae.INTERNAL.extendNamespace({User:gr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cy=function(e,t){return cy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},cy(e,t)};function TU(e,t){cy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function YA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var IU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ke,M0=M0||{},Xe=IU||self;function Qh(){}function fy(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Dc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function xU(e){return Object.prototype.hasOwnProperty.call(e,dv)&&e[dv]||(e[dv]=++AU)}var dv="closure_uid_"+(1e9*Math.random()>>>0),AU=0;function CU(e,t,n){return e.call.apply(e.bind,arguments)}function kU(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Dn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Dn=CU:Dn=kU,Dn.apply(null,arguments)}function sh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ri(){return Date.now()}function Qn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[i].apply(r,u)}}function Jo(){this.j=this.j,this.i=this.i}var OU=0;Jo.prototype.j=!1;Jo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),OU!=0)&&xU(this)};Jo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var QA=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},JA=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function NU(e){e:{for(var t=w$,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function KE(e){return Array.prototype.concat.apply([],arguments)}function L0(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jh(e){return/^[\s\xa0]*$/.test(e)}var YE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function qn(e,t){return e.indexOf(t)!=-1}function pv(e,t){return e<t?-1:e>t?1:0}var Wn;e:{var QE=Xe.navigator;if(QE){var JE=QE.userAgent;if(JE){Wn=JE;break e}}Wn=""}function V0(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ZA(e){var t={};for(var n in e)t[n]=e[n];return t}var ZE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eC(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<ZE.length;s++)n=ZE[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function F0(e){return F0[" "](e),e}F0[" "]=Qh;function PU(e,t){var n=MU;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var RU=qn(Wn,"Opera"),Go=qn(Wn,"Trident")||qn(Wn,"MSIE"),tC=qn(Wn,"Edge"),hy=tC||Go,nC=qn(Wn,"Gecko")&&!(qn(Wn.toLowerCase(),"webkit")&&!qn(Wn,"Edge"))&&!(qn(Wn,"Trident")||qn(Wn,"MSIE"))&&!qn(Wn,"Edge"),DU=qn(Wn.toLowerCase(),"webkit")&&!qn(Wn,"Edge");function rC(){var e=Xe.document;return e?e.documentMode:void 0}var Zh;e:{var mv="",gv=function(){var e=Wn;if(nC)return/rv:([^\);]+)(\)|;)/.exec(e);if(tC)return/Edge\/([\d\.]+)/.exec(e);if(Go)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(DU)return/WebKit\/(\S+)/.exec(e);if(RU)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(gv&&(mv=gv?gv[1]:""),Go){var vv=rC();if(vv!=null&&vv>parseFloat(mv)){Zh=String(vv);break e}}Zh=mv}var MU={};function iC(e){return PU(e,function(){for(var t=0,n=YE(String(Zh)).split("."),r=YE(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var u=n[s]||"",l=r[s]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],u[0].length==0&&l[0].length==0)break;t=pv(u[1].length==0?0:parseInt(u[1],10),l[1].length==0?0:parseInt(l[1],10))||pv(u[2].length==0,l[2].length==0)||pv(u[2],l[2]),u=u[3],l=l[3]}while(t==0)}return 0<=t})}var dy;if(Xe.document&&Go){var eT=rC();dy=eT||parseInt(Zh,10)||void 0}else dy=void 0;var oC=dy,j0=!Go||9<=Number(oC),LU=Go&&!iC("9"),VU=function(){if(!Xe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Xe.addEventListener("test",Qh,t),Xe.removeEventListener("test",Qh,t)}catch{}return e}();function Mn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Mn.prototype.b=function(){this.defaultPrevented=!0};function rc(e,t){if(Mn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(nC){e:{try{F0(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:FU[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Qn(rc,Mn);var FU={2:"touch",3:"pen",4:"mouse"};rc.prototype.b=function(){rc.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,LU)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Mc="closure_listenable_"+(1e6*Math.random()|0),jU=0;function UU(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++jU,this.Y=this.Z=!1}function Wd(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Xd(e){this.src=e,this.a={},this.b=0}Xd.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var u=my(e,t,r,i);return-1<u?(t=e[u],n||(t.Z=!1)):(t=new UU(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function py(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=QA(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wd(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function my(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var U0="closure_lm_"+(1e6*Math.random()|0),yv={};function $0(e,t,n,r,i){if(r&&r.once)return aC(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$0(e,t[s],n,r,i);return null}return n=H0(n),e&&e[Mc]?e.va(t,n,Dc(r)?!!r.capture:!!r,i):sC(e,t,n,!1,r,i)}function sC(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var u=Dc(i)?!!i.capture:!!i;if(u&&!j0)return null;var l=z0(e);if(l||(e[U0]=l=new Xd(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=$U(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)VU||(i=u),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(lC(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $U(){var e=BU,t=j0?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function aC(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)aC(e,t[s],n,r,i);return null}return n=H0(n),e&&e[Mc]?e.wa(t,n,Dc(r)?!!r.capture:!!r,i):sC(e,t,n,!0,r,i)}function uC(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)uC(e,t[s],n,r,i);else r=Dc(r)?!!r.capture:!!r,n=H0(n),e&&e[Mc]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=my(s,n,r,i),-1<n&&(Wd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=z0(e))&&(t=e.a[t.toString()],e=-1,t&&(e=my(t,n,r,i)),(n=-1<e?t[e]:null)&&B0(n))}function B0(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Mc])py(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(lC(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=z0(t))?(py(n,e),n.b==0&&(n.src=null,t[U0]=null)):Wd(e)}}}function lC(e){return e in yv?yv[e]:yv[e]="on"+e}function tT(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&B0(e),n.call(r,t)}function BU(e,t){if(e.Y)return!0;if(!j0){if(!t)e:{t=["window","event"];for(var n=Xe,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new rc(t,this),tT(e,t)}return tT(e,new rc(t,this))}function z0(e){return e=e[U0],e instanceof Xd?e:null}var bv="__closure_events_fn_"+(1e9*Math.random()>>>0);function H0(e){return typeof e=="function"?e:(e[bv]||(e[bv]=function(t){return e.handleEvent(t)}),e[bv])}function Or(){Jo.call(this),this.c=new Xd(this),this.J=this,this.C=null}Qn(Or,Jo);Or.prototype[Mc]=!0;ke=Or.prototype;ke.addEventListener=function(e,t,n,r){$0(this,e,t,n,r)};ke.removeEventListener=function(e,t,n,r){uC(this,e,t,n,r)};function Tn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Mn(t,e);else if(t instanceof Mn)t.target=t.target||e;else{var i=t;t=new Mn(r,e),eC(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.a=n[s];i=ah(u,r,!0,t)&&i}if(u=t.a=e,i=ah(u,r,!0,t)&&i,i=ah(u,r,!1,t)&&i,n)for(s=0;s<n.length;s++)u=t.a=n[s],i=ah(u,r,!1,t)&&i}ke.G=function(){if(Or.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Wd(n[r]);delete e.a[t],e.b--}}this.C=null};ke.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};ke.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function ah(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.Y&&u.capture==n){var l=u.listener,c=u.ca||u.src;u.Z&&py(e.c,u),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var G0=Xe.JSON.stringify;function cC(){this.b=this.a=null}var fC=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new q0},function(e){e.reset()});cC.prototype.add=function(e,t){var n=fC.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function zU(){var e=dC,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q0(){this.next=this.b=this.a=null}q0.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};q0.prototype.reset=function(){this.next=this.b=this.a=null};function HU(e){Xe.setTimeout(function(){throw e},0)}function hC(e,t){gy||GU(),vy||(gy(),vy=!0),dC.add(e,t)}var gy;function GU(){var e=Xe.Promise.resolve(void 0);gy=function(){e.then(qU)}}var vy=!1,dC=new cC;function qU(){for(var e;e=zU();){try{e.a.call(e.b)}catch(n){HU(n)}var t=fC;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}vy=!1}function Kd(e,t){Or.call(this),this.b=e||1,this.a=t||Xe,this.f=Dn(this.Za,this),this.g=Ri()}Qn(Kd,Or);ke=Kd.prototype;ke.aa=!1;ke.M=null;ke.Za=function(){if(this.aa){var e=Ri()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tn(this,"tick"),this.aa&&(W0(this),this.start()))}};ke.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ri())};function W0(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}ke.G=function(){Kd.X.G.call(this),W0(this),delete this.a};function X0(e,t,n){if(typeof e=="function")n&&(e=Dn(e,n));else if(e&&typeof e.handleEvent=="function")e=Dn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Xe.setTimeout(e,t||0)}function pC(e){e.a=X0(function(){e.a=null,e.c&&(e.c=!1,pC(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var WU=function(e){TU(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:pC(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Xe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Jo);function ic(e){Jo.call(this),this.b=e,this.a={}}Qn(ic,Jo);var nT=[];function mC(e,t,n,r){Array.isArray(n)||(n&&(nT[0]=n.toString()),n=nT);for(var i=0;i<n.length;i++){var s=$0(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function gC(e){V0(e.a,function(t,n){this.a.hasOwnProperty(n)&&B0(t)},e),e.a={}}ic.prototype.G=function(){ic.X.G.call(this),gC(this)};ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function K0(){this.a=!0}function XU(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var u="",l=s.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var p=d[0];d=d[1];var f=p.split("_");u=2<=f.length&&f[1]=="type"?u+(p+"="+d+"&"):u+(p+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+u})}function KU(e,t,n,r,i,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+u})}function qa(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+QU(e,n)+(r?" "+r:"")})}function YU(e,t){e.info(function(){return"TIMEOUT: "+t})}K0.prototype.info=function(){};function QU(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<i.length;u++)i[u]=""}}}}return G0(n)}catch{return t}}var na={},rT=null;function Yd(){return rT=rT||new Or}na.Fa="serverreachability";function vC(e){Mn.call(this,na.Fa,e)}Qn(vC,Mn);function oc(e){var t=Yd();Tn(t,new vC(t))}na.STAT_EVENT="statevent";function yC(e,t){Mn.call(this,na.STAT_EVENT,e),this.stat=t}Qn(yC,Mn);function Xn(e){var t=Yd();Tn(t,new yC(t,e))}na.Ga="timingevent";function bC(e){Mn.call(this,na.Ga,e)}Qn(bC,Mn);function Lc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Xe.setTimeout(function(){e()},t)}var Qd={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},wC={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _C(){}_C.prototype.a=null;function iT(e){var t;return(t=e.a)||(t=e.a={}),t}function SC(){}var Vc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Y0(){Mn.call(this,"d")}Qn(Y0,Mn);function Q0(){Mn.call(this,"c")}Qn(Q0,Mn);var EC;function TC(){}Qn(TC,_C);EC=new TC;function Fc(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new ic(this),this.P=JU,e=hy?125:void 0,this.R=new Kd(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var JU=45e3,IC={},yy={};ke=Fc.prototype;ke.setTimeout=function(e){this.P=e};function by(e,t,n){e.H=1,e.i=Zd(Qi(t)),e.j=n,e.I=!0,xC(e,null)}function xC(e,t){e.u=Ri(),jc(e),e.l=Qi(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),PC(n.b,"t",r),e.D=0,e.a=YC(e.g,e.g.C?t:null),0<e.O&&(e.F=new WU(Dn(e.Ca,e,e.a),e.O)),mC(e.J,e.a,"readystatechange",e.Xa),t=e.B?ZA(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),oc(),XU(e.c,e.m,e.l,e.f,e.S,e.j)}ke.Xa=function(e){e=e.target;var t=this.F;t&&No(e)==3?t.f():this.Ca(e)};ke.Ca=function(e){try{if(e==this.a)e:{var t=No(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!hy&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?oc(3):oc(2)),Jd(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,KU(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var u,l=this.a;if((u=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jh(u)){var c=u;break t}}c=null}if(c)qa(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,wy(this,c);else{this.b=!1,this.h=3,Xn(12),eu(this),ed(this);break e}}this.I?(AC(this,t,s),hy&&this.b&&t==3&&(mC(this.J,this.R,"tick",this.Wa),this.R.start())):(qa(this.c,this.f,s,null),wy(this,s)),t==4&&eu(this),this.b&&!this.A&&(t==4?qC(this.g,this):(this.b=!1,jc(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,Xn(12)):(this.h=0,Xn(13)),eu(this),ed(this)}}}catch{}finally{}};function AC(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=ZU(e,n);if(i==yy){t==4&&(e.h=4,Xn(14),r=!1),qa(e.c,e.f,null,"[Incomplete Response]");break}else if(i==IC){e.h=4,Xn(15),qa(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else qa(e.c,e.f,i,null),wy(e,i)}t==4&&n.length==0&&(e.h=1,Xn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ob(t),t.F=!0,Xn(11))):(qa(e.c,e.f,n,"[Invalid Chunked Response]"),eu(e),ed(e))}ke.Wa=function(){if(this.a){var e=No(this.a),t=this.a.$();this.D<t.length&&(Jd(this),AC(this,e,t),this.b&&e!=4&&jc(this))}};function ZU(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?yy:(n=Number(t.substring(n,r)),isNaN(n)?IC:(r+=1,r+n>t.length?yy:(t=t.substr(r,n),e.D=r+n,t)))}ke.cancel=function(){this.A=!0,eu(this)};function jc(e){e.T=Ri()+e.P,CC(e,e.P)}function CC(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Lc(Dn(e.Va,e),t)}function Jd(e){e.o&&(Xe.clearTimeout(e.o),e.o=null)}ke.Va=function(){this.o=null;var e=Ri();0<=e-this.T?(YU(this.c,this.l),this.H!=2&&(oc(),Xn(17)),eu(this),this.h=2,ed(this)):CC(this,this.T-e)};function ed(e){e.g.v==0||e.A||qC(e.g,e)}function eu(e){Jd(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,W0(e.R),gC(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function wy(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||_y(n.b,e))){if(n.I=e.N,!e.C&&_y(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)id(n),tp(n);else break e;ib(n),Xn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Lc(Dn(n.Sa,n),6e3));if(1>=MC(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else Ls(n,11)}else if((e.C||n.a==e)&&id(n),!Jh(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var u=i[4];u!=null&&(n.pa=u,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var d=e.a;if(d){var p=d.a?d.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var f=c.b;!f.a&&(qn(p,"spdy")||qn(p,"quic")||qn(p,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(eb(f,f.b),f.b=null))}if(c.A){var m=d.a?d.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,$t(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ri()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var v=e;if(c.la=KC(c,c.C?c.ga:null,c.fa),v.C){LC(c.b,v);var b=v,w=c.D;w&&b.setTimeout(w),b.o&&(Jd(b),jc(b)),c.a=v}else HC(c);0<n.g.length&&np(n)}else i[0]!="stop"&&i[0]!="close"||Ls(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?Ls(n,7):rb(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}oc(4)}catch{}}function e$(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(fy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function J0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(fy(e)||typeof e=="string")JA(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(fy(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=e$(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function ku(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ku)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ke=ku.prototype;ke.K=function(){Z0(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};ke.L=function(){return Z0(this),this.a.concat()};function Z0(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ws(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Ws(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}ke.get=function(e,t){return Ws(this.b,e)?this.b[e]:t};ke.set=function(e,t){Ws(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};ke.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Ws(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var kC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function t$(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xs(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Xs){this.a=t!==void 0?t:e.a,td(this,e.f),this.j=e.j,nd(this,e.c),rd(this,e.h),this.g=e.g,t=e.b;var n=new sc;n.c=t.c,t.a&&(n.a=new ku(t.a),n.b=t.b),oT(this,n),this.i=e.i}else e&&(n=String(e).match(kC))?(this.a=!!t,td(this,n[1]||"",!0),this.j=Ul(n[2]||""),nd(this,n[3]||"",!0),rd(this,n[4]),this.g=Ul(n[5]||"",!0),oT(this,n[6]||"",!0),this.i=Ul(n[7]||"")):(this.a=!!t,this.b=new sc(null,this.a))}Xs.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Dl(t,sT,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Dl(t,sT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Dl(n,n.charAt(0)=="/"?s$:o$,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Dl(n,u$)),e.join("")};function Qi(e){return new Xs(e)}function td(e,t,n){e.f=n?Ul(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function nd(e,t,n){e.c=n?Ul(t,!0):t}function rd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function oT(e,t,n){t instanceof sc?(e.b=t,l$(e.b,e.a)):(n||(t=Dl(t,a$)),e.b=new sc(t,e.a))}function $t(e,t,n){e.b.set(t,n)}function Zd(e){return $t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ri()).toString(36)),e}function n$(e){return e instanceof Xs?Qi(e):new Xs(e,void 0)}function r$(e,t,n,r){var i=new Xs(null,void 0);return e&&td(i,e),t&&nd(i,t),n&&rd(i,n),r&&(i.g=r),i}function Ul(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,i$),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function i$(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var sT=/[#\/\?@]/g,o$=/[#\?:]/g,s$=/[#\?]/g,a$=/[#\?@]/g,u$=/#/g;function sc(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Zo(e){e.a||(e.a=new ku,e.b=0,e.c&&t$(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ke=sc.prototype;ke.add=function(e,t){Zo(this),this.c=null,e=Ou(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function OC(e,t){Zo(e),t=Ou(e,t),Ws(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Ws(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Z0(e)))}function NC(e,t){return Zo(e),t=Ou(e,t),Ws(e.a.b,t)}ke.forEach=function(e,t){Zo(this),this.a.forEach(function(n,r){JA(n,function(i){e.call(t,i,r,this)},this)},this)};ke.L=function(){Zo(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ke.K=function(e){Zo(this);var t=[];if(typeof e=="string")NC(this,e)&&(t=KE(t,this.a.get(Ou(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=KE(t,e[n])}return t};ke.set=function(e,t){return Zo(this),this.c=null,e=Ou(this,e),NC(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};ke.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function PC(e,t,n){OC(e,t),0<n.length&&(e.c=null,e.a.set(Ou(e,t),L0(n)),e.b+=n.length)}ke.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var u=i;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.c=e.join("&")};function Ou(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function l$(e,t){t&&!e.f&&(Zo(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OC(this,r),PC(this,i,n))},e)),e.f=t}var c$=function(){function e(t,n){this.b=t,this.a=n}return e}();function RC(e){this.g=e||f$,Xe.PerformanceNavigationTiming?(e=Xe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Xe.ia&&Xe.ia.ya&&Xe.ia.ya()&&Xe.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var f$=10;function DC(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function MC(e){return e.b?1:e.a?e.a.size:0}function _y(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function eb(e,t){e.a?e.a.add(t):e.b=t}function LC(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}RC.prototype.cancel=function(){var e,t;if(this.c=VC(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=YA(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function VC(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=YA(e.a.values()),s=i.next();!s.done;s=i.next()){var u=s.value;r=r.concat(u.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return L0(e.c)}function tb(){}tb.prototype.stringify=function(e){return Xe.JSON.stringify(e,void 0)};tb.prototype.parse=function(e){return Xe.JSON.parse(e,void 0)};function h$(){this.a=new tb}function d$(e,t,n){var r=n||"";try{J0(e,function(i,s){var u=i;Dc(i)&&(u=G0(i)),t.push(r+s+"="+encodeURIComponent(u))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function p$(e,t){var n=new K0;if(Xe.Image){var r=new Image;r.onload=sh(uh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sh(uh,n,r,"TestLoadImage: error",!1,t),r.onabort=sh(uh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sh(uh,n,r,"TestLoadImage: timeout",!1,t),Xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function uh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var m$=Xe.JSON.parse;function dn(e){Or.call(this),this.headers=new ku,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=g$,this.D=this.F=!1}Qn(dn,Or);var g$="",v$=/^https?$/i,y$=["POST","PUT"];ke=dn.prototype;ke.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?iT(this.H):iT(EC),this.a.onreadystatechange=Dn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){aT(this,s);return}e=n||"";var i=new ku(this.headers);r&&J0(r,function(s,u){i.set(u,s)}),r=NU(i.L()),n=Xe.FormData&&e instanceof Xe.FormData,!(0<=QA(y$,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,u){this.a.setRequestHeader(u,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{UC(this),0<this.o&&((this.D=b$(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Dn(this.xa,this)):this.m=X0(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){aT(this,s)}};function b$(e){return Go&&iC(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function w$(e){return e.toLowerCase()=="content-type"}ke.xa=function(){typeof M0<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tn(this,"timeout"),this.abort(8))};function aT(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,FC(e),ep(e)}function FC(e){e.u||(e.u=!0,Tn(e,"complete"),Tn(e,"error"))}ke.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Tn(this,"complete"),Tn(this,"abort"),ep(this))};ke.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ep(this,!0)),dn.X.G.call(this)};ke.za=function(){this.j||(this.A||this.l||this.g?jC(this):this.Ua())};ke.Ua=function(){jC(this)};function jC(e){if(e.b&&typeof M0<"u"&&(!e.s[1]||No(e)!=4||e.W()!=2)){if(e.l&&No(e)==4)X0(e.za,0,e);else if(Tn(e,"readystatechange"),No(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(kC)[1]||null;if(!s&&Xe.self&&Xe.self.location){var u=Xe.self.location.protocol;s=u.substr(0,u.length-1)}i=!v$.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)Tn(e,"complete"),Tn(e,"success");else{e.h=6;try{var c=2<No(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",FC(e)}}finally{ep(e)}}}}function ep(e,t){if(e.a){UC(e);var n=e.a,r=e.s[0]?Qh:null;e.a=null,e.s=null,t||Tn(e,"ready");try{n.onreadystatechange=r}catch{}}}function UC(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Xe.clearTimeout(e.m),e.m=null)}function No(e){return e.a?e.a.readyState:0}ke.W=function(){try{return 2<No(this)?this.a.status:-1}catch{return-1}};ke.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};ke.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),m$(t)}};ke.ua=function(){return this.h};ke.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function _$(e){var t="";return V0(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function nb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_$(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):$t(e,t,n))}function Tl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $C(e){this.pa=0,this.g=[],this.c=new K0,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Tl("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Tl("baseRetryDelayMs",5e3,e),this.Ra=Tl("retryDelaySeedMs",1e4,e),this.Ma=Tl("forwardChannelMaxRetries",2,e),this.ma=Tl("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new RC(e&&e.concurrentRequestLimit),this.ka=new h$,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}ke=$C.prototype;ke.ha=8;ke.v=1;function rb(e){if(BC(e),e.v==3){var t=e.R++,n=Qi(e.B);$t(n,"SID",e.J),$t(n,"RID",t),$t(n,"TYPE","terminate"),Uc(e,n),t=new Fc(e,e.c,t,void 0),t.H=2,t.i=Zd(Qi(n)),n=!1,Xe.navigator&&Xe.navigator.sendBeacon&&(n=Xe.navigator.sendBeacon(t.i.toString(),"")),!n&&Xe.Image&&(new Image().src=t.i,n=!0),n||(t.a=YC(t.g,null),t.a.ba(t.i)),t.u=Ri(),jc(t)}XC(e)}function tp(e){e.a&&(ob(e),e.a.cancel(),e.a=null)}function BC(e){tp(e),e.j&&(Xe.clearTimeout(e.j),e.j=null),id(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&Xe.clearTimeout(e.h),e.h=null)}function wv(e,t){e.g.push(new c$(e.Oa++,t)),e.v==3&&np(e)}function np(e){DC(e.b)||e.h||(e.h=!0,hC(e.Ba,e),e.u=0)}function S$(e,t){return MC(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Lc(Dn(e.Ba,e,t),WC(e,e.u)),e.u++,!0)}ke.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Fc(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=ZA(n),eC(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zC(this,t,r),i=Qi(this.B),$t(i,"RID",e),$t(i,"CVER",22),this.A&&$t(i,"X-HTTP-Session-Id",this.A),Uc(this,i),this.i&&n&&nb(i,this.i,n),eb(this.b,t),this.Ia&&$t(i,"TYPE","init"),this.da?($t(i,"$req",r),$t(i,"SID","null"),t.U=!0,by(t,i,null)):by(t,i,r),this.v=2}}else this.v==3&&(e?uT(this,e):this.g.length==0||DC(this.b)||uT(this))};function uT(e,t){var n;t?n=t.f:n=e.R++;var r=Qi(e.B);$t(r,"SID",e.J),$t(r,"RID",n),$t(r,"AID",e.P),Uc(e,r),e.i&&e.l&&nb(r,e.i,e.l),n=new Fc(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=zC(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),eb(e.b,n),by(n,r,t)}function Uc(e,t){e.f&&J0({},function(n,r){$t(t,r,n)})}function zC(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Dn(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var u=["count="+n];s==-1?0<n?(s=i[0].b,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var d=i[c].b,p=i[c].a;if(d-=s,0>d)s=Math.max(0,i[c].b-100),l=!1;else try{d$(p,u,"req"+d+"_")}catch{r&&r(p)}}if(l){r=u.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function HC(e){e.a||e.j||(e.T=1,hC(e.Aa,e),e.o=0)}function ib(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Lc(Dn(e.Aa,e),WC(e,e.o)),e.o++,!0)}ke.Aa=function(){if(this.j=null,GC(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Lc(Dn(this.Ta,this),e)}};ke.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Xn(10),tp(this),GC(this))};function ob(e){e.s!=null&&(Xe.clearTimeout(e.s),e.s=null)}function GC(e){e.a=new Fc(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Qi(e.la);$t(t,"RID","rpc"),$t(t,"SID",e.J),$t(t,"CI",e.H?"0":"1"),$t(t,"AID",e.P),Uc(e,t),$t(t,"TYPE","xmlhttp"),e.i&&e.l&&nb(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Zd(Qi(t)),n.j=null,n.I=!0,xC(n,e)}ke.Sa=function(){this.m!=null&&(this.m=null,tp(this),ib(this),Xn(19))};function id(e){e.m!=null&&(Xe.clearTimeout(e.m),e.m=null)}function qC(e,t){var n=null;if(e.a==t){id(e),ob(e),e.a=null;var r=2}else if(_y(e.b,t))n=t.s,LC(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Ri()-t.u;var i=e.u;r=Yd(),Tn(r,new bC(r)),np(e)}else HC(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&S$(e,t)||r==2&&ib(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Ls(e,5);break;case 4:Ls(e,10);break;case 3:Ls(e,6);break;default:Ls(e,2)}}}function WC(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Ls(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Dn(e.Ya,e);n||(n=new Xs("//www.google.com/images/cleardot.gif"),Xe.location&&Xe.location.protocol=="http"||td(n,"https"),Zd(n)),p$(n.toString(),r)}else Xn(2);e.v=0,e.f&&e.f.ra(t),XC(e),BC(e)}ke.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Xn(2)):(this.c.info("Failed to ping google.com"),Xn(1))};function XC(e){e.v=0,e.I=-1,e.f&&((VC(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,L0(e.g),e.g.length=0),e.f.qa())}function KC(e,t,n){var r=n$(n);if(r.c!="")t&&nd(r,t+"."+r.c),rd(r,r.h);else{var i=Xe.location;r=r$(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&V0(e.V,function(s,u){$t(r,u,s)}),t=e.A,n=e.na,t&&n&&$t(r,t,n),$t(r,"VER",e.ha),Uc(e,r),r}function YC(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new dn(e.Na),t.F=e.C,t}function QC(){}ke=QC.prototype;ke.ta=function(){};ke.sa=function(){};ke.ra=function(){};ke.qa=function(){};ke.Ja=function(){};function od(){if(Go&&!(10<=Number(oC)))throw Error("Environmental error: no available transport.")}od.prototype.a=function(e,t){return new Nr(e,t)};function Nr(e,t){Or.call(this),this.a=new $C(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jh(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jh(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Nu(this)}Qn(Nr,Or);Nr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Xn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=KC(e,null,e.fa),np(e)};Nr.prototype.close=function(){rb(this.a)};Nr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,wv(this.a,t)}else this.l?(t={},t.__data__=G0(e),wv(this.a,t)):wv(this.a,e)};Nr.prototype.G=function(){this.a.f=null,delete this.f,rb(this.a),delete this.a,Nr.X.G.call(this)};function JC(e){Y0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Qn(JC,Y0);function ZC(){Q0.call(this),this.status=1}Qn(ZC,Q0);function Nu(e){this.a=e}Qn(Nu,QC);Nu.prototype.ta=function(){Tn(this.a,"a")};Nu.prototype.sa=function(e){Tn(this.a,new JC(e))};Nu.prototype.ra=function(e){Tn(this.a,new ZC)};Nu.prototype.qa=function(){Tn(this.a,"b")};od.prototype.createWebChannel=od.prototype.a;Nr.prototype.send=Nr.prototype.h;Nr.prototype.open=Nr.prototype.g;Nr.prototype.close=Nr.prototype.close;Qd.NO_ERROR=0;Qd.TIMEOUT=8;Qd.HTTP_ERROR=6;wC.COMPLETE="complete";SC.EventType=Vc;Vc.OPEN="a";Vc.CLOSE="b";Vc.ERROR="c";Vc.MESSAGE="d";Or.prototype.listen=Or.prototype.va;dn.prototype.listenOnce=dn.prototype.wa;dn.prototype.getLastError=dn.prototype.Qa;dn.prototype.getLastErrorCode=dn.prototype.ua;dn.prototype.getStatus=dn.prototype.W;dn.prototype.getResponseJson=dn.prototype.Pa;dn.prototype.getResponseText=dn.prototype.$;dn.prototype.send=dn.prototype.ba;var E$=function(){return new od},T$=function(){return Yd()},_v=Qd,I$=wC,x$=na,lT={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},lh=SC,A$=dn;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sy=function(e,t){return Sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Sy(e,t)};function _e(e,t){Sy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ee(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{d(r.next(p))}catch(f){u(f)}}function c(p){try{d(r.throw(p))}catch(f){u(f)}}function d(p){p.done?s(p.value):i(p.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function J(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return c([d,p])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Nn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,i++)r[i]=s[u];return r}var C$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k$=function(e,t,n,r,i,s){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},sd=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),si=new WA("@firebase/firestore");function Ey(){return si.logLevel}function fe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=pt.DEBUG){var r=t.map(sb);si.debug.apply(si,Nn(["Firestore (8.2.7): "+e],r))}}function sn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=pt.ERROR){var r=t.map(sb);si.error.apply(si,Nn(["Firestore (8.2.7): "+e],r))}}function Ty(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=pt.WARN){var r=t.map(sb);si.warn.apply(si,Nn(["Firestore (8.2.7): "+e],r))}}function sb(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+e;throw sn(t),new Error(t)}function Ue(e,t){e||Ce()}function be(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ek=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=O$(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function it(e,t){return e<t?-1:e>t?1:0}function au(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function tk(e){return e+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr=function(){function e(t){this.h=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.h,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.h)},e.prototype.l=function(){return 2*this.h.length},e.prototype._=function(t){return it(this.h,t.h)},e.prototype.isEqual=function(t){return this.h===t.h},e}();fr.T=new fr("");var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return _e(t,e),t}(Error),Ks=function(){function e(t){this.I=t}return e.fromBase64String=function(t){try{return new e(fr.fromBase64String(t))}catch(n){throw new ne(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(fr.fromUint8Array(t))},e.prototype.toBase64=function(){return this.I.toBase64()},e.prototype.toUint8Array=function(){return this.I.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this.I.isEqual(t.I)},e}(),_r=function(){function e(t){this.uid=t}return e.prototype.m=function(){return this.uid!=null},e.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();_r.UNAUTHENTICATED=new _r(null),_r.R=new _r("google-credentials-uid"),_r.P=new _r("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$=function(e,t){this.user=t,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+e},cT=function(){function e(){this.V=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.p=function(){},e.prototype.v=function(t){this.V=t,t(_r.UNAUTHENTICATED)},e.prototype.S=function(){this.V=null},e}(),P$=function(){function e(t){var n=this;this.D=null,this.currentUser=_r.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.N!==n?(fe("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(Ue(typeof i.accessToken=="string"),new N$(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.p=function(){this.forceRefresh=!0},e.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},e.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},e.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Ue(t===null||typeof t=="string"),new _r(t)},e}(),R$=function(){function e(t,n){this.F=t,this.O=n,this.type="FirstParty",this.user=_r.P}return Object.defineProperty(e.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),t},enumerable:!1,configurable:!0}),e}(),D$=function(){function e(t,n){this.F=t,this.O=n}return e.prototype.getToken=function(){return Promise.resolve(new R$(this.F,this.O))},e.prototype.v=function(t){t(_r.P)},e.prototype.S=function(){},e.prototype.p=function(){},e}(),Er=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return e.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},e}();Er.q=-1;var lr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ne(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.U=function(t){return this.seconds===t.seconds?it(this.nanoseconds,t.nanoseconds):it(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),tt=function(){function e(t){this.timestamp=t}return e.K=function(t){return new e(t)},e.min=function(){return new e(new lr(0,0))},e.prototype._=function(t){return this.timestamp.U(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.j=function(){return this.timestamp},e}(),nk=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Ce(),r===void 0?r=t.length-n:r>t.length-n&&Ce(),this.segments=t,this.offset=n,this.G=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.H(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.J(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.Y=function(t){return t=t===void 0?1:t,this.J(this.segments,this.offset+t,this.length-t)},e.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},e.prototype.Z=function(){return this.segments[this.offset]},e.prototype.tt=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.et=function(){return this.length===0},e.prototype.nt=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},e.H=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),u=n.get(i);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),yt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.prototype.rt=function(){return this.it().join("/")},t.prototype.toString=function(){return this.rt()},t.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new ne(B.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.ct=function(){return new t([])},t}(nk),M$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ui=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.at=function(n){return M$.test(n)},t.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.at(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.rt()},t.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},t.ht=function(){return new t(["__name__"])},t.lt=function(n){for(var r=[],i="",s=0,u=function(){if(i.length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new ne(B.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ne(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(u(),s++)}if(u(),l)throw new ne(B.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.ct=function(){return new t([])},t}(nk),De=function(){function e(t){this.path=t}return e._t=function(t){return new e(yt.ot(t))},e.ft=function(t){return new e(yt.ot(t).Y(5))},e.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&yt.H(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.H=function(t,n){return yt.H(t.path,n.path)},e.wt=function(t){return t.length%2==0},e.Et=function(t){return new e(new yt(t.slice()))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uu=function(){function e(t){this.fields=t,t.sort(ui.H)}return e.prototype.Tt=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(t))return!0;return!1},e.prototype.isEqual=function(t){return au(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),L$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(e){if(Ue(!!e),typeof e=="string"){var t=0,n=L$.exec(e);if(Ue(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:on(e.seconds),nanos:on(e.nanos)}}function on(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function lu(e){return typeof e=="string"?fr.fromBase64String(e):fr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ik(e){var t=e.mapValue.fields.__previous_value__;return ab(t)?ik(t):t}function ac(e){var t=qo(e.mapValue.fields.__local_write_time__.timestampValue);return new lr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(e){return e==null}function ad(e){return e===0&&1/e==-1/0}function ok(e){return typeof e=="number"&&Number.isInteger(e)&&!ad(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ab(e)?4:10:Ce()}function ki(e,t){var n=Wo(e);if(n!==Wo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ac(e).isEqual(ac(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=qo(r.timestampValue),u=qo(i.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return lu(r.bytesValue).isEqual(lu(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return on(r.geoPointValue.latitude)===on(i.geoPointValue.latitude)&&on(r.geoPointValue.longitude)===on(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return on(r.integerValue)===on(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=on(r.doubleValue),u=on(i.doubleValue);return s===u?ad(s)===ad(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return au(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:return function(r,i){var s=r.mapValue.fields||{},u=i.mapValue.fields||{};if(fT(s)!==fT(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!ki(s[l],u[l])))return!1;return!0}(e,t);default:return Ce()}}function uc(e,t){return(e.values||[]).find(function(n){return ki(n,t)})!==void 0}function cu(e,t){var n=Wo(e),r=Wo(t);if(n!==r)return it(n,r);switch(n){case 0:return 0;case 1:return it(e.booleanValue,t.booleanValue);case 2:return function(i,s){var u=on(i.integerValue||i.doubleValue),l=on(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return hT(e.timestampValue,t.timestampValue);case 4:return hT(ac(e),ac(t));case 5:return it(e.stringValue,t.stringValue);case 6:return function(i,s){var u=lu(i),l=lu(s);return u._(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var u=i.split("/"),l=s.split("/"),c=0;c<u.length&&c<l.length;c++){var d=it(u[c],l[c]);if(d!==0)return d}return it(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var u=it(on(i.latitude),on(s.latitude));return u!==0?u:it(on(i.longitude),on(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var u=i.values||[],l=s.values||[],c=0;c<u.length&&c<l.length;++c){var d=cu(u[c],l[c]);if(d)return d}return it(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var u=i.fields||{},l=Object.keys(u),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var f=it(l[p],d[p]);if(f!==0)return f;var m=cu(u[l[p]],c[d[p]]);if(m!==0)return m}return it(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Ce()}}function hT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return it(e,t);var n=qo(e),r=qo(t),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function ub(e){return Iy(e)}function Iy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=qo(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,De.ft(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:i+=",",i+=Iy(l[u]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var c=l[u];s?s=!1:i+=",",i+=c+":"+Iy(r.fields[c])}return i+"}"}(e.mapValue):Ce();var t,n}function ud(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.rt()}}function xy(e){return!!e&&"integerValue"in e}function lb(e){return!!e&&"arrayValue"in e}function dT(e){return!!e&&"nullValue"in e}function pT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cb(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(){function e(t){this.proto=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.et())return this.proto;for(var n=this.proto,r=0;r<t.length-1;++r)if(!n.mapValue.fields||!cb(n=n.mapValue.fields[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.tt()])||null},e.prototype.isEqual=function(t){return ki(this.proto,t.proto)},e}(),Bc=function(){function e(t){t===void 0&&(t=Xo.empty()),this.It=t,this.At=new Map}return e.prototype.set=function(t,n){return this.Rt(t,n),this},e.prototype.delete=function(t){return this.Rt(t,null),this},e.prototype.Rt=function(t,n){for(var r=this.At,i=0;i<t.length-1;++i){var s=t.get(i),u=r.get(s);u instanceof Map?r=u:u&&Wo(u)===10?(u=new Map(Object.entries(u.mapValue.fields||{})),r.set(s,u),r=u):(u=new Map,r.set(s,u),r=u)}r.set(t.tt(),n)},e.prototype.Pt=function(){var t=this.yt(ui.ct(),this.At);return t!=null?new Xo(t):this.It},e.prototype.yt=function(t,n){var r=this,i=!1,s=this.It.field(t),u=cb(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var d=r.yt(t.child(c),l);d!=null&&(u[c]=d,i=!0)}else l!==null?(u[c]=l,i=!0):u.hasOwnProperty(c)&&(delete u[c],i=!0)}),i?{mapValue:{fields:u}}:null},e}();function sk(e){var t=[];return $c(e.fields||{},function(n,r){var i=new ui([n]);if(cb(r)){var s=sk(r.mapValue).fields;if(s.length===0)t.push(i);else for(var u=0,l=s;u<l.length;u++){var c=l[u];t.push(i.child(c))}}else t.push(i)}),new uu(t)}var fb=function(e,t){this.key=e,this.version=t},Ct=function(e){function t(n,r,i,s){var u=this;return(u=e.call(this,n,r)||this).gt=i,u.Vt=!!s.Vt,u.hasCommittedMutations=!!s.hasCommittedMutations,u}return _e(t,e),t.prototype.field=function(n){return this.gt.field(n)},t.prototype.data=function(){return this.gt},t.prototype.bt=function(){return this.gt.proto},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(fb),wn=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return _e(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(fb),hb=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(fb),V$=function(e,t,n,r,i,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=u,this.vt=null};function mT(e,t,n,r,i,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),u===void 0&&(u=null),new V$(e,t,n,r,i,s,u)}function zc(e){var t=be(e);if(t.vt===null){var n=t.path.rt();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+ub(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),ra(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=cd(t.startAt)),t.endAt&&(n+="|ub:",n+=cd(t.endAt)),t.vt=n}return t.vt}function rp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!G$(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!ki(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vT(e.startAt,t.startAt)&&vT(e.endAt,t.endAt)}function ld(e){return De.wt(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Tr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return _e(t,e),t.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new F$(n,r,i):r==="array-contains"?new $$(n,i):r==="in"?new B$(n,i):r==="not-in"?new z$(n,i):r==="array-contains-any"?new H$(n,i):new t(n,r,i)},t.St=function(n,r,i){return r==="in"?new j$(n,i):new U$(n,i)},t.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(cu(r,this.value)):r!==null&&Wo(this.value)===Wo(r)&&this.Dt(cu(r,this.value))},t.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ce()}},t.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),F$=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=De.ft(i.referenceValue),s}return _e(t,e),t.prototype.matches=function(n){var r=De.H(n.key,this.key);return this.Dt(r)},t}(Tr),j$=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=ak("in",r),i}return _e(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Tr),U$=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=ak("not-in",r),i}return _e(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Tr);function ak(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return De.ft(r.referenceValue)})}var $$=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return lb(r)&&uc(r.arrayValue,this.value)},t}(Tr),B$=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&uc(this.value.arrayValue,r)},t}(Tr),z$=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return _e(t,e),t.prototype.matches=function(n){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!uc(this.value.arrayValue,r)},t}(Tr),H$=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return _e(t,e),t.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!lb(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return uc(r.value.arrayValue,s)})},t}(Tr),lc=function(e,t){this.position=e,this.before=t};function cd(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return ub(t)}).join(",")}var tu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function G$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function gT(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],u=e.position[i];if(r=s.field.ut()?De.H(De.ft(u.referenceValue),n.key):cu(u,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function vT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi=function(e,t,n,r,i,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=u,this.endAt=l,this.Nt=null,this.$t=null,this.startAt,this.endAt};function uk(e,t,n,r,i,s,u,l){return new Zi(e,t,n,r,i,s,u,l)}function Hc(e){return new Zi(e)}function kh(e){return!ra(e.limit)&&e.limitType==="F"}function fd(e){return!ra(e.limit)&&e.limitType==="L"}function db(e){return e.xt.length>0?e.xt[0].field:null}function pb(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.Ct())return r.field}return null}function mb(e){return e.collectionGroup!==null}function fu(e){var t=be(e);if(t.Nt===null){t.Nt=[];var n=pb(t),r=db(t);if(n!==null&&r===null)n.ut()||t.Nt.push(new tu(n)),t.Nt.push(new tu(ui.ht(),"asc"));else{for(var i=!1,s=0,u=t.xt;s<u.length;s++){var l=u[s];t.Nt.push(l),l.field.ut()&&(i=!0)}if(!i){var c=t.xt.length>0?t.xt[t.xt.length-1].dir:"asc";t.Nt.push(new tu(ui.ht(),c))}}}return t.Nt}function Oi(e){var t=be(e);if(!t.$t)if(t.limitType==="F")t.$t=mT(t.path,t.collectionGroup,fu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=fu(t);r<i.length;r++){var s=i[r],u=s.dir==="desc"?"asc":"desc";n.push(new tu(s.field,u))}var l=t.endAt?new lc(t.endAt.position,!t.endAt.before):null,c=t.startAt?new lc(t.startAt.position,!t.startAt.before):null;t.$t=mT(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.$t}function lk(e,t,n){return new Zi(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gc(e,t){return rp(Oi(e),Oi(t))&&e.limitType===t.limitType}function ck(e){return zc(Oi(e))+"|lt:"+e.limitType}function Ay(e){return"Query(target="+function(t){var n=t.path.rt();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+ub(i.value);var i}).join(", ")+"]"),ra(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+cd(t.startAt)),t.endAt&&(n+=", endAt: "+cd(t.endAt)),"Target("+n+")"}(Oi(e))+"; limitType="+e.limitType+")"}function qc(e,t){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):De.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(e,t)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var u=s[i];if(!u.field.ut()&&r.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!gT(n.startAt,fu(n),r))&&(!n.endAt||!gT(n.endAt,fu(n),r))}(e,t)}function fk(e){return function(t,n){for(var r=!1,i=0,s=fu(e);i<s.length;i++){var u=s[i],l=q$(u,t,n);if(l!==0)return l;r=r||u.field.ut()}return 0}}function q$(e,t,n){var r=e.field.ut()?De.H(t.key,n.key):function(i,s,u){var l=s.field(i),c=u.field(i);return l!==null&&c!==null?cu(l,c):Ce()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip=function(){function e(t,n,r,i,s,u,l){s===void 0&&(s=tt.min()),u===void 0&&(u=tt.min()),l===void 0&&(l=fr.T),this.target=t,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.kt=function(t){return new e(this.target,this.targetId,this.Ft,t,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Mt=function(t,n){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Lt=function(t){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,t,this.resumeToken)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e,t){if(e.Bt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(t)?"-0":t}}function dk(e){return{integerValue:""+e}}function pk(e,t){return ok(t)?dk(t):hk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){this.qt=void 0};function W$(e,t,n){return e instanceof hu?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Ys?gk(e,t):e instanceof Qs?vk(e,t):function(r,i){var s=mk(r,i),u=yT(s)+yT(r.Ut);return xy(s)&&xy(r.Ut)?dk(u):hk(r.Qt,u)}(e,t)}function X$(e,t,n){return e instanceof Ys?gk(e,t):e instanceof Qs?vk(e,t):n}function mk(e,t){return e instanceof du?xy(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var hu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t}(op),Ys=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return _e(t,e),t}(op);function gk(e,t){for(var n=yk(t),r=function(u){n.some(function(l){return ki(l,u)})||n.push(u)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Qs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return _e(t,e),t}(op);function vk(e,t){for(var n=yk(t),r=function(u){n=n.filter(function(l){return!ki(l,u)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var du=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qt=n,i.Ut=r,i}return _e(t,e),t}(op);function yT(e){return on(e.integerValue||e.doubleValue)}function yk(e){return lb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wc=function(e,t){this.field=e,this.transform=t},K$=function(e,t){this.version=e,this.transformResults=t},Pn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.Kt=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Oh(e,t){return e.updateTime!==void 0?t instanceof Ct&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t instanceof Ct}var sp=function(){};function Y$(e,t,n){return e instanceof Xc?function(r,i,s){var u=r.value;if(s.transformResults){var l=_T(r.fieldTransforms,i,s.transformResults);u=gb(r.fieldTransforms,u,l)}return new Ct(r.key,s.version,u,{hasCommittedMutations:!0})}(e,t,n):e instanceof es?function(r,i,s){if(!Oh(r.jt,i))return new hb(r.key,s.version);var u=bk(r,i,s.transformResults?_T(r.fieldTransforms,i,s.transformResults):[]);return new Ct(r.key,s.version,u,{hasCommittedMutations:!0})}(e,t,n):function(r,i,s){return new wn(r.key,s.version,{hasCommittedMutations:!0})}(e,0,n)}function Cy(e,t,n){return e instanceof Xc?function(r,i,s){if(!Oh(r.jt,i))return i;var u=r.value,l=ST(r.fieldTransforms,s,i);u=gb(r.fieldTransforms,u,l);var c=wT(i);return new Ct(r.key,c,u,{Vt:!0})}(e,t,n):e instanceof es?function(r,i,s){if(!Oh(r.jt,i))return i;var u=wT(i),l=bk(r,i,ST(r.fieldTransforms,s,i));return new Ct(r.key,u,l,{Vt:!0})}(e,t,n):function(r,i){return Oh(r.jt,i)?new wn(r.key,tt.min()):i}(e,t)}function Q$(e,t){return function(n,r){for(var i=null,s=0,u=n;s<u.length;s++){var l=u[s],c=r instanceof Ct?r.field(l.field):void 0,d=mk(l.transform,c||null);d!=null&&(i=i==null?new Bc().set(l.field,d):i.set(l.field,d))}return i?i.Pt():null}(e.fieldTransforms,t)}function bT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.jt.isEqual(t.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&au(n,r,function(i,s){return function(u,l){return u.field.isEqual(l.field)&&function(c,d){return c instanceof Ys&&d instanceof Ys||c instanceof Qs&&d instanceof Qs?au(c.elements,d.elements,ki):c instanceof du&&d instanceof du?ki(c.Ut,d.Ut):c instanceof hu&&d instanceof hu}(u.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.Gt.isEqual(t.Gt))}function wT(e){return e instanceof Ct?e.version:tt.min()}var Xc=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.jt=i,u.fieldTransforms=s,u.type=0,u}return _e(t,e),t}(sp),es=function(e){function t(n,r,i,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.Gt=i,l.jt=s,l.fieldTransforms=u,l.type=1,l}return _e(t,e),t}(sp);function bk(e,t,n){var r;return r=function(i,s){var u=new Bc(s);return i.Gt.fields.forEach(function(l){if(!l.et()){var c=i.data.field(l);c!==null?u.set(l,c):u.delete(l)}}),u.Pt()}(e,r=t instanceof Ct?t.data():Xo.empty()),r=gb(e.fieldTransforms,r,n)}function _T(e,t,n){var r=[];Ue(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],u=s.transform,l=null;t instanceof Ct&&(l=t.field(s.field)),r.push(X$(u,l,n[i]))}return r}function ST(e,t,n){for(var r=[],i=0,s=e;i<s.length;i++){var u=s[i],l=u.transform,c=null;n instanceof Ct&&(c=n.field(u.field)),r.push(W$(l,c,t))}return r}function gb(e,t,n){for(var r=new Bc(t),i=0;i<e.length;i++){var s=e[i];r.set(s.field,n[i])}return r.Pt()}var nn,st,Kc=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return _e(t,e),t}(sp),vb=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return _e(t,e),t}(sp),J$=function(e){this.count=e};function wk(e){switch(e){case B.OK:return Ce();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return Ce()}}function _k(e){if(e===void 0)return sn("GRPC error has no .code"),B.UNKNOWN;switch(e){case nn.OK:return B.OK;case nn.CANCELLED:return B.CANCELLED;case nn.UNKNOWN:return B.UNKNOWN;case nn.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case nn.INTERNAL:return B.INTERNAL;case nn.UNAVAILABLE:return B.UNAVAILABLE;case nn.UNAUTHENTICATED:return B.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case nn.NOT_FOUND:return B.NOT_FOUND;case nn.ALREADY_EXISTS:return B.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return B.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case nn.ABORTED:return B.ABORTED;case nn.OUT_OF_RANGE:return B.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return B.UNIMPLEMENTED;case nn.DATA_LOSS:return B.DATA_LOSS;default:return Ce()}}(st=nn||(nn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function e(t,n){this.H=t,this.root=n||Ao.EMPTY}return e.prototype.zt=function(t,n){return new e(this.H,this.root.zt(t,n,this.H).copy(null,null,Ao.Ht,null,null))},e.prototype.remove=function(t){return new e(this.H,this.root.remove(t,this.H).copy(null,null,Ao.Ht,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.et();){var r=this.H(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.et();){var i=this.H(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.et=function(){return this.root.et()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.Jt=function(){return this.root.Jt()},e.prototype.Yt=function(){return this.root.Yt()},e.prototype.Xt=function(t){return this.root.Xt(t)},e.prototype.forEach=function(t){this.Xt(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.Xt(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.Zt=function(t){return this.root.Zt(t)},e.prototype.te=function(){return new ch(this.root,null,this.H,!1)},e.prototype.ee=function(t){return new ch(this.root,t,this.H,!1)},e.prototype.ne=function(){return new ch(this.root,null,this.H,!0)},e.prototype.se=function(t){return new ch(this.root,t,this.H,!0)},e}(),ch=function(){function e(t,n,r,i){this.ie=i,this.re=[];for(var s=1;!t.et();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.ie?t.left:t.right;else{if(s===0){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return e.prototype.oe=function(){var t=this.re.pop(),n={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return n},e.prototype.ce=function(){return this.re.length>0},e.prototype.ae=function(){if(this.re.length===0)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},e}(),Ao=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.et=function(){return!1},e.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},e.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},e.prototype.min=function(){return this.left.et()?this:this.left.min()},e.prototype.Jt=function(){return this.min().key},e.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},e.prototype.zt=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(t,n,r))).ue()},e.prototype.he=function(){if(this.left.et())return e.EMPTY;var t=this;return t.left.le()||t.left.left.le()||(t=t._e()),(t=t.copy(null,null,null,t.left.he(),null)).ue()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(t,i.key)===0){if(i.right.et())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.ue()},e.prototype.le=function(){return this.color},e.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},e.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},e.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},e.prototype.we=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.fe=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},e.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw Ce();var t=this.left.Ie();if(t!==this.right.Ie())throw Ce();return t+(this.le()?0:1)},e}();Ao.EMPTY=null,Ao.RED=!0,Ao.Ht=!1,Ao.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ce()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ce()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ce()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ce()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ce()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.zt=function(t,n,r){return new Ao(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.et=function(){return!0},e.prototype.Xt=function(t){return!1},e.prototype.Zt=function(t){return!1},e.prototype.Jt=function(){return null},e.prototype.Yt=function(){return null},e.prototype.le=function(){return!1},e.prototype.Te=function(){return!0},e.prototype.Ie=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn=function(){function e(t){this.H=t,this.data=new Vn(this.H)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.Jt()},e.prototype.last=function(){return this.data.Yt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.Xt(function(n,r){return t(n),!1})},e.prototype.me=function(t,n){for(var r=this.data.ee(t[0]);r.ce();){var i=r.oe();if(this.H(i.key,t[1])>=0)return;n(i.key)}},e.prototype.Ae=function(t,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!t(r.oe().key))return},e.prototype.Re=function(t){var n=this.data.ee(t);return n.ce()?n.oe().key:null},e.prototype.te=function(){return new ET(this.data.te())},e.prototype.ee=function(t){return new ET(this.data.ee(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.et=function(){return this.data.et()},e.prototype.Pe=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.te(),r=t.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},e.prototype.it=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.H);return n.data=t,n},e}(),ET=function(){function e(t){this.ye=t}return e.prototype.oe=function(){return this.ye.oe().key},e.prototype.ce=function(){return this.ye.ce()},e}(),Z$=new Vn(De.H);function Ko(){return Z$}function hd(){return Ko()}var eB=new Vn(De.H);function cc(){return eB}var tB=new Vn(De.H);function nB(){return tB}var rB=new cn(De.H);function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=rB,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var iB=new cn(it);function ap(){return iB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sk=function(){function e(t){this.H=t?function(n,r){return t(n,r)||De.H(n.key,r.key)}:function(n,r){return De.H(n.key,r.key)},this.ge=cc(),this.Ve=new Vn(this.H)}return e.pe=function(t){return new e(t.H)},e.prototype.has=function(t){return this.ge.get(t)!=null},e.prototype.get=function(t){return this.ge.get(t)},e.prototype.first=function(){return this.Ve.Jt()},e.prototype.last=function(){return this.Ve.Yt()},e.prototype.et=function(){return this.Ve.et()},e.prototype.indexOf=function(t){var n=this.ge.get(t);return n?this.Ve.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.Ve.Xt(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.ge.zt(t.key,t),n.Ve.zt(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.ge.remove(t),this.Ve.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.Ve.te(),r=t.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.H=this.H,r.ge=t,r.Ve=n,r},e}(),TT=function(){function e(){this.be=new Vn(De.H)}return e.prototype.track=function(t){var n=t.doc.key,r=this.be.get(n);r?t.type!==0&&r.type===3?this.be=this.be.zt(n,t):t.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.be=this.be.remove(n):t.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:t.doc}):Ce():this.be=this.be.zt(n,t)},e.prototype.ve=function(){var t=[];return this.be.Xt(function(n,r){t.push(r)}),t},e}(),dd=function(){function e(t,n,r,i,s,u,l,c){this.query=t,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=u,this.Ce=l,this.xe=c}return e.Ne=function(t,n,r,i){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,Sk.pe(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),yb=function(){function e(t,n,r,i,s){this.Ot=t,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return e.Me=function(t,n){var r=new Map;return r.set(t,bb.Le(t,n)),new e(tt.min(),r,ap(),Ko(),Rt())},e}(),bb=function(){function e(t,n,r,i,s){this.resumeToken=t,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return e.Le=function(t,n){return new e(fr.T,n,Rt(),Rt(),Rt())},e}(),Nh=function(e,t,n,r){this.Ke=e,this.removedTargetIds=t,this.key=n,this.We=r},Ek=function(e,t){this.targetId=e,this.je=t},Tk=function(e,t,n,r){n===void 0&&(n=fr.T),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},IT=function(){function e(){this.Ge=0,this.ze=AT(),this.He=fr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(e.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),e.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},e.prototype.en=function(){var t=Rt(),n=Rt(),r=Rt();return this.ze.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new bb(this.He,this.Je,t,n,r)},e.prototype.nn=function(){this.Ye=!1,this.ze=AT()},e.prototype.sn=function(t,n){this.Ye=!0,this.ze=this.ze.zt(t,n)},e.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},e.prototype.on=function(){this.Ge+=1},e.prototype.cn=function(){this.Ge-=1},e.prototype.an=function(){this.Ye=!0,this.Je=!0},e}(),oB=function(){function e(t){this.un=t,this.hn=new Map,this.ln=Ko(),this._n=xT(),this.fn=new cn(it)}return e.prototype.dn=function(t){for(var n=0,r=t.Ke;n<r.length;n++){var i=r[n];t.We instanceof Ct?this.wn(i,t.We):t.We instanceof wn&&this.En(i,t.key,t.We)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)i=u[s],this.En(i,t.key,t.We)},e.prototype.Tn=function(t){var n=this;this.In(t,function(r){var i=n.mn(r);switch(t.state){case 0:n.An(r)&&i.tn(t.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(t.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(t.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(t.resumeToken));break;default:Ce()}})},e.prototype.In=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},e.prototype.Pn=function(t){var n=t.targetId,r=t.je.count,i=this.yn(n);if(i){var s=i.target;if(ld(s))if(r===0){var u=new De(s.path);this.En(n,u,new wn(u,tt.min()))}else Ue(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},e.prototype.Vn=function(t){var n=this,r=new Map;this.hn.forEach(function(u,l){var c=n.yn(l);if(c){if(u.Be&&ld(c.target)){var d=new De(c.target.path);n.ln.get(d)!==null||n.pn(l,d)||n.En(l,d,new wn(d,t))}u.Ze&&(r.set(l,u.en()),u.nn())}});var i=Rt();this._n.forEach(function(u,l){var c=!0;l.Ae(function(d){var p=n.yn(d);return!p||p.Ft===2||(c=!1,!1)}),c&&(i=i.add(u))});var s=new yb(t,r,this.fn,this.ln,i);return this.ln=Ko(),this._n=xT(),this.fn=new cn(it),s},e.prototype.wn=function(t,n){if(this.An(t)){var r=this.pn(t,n.key)?2:0;this.mn(t).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(t))}},e.prototype.En=function(t,n,r){if(this.An(t)){var i=this.mn(t);this.pn(t,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(t)),r&&(this.ln=this.ln.zt(n,r))}},e.prototype.removeTarget=function(t){this.hn.delete(t)},e.prototype.gn=function(t){var n=this.mn(t).en();return this.un.vn(t).size+n.qe.size-n.Qe.size},e.prototype.on=function(t){this.mn(t).on()},e.prototype.mn=function(t){var n=this.hn.get(t);return n||(n=new IT,this.hn.set(t,n)),n},e.prototype.bn=function(t){var n=this._n.get(t);return n||(n=new cn(it),this._n=this._n.zt(t,n)),n},e.prototype.An=function(t){var n=this.yn(t)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.yn=function(t){var n=this.hn.get(t);return n&&n.Xe?null:this.un.Sn(t)},e.prototype.Rn=function(t){var n=this;this.hn.set(t,new IT),this.un.vn(t).forEach(function(r){n.En(t,r,null)})},e.prototype.pn=function(t,n){return this.un.vn(t).has(n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return new Vn(De.H)}function AT(){return new Vn(De.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sB={asc:"ASCENDING",desc:"DESCENDING"},aB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uB=function(e,t){this.t=e,this.Bt=t};function fc(e,t){return e.Bt?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ik(e,t){return e.Bt?t.toBase64():t.toUint8Array()}function lB(e,t){return fc(e,t.j())}function Kn(e){return Ue(!!e),tt.K(function(t){var n=qo(t);return new lr(n.seconds,n.nanos)}(e))}function wb(e,t){return function(n){return new yt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).rt()}function xk(e){var t=yt.ot(e);return Ue(Rk(t)),t}function hc(e,t){return wb(e.t,t.path)}function Gi(e,t){var n=xk(t);if(n.get(1)!==e.t.projectId)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new ne(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new De(Ck(n))}function ky(e,t){return wb(e.t,t)}function Ak(e){var t=xk(e);return t.length===4?yt.ct():Ck(t)}function dc(e){return new yt(["projects",e.t.projectId,"databases",e.t.database]).rt()}function Ck(e){return Ue(e.length>4&&e.get(4)==="documents"),e.Y(5)}function CT(e,t,n){return{name:hc(e,t),fields:n.proto.mapValue.fields}}function cB(e,t,n){var r=Gi(e,t.name),i=Kn(t.updateTime),s=new Xo({mapValue:{fields:t.fields}});return new Ct(r,i,s,{hasCommittedMutations:!!n})}function pd(e,t){var n;if(t instanceof Xc)n={update:CT(e,t.key,t.value)};else if(t instanceof Kc)n={delete:hc(e,t.key)};else if(t instanceof es)n={update:CT(e,t.key,t.data),updateMask:mB(t.Gt)};else{if(!(t instanceof vb))return Ce();n={verify:hc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var u=s.transform;if(u instanceof hu)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ys)return{fieldPath:s.field.rt(),appendMissingElements:{values:u.elements}};if(u instanceof Qs)return{fieldPath:s.field.rt(),removeAllFromArray:{values:u.elements}};if(u instanceof du)return{fieldPath:s.field.rt(),increment:u.Ut};throw Ce()}(0,r)})),t.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:lB(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce()}(e,t.jt)),n}function kT(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?Pn.updateTime(Kn(d.updateTime)):d.exists!==void 0?Pn.exists(d.exists):Pn.Kt()}(t.currentDocument):Pn.Kt(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,f){var m=null;if("setToServerValue"in f)Ue(f.setToServerValue==="REQUEST_TIME"),m=new hu;else if("appendMissingElements"in f){var v=f.appendMissingElements.values||[];m=new Ys(v)}else if("removeAllFromArray"in f){var b=f.removeAllFromArray.values||[];m=new Qs(b)}else"increment"in f?m=new du(p,f.increment):Ce();var w=ui.lt(f.fieldPath);return new Wc(w,m)}(e,d)}):[];if(t.update){t.update.name;var i=Gi(e,t.update.name),s=new Xo({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var p=d.fieldPaths||[];return new uu(p.map(function(f){return ui.lt(f)}))}(t.updateMask);return new es(i,s,u,n,r)}return new Xc(i,s,n,r)}if(t.delete){var l=Gi(e,t.delete);return new Kc(l,n)}if(t.verify){var c=Gi(e,t.verify);return new vb(c,n)}return Ce()}function kk(e,t){return{documents:[ky(e,t.path)]}}function Ok(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ky(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ky(e,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(l){if(l.length!==0){var c=l.map(function(d){return function(p){if(p.op==="=="){if(pT(p.value))return{unaryFilter:{field:La(p.field),op:"IS_NAN"}};if(dT(p.value))return{unaryFilter:{field:La(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(pT(p.value))return{unaryFilter:{field:La(p.field),op:"IS_NOT_NAN"}};if(dT(p.value))return{unaryFilter:{field:La(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(p.field),op:hB(p.op),value:p.value}}}(d)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(d){return{field:La(d.field),direction:fB(d.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,c){return l.Bt||ra(c)?c:{value:c}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=OT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=OT(t.endAt)),n}function Nk(e){var t=Ak(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ue(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=Pk(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(f){return function(m){return new tu(Wa(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)}));var c=null;n.limit&&(c=function(f){var m;return ra(m=typeof f=="object"?f.value:f)?null:m}(n.limit));var d=null;n.startAt&&(d=NT(n.startAt));var p=null;return n.endAt&&(p=NT(n.endAt)),uk(t,i,l,u,c,"F",d,p)}function Pk(e){return e?e.unaryFilter!==void 0?[pB(e)]:e.fieldFilter!==void 0?[dB(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Pk(t)}).reduce(function(t,n){return t.concat(n)}):Ce():[]}function OT(e){return{before:e.before,values:e.position}}function NT(e){var t=!!e.before,n=e.values||[];return new lc(n,t)}function fB(e){return sB[e]}function hB(e){return aB[e]}function La(e){return{fieldPath:e.rt()}}function Wa(e){return ui.lt(e.fieldPath)}function dB(e){return Tr.create(Wa(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ce()}}(e.fieldFilter.op),e.fieldFilter.value)}function pB(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Wa(e.unaryFilter.field);return Tr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Wa(e.unaryFilter.field);return Tr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wa(e.unaryFilter.field);return Tr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wa(e.unaryFilter.field);return Tr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ce()}}function mB(e){var t=[];return e.fields.forEach(function(n){return t.push(n.rt())}),{fieldPaths:t}}function Rk(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},se=function(){function e(t){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.Nn&&Ce(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(t,this.result):new e(function(i,s){r.Dn=function(u){r.Fn(t,u).next(i,s)},r.Cn=function(u){r.$n(n,u).next(i,s)}})},e.prototype.On=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.kn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.Fn=function(t,n){return t?this.kn(function(){return t(n)}):e.resolve(n)},e.prototype.$n=function(t,n){return t?this.kn(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.Mn=function(t){return new e(function(n,r){var i=0,s=0,u=!1;t.forEach(function(l){++i,l.next(function(){++s,u&&s===i&&n()},function(c){return r(c)})}),u=!0,s===i&&n()})},e.Ln=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,u){i.push(n.call(r,s,u))}),this.Mn(i)},e}(),Dk=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.Bn=new Pr,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new $l(t,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=_b(i.target.error);r.Bn.reject(new $l(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new $l(n,s)}},Object.defineProperty(e.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new vB(n)},e}(),pu=function(){function e(t,n,r){this.name=t,this.version=n,this.Un=r,e.Qn(qs())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return fe("SimpleDb","Removing database:",t),Rs(window.indexedDB.deleteDatabase(t)).On()},e.Kn=function(){if(typeof indexedDB>"u")return!1;if(e.Wn())return!0;var t=qs(),n=e.Qn(t),r=0<n&&n<10,i=e.jn(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Wn=function(){var t;return typeof process<"u"&&((t=C$)===null||t===void 0?void 0:t.Gn)==="YES"},e.zn=function(t,n){return t.store(n)},e.Qn=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.jn=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.Hn=function(t){return ee(this,void 0,void 0,function(){var n,r=this;return J(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(fe("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var d=c.target.result;s(d)},l.onblocked=function(){u(new $l(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var d=c.target.error;d.name==="VersionError"?u(new ne(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new $l(t,d))},l.onupgradeneeded=function(c){fe("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var d=c.target.result;r.Un.Jn(d,l.transaction,c.oldVersion,r.version).next(function(){fe("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},e.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return ee(this,void 0,void 0,function(){var s,u,l,c,d;return J(this,function(p){switch(p.label){case 0:s=n==="readonly",u=0,l=function(){var f,m,v,b,w;return J(this,function(S){switch(S.label){case 0:++u,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,c.Hn(t)];case 2:return c.db=S.sent(),f=Dk.open(c.db,t,s?"readonly":"readwrite",r),m=i(f).catch(function(E){return f.abort(E),se.reject(E)}).On(),v={},m.catch(function(){}),[4,f.qn];case 3:return[2,(v.value=(S.sent(),m),v)];case 4:return b=S.sent(),w=b.name!=="FirebaseError"&&u<3,fe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",w),c.close(),w?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),gB=function(){function e(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(e.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.ts=!0},e.prototype.ss=function(t){this.es=t},e.prototype.delete=function(){return Rs(this.Zn.delete())},e}(),$l=function(e){function t(n,r){var i=this;return(i=e.call(this,B.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return _e(t,e),t}(ne);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(e){return e.name==="IndexedDbTransactionError"}var vB=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(fe("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Rs(r)},e.prototype.add=function(t){return fe("SimpleDb","ADD",this.store.name,t,t),Rs(this.store.add(t))},e.prototype.get=function(t){var n=this;return Rs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),fe("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return fe("SimpleDb","DELETE",this.store.name,t),Rs(this.store.delete(t))},e.prototype.count=function(){return fe("SimpleDb","COUNT",this.store.name),Rs(this.store.count())},e.prototype.rs=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.os(r,function(s,u){i.push(u)}).next(function(){return i})},e.prototype.cs=function(t,n){fe("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,u,l){return l.delete()})},e.prototype.hs=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.os(i,n)},e.prototype.ls=function(t){var n=this.cursor({});return new se(function(r,i){n.onerror=function(s){var u=_b(s.target.error);i(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.os=function(t,n){var r=[];return new se(function(i,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var c=new gB(l),d=n(l.primaryKey,l.value,c);if(d instanceof se){var p=d.catch(function(f){return c.done(),se.reject(f)});r.push(p)}c.xn?i():c.ns===null?l.continue():l.continue(c.ns)}else i()}}).next(function(){return se.Mn(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.us?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Rs(e){return new se(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=_b(r.target.error);n(i)}})}var PT=!1;function _b(e){var t=pu.Qn(qs());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ne("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return PT||(PT=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yB=function(){function e(t,n,r,i,s){this._s=t,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new Pr,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(u){})}return e.Ts=function(t,n,r,i,s){var u=new e(t,n,Date.now()+r,i,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.Is=setTimeout(function(){return n.As()},t)},e.prototype.Rs=function(){return this.As()},e.prototype.cancel=function(t){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new ne(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.As=function(){var t=this;this._s.Ps(function(){return t.Is!==null?(t.clearTimeout(),t.op().then(function(n){return t.Es.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},e}();function Pu(e,t){if(sn("AsyncQueue",t+": "+e),ia(e))return new ne(B.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lk=function(){function e(){this.ys=[]}return e.prototype.gs=function(t){this.ys.push(t)},e.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=RT(t)),t=bB(e.get(n),t);return RT(t)}function bB(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function RT(e){return e+""}function zi(e){var t=e.length;if(Ue(t>=2),t===2)return Ue(e.charAt(0)===""&&e.charAt(1)===""),yt.ct();for(var n=t-2,r=[],i="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&Ce(),e.charAt(u+1)){case"":var l=e.substring(s,u),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,u),i+="\0";break;case"":i+=e.substring(s,u+1);break;default:Ce()}s=u+2}return new yt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wB=function(e,t){this.seconds=e,this.nanoseconds=t},br=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};br.store="owner",br.key="owner";var jo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};jo.store="mutationQueues",jo.keyPath="userId";var Dt=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Dt.store="mutations",Dt.keyPath="batchId",Dt.userMutationsIndex="userMutationsIndex",Dt.userMutationsKeyPath=["userId","batchId"];var An=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,ai(n)]},e.key=function(t,n,r){return[t,ai(n),r]},e}();An.store="documentMutations",An.PLACEHOLDER=new An;var _B=function(e,t){this.path=e,this.readTime=t},SB=function(e,t){this.path=e,this.version=t},Xt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Xt.store="remoteDocuments",Xt.readTimeIndex="readTimeIndex",Xt.readTimeIndexPath="readTime",Xt.collectionReadTimeIndex="collectionReadTimeIndex",Xt.collectionReadTimeIndexPath=["parentPath","readTime"];var Ei=function(e){this.byteSize=e};Ei.store="remoteDocumentGlobal",Ei.key="remoteDocumentGlobalKey";var ur=function(e,t,n,r,i,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=u};ur.store="targets",ur.keyPath="targetId",ur.queryTargetsIndexName="queryTargetsIndex",ur.queryTargetsKeyPath=["canonicalId","targetId"];var En=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};En.store="targetDocuments",En.keyPath=["targetId","path"],En.documentTargetsIndex="documentTargetsIndex",En.documentTargetsKeyPath=["path","targetId"];var Sr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Sr.key="targetGlobalKey",Sr.store="targetGlobal";var $s=function(e,t){this.collectionId=e,this.parent=t};$s.store="collectionParents",$s.keyPath=["collectionId","parent"];var qi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};qi.store="clientMetadata",qi.keyPath="clientId";var mu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};mu.store="bundles",mu.keyPath="bundleId";var gu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};gu.store="namedQueries",gu.keyPath="name";var EB=Nn(Nn(Nn(Nn([jo.store,Dt.store,An.store,Xt.store,ur.store,br.store,Sr.store,En.store],[qi.store]),[Ei.store]),[$s.store]),[mu.store,gu.store]),DT=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ps=n,i.bs=r,i}return _e(t,e),t}(Lk);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e,t){var n=be(e);return pu.zn(n.ps,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sb=function(){function e(t,n,r,i){this.batchId=t,this.vs=n,this.baseMutations=r,this.mutations=i}return e.prototype.Ss=function(t,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var u=this.mutations[s];u.key.isEqual(t)&&(n=Y$(u,n,i[s]))}return n},e.prototype.Cs=function(t,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(l=i[r]).key.isEqual(t)&&(n=Cy(l,n,this.vs));for(var s=0,u=this.mutations;s<u.length;s++){var l;(l=u[s]).key.isEqual(t)&&(n=Cy(l,n,this.vs))}return n},e.prototype.xs=function(t){var n=this,r=t;return this.mutations.forEach(function(i){var s=n.Cs(i.key,t.get(i.key));s&&(r=r.zt(i.key,s))}),r},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Rt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&au(this.mutations,t.mutations,function(n,r){return bT(n,r)})&&au(this.baseMutations,t.baseMutations,function(n,r){return bT(n,r)})},e}(),TB=function(){function e(t,n,r,i){this.batch=t,this.Ns=n,this.Ds=r,this.$s=i}return e.from=function(t,n,r){Ue(t.mutations.length===r.length);for(var i=nB(),s=t.mutations,u=0;u<s.length;u++)i=i.zt(s[u].key,r[u].version);return new e(t,n,r,i)},e}(),Vk=function(e){this.Fs=e};function Oy(e,t){if(t.document)return cB(e.Fs,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=De.Et(t.noDocument.path),r=yu(t.noDocument.readTime);return new wn(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=De.Et(t.unknownDocument.path);return r=yu(t.unknownDocument.version),new hb(i,r)}return Ce()}function MT(e,t,n){var r=Eb(n),i=t.key.path.X().it();if(t instanceof Ct){var s=function(f,m){return{name:hc(f,m.key),fields:m.bt().mapValue.fields,updateTime:fc(f,m.version.j())}}(e.Fs,t),u=t.hasCommittedMutations;return new Xt(null,null,s,u,r,i)}if(t instanceof wn){var l=t.key.path.it(),c=vu(t.version);return u=t.hasCommittedMutations,new Xt(null,new _B(l,c),null,u,r,i)}if(t instanceof hb){var d=t.key.path.it(),p=vu(t.version);return new Xt(new SB(d,p),null,null,!0,r,i)}return Ce()}function Eb(e){var t=e.j();return[t.seconds,t.nanoseconds]}function Fk(e){var t=new lr(e[0],e[1]);return tt.K(t)}function vu(e){var t=e.j();return new wB(t.seconds,t.nanoseconds)}function yu(e){var t=new lr(e.seconds,e.nanoseconds);return tt.K(t)}function za(e,t){for(var n=(t.baseMutations||[]).map(function(c){return kT(e.Fs,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(c){return kT(e.Fs,c)}),l=lr.fromMillis(t.localWriteTimeMs);return new Sb(t.batchId,l,n,u)}function Ml(e){var t,n,r=yu(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?yu(e.lastLimboFreeSnapshotVersion):tt.min();return e.query.documents!==void 0?(Ue((n=e.query).documents.length===1),t=Oi(Hc(Ak(n.documents[0])))):t=function(s){return Oi(Nk(s))}(e.query),new ip(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fr.fromBase64String(e.resumeToken))}function jk(e,t){var n,r=vu(t.Ot),i=vu(t.lastLimboFreeSnapshotVersion);n=ld(t.target)?kk(e.Fs,t.target):Ok(e.Fs,t.target);var s=t.resumeToken.toBase64();return new ur(t.targetId,zc(t.target),r,s,t.sequenceNumber,i,n)}function Uk(e){var t=Nk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lk(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IB=function(){function e(){}return e.prototype.Os=function(t,n){return LT(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:yu(i.createTime),version:i.version};var i})},e.prototype.ks=function(t,n){return LT(t).put({bundleId:(r=n).id,createTime:vu(Kn(r.createTime)),version:r.version});var r},e.prototype.Ms=function(t,n){return VT(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Uk(i.bundledQuery),readTime:yu(i.readTime)};var i})},e.prototype.Ls=function(t,n){return VT(t).put(function(r){return{name:r.name,readTime:vu(Kn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function LT(e){return dr(e,mu.store)}function VT(e){return dr(e,gu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xB=function(){function e(){this.Bs=new Tb}return e.prototype.qs=function(t,n){return this.Bs.add(n),se.resolve()},e.prototype.Us=function(t,n){return se.resolve(this.Bs.getEntries(n))},e}(),Tb=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.tt(),r=t.X(),i=this.index[n]||new cn(yt.H),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.tt(),r=t.X(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new cn(yt.H)).it()},e}(),AB=function(){function e(){this.Qs=new Tb}return e.prototype.qs=function(t,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();t.gs(function(){r.Qs.add(n)});var u={collectionId:i,parent:ai(s)};return FT(t).put(u)}return se.resolve()},e.prototype.Us=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[tk(n),""],!1,!0);return FT(t).rs(i).next(function(s){for(var u=0,l=s;u<l.length;u++){var c=l[u];if(c.collectionId!==n)break;r.push(zi(c.parent))}return r})},e}();function FT(e){return dr(e,$s.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jT={Ks:!1,Ws:0,js:0,Gs:0},wi=function(){function e(t,n,r){this.zs=t,this.Hs=n,this.Js=r}return e.Ys=function(t){return new e(t,e.Xs,e.Zs)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e){return ee(this,void 0,void 0,function(){return J(this,function(t){if(e.code!==B.FAILED_PRECONDITION||e.message!==Mk)throw e;return fe("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi.Xs=10,wi.Zs=1e3,wi.ti=new wi(41943040,wi.Xs,wi.Zs),wi.ei=new wi(-1,0,0);var Ru=function(){function e(t,n){this.ni=t,this.si=n,this.ii={}}return e.prototype.get=function(t){var n=this.ni(t),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var u=s[i],l=u[0],c=u[1];if(this.si(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.ni(t),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.ii[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.ni(t),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){$c(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var u=s[i],l=u[0],c=u[1];t(l,c)}})},e.prototype.et=function(){return rk(this.ii)},e}(),$k=function(){function e(){this.ri=new Ru(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.oi=!1}return e.prototype.ci=function(t){var n=this.ri.get(t);return n?n.readTime:tt.min()},e.prototype.ai=function(t,n){this.ui(),this.ri.set(t.key,{hi:t,readTime:n})},e.prototype.li=function(t,n){n===void 0&&(n=null),this.ui(),this.ri.set(t,{hi:null,readTime:n})},e.prototype._i=function(t,n){this.ui();var r=this.ri.get(n);return r!==void 0?se.resolve(r.hi):this.fi(t,n)},e.prototype.getEntries=function(t,n){return this.di(t,n)},e.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},e.prototype.ui=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(e,t,n){var r=e.store(Dt.store),i=e.store(An.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,c=r.hs({range:u},function(b,w,S){return l++,S.delete()});s.push(c.next(function(){Ue(l===1)}));for(var d=[],p=0,f=n.mutations;p<f.length;p++){var m=f[p],v=An.key(t,m.key.path,n.batchId);s.push(i.delete(v)),d.push(m.key)}return se.Mn(s).next(function(){return d})}function md(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ce();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CB=function(){function e(t,n,r,i){this.userId=t,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return e.mi=function(t,n,r,i){return Ue(t.uid!==""),new e(t.m()?t.uid:"",n,r,i)},e.prototype.Ai=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mo(t).hs({index:Dt.userMutationsIndex,range:r},function(i,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.Ri=function(t,n,r,i){var s=this,u=Ha(t),l=mo(t);return l.add({}).next(function(c){Ue(typeof c=="number");for(var d=new Sb(c,n,r,i),p=function(E,x,C){var D=C.baseMutations.map(function(A){return pd(E.Fs,A)}),V=C.mutations.map(function(A){return pd(E.Fs,A)});return new Dt(x,C.batchId,C.vs.toMillis(),D,V)}(s.Qt,s.userId,d),f=[],m=new cn(function(E,x){return it(E.rt(),x.rt())}),v=0,b=i;v<b.length;v++){var w=b[v],S=An.key(s.userId,w.key.path,c);m=m.add(w.key.path.X()),f.push(l.put(p)),f.push(u.put(S,An.PLACEHOLDER))}return m.forEach(function(E){f.push(s.Ei.qs(t,E))}),t.gs(function(){s.Ii[c]=d.keys()}),se.Mn(f).next(function(){return d})})},e.prototype.Pi=function(t,n){var r=this;return mo(t).get(n).next(function(i){return i?(Ue(i.userId===r.userId),za(r.Qt,i)):null})},e.prototype.yi=function(t,n){var r=this;return this.Ii[n]?se.resolve(this.Ii[n]):this.Pi(t,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},e.prototype.gi=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),u=null;return mo(t).hs({index:Dt.userMutationsIndex,range:s},function(l,c,d){c.userId===r.userId&&(Ue(c.batchId>=i),u=za(r.Qt,c)),d.done()}).next(function(){return u})},e.prototype.Vi=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return mo(t).hs({index:Dt.userMutationsIndex,range:n,reverse:!0},function(i,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.pi=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mo(t).rs(Dt.userMutationsIndex,r).next(function(i){return i.map(function(s){return za(n.Qt,s)})})},e.prototype.bi=function(t,n){var r=this,i=An.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),u=[];return Ha(t).hs({range:s},function(l,c,d){var p=l[0],f=l[1],m=l[2],v=zi(f);if(p===r.userId&&n.path.isEqual(v))return mo(t).get(m).next(function(b){if(!b)throw Ce();Ue(b.userId===r.userId),u.push(za(r.Qt,b))});d.done()}).next(function(){return u})},e.prototype.vi=function(t,n){var r=this,i=new cn(it),s=[];return n.forEach(function(u){var l=An.prefixForPath(r.userId,u.path),c=IDBKeyRange.lowerBound(l),d=Ha(t).hs({range:c},function(p,f,m){var v=p[0],b=p[1],w=p[2],S=zi(b);v===r.userId&&u.path.isEqual(S)?i=i.add(w):m.done()});s.push(d)}),se.Mn(s).next(function(){return r.Si(t,i)})},e.prototype.Di=function(t,n){var r=this,i=n.path,s=i.length+1,u=An.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(u),c=new cn(it);return Ha(t).hs({range:l},function(d,p,f){var m=d[0],v=d[1],b=d[2],w=zi(v);m===r.userId&&i.nt(w)?w.length===s&&(c=c.add(b)):f.done()}).next(function(){return r.Si(t,c)})},e.prototype.Si=function(t,n){var r=this,i=[],s=[];return n.forEach(function(u){s.push(mo(t).get(u).next(function(l){if(l===null)throw Ce();Ue(l.userId===r.userId),i.push(za(r.Qt,l))}))}),se.Mn(s).next(function(){return i})},e.prototype.Ci=function(t,n){var r=this;return Bk(t.ps,this.userId,n).next(function(i){return t.gs(function(){r.xi(n.batchId)}),se.forEach(i,function(s){return r.Ti.Ni(t,s)})})},e.prototype.xi=function(t){delete this.Ii[t]},e.prototype.$i=function(t){var n=this;return this.Ai(t).next(function(r){if(!r)return se.resolve();var i=IDBKeyRange.lowerBound(An.prefixForUser(n.userId)),s=[];return Ha(t).hs({range:i},function(u,l,c){if(u[0]===n.userId){var d=zi(u[1]);s.push(d)}else c.done()}).next(function(){Ue(s.length===0)})})},e.prototype.Fi=function(t,n){return zk(t,this.userId,n)},e.prototype.Oi=function(t){var n=this;return Hk(t).get(this.userId).next(function(r){return r||new jo(n.userId,-1,"")})},e}();function zk(e,t,n){var r=An.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return Ha(e).hs({range:s,us:!0},function(l,c,d){var p=l[0],f=l[1];l[2],p===t&&f===i&&(u=!0),d.done()}).next(function(){return u})}function mo(e){return dr(e,Dt.store)}function Ha(e){return dr(e,An.store)}function Hk(e){return dr(e,jo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gd=function(){function e(t){this.ki=t}return e.prototype.next=function(){return this.ki+=2,this.ki},e.Mi=function(){return new e(0)},e.Li=function(){return new e(-1)},e}(),kB=function(){function e(t,n){this.Ti=t,this.Qt=n}return e.prototype.Bi=function(t){var n=this;return this.qi(t).next(function(r){var i=new gd(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(t,r).next(function(){return r.highestTargetId})})},e.prototype.Qi=function(t){return this.qi(t).next(function(n){return tt.K(new lr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.Ki=function(t){return this.qi(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.Wi=function(t,n,r){var i=this;return this.qi(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(t,s)})},e.prototype.ji=function(t,n){var r=this;return this.Gi(t,n).next(function(){return r.qi(t).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(t,i)})})},e.prototype.Hi=function(t,n){return this.Gi(t,n)},e.prototype.Ji=function(t,n){var r=this;return this.Yi(t,n.targetId).next(function(){return Va(t).delete(n.targetId)}).next(function(){return r.qi(t)}).next(function(i){return Ue(i.targetCount>0),i.targetCount-=1,r.Ui(t,i)})},e.prototype.Xi=function(t,n,r){var i=this,s=0,u=[];return Va(t).hs(function(l,c){var d=Ml(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(i.Ji(t,d)))}).next(function(){return se.Mn(u)}).next(function(){return s})},e.prototype.In=function(t,n){return Va(t).hs(function(r,i){var s=Ml(i);n(s)})},e.prototype.qi=function(t){return UT(t).get(Sr.key).next(function(n){return Ue(n!==null),n})},e.prototype.Ui=function(t,n){return UT(t).put(Sr.key,n)},e.prototype.Gi=function(t,n){return Va(t).put(jk(this.Qt,n))},e.prototype.zi=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.Zi=function(t){return this.qi(t).next(function(n){return n.targetCount})},e.prototype.tr=function(t,n){var r=zc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Va(t).hs({range:i,index:ur.queryTargetsIndexName},function(u,l,c){var d=Ml(l);rp(n,d.target)&&(s=d,c.done())}).next(function(){return s})},e.prototype.er=function(t,n,r){var i=this,s=[],u=Co(t);return n.forEach(function(l){var c=ai(l.path);s.push(u.put(new En(r,c))),s.push(i.Ti.nr(t,r,l))}),se.Mn(s)},e.prototype.sr=function(t,n,r){var i=this,s=Co(t);return se.forEach(n,function(u){var l=ai(u.path);return se.Mn([s.delete([r,l]),i.Ti.ir(t,r,u)])})},e.prototype.Yi=function(t,n){var r=Co(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.rr=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Co(t),s=Rt();return i.hs({range:r,us:!0},function(u,l,c){var d=zi(u[1]),p=new De(d);s=s.add(p)}).next(function(){return s})},e.prototype.Fi=function(t,n){var r=ai(n.path),i=IDBKeyRange.bound([r],[tk(r)],!1,!0),s=0;return Co(t).hs({index:En.documentTargetsIndex,us:!0,range:i},function(u,l,c){var d=u[0];u[1],d!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.Sn=function(t,n){return Va(t).get(n).next(function(r){return r?Ml(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e){return dr(e,ur.store)}function UT(e){return dr(e,Sr.store)}function Co(e){return dr(e,En.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],u=it(n,i);return u===0?it(r,s):u}var OB=function(){function e(t){this.cr=t,this.buffer=new cn($T),this.ar=0}return e.prototype.ur=function(){return++this.ar},e.prototype.hr=function(t){var n=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();$T(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),NB=function(){function e(t,n){this.lr=t,this._s=n,this._r=!1,this.dr=null}return e.prototype.start=function(t){this.lr.params.zs!==-1&&this.wr(t)},e.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(e.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),e.prototype.wr=function(t){var n=this,r=this._r?3e5:6e4;fe("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return ee(n,void 0,void 0,function(){var i;return J(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return ia(i=s.sent())?(fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,oa(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return s.sent(),[2]}})})})},e}(),PB=function(){function e(t,n){this.mr=t,this.params=n}return e.prototype.Ar=function(t,n){return this.mr.Rr(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.Pr=function(t,n){var r=this;if(n===0)return se.resolve(Er.q);var i=new OB(n);return this.mr.In(t,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(t,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},e.prototype.Xi=function(t,n,r){return this.mr.Xi(t,n,r)},e.prototype.gr=function(t,n){return this.mr.gr(t,n)},e.prototype.Vr=function(t,n){var r=this;return this.params.zs===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(jT)):this.pr(t).next(function(i){return i<r.params.zs?(fe("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),jT):r.br(t,n)})},e.prototype.pr=function(t){return this.mr.pr(t)},e.prototype.br=function(t,n){var r,i,s,u,l,c,d,p=this,f=Date.now();return this.Ar(t,this.params.Hs).next(function(m){return m>p.params.Js?(fe("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.Js+" from "+m),i=p.params.Js):i=m,u=Date.now(),p.Pr(t,i)}).next(function(m){return r=m,l=Date.now(),p.Xi(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.gr(t,r)}).next(function(m){return d=Date.now(),Ey()<=pt.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-f)+`ms
	Determined least recently used `+i+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(d-c)+`ms
Total Duration: `+(d-f)+"ms"),se.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},e}(),RB=function(){function e(t,n){this.db=t,this.lr=function(r,i){return new PB(r,i)}(this,n)}return e.prototype.Rr=function(t){var n=this.vr(t);return this.db.Sr().Zi(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.vr=function(t){var n=0;return this.yr(t,function(r){n++}).next(function(){return n})},e.prototype.In=function(t,n){return this.db.Sr().In(t,n)},e.prototype.yr=function(t,n){return this.Dr(t,function(r,i){return n(i)})},e.prototype.nr=function(t,n,r){return fh(t,r)},e.prototype.ir=function(t,n,r){return fh(t,r)},e.prototype.Xi=function(t,n,r){return this.db.Sr().Xi(t,n,r)},e.prototype.Ni=function(t,n){return fh(t,n)},e.prototype.Cr=function(t,n){return function(r,i){var s=!1;return Hk(r).ls(function(u){return zk(r,u,i).next(function(l){return l&&(s=!0),se.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.gr=function(t,n){var r=this,i=this.db.$r().Nr(),s=[],u=0;return this.Dr(t,function(l,c){if(c<=n){var d=r.Cr(t,l).next(function(p){if(!p)return u++,i._i(t,l).next(function(){return i.li(l),Co(t).delete([0,ai(l.path)])})});s.push(d)}}).next(function(){return se.Mn(s)}).next(function(){return i.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.kt(t.bs);return this.db.Sr().Hi(t,r)},e.prototype.Fr=function(t,n){return fh(t,n)},e.prototype.Dr=function(t,n){var r,i=Co(t),s=Er.q;return i.hs({index:En.documentTargetsIndex},function(u,l){var c=u[0],d=(u[1],l.path),p=l.sequenceNumber;c===0?(s!==Er.q&&n(new De(zi(r)),s),s=p,r=d):s=Er.q}).next(function(){s!==Er.q&&n(new De(zi(r)),s)})},e.prototype.pr=function(t){return this.db.$r().Or(t)},e}();function fh(e,t){return Co(e).put(function(n,r){return new En(0,ai(n.path),r)}(t,e.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DB=function(){function e(t,n){this.Qt=t,this.Ei=n}return e.prototype.ai=function(t,n,r){return Io(t).put(hh(n),r)},e.prototype.li=function(t,n){var r=Io(t),i=hh(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.kr(t,i)})},e.prototype._i=function(t,n){var r=this;return Io(t).get(hh(n)).next(function(i){return r.Mr(i)})},e.prototype.Lr=function(t,n){var r=this;return Io(t).get(hh(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:md(i)}:null})},e.prototype.getEntries=function(t,n){var r=this,i=hd();return this.Br(t,n,function(s,u){var l=r.Mr(u);i=i.zt(s,l)}).next(function(){return i})},e.prototype.qr=function(t,n){var r=this,i=hd(),s=new Vn(De.H);return this.Br(t,n,function(u,l){var c=r.Mr(l);c?(i=i.zt(u,c),s=s.zt(u,md(l))):(i=i.zt(u,null),s=s.zt(u,0))}).next(function(){return{Ur:i,Qr:s}})},e.prototype.Br=function(t,n,r){if(n.et())return se.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),u=s.oe();return Io(t).hs({range:i},function(l,c,d){for(var p=De.Et(l);u&&De.H(u,p)<0;)r(u,null),u=s.oe();u&&u.isEqual(p)&&(r(u,c),u=s.ce()?s.oe():null),u?d.ss(u.path.it()):d.done()}).next(function(){for(;u;)r(u,null),u=s.ce()?s.oe():null})},e.prototype.Kr=function(t,n,r){var i=this,s=cc(),u=n.path.length+1,l={};if(r.isEqual(tt.min())){var c=n.path.it();l.range=IDBKeyRange.lowerBound(c)}else{var d=n.path.it(),p=Eb(r);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=Xt.collectionReadTimeIndex}return Io(t).hs(l,function(f,m,v){if(f.length===u){var b=Oy(i.Qt,m);n.path.nt(b.key.path)?b instanceof Ct&&qc(n,b)&&(s=s.zt(b.key,b)):v.done()}}).next(function(){return s})},e.prototype.Nr=function(t){return new MB(this,!!t&&t.Wr)},e.prototype.Or=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return BT(t).get(Ei.key).next(function(n){return Ue(!!n),n})},e.prototype.kr=function(t,n){return BT(t).put(Ei.key,n)},e.prototype.Mr=function(t){if(t){var n=Oy(this.Qt,t);return n instanceof wn&&n.version.isEqual(tt.min())?null:n}return null},e}(),MB=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jr=n,i.Wr=r,i.Gr=new Ru(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),i}return _e(t,e),t.prototype.wi=function(n){var r=this,i=[],s=0,u=new cn(function(l,c){return it(l.rt(),c.rt())});return this.ri.forEach(function(l,c){var d=r.Gr.get(l);if(c.hi){var p=MT(r.jr.Qt,c.hi,r.ci(l));u=u.add(l.path.X());var f=md(p);s+=f-d,i.push(r.jr.ai(n,l,p))}else if(s-=d,r.Wr){var m=MT(r.jr.Qt,new wn(l,tt.min()),r.ci(l));i.push(r.jr.ai(n,l,m))}else i.push(r.jr.li(n,l))}),u.forEach(function(l){i.push(r.jr.Ei.qs(n,l))}),i.push(this.jr.updateMetadata(n,s)),se.Mn(i)},t.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},t.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var u=s.Ur;return s.Qr.forEach(function(l,c){i.Gr.set(l,c)}),u})},t}($k);function BT(e){return dr(e,Ei.store)}function Io(e){return dr(e,Xt.store)}function hh(e){return e.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LB=function(){function e(t){this.Qt=t}return e.prototype.Jn=function(t,n,r,i){var s=this;Ue(r<i&&r>=0&&i<=11);var u=new Dk("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(br.store)}(t),function(c){c.createObjectStore(jo.store,{keyPath:jo.keyPath}),c.createObjectStore(Dt.store,{keyPath:Dt.keyPath,autoIncrement:!0}).createIndex(Dt.userMutationsIndex,Dt.userMutationsKeyPath,{unique:!0}),c.createObjectStore(An.store)}(t),zT(t),function(c){c.createObjectStore(Xt.store)}(t));var l=se.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(En.store),c.deleteObjectStore(ur.store),c.deleteObjectStore(Sr.store)}(t),zT(t)),l=l.next(function(){return function(c){var d=c.store(Sr.store),p=new Sr(0,0,tt.min().j(),0);return d.put(Sr.key,p)}(u)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,d){return d.store(Dt.store).rs().next(function(p){c.deleteObjectStore(Dt.store),c.createObjectStore(Dt.store,{keyPath:Dt.keyPath,autoIncrement:!0}).createIndex(Dt.userMutationsIndex,Dt.userMutationsKeyPath,{unique:!0});var f=d.store(Dt.store),m=p.map(function(v){return f.put(v)});return se.Mn(m)})}(t,u)})),l=l.next(function(){(function(c){c.createObjectStore(qi.store,{keyPath:qi.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.zr(u)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Ei.store)}(t),s.Hr(u)})),r<7&&i>=7&&(l=l.next(function(){return s.Jr(u)})),r<8&&i>=8&&(l=l.next(function(){return s.Yr(t,u)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var d=c.objectStore(Xt.store);d.createIndex(Xt.readTimeIndex,Xt.readTimeIndexPath,{unique:!1}),d.createIndex(Xt.collectionReadTimeIndex,Xt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Xr(u)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(mu.store,{keyPath:mu.keyPath})})(t),function(c){c.createObjectStore(gu.store,{keyPath:gu.keyPath})}(t)})),l},e.prototype.Hr=function(t){var n=0;return t.store(Xt.store).hs(function(r,i){n+=md(i)}).next(function(){var r=new Ei(n);return t.store(Ei.store).put(Ei.key,r)})},e.prototype.zr=function(t){var n=this,r=t.store(jo.store),i=t.store(Dt.store);return r.rs().next(function(s){return se.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return i.rs(Dt.userMutationsIndex,l).next(function(c){return se.forEach(c,function(d){Ue(d.userId===u.userId);var p=za(n.Qt,d);return Bk(t,u.userId,p).next(function(){})})})})})},e.prototype.Jr=function(t){var n=t.store(En.store),r=t.store(Xt.store);return t.store(Sr.store).get(Sr.key).next(function(i){var s=[];return r.hs(function(u,l){var c=new yt(u),d=function(p){return[0,ai(p)]}(c);s.push(n.get(d).next(function(p){return p?se.resolve():function(f){return n.put(new En(0,ai(f),i.highestListenSequenceNumber))}(c)}))}).next(function(){return se.Mn(s)})})},e.prototype.Yr=function(t,n){t.createObjectStore($s.store,{keyPath:$s.keyPath});var r=n.store($s.store),i=new Tb,s=function(u){if(i.add(u)){var l=u.tt(),c=u.X();return r.put({collectionId:l,parent:ai(c)})}};return n.store(Xt.store).hs({us:!0},function(u,l){var c=new yt(u);return s(c.X())}).next(function(){return n.store(An.store).hs({us:!0},function(u,l){u[0];var c=u[1],d=(u[2],zi(c));return s(d.X())})})},e.prototype.Xr=function(t){var n=this,r=t.store(ur.store);return r.hs(function(i,s){var u=Ml(s),l=jk(n.Qt,u);return r.put(l)})},e}();function zT(e){e.createObjectStore(En.store,{keyPath:En.keyPath}).createIndex(En.documentTargetsIndex,En.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ur.store,{keyPath:ur.keyPath}).createIndex(ur.queryTargetsIndexName,ur.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Sr.store)}var Sv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",VB=function(){function e(t,n,r,i,s,u,l,c,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=u,this.document=l,this.eo=d,this.no=p,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(f){return Promise.resolve()},!e.Kn())throw new ne(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new RB(this,i),this.ho=n+"main",this.Qt=new Vk(c),this.lo=new pu(this.ho,11,new LB(this.Qt)),this._o=new kB(this.Ti,this.Qt),this.Ei=new AB,this.fo=function(f,m){return new DB(f,m)}(this.Qt,this.Ei),this.wo=new IB,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,p===!1&&sn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ne(B.FAILED_PRECONDITION,Sv);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t._o.Ki(n)})}).then(function(n){t.so=new Er(n,t.eo)}).then(function(){t.io=!0}).catch(function(n){return t.lo&&t.lo.close(),Promise.reject(n)})},e.prototype.Ro=function(t){var n=this;return this.uo=function(r){return ee(n,void 0,void 0,function(){return J(this,function(i){return this.Er?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.Po=function(t){var n=this;this.lo.Xn(function(r){return ee(n,void 0,void 0,function(){return J(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.yo=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return ee(n,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return dh(n).put(new qi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(n).next(function(r){r||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(n)}).next(function(r){return t.isPrimary&&!r?t.vo(n).next(function(){return!1}):!!r&&t.So(n).next(function(){return!0})})}).catch(function(n){if(ia(n))return fe("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Zr.po(function(){return t.uo(n)}),t.isPrimary=n})},e.prototype.Vo=function(t){var n=this;return Il(t).get(br.key).next(function(r){return se.resolve(n.Do(r))})},e.prototype.Co=function(t){return dh(t).delete(this.clientId)},e.prototype.xo=function(){return ee(this,void 0,void 0,function(){var t,n,r,i,s=this;return J(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=dr(l,qi.store);return c.rs().next(function(d){var p=s.$o(d,18e5),f=d.filter(function(m){return p.indexOf(m)===-1});return se.forEach(f,function(m){return c.delete(m.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Eo)for(n=0,r=t;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));u.label=2;case 2:return[2]}})})},e.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},e.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.bo=function(t){var n=this;return this.no?se.resolve(!0):Il(t).get(br.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new ne(B.FAILED_PRECONDITION,Sv);return!1}}return!(!n.networkEnabled||!n.inForeground)||dh(t).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(u||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&fe("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.ko=function(){return ee(this,void 0,void 0,function(){var t=this;return J(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[br.store,qi.store],function(r){var i=new DT(r,Er.q);return t.vo(i).next(function(){return t.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},e.prototype.$o=function(t,n){var r=this;return t.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},e.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return dh(n).rs().next(function(r){return t.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Qo=function(t){return CB.mi(t,this.Qt,this.Ei,this.Ti)},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Ko=function(){return this.Ei},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;fe("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(t,u,EB,function(l){return s=new DT(l,i.so?i.so.next():Er.q),n==="readwrite-primary"?i.Vo(s).next(function(c){return!!c||i.bo(s)}).next(function(c){if(!c)throw sn("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new ne(B.FAILED_PRECONDITION,Mk);return r(s)}).next(function(c){return i.So(s).next(function(){return c})}):i.jo(s).next(function(){return r(s)})}).then(function(l){return s.Vs(),l})},e.prototype.jo=function(t){var n=this;return Il(t).get(br.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new ne(B.FAILED_PRECONDITION,Sv)})},e.prototype.So=function(t){var n=new br(this.clientId,this.allowTabSynchronization,Date.now());return Il(t).put(br.key,n)},e.Kn=function(){return pu.Kn()},e.prototype.vo=function(t){var n=this,r=Il(t);return r.get(br.key).next(function(i){return n.Do(i)?(fe("IndexedDbPersistence","Releasing primary lease."),r.delete(br.key)):se.resolve()})},e.prototype.No=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(sn("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.Io=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground=t.document.visibilityState==="visible",t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},e.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},e.prototype.mo=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},e.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},e.prototype.Oo=function(t){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(t)))!==null;return fe("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return sn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){sn("Failed to set zombie client id.",t)}},e.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},e.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Il(e){return dr(e,br.store)}function dh(e){return dr(e,qi.store)}function Ib(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Gk=function(){function e(t,n,r){this.fo=t,this.zo=n,this.Ei=r}return e.prototype.Ho=function(t,n){var r=this;return this.zo.bi(t,n).next(function(i){return r.Jo(t,n,i)})},e.prototype.Jo=function(t,n,r){return this.fo._i(t,n).next(function(i){for(var s=0,u=r;s<u.length;s++)i=u[s].Cs(n,i);return i})},e.prototype.Yo=function(t,n,r){var i=hd();return n.forEach(function(s,u){for(var l=0,c=r;l<c.length;l++)u=c[l].Cs(s,u);i=i.zt(s,u)}),i},e.prototype.Xo=function(t,n){var r=this;return this.fo.getEntries(t,n).next(function(i){return r.Zo(t,i)})},e.prototype.Zo=function(t,n){var r=this;return this.zo.vi(t,n).next(function(i){var s=r.Yo(t,n,i),u=Ko();return s.forEach(function(l,c){c||(c=new wn(l,tt.min())),u=u.zt(l,c)}),u})},e.prototype.Kr=function(t,n,r){return function(i){return De.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(t,n.path):mb(n)?this.ec(t,n,r):this.nc(t,n,r)},e.prototype.tc=function(t,n){return this.Ho(t,new De(n)).next(function(r){var i=cc();return r instanceof Ct&&(i=i.zt(r.key,r)),i})},e.prototype.ec=function(t,n,r){var i=this,s=n.collectionGroup,u=cc();return this.Ei.Us(t,s).next(function(l){return se.forEach(l,function(c){var d=function(p,f){return new Zi(f,null,p.xt.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.nc(t,d,r).next(function(p){p.forEach(function(f,m){u=u.zt(f,m)})})}).next(function(){return u})})},e.prototype.nc=function(t,n,r){var i,s,u=this;return this.fo.Kr(t,n,r).next(function(l){return i=l,u.zo.Di(t,n)}).next(function(l){return s=l,u.sc(t,s,i).next(function(c){i=c;for(var d=0,p=s;d<p.length;d++)for(var f=p[d],m=0,v=f.mutations;m<v.length;m++){var b=v[m],w=b.key,S=Cy(b,i.get(w),f.vs);i=S instanceof Ct?i.zt(w,S):i.remove(w)}})}).next(function(){return i.forEach(function(l,c){qc(n,c)||(i=i.remove(l))}),i})},e.prototype.sc=function(t,n,r){for(var i=Rt(),s=0,u=n;s<u.length;s++)for(var l=0,c=u[s].mutations;l<c.length;l++){var d=c[l];d instanceof es&&r.get(d.key)===null&&(i=i.add(d.key))}var p=r;return this.fo.getEntries(t,i).next(function(f){return f.forEach(function(m,v){v!==null&&v instanceof Ct&&(p=p.zt(m,v))}),p})},e}(),FB=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.ic=r,this.rc=i}return e.oc=function(t,n){for(var r=Rt(),i=Rt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),qk=function(){function e(){}return e.prototype.cc=function(t){this.ac=t},e.prototype.Kr=function(t,n,r,i){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.xt.length===0||u.xt.length===1&&u.xt[0].field.ut())}(n)||r.isEqual(tt.min())?this.uc(t,n):this.ac.Xo(t,i).next(function(u){var l=s.hc(n,u);return(kh(n)||fd(n))&&s.lc(n.limitType,l,i,r)?s.uc(t,n):(Ey()<=pt.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ay(n)),s.ac.Kr(t,n,r).next(function(c){return l.forEach(function(d){c=c.zt(d.key,d)}),c}))})},e.prototype.hc=function(t,n){var r=new cn(fk(t));return n.forEach(function(i,s){s instanceof Ct&&qc(t,s)&&(r=r.add(s))}),r},e.prototype.lc=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},e.prototype.uc=function(t,n){return Ey()<=pt.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ay(n)),this.ac.Kr(t,n,tt.min())},e}(),jB=function(){function e(t,n,r,i){this.persistence=t,this._c=n,this.Qt=i,this.fc=new Vn(it),this.dc=new Ru(function(s){return zc(s)},rp),this.wc=tt.min(),this.zo=t.Qo(r),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new Gk(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return e.prototype.Ir=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.Vr(r,n.fc)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e,t,n,r){return new jB(e,t,n,r)}function Xk(e,t){return ee(this,void 0,void 0,function(){var n,r,i,s;return J(this,function(u){switch(u.label){case 0:return n=be(e),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n.zo.pi(l).next(function(d){return c=d,r=n.persistence.Qo(t),i=new Gk(n.Ec,r,n.persistence.Ko()),r.pi(l)}).next(function(d){for(var p=[],f=[],m=Rt(),v=0,b=c;v<b.length;v++){var w=b[v];p.push(w.batchId);for(var S=0,E=w.mutations;S<E.length;S++){var x=E[S];m=m.add(x.key)}}for(var C=0,D=d;C<D.length;C++){var V=D[C];f.push(V.batchId);for(var A=0,G=V.mutations;A<G.length;A++){var F=G[A];m=m.add(F.key)}}return i.Xo(l,m).next(function(P){return{Ic:P,mc:p,Ac:f}})})})];case 1:return s=u.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function UB(e,t){var n=be(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(u,l,c,d){var p=c.batch,f=p.keys(),m=se.resolve();return f.forEach(function(v){m=m.next(function(){return d._i(l,v)}).next(function(b){var w=b,S=c.$s.get(v);Ue(S!==null),(!w||w.version._(S)<0)&&(w=p.Ss(v,w,c))&&d.ai(w,c.Ns)})}),m.next(function(){return u.zo.Ci(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function Kk(e){var t=be(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t._o.Qi(n)})}function $B(e,t){var n=be(e),r=t.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.Ec.Nr({Wr:!0});i=n.fc;var l=[];t.$e.forEach(function(p,f){var m=i.get(f);if(m){l.push(n._o.sr(s,p.Qe,f).next(function(){return n._o.er(s,p.qe,f)}));var v=p.resumeToken;if(v.l()>0){var b=m.Mt(v,r).kt(s.bs);i=i.zt(f,b),function(w,S,E){return Ue(S.resumeToken.l()>0),w.resumeToken.l()===0||S.Ot.W()-w.Ot.W()>=3e8||E.qe.size+E.Ue.size+E.Qe.size>0}(m,b,p)&&l.push(n._o.Hi(s,b))}}});var c=Ko();if(t.Oe.forEach(function(p,f){t.ke.has(p)&&l.push(n.persistence.Ti.Fr(s,p))}),l.push(BB(s,u,t.Oe,r,void 0).next(function(p){c=p})),!r.isEqual(tt.min())){var d=n._o.Qi(s).next(function(p){return n._o.Wi(s,s.bs,r)});l.push(d)}return se.Mn(l).next(function(){return u.apply(s)}).next(function(){return n.Tc.Zo(s,c)})}).then(function(s){return n.fc=i,s})}function BB(e,t,n,r,i){var s=Rt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=Ko();return n.forEach(function(c,d){var p=u.get(c),f=(i==null?void 0:i.get(c))||r;d instanceof wn&&d.version.isEqual(tt.min())?(t.li(c,f),l=l.zt(c,d)):p==null||d.version._(p.version)>0||d.version._(p.version)===0&&p.hasPendingWrites?(t.ai(d,f),l=l.zt(c,d)):fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),l})}function zB(e,t){var n=be(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n.zo.gi(r,t)})}function vd(e,t){var n=be(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,t).next(function(s){return s?(i=s,se.resolve(i)):n._o.Bi(r).next(function(u){return i=new ip(t,u,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(t,r.targetId)),r})}function bu(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s,u;return J(this,function(l){switch(l.label){case 0:r=be(e),i=r.fc.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.Ti.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ia(u=l.sent()))throw u;return fe("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.fc=r.fc.remove(t),r.dc.delete(i.target),[2]}})})}function yd(e,t,n){var r=be(e),i=tt.min(),s=Rt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,c,d){var p=be(l),f=p.dc.get(d);return f!==void 0?se.resolve(p.fc.get(f)):p._o.tr(c,d)}(r,u,Oi(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r._o.rr(u,l.targetId).next(function(c){s=c})}).next(function(){return r._c.Kr(u,t,n?i:tt.min(),n?s:Rt())}).next(function(l){return{documents:l,Rc:s}})})}function Yk(e,t){var n=be(e),r=be(n._o),i=n.fc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,t).next(function(u){return u?u.target:null})})}function Qk(e){var t=be(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var u=be(r),l=Ko(),c=Eb(s),d=Io(i),p=IDBKeyRange.lowerBound(c,!0);return d.hs({index:Xt.readTimeIndex,range:p},function(f,m){var v=Oy(u.Qt,m);l=l.zt(v.key,v),c=m.readTime}).next(function(){return{Go:l,readTime:Fk(c)}})}(t.Ec,n,t.wc)}).then(function(n){var r=n.Go,i=n.readTime;return t.wc=i,r})}function HB(e){return ee(this,void 0,void 0,function(){var t;return J(this,function(n){return[2,(t=be(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Io(i),u=tt.min();return s.hs({index:Xt.readTimeIndex,reverse:!0},function(l,c,d){c.readTime&&(u=Fk(c.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.wc=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GB=function(){function e(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return e.prototype.Os=function(t,n){return se.resolve(this.Vc.get(n))},e.prototype.ks=function(t,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:Kn(r.createTime)}),se.resolve()},e.prototype.Ms=function(t,n){return se.resolve(this.bc.get(n))},e.prototype.Ls=function(t,n){return this.bc.set(n.name,function(r){return{name:r.name,query:Uk(r.bundledQuery),readTime:Kn(r.readTime)}}(n)),se.resolve()},e}(),xb=function(){function e(){this.vc=new cn(vn.Sc),this.Dc=new cn(vn.Cc)}return e.prototype.et=function(){return this.vc.et()},e.prototype.nr=function(t,n){var r=new vn(t,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},e.prototype.xc=function(t,n){var r=this;t.forEach(function(i){return r.nr(i,n)})},e.prototype.ir=function(t,n){this.Nc(new vn(t,n))},e.prototype.$c=function(t,n){var r=this;t.forEach(function(i){return r.ir(i,n)})},e.prototype.Fc=function(t){var n=this,r=new De(new yt([])),i=new vn(r,t),s=new vn(r,t+1),u=[];return this.Dc.me([i,s],function(l){n.Nc(l),u.push(l.key)}),u},e.prototype.Oc=function(){var t=this;this.vc.forEach(function(n){return t.Nc(n)})},e.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},e.prototype.kc=function(t){var n=new De(new yt([])),r=new vn(n,t),i=new vn(n,t+1),s=Rt();return this.Dc.me([r,i],function(u){s=s.add(u.key)}),s},e.prototype.Fi=function(t){var n=new vn(t,0),r=this.vc.Re(n);return r!==null&&t.isEqual(r.key)},e}(),vn=function(){function e(t,n){this.key=t,this.Mc=n}return e.Sc=function(t,n){return De.H(t.key,n.key)||it(t.Mc,n.Mc)},e.Cc=function(t,n){return it(t.Mc,n.Mc)||De.H(t.key,n.key)},e}(),qB=function(){function e(t,n){this.Ei=t,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new cn(vn.Sc)}return e.prototype.Ai=function(t){return se.resolve(this.zo.length===0)},e.prototype.Ri=function(t,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var u=new Sb(s,n,r,i);this.zo.push(u);for(var l=0,c=i;l<c.length;l++){var d=c[l];this.Bc=this.Bc.add(new vn(d.key,s)),this.Ei.qs(t,d.key.path.X())}return se.resolve(u)},e.prototype.Pi=function(t,n){return se.resolve(this.qc(n))},e.prototype.gi=function(t,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return se.resolve(this.zo.length>s?this.zo[s]:null)},e.prototype.Vi=function(){return se.resolve(this.zo.length===0?-1:this.Lc-1)},e.prototype.pi=function(t){return se.resolve(this.zo.slice())},e.prototype.bi=function(t,n){var r=this,i=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),u=[];return this.Bc.me([i,s],function(l){var c=r.qc(l.Mc);u.push(c)}),se.resolve(u)},e.prototype.vi=function(t,n){var r=this,i=new cn(it);return n.forEach(function(s){var u=new vn(s,0),l=new vn(s,Number.POSITIVE_INFINITY);r.Bc.me([u,l],function(c){i=i.add(c.Mc)})}),se.resolve(this.Qc(i))},e.prototype.Di=function(t,n){var r=n.path,i=r.length+1,s=r;De.wt(s)||(s=s.child(""));var u=new vn(new De(s),0),l=new cn(it);return this.Bc.Ae(function(c){var d=c.key.path;return!!r.nt(d)&&(d.length===i&&(l=l.add(c.Mc)),!0)},u),se.resolve(this.Qc(l))},e.prototype.Qc=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},e.prototype.Ci=function(t,n){var r=this;Ue(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return se.forEach(n.mutations,function(s){var u=new vn(s.key,n.batchId);return i=i.delete(u),r.Ti.Ni(t,s.key)}).next(function(){r.Bc=i})},e.prototype.xi=function(t){},e.prototype.Fi=function(t,n){var r=new vn(n,0),i=this.Bc.Re(r);return se.resolve(n.isEqual(i&&i.key))},e.prototype.$i=function(t){return this.zo.length,se.resolve()},e.prototype.Kc=function(t,n){return this.Uc(t)},e.prototype.Uc=function(t){return this.zo.length===0?0:t-this.zo[0].batchId},e.prototype.qc=function(t){var n=this.Uc(t);return n<0||n>=this.zo.length?null:this.zo[n]},e}(),WB=function(){function e(t,n){this.Ei=t,this.Wc=n,this.docs=new Vn(De.H),this.size=0}return e.prototype.ai=function(t,n,r){var i=n.key,s=this.docs.get(i),u=s?s.size:0,l=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:l,readTime:r}),this.size+=l-u,this.Ei.qs(t,i.path.X())},e.prototype.li=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype._i=function(t,n){var r=this.docs.get(n);return se.resolve(r?r.hi:null)},e.prototype.getEntries=function(t,n){var r=this,i=hd();return n.forEach(function(s){var u=r.docs.get(s);i=i.zt(s,u?u.hi:null)}),se.resolve(i)},e.prototype.Kr=function(t,n,r){for(var i=cc(),s=new De(n.path.child("")),u=this.docs.ee(s);u.ce();){var l=u.oe(),c=l.key,d=l.value,p=d.hi,f=d.readTime;if(!n.path.nt(c.path))break;f._(r)<=0||p instanceof Ct&&qc(n,p)&&(i=i.zt(p.key,p))}return se.resolve(i)},e.prototype.jc=function(t,n){return se.forEach(this.docs,function(r){return n(r)})},e.prototype.Nr=function(t){return new XB(this)},e.prototype.Or=function(t){return se.resolve(this.size)},e}(),XB=function(e){function t(n){var r=this;return(r=e.call(this)||this).jr=n,r}return _e(t,e),t.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,u){u&&u.hi?i.push(r.jr.ai(n,u.hi,r.ci(s))):r.jr.li(s)}),se.Mn(i)},t.prototype.fi=function(n,r){return this.jr._i(n,r)},t.prototype.di=function(n,r){return this.jr.getEntries(n,r)},t}($k),KB=function(){function e(t){this.persistence=t,this.Gc=new Ru(function(n){return zc(n)},rp),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.zc=0,this.Hc=new xb,this.targetCount=0,this.Jc=gd.Mi()}return e.prototype.In=function(t,n){return this.Gc.forEach(function(r,i){return n(i)}),se.resolve()},e.prototype.Qi=function(t){return se.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ki=function(t){return se.resolve(this.zc)},e.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),se.resolve(this.highestTargetId)},e.prototype.Wi=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),se.resolve()},e.prototype.Gi=function(t){this.Gc.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.Jc=new gd(n),this.highestTargetId=n),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},e.prototype.ji=function(t,n){return this.Gi(n),this.targetCount+=1,se.resolve()},e.prototype.Hi=function(t,n){return this.Gi(n),se.resolve()},e.prototype.Ji=function(t,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,se.resolve()},e.prototype.Xi=function(t,n,r){var i=this,s=0,u=[];return this.Gc.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.Gc.delete(l),u.push(i.Yi(t,c.targetId)),s++)}),se.Mn(u).next(function(){return s})},e.prototype.Zi=function(t){return se.resolve(this.targetCount)},e.prototype.tr=function(t,n){var r=this.Gc.get(n)||null;return se.resolve(r)},e.prototype.er=function(t,n,r){return this.Hc.xc(n,r),se.resolve()},e.prototype.sr=function(t,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(u){s.push(i.Ni(t,u))}),se.Mn(s)},e.prototype.Yi=function(t,n){return this.Hc.Fc(n),se.resolve()},e.prototype.rr=function(t,n){var r=this.Hc.kc(n);return se.resolve(r)},e.prototype.Fi=function(t,n){return se.resolve(this.Hc.Fi(n))},e}(),YB=function(){function e(t,n){var r=this;this.Yc={},this.so=new Er(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new KB(this),this.Ei=new xB,this.fo=function(i,s){return new WB(i,function(u){return r.Ti.Xc(u)})}(this.Ei),this.Qt=new Vk(n),this.wo=new GB(this.Qt)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Po=function(){},e.prototype.yo=function(){},e.prototype.Ko=function(){return this.Ei},e.prototype.Qo=function(t){var n=this.Yc[t.A()];return n||(n=new qB(this.Ei,this.Ti),this.Yc[t.A()]=n),n},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;fe("MemoryPersistence","Starting transaction:",t);var s=new QB(this.so.next());return this.Ti.Zc(),r(s).next(function(u){return i.Ti.ta(s).next(function(){return u})}).On().then(function(u){return s.Vs(),u})},e.prototype.ea=function(t,n){return se.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(t,n)}}))},e}(),QB=function(e){function t(n){var r=this;return(r=e.call(this)||this).bs=n,r}return _e(t,e),t}(Lk),JB=function(){function e(t){this.persistence=t,this.na=new xb,this.sa=null}return e.ia=function(t){return new e(t)},Object.defineProperty(e.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ce()},enumerable:!1,configurable:!0}),e.prototype.nr=function(t,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),se.resolve()},e.prototype.ir=function(t,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),se.resolve()},e.prototype.Ni=function(t,n){return this.ra.add(n.toString()),se.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(t,n.targetId).next(function(s){s.forEach(function(u){return r.ra.add(u.toString())})}).next(function(){return i.Ji(t,n)})},e.prototype.Zc=function(){this.sa=new Set},e.prototype.ta=function(t){var n=this,r=this.persistence.$r().Nr();return se.forEach(this.ra,function(i){var s=De._t(i);return n.oa(t,s).next(function(u){u||r.li(s)})}).next(function(){return n.sa=null,r.apply(t)})},e.prototype.Fr=function(t,n){var r=this;return this.oa(t,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},e.prototype.Xc=function(t){return 0},e.prototype.oa=function(t,n){var r=this;return se.Ln([function(){return se.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(t,n)},function(){return r.persistence.ea(t,n)}])},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e,t){return"firestore_clients_"+e+"_"+t}function GT(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.m()&&(r+="_"+t.uid),r}function Ev(e,t){return"firestore_targets_"+e+"_"+t}var qT=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.ca=function(t,n,r){var i,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new ne(s.error.code,s.error.message)),u?new e(t,n,s.state,i):(sn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Tv=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.ca=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new ne(i.error.code,i.error.message)),s?new e(t,i.state,r):(sn("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),WT=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.ca=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ap(),u=0;i&&u<r.activeTargetIds.length;++u)i=ok(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return i?new e(t,s):(sn("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ZB=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.ca=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(sn("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ny=function(){function e(){this.activeTargetIds=ap()}return e.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Iv=function(){function e(t,n,r,i,s){this.window=t,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Vn(it),this.Er=!1,this.Ta=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=HT(this.persistenceKey,this.la),this.ma=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Ny),this.Aa=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.ya=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.ga=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return e.Kn=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return ee(this,void 0,void 0,function(){var t,n,r,i,s,u,l,c,d,p,f,m=this;return J(this,function(v){switch(v.label){case 0:return[4,this._a.Uo()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(HT(this.persistenceKey,i)))&&(u=WT.ca(i,s))&&(this.Ea=this.Ea.zt(u.clientId,u));for(this.Va(),(l=this.storage.getItem(this.ya))&&(c=this.pa(l))&&this.ba(c),d=0,p=this.Ta;d<p.length;d++)f=p[d],this.wa(f);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},e.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},e.prototype.va=function(){return this.Sa(this.Ea)},e.prototype.Da=function(t){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.Ca=function(t){this.xa(t,"pending")},e.prototype.Na=function(t,n,r){this.xa(t,n,r),this.$a(t)},e.prototype.Fa=function(t){var n="not-current";if(this.Da(t)){var r=this.storage.getItem(Ev(this.persistenceKey,t));if(r){var i=Tv.ca(t,r);i&&(n=i.state)}}return this.Oa.ua(t),this.Va(),n},e.prototype.ka=function(t){this.Oa.ha(t),this.Va()},e.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},e.prototype.La=function(t){this.removeItem(Ev(this.persistenceKey,t))},e.prototype.Ba=function(t,n,r){this.qa(t,n,r)},e.prototype.Ua=function(t,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=t,r.forEach(function(s){i.Ca(s)})},e.prototype.Qa=function(t){this.Ka(t)},e.prototype.Wa=function(){this.ja()},e.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return fe("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){fe("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.wa=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void sn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return ee(n,void 0,void 0,function(){var i,s,u,l,c,d;return J(this,function(p){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(u=this.Ja(r.key,r.newValue)))return[2,this.Ya(u)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(l=this.Xa(r.key,r.newValue)))return[2,this.Za(l)]}else if(r.key===this.ya){if(r.newValue!==null&&(c=this.pa(r.newValue)))return[2,this.ba(c)]}else if(r.key===this.ma)(d=function(f){var m=Er.q;if(f!=null)try{var v=JSON.parse(f);Ue(typeof v=="number"),m=v}catch(b){sn("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==Er.q&&this.k(d);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),e.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},e.prototype.xa=function(t,n,r){var i=new qT(this.currentUser,t,n,r),s=GT(this.persistenceKey,this.currentUser,t);this.setItem(s,i.aa())},e.prototype.$a=function(t){var n=GT(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Ka=function(t){var n={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(n))},e.prototype.qa=function(t,n,r){var i=Ev(this.persistenceKey,t),s=new Tv(t,n,r);this.setItem(i,s.aa())},e.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},e.prototype.Ga=function(t){var n=this.Aa.exec(t);return n?n[1]:null},e.prototype.Ha=function(t,n){var r=this.Ga(t);return WT.ca(r,n)},e.prototype.Ja=function(t,n){var r=this.Ra.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return qT.ca(new _r(s),i,n)},e.prototype.Xa=function(t,n){var r=this.Pa.exec(t),i=Number(r[1]);return Tv.ca(i,n)},e.prototype.pa=function(t){return ZB.ca(t)},e.prototype.Ya=function(t){return ee(this,void 0,void 0,function(){return J(this,function(n){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(fe("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},e.prototype.za=function(t,n){var r=this,i=n?this.Ea.zt(t,n):this.Ea.remove(t),s=this.Sa(this.Ea),u=this.Sa(i),l=[],c=[];return u.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){u.has(d)||c.push(d)}),this._a.su(l,c).then(function(){r.Ea=i})},e.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},e.prototype.Sa=function(t){var n=ap();return t.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},e}(),Jk=function(){function e(){this.iu=new Ny,this.ru={},this.fa=null,this.k=null}return e.prototype.Ca=function(t){},e.prototype.Na=function(t,n,r){},e.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},e.prototype.Ba=function(t,n,r){this.ru[t]=n},e.prototype.ka=function(t){this.iu.ha(t)},e.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.La=function(t){delete this.ru[t]},e.prototype.va=function(){return this.iu.activeTargetIds},e.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.start=function(){return this.iu=new Ny,Promise.resolve()},e.prototype.Ua=function(t,n,r){},e.prototype.Qa=function(t){},e.prototype.ko=function(){},e.prototype.B=function(t){},e.prototype.Wa=function(){},e}(),ez=function(){function e(){}return e.prototype.ou=function(t){},e.prototype.ko=function(){},e}(),XT=function(){function e(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return e.prototype.ou=function(t){this.lu.push(t)},e.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},e.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},e.prototype.au=function(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(0)},e.prototype.hu=function(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(1)},e.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),tz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},nz=function(){function e(t){this.fu=t.fu,this.du=t.du}return e.prototype.wu=function(t){this.Eu=t},e.prototype.Tu=function(t){this.Iu=t},e.prototype.onMessage=function(t){this.mu=t},e.prototype.close=function(){this.du()},e.prototype.send=function(t){this.fu(t)},e.prototype.Au=function(){this.Eu()},e.prototype.Ru=function(t){this.Iu(t)},e.prototype.Pu=function(t){this.mu(t)},e}(),rz=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return _e(t,e),t.prototype.Su=function(n,r,i,s){return new Promise(function(u,l){var c=new A$;c.listenOnce(I$.COMPLETE,function(){try{switch(c.getLastErrorCode()){case _v.NO_ERROR:var p=c.getResponseJson();fe("Connection","XHR received:",JSON.stringify(p)),u(p);break;case _v.TIMEOUT:fe("Connection",'RPC "'+n+'" timed out'),l(new ne(B.DEADLINE_EXCEEDED,"Request time out"));break;case _v.HTTP_ERROR:var f=c.getStatus();if(fe("Connection",'RPC "'+n+'" failed with status:',f,"response text:",c.getResponseText()),f>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var v=function(b){var w=b.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(m.status);l(new ne(v,m.message))}else l(new ne(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ne(B.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{fe("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);c.send(r,"POST",d,i,15)})},t.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=E$(),u=T$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(l.initMessageHeaders,r),kj()||Rj()||Dj()||Mj()||Lj()||Pj()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");fe("Connection","Creating WebChannel: "+c,l);var d=s.createWebChannel(c,l),p=!1,f=!1,m=new nz({fu:function(b){f?fe("Connection","Not sending because WebChannel is closed:",b):(p||(fe("Connection","Opening WebChannel transport."),d.open(),p=!0),fe("Connection","WebChannel sending:",b),d.send(b))},du:function(){return d.close()}}),v=function(b,w,S){b.listen(w,function(E){try{S(E)}catch(x){setTimeout(function(){throw x},0)}})};return v(d,lh.EventType.OPEN,function(){f||fe("Connection","WebChannel transport opened.")}),v(d,lh.EventType.CLOSE,function(){f||(f=!0,fe("Connection","WebChannel transport closed"),m.Ru())}),v(d,lh.EventType.ERROR,function(b){f||(f=!0,Ty("Connection","WebChannel transport errored:",b),m.Ru(new ne(B.UNAVAILABLE,"The operation could not be completed")))}),v(d,lh.EventType.MESSAGE,function(b){var w;if(!f){var S=b.data[0];Ue(!!S);var E=S,x=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(x){fe("Connection","WebChannel received error:",x);var C=x.status,D=function(A){var G=nn[A];if(G!==void 0)return _k(G)}(C),V=x.message;D===void 0&&(D=B.INTERNAL,V="Unknown error status: "+C+" with message "+x.message),f=!0,m.Ru(new ne(D,V)),d.close()}else fe("Connection","WebChannel received:",S),m.Pu(S)}}),v(u,x$.STAT_EVENT,function(b){b.stat===lT.PROXY?fe("Connection","Detected buffering proxy"):b.stat===lT.NOPROXY&&fe("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},t}(function(){function e(t){this.yu=t,this.t=t.t;var n=t.ssl?"https":"http";this.gu=n+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.pu=function(t,n,r,i){var s=this.bu(t,n);fe("RestConnection","Sending: ",s,r);var u={};return this.vu(u,i),this.Su(t,s,u,r).then(function(l){return fe("RestConnection","Received: ",l),l},function(l){throw Ty("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Du=function(t,n,r,i){return this.pu(t,n,r,i)},e.prototype.vu=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(t[r]=n.g[r])},e.prototype.bu=function(t,n){var r=tz[t];return this.gu+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){return typeof window<"u"?window:null}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e){return new uB(e,!0)}var Ab=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=t,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return e.prototype.reset=function(){this.Fu=0},e.prototype.Mu=function(){this.Fu=this.$u},e.prototype.Lu=function(t){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&fe("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},e.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},e.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},e.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},e}(),eO=function(){function e(t,n,r,i,s,u){this.Zr=t,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=u,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Ab(t,n)}return e.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},e.prototype.Hu=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.Ju()},e.prototype.stop=function(){return ee(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.Yu=function(){this.state=0,this.Gu.reset()},e.prototype.Xu=function(){var t=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},e.prototype.th=function(t){this.eh(),this.stream.send(t)},e.prototype.Zu=function(){return ee(this,void 0,void 0,function(){return J(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},e.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},e.prototype.close=function(t,n){return ee(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,t!==3?this.Gu.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===B.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},e.prototype.nh=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){t.Wu===r&&t.ih(i)},function(i){n(function(){var s=new ne(B.UNKNOWN,"Fetching auth token failed: "+i.message);return t.rh(s)})})},e.prototype.ih=function(t){var n=this,r=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return ee(t,void 0,void 0,function(){return J(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.rh=function(t){return fe("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.sh=function(t){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===t?r():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),iz=function(e){function t(n,r,i,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,u)||this).Qt=s,l}return _e(t,e),t.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},t.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var c=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Ce()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],p=function(S,E){return S.Bt?(Ue(E===void 0||typeof E=="string"),fr.fromBase64String(E||"")):(Ue(E===void 0||E instanceof Uint8Array),fr.fromUint8Array(E||new Uint8Array))}(s,u.targetChange.resumeToken),f=(m=u.targetChange.cause)&&function(S){var E=S.code===void 0?B.UNKNOWN:_k(S.code);return new ne(E,S.message||"")}(m);l=new Tk(c,d,p,f||null)}else if("documentChange"in u){u.documentChange,(c=u.documentChange).document,c.document.name,c.document.updateTime,d=Gi(s,c.document.name),p=Kn(c.document.updateTime);var m=new Xo({mapValue:{fields:c.document.fields}}),v=(f=new Ct(d,p,m,{}),c.targetIds||[]),b=c.removedTargetIds||[];l=new Nh(v,b,f.key,f)}else if("documentDelete"in u)u.documentDelete,(c=u.documentDelete).document,d=Gi(s,c.document),p=c.readTime?Kn(c.readTime):tt.min(),m=new wn(d,p),f=c.removedTargetIds||[],l=new Nh([],f,m.key,m);else if("documentRemove"in u)u.documentRemove,(c=u.documentRemove).document,d=Gi(s,c.document),p=c.removedTargetIds||[],l=new Nh([],p,d,null);else{if(!("filter"in u))return Ce();u.filter;var w=u.filter;w.targetId,c=w.count||0,d=new J$(c),p=w.targetId,l=new Ek(p,d)}return l}(this.Qt,n),i=function(s){if(!("targetChange"in s))return tt.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?tt.min():u.readTime?Kn(u.readTime):tt.min()}(n);return this.listener.ah(r,i)},t.prototype.uh=function(n){var r={};r.database=dc(this.Qt),r.addTarget=function(s,u){var l,c=u.target;return(l=ld(c)?{documents:kk(s,c)}:{query:Ok(s,c)}).targetId=u.targetId,u.resumeToken.l()>0?l.resumeToken=Ik(s,u.resumeToken):u.Ot._(tt.min())>0&&(l.readTime=fc(s,u.Ot.j())),l}(this.Qt,n);var i=function(s,u){var l=function(c,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ce()}}(0,u.Ft);return l==null?null:{"goog-listen-tags":l}}(this.Qt,n);i&&(r.labels=i),this.th(r)},t.prototype.hh=function(n){var r={};r.database=dc(this.Qt),r.removeTarget=n,this.th(r)},t}(eO),oz=function(e){function t(n,r,i,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,u)||this).Qt=s,l.lh=!1,l}return _e(t,e),Object.defineProperty(t.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.nh=function(){this.lh&&this.fh([])},t.prototype.oh=function(n){return this.Qu.Cu("Write",n)},t.prototype.onMessage=function(n){if(Ue(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,u){return s&&s.length>0?(Ue(u!==void 0),s.map(function(l){return function(c,d){var p=c.updateTime?Kn(c.updateTime):Kn(d);p.isEqual(tt.min())&&(p=Kn(d));var f=null;return c.transformResults&&c.transformResults.length>0&&(f=c.transformResults),new K$(p,f)}(l,u)})):[]}(n.writeResults,n.commitTime),i=Kn(n.commitTime);return this.listener.dh(i,r)}return Ue(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},t.prototype.Eh=function(){var n={};n.database=dc(this.Qt),this.th(n)},t.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return pd(r.Qt,s)})};this.th(i)},t}(eO),sz=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return _e(t,e),t.prototype.Ih=function(){if(this.Th)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(u){return s.Qu.pu(n,r,i,u)}).catch(function(u){throw u.code===B.UNAUTHENTICATED&&s.credentials.p(),u})},t.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(u){return s.Qu.Du(n,r,i,u)}).catch(function(u){throw u.code===B.UNAUTHENTICATED&&s.credentials.p(),u})},t.prototype.terminate=function(){this.Th=!1},t}(function(){}),az=function(){function e(t,n){this._s=t,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return e.prototype.Ph=function(){var t=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},e.prototype.Vh=function(t){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},e.prototype.set=function(t){this.ph(),this.mh=0,t==="Online"&&(this.Rh=!1),this.yh(t)},e.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},e.prototype.gh=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(sn(n),this.Rh=!1):fe("OnlineStateTracker",n)},e.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},e}(),uz=function(e,t,n,r,i){var s=this;this.bh=e,this.Sh=t,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(u){n.Ps(function(){return ee(s,void 0,void 0,function(){return J(this,function(l){switch(l.label){case 0:return ts(this)?(fe("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return ee(this,void 0,void 0,function(){var d;return J(this,function(p){switch(p.label){case 0:return(d=be(c)).Nh.add(4),[4,Du(d)];case 1:return p.sent(),d.Oh.set("Unknown"),d.Nh.delete(4),[4,Yc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Oh=new az(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(e){return ee(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:if(!ts(e))return[3,4];t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Du(e){return ee(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function lp(e,t){var n=be(e);n.xh.has(t.targetId)||(n.xh.set(t.targetId,t),Ob(n)?kb(n):Lu(n).Hu()&&Cb(n,t))}function pc(e,t){var n=be(e),r=Lu(n);n.xh.delete(t),r.Hu()&&tO(n,t),n.xh.size===0&&(r.Hu()?r.Xu():ts(n)&&n.Oh.set("Unknown"))}function Cb(e,t){e.kh.on(t.targetId),Lu(e).uh(t)}function tO(e,t){e.kh.on(t),Lu(e).hh(t)}function kb(e){e.kh=new oB({vn:function(t){return e.Dh.vn(t)},Sn:function(t){return e.xh.get(t)||null}}),Lu(e).start(),e.Oh.Ph()}function Ob(e){return ts(e)&&!Lu(e).zu()&&e.xh.size>0}function ts(e){return be(e).Nh.size===0}function nO(e){e.kh=void 0}function lz(e){return ee(this,void 0,void 0,function(){return J(this,function(t){return e.xh.forEach(function(n,r){Cb(e,n)}),[2]})})}function cz(e,t){return ee(this,void 0,void 0,function(){return J(this,function(n){return nO(e),Ob(e)?(e.Oh.Vh(t),kb(e)):e.Oh.set("Unknown"),[2]})})}function fz(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s;return J(this,function(u){switch(u.label){case 0:if(e.Oh.set("Online"),!(t instanceof Tk&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,c){return ee(this,void 0,void 0,function(){var d,p,f,m;return J(this,function(v){switch(v.label){case 0:d=c.cause,p=0,f=c.targetIds,v.label=1;case 1:return p<f.length?(m=f[p],l.xh.has(m)?[4,l.Dh.Mh(m,d)]:[3,3]):[3,5];case 2:v.sent(),l.xh.delete(m),l.kh.removeTarget(m),v.label=3;case 3:v.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,bd(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Nh?e.kh.dn(t):t instanceof Ek?e.kh.Pn(t):e.kh.Tn(t),n.isEqual(tt.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Kk(e.bh)];case 8:return i=u.sent(),n._(i)>=0?[4,function(l,c){var d=l.kh.Vn(c);return d.$e.forEach(function(p,f){if(p.resumeToken.l()>0){var m=l.xh.get(f);m&&l.xh.set(f,m.Mt(p.resumeToken,c))}}),d.Fe.forEach(function(p){var f=l.xh.get(p);if(f){l.xh.set(p,f.Mt(fr.T,f.Ot)),tO(l,p);var m=new ip(f.target,p,1,f.sequenceNumber);Cb(l,m)}}),l.Dh.Lh(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return fe("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,bd(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function bd(e,t,n){return ee(this,void 0,void 0,function(){var r=this;return J(this,function(i){switch(i.label){case 0:if(!ia(t))throw t;return e.Nh.add(1),[4,Du(e)];case 1:return i.sent(),e.Oh.set("Offline"),n||(n=function(){return Kk(e.bh)}),e._s.po(function(){return ee(r,void 0,void 0,function(){return J(this,function(s){switch(s.label){case 0:return fe("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Nh.delete(1),[4,Yc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function rO(e,t){return t().catch(function(n){return bd(e,n,t)})}function Mu(e){return ee(this,void 0,void 0,function(){var t,n,r,i,s;return J(this,function(u){switch(u.label){case 0:t=be(e),n=Yo(t),r=t.Ch.length>0?t.Ch[t.Ch.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return ts(l)&&l.Ch.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,zB(t.bh,r)];case 3:return(i=u.sent())===null?(t.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(l,c){l.Ch.push(c);var d=Yo(l);d.Hu()&&d._h&&d.fh(c.mutations)}(t,i),[3,6]);case 4:return s=u.sent(),[4,bd(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return iO(t)&&oO(t),[2]}})})}function iO(e){return ts(e)&&!Yo(e).zu()&&e.Ch.length>0}function oO(e){Yo(e).start()}function hz(e){return ee(this,void 0,void 0,function(){return J(this,function(t){return Yo(e).Eh(),[2]})})}function dz(e){return ee(this,void 0,void 0,function(){var t,n,r,i;return J(this,function(s){for(t=Yo(e),n=0,r=e.Ch;n<r.length;n++)i=r[n],t.fh(i.mutations);return[2]})})}function pz(e,t,n){return ee(this,void 0,void 0,function(){var r,i;return J(this,function(s){switch(s.label){case 0:return r=e.Ch.shift(),i=TB.from(r,t,n),[4,rO(e,function(){return e.Dh.Bh(i)})];case 1:return s.sent(),[4,Mu(e)];case 2:return s.sent(),[2]}})})}function mz(e,t){return ee(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return t&&Yo(e)._h?[4,function(r,i){return ee(this,void 0,void 0,function(){var s,u;return J(this,function(l){switch(l.label){case 0:return wk(u=i.code)&&u!==B.ABORTED?(s=r.Ch.shift(),Yo(r).Yu(),[4,rO(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Mu(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return iO(e)&&oO(e),[2]}})})}function Py(e,t){return ee(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return n=be(e),t?(n.Nh.delete(2),[4,Yc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Nh.add(2),[4,Du(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Lu(e){var t=this;return e.Uh||(e.Uh=function(n,r,i){var s=be(n);return s.Ih(),new iz(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:lz.bind(null,e),Tu:cz.bind(null,e),ah:fz.bind(null,e)}),e.$h.push(function(n){return ee(t,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return n?(e.Uh.Yu(),Ob(e)?kb(e):e.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Uh.stop()];case 2:r.sent(),nO(e),r.label=3;case 3:return[2]}})})})),e.Uh}function Yo(e){var t=this;return e.Qh||(e.Qh=function(n,r,i){var s=be(n);return s.Ih(),new oz(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:hz.bind(null,e),Tu:mz.bind(null,e),wh:dz.bind(null,e),dh:pz.bind(null,e)}),e.$h.push(function(n){return ee(t,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return n?(e.Qh.Yu(),[4,Mu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qh.stop()];case 3:r.sent(),e.Ch.length>0&&(fe("RemoteStore","Stopping write stream with "+e.Ch.length+" pending writes"),e.Ch=[]),r.label=4;case 4:return[2]}})})})),e.Qh}var gz=function(){this.Kh=void 0,this.listeners=[]},vz=function(){this.queries=new Ru(function(e){return ck(e)},Gc),this.onlineState="Unknown",this.Wh=new Set};function Nb(e,t){return ee(this,void 0,void 0,function(){var n,r,i,s,u,l,c;return J(this,function(d){switch(d.label){case 0:if(n=be(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new gz),!i)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.jh(r)];case 2:return u.Kh=d.sent(),[3,4];case 3:return l=d.sent(),c=Pu(l,"Initialization of query '"+Ay(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.Gh(n.onlineState),s.Kh&&t.zh(s.Kh)&&Rb(n),[2]}})})}function Pb(e,t){return ee(this,void 0,void 0,function(){var n,r,i,s,u;return J(this,function(l){return n=be(e),r=t.query,i=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function yz(e,t){for(var n=be(e),r=!1,i=0,s=t;i<s.length;i++){var u=s[i],l=u.query,c=n.queries.get(l);if(c){for(var d=0,p=c.listeners;d<p.length;d++)p[d].zh(u)&&(r=!0);c.Kh=u}}r&&Rb(n)}function bz(e,t,n){var r=be(e),i=r.queries.get(t);if(i)for(var s=0,u=i.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function Rb(e){e.Wh.forEach(function(t){t.next()})}var Db=function(){function e(t,n,r){this.query=t,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new dd(t.query,t.docs,t.Se,n,t.De,t.fromCache,t.Ce,!0)}var u=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),u=!0):this.tl(t,this.onlineState)&&(this.el(t),u=!0),this.Xh=t,u},e.prototype.onError=function(t){this.Jh.error(t)},e.prototype.Gh=function(t){this.onlineState=t;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),n=!0),n},e.prototype.tl=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||t.docs.et()&&n!=="Offline")},e.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.el=function(t){t=dd.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sO=function(e){this.key=e},aO=function(e){this.key=e},uO=function(){function e(t,n){this.query=t,this.cl=n,this.al=null,this.Be=!1,this.ul=Rt(),this.De=Rt(),this.hl=fk(t),this.ll=new Sk(this.hl)}return Object.defineProperty(e.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),e.prototype.fl=function(t,n){var r=this,i=n?n.dl:new TT,s=n?n.ll:this.ll,u=n?n.De:this.De,l=s,c=!1,d=kh(this.query)&&s.size===this.query.limit?s.last():null,p=fd(this.query)&&s.size===this.query.limit?s.first():null;if(t.Xt(function(m,v){var b=s.get(m),w=v instanceof Ct?v:null;w&&(w=qc(r.query,w)?w:null);var S=!!b&&r.De.has(b.key),E=!!w&&(w.Vt||r.De.has(w.key)&&w.hasCommittedMutations),x=!1;b&&w?b.data().isEqual(w.data())?S!==E&&(i.track({type:3,doc:w}),x=!0):r.wl(b,w)||(i.track({type:2,doc:w}),x=!0,(d&&r.hl(w,d)>0||p&&r.hl(w,p)<0)&&(c=!0)):!b&&w?(i.track({type:0,doc:w}),x=!0):b&&!w&&(i.track({type:1,doc:b}),x=!0,(d||p)&&(c=!0)),x&&(w?(l=l.add(w),u=E?u.add(m):u.delete(m)):(l=l.delete(m),u=u.delete(m)))}),kh(this.query)||fd(this.query))for(;l.size>this.query.limit;){var f=kh(this.query)?l.last():l.first();l=l.delete(f.key),u=u.delete(f.key),i.track({type:1,doc:f})}return{ll:l,dl:i,lc:c,De:u}},e.prototype.wl=function(t,n){return t.Vt&&n.hasCommittedMutations&&!n.Vt},e.prototype.wi=function(t,n,r){var i=this,s=this.ll;this.ll=t.ll,this.De=t.De;var u=t.dl.ve();u.sort(function(p,f){return function(m,v){var b=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return b(m)-b(v)}(p.type,f.type)||i.hl(p.doc,f.doc)}),this.El(r);var l=n?this.Tl():[],c=this.ul.size===0&&this.Be?1:0,d=c!==this.al;return this.al=c,u.length!==0||d?{snapshot:new dd(this.query,t.ll,s,u,t.De,c===0,d,!1),Il:l}:{Il:l}},e.prototype.Gh=function(t){return this.Be&&t==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new TT,De:this.De,lc:!1},!1)):{Il:[]}},e.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},e.prototype.El=function(t){var n=this;t&&(t.qe.forEach(function(r){return n.cl=n.cl.add(r)}),t.Ue.forEach(function(r){}),t.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=t.Be)},e.prototype.Tl=function(){var t=this;if(!this.Be)return[];var n=this.ul;this.ul=Rt(),this.ll.forEach(function(i){t.ml(i.key)&&(t.ul=t.ul.add(i.key))});var r=[];return n.forEach(function(i){t.ul.has(i)||r.push(new aO(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new sO(i))}),r},e.prototype.Al=function(t){this.cl=t.Rc,this.ul=Rt();var n=this.fl(t.documents);return this.wi(n,!0)},e.prototype.Rl=function(){return dd.Ne(this.query,this.ll,this.De,this.al===0)},e}(),wz=function(e,t,n){this.query=e,this.targetId=t,this.view=n},_z=function(e){this.key=e,this.Pl=!1},Sz=function(){function e(t,n,r,i,s,u){this.bh=t,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=u,this.bl={},this.vl=new Ru(function(l){return ck(l)},Gc),this.Sl=new Map,this.Dl=new Set,this.Cl=new Vn(De.H),this.xl=new Map,this.Nl=new xb,this.$l={},this.Fl=new Map,this.Ol=gd.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(e.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),e}();function Ez(e,t){return ee(this,void 0,void 0,function(){var n,r,i,s,u,l;return J(this,function(c){switch(c.label){case 0:return n=jb(e),(s=n.vl.get(t))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,vd(n.bh,Oi(t))];case 2:return u=c.sent(),l=n.Vl.Fa(u.targetId),r=u.targetId,[4,Mb(n,t,r,l==="current")];case 3:i=c.sent(),n.Ml&&lp(n.yl,u),c.label=4;case 4:return[2,i]}})})}function Mb(e,t,n,r){return ee(this,void 0,void 0,function(){var i,s,u,l,c,d;return J(this,function(p){switch(p.label){case 0:return e.Ll=function(f,m,v){return function(b,w,S,E){return ee(this,void 0,void 0,function(){var x,C,D;return J(this,function(V){switch(V.label){case 0:return x=w.view.fl(S),x.lc?[4,yd(b.bh,w.query,!1).then(function(A){var G=A.documents;return w.view.fl(G,x)})]:[3,2];case 1:x=V.sent(),V.label=2;case 2:return C=E&&E.$e.get(w.targetId),D=w.view.wi(x,b.Ml,C),[2,(Ry(b,w.targetId,D.Il),D.snapshot)]}})})}(e,f,m,v)},[4,yd(e.bh,t,!0)];case 1:return i=p.sent(),s=new uO(t,i.Rc),u=s.fl(i.documents),l=bb.Le(n,r&&e.onlineState!=="Offline"),c=s.wi(u,e.Ml,l),Ry(e,n,c.Il),d=new wz(t,n,s),[2,(e.vl.set(t,d),e.Sl.has(n)?e.Sl.get(n).push(t):e.Sl.set(n,[t]),c.snapshot)]}})})}function Tz(e,t){return ee(this,void 0,void 0,function(){var n,r,i;return J(this,function(s){switch(s.label){case 0:return n=be(e),r=n.vl.get(t),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(u){return!Gc(u,t)})),void n.vl.delete(t))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,bu(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),pc(n.yl,r.targetId),wu(n,r.targetId)}).catch(oa)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return wu(n,r.targetId),[4,bu(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Iz(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s,u;return J(this,function(l){switch(l.label){case 0:r=Ub(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,d){var p,f=be(c),m=lr.now(),v=d.reduce(function(b,w){return b.add(w.key)},Rt());return f.persistence.runTransaction("Locally write mutations","readwrite",function(b){return f.Tc.Xo(b,v).next(function(w){p=w;for(var S=[],E=0,x=d;E<x.length;E++){var C=x[E],D=Q$(C,p.get(C.key));D!=null&&S.push(new es(C.key,D,sk(D.proto.mapValue),Pn.exists(!0)))}return f.zo.Ri(b,m,S,d)})}).then(function(b){var w=b.xs(p);return{batchId:b.batchId,ri:w}})}(r.bh,t)];case 2:return i=l.sent(),r.Vl.Ca(i.batchId),function(c,d,p){var f=c.$l[c.currentUser.A()];f||(f=new Vn(it)),f=f.zt(d,p),c.$l[c.currentUser.A()]=f}(r,i.batchId,n),[4,ns(r,i.ri)];case 3:return l.sent(),[4,Mu(r.yl)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Pu(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function lO(e,t){return ee(this,void 0,void 0,function(){var n,r;return J(this,function(i){switch(i.label){case 0:n=be(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,$B(n.bh,t)];case 2:return r=i.sent(),t.$e.forEach(function(s,u){var l=n.xl.get(u);l&&(Ue(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?l.Pl=!0:s.Ue.size>0?Ue(l.Pl):s.Qe.size>0&&(Ue(l.Pl),l.Pl=!1))}),[4,ns(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,oa(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function KT(e,t,n){var r=be(e);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,u){var l=u.view.Gh(t);l.snapshot&&i.push(l.snapshot)}),function(s,u){var l=be(s);l.onlineState=u;var c=!1;l.queries.forEach(function(d,p){for(var f=0,m=p.listeners;f<m.length;f++)m[f].Gh(u)&&(c=!0)}),c&&Rb(l)}(r.gl,t),i.length&&r.bl.ah(i),r.onlineState=t,r.Ml&&r.Vl.Qa(t)}}function xz(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s,u,l,c;return J(this,function(d){switch(d.label){case 0:return(r=be(e)).Vl.Ba(t,"rejected",n),i=r.xl.get(t),(s=i&&i.key)?(u=(u=new Vn(De.H)).zt(s,new wn(s,tt.min())),l=Rt().add(s),c=new yb(tt.min(),new Map,new cn(it),u,l),[4,lO(r,c)]):[3,2];case 1:return d.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(t),Fb(r),[3,4];case 2:return[4,bu(r.bh,t,!1).then(function(){return wu(r,t,n)}).catch(oa)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function Az(e,t){return ee(this,void 0,void 0,function(){var n,r,i;return J(this,function(s){switch(s.label){case 0:n=be(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,UB(n.bh,t)];case 2:return i=s.sent(),Vb(n,r,null),Lb(n,r),n.Vl.Na(r,"acknowledged"),[4,ns(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,oa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Cz(e,t,n){return ee(this,void 0,void 0,function(){var r,i;return J(this,function(s){switch(s.label){case 0:r=be(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var c=be(u);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return c.zo.Pi(d,l).next(function(f){return Ue(f!==null),p=f.keys(),c.zo.Ci(d,f)}).next(function(){return c.zo.$i(d)}).next(function(){return c.Tc.Xo(d,p)})})}(r.bh,t)];case 2:return i=s.sent(),Vb(r,t,n),Lb(r,t),r.Vl.Na(t,"rejected",n),[4,ns(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,oa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function kz(e,t){return ee(this,void 0,void 0,function(){var n,r,i,s,u;return J(this,function(l){switch(l.label){case 0:ts((n=be(e)).yl)||fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var d=be(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d.zo.Vi(p)})}(n.bh)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fl.get(r)||[]).push(t),n.Fl.set(r,i),[3,4]);case 3:return s=l.sent(),u=Pu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function Lb(e,t){(e.Fl.get(t)||[]).forEach(function(n){n.resolve()}),e.Fl.delete(t)}function Vb(e,t,n){var r=be(e),i=r.$l[r.currentUser.A()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.$l[r.currentUser.A()]=i}}function wu(e,t,n){n===void 0&&(n=null),e.Vl.ka(t);for(var r=0,i=e.Sl.get(t);r<i.length;r++){var s=i[r];e.vl.delete(s),n&&e.bl.Bl(s,n)}e.Sl.delete(t),e.Ml&&e.Nl.Fc(t).forEach(function(u){e.Nl.Fi(u)||cO(e,u)})}function cO(e,t){e.Dl.delete(t.path.rt());var n=e.Cl.get(t);n!==null&&(pc(e.yl,n),e.Cl=e.Cl.remove(t),e.xl.delete(n),Fb(e))}function Ry(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof sO?(e.Nl.nr(s.key,t),Oz(e,s)):s instanceof aO?(fe("SyncEngine","Document no longer in limbo: "+s.key),e.Nl.ir(s.key,t),e.Nl.Fi(s.key)||cO(e,s.key)):Ce()}}function Oz(e,t){var n=t.key,r=n.path.rt();e.Cl.get(n)||e.Dl.has(r)||(fe("SyncEngine","New document in limbo: "+n),e.Dl.add(r),Fb(e))}function Fb(e){for(;e.Dl.size>0&&e.Cl.size<e.pl;){var t=e.Dl.values().next().value;e.Dl.delete(t);var n=new De(yt.ot(t)),r=e.Ol.next();e.xl.set(r,new _z(n)),e.Cl=e.Cl.zt(n,r),lp(e.yl,new ip(Oi(Hc(n.path)),r,2,Er.q))}}function ns(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s,u;return J(this,function(l){switch(l.label){case 0:return r=be(e),i=[],s=[],u=[],r.vl.et()?[3,3]:(r.vl.forEach(function(c,d){u.push(r.Ll(d,t,n).then(function(p){if(p){r.Ml&&r.Vl.Ba(d.targetId,p.fromCache?"not-current":"current"),i.push(p);var f=FB.oc(d.targetId,p);s.push(f)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.bl.ah(i),[4,function(c,d){return ee(this,void 0,void 0,function(){var p,f,m,v,b,w,S,E,x;return J(this,function(C){switch(C.label){case 0:p=be(c),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(D){return se.forEach(d,function(V){return se.forEach(V.ic,function(A){return p.persistence.Ti.nr(D,V.targetId,A)}).next(function(){return se.forEach(V.rc,function(A){return p.persistence.Ti.ir(D,V.targetId,A)})})})})];case 2:return C.sent(),[3,4];case 3:if(!ia(f=C.sent()))throw f;return fe("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(m=0,v=d;m<v.length;m++)b=v[m],w=b.targetId,b.fromCache||(S=p.fc.get(w),E=S.Ot,x=S.Lt(E),p.fc=p.fc.zt(w,x));return[2]}})})}(r.bh,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Nz(e,t){return ee(this,void 0,void 0,function(){var n,r;return J(this,function(i){switch(i.label){case 0:return(n=be(e)).currentUser.isEqual(t)?[3,3]:(fe("SyncEngine","User change. New user:",t.A()),[4,Xk(n.bh,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,u){s.Fl.forEach(function(l){l.forEach(function(c){c.reject(new ne(B.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(t,r.mc,r.Ac),[4,ns(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Pz(e,t){var n=be(e),r=n.xl.get(t);if(r&&r.Pl)return Rt().add(r.key);var i=Rt(),s=n.Sl.get(t);if(!s)return i;for(var u=0,l=s;u<l.length;u++){var c=l[u],d=n.vl.get(c);i=i.Pe(d.view._l)}return i}function Rz(e,t){return ee(this,void 0,void 0,function(){var n,r,i;return J(this,function(s){switch(s.label){case 0:return[4,yd((n=be(e)).bh,t.query,!0)];case 1:return r=s.sent(),i=t.view.Al(r),[2,(n.Ml&&Ry(n,t.targetId,i.Il),i)]}})})}function Dz(e){return ee(this,void 0,void 0,function(){var t;return J(this,function(n){return[2,Qk((t=be(e)).bh).then(function(r){return ns(t,r)})]})})}function Mz(e,t,n,r){return ee(this,void 0,void 0,function(){var i,s;return J(this,function(u){switch(u.label){case 0:return[4,function(l,c){var d=be(l),p=be(d.zo);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return p.yi(f,c).next(function(m){return m?d.Tc.Xo(f,m):se.resolve(null)})})}((i=be(e)).bh,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Mu(i.yl)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Vb(i,t,r||null),Lb(i,t),function(l,c){be(be(l).zo).xi(c)}(i.bh,t)):Ce(),u.label=4;case 4:return[4,ns(i,s)];case 5:return u.sent(),[3,7];case 6:fe("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function Lz(e,t){return ee(this,void 0,void 0,function(){var n,r,i,s,u,l,c,d;return J(this,function(p){switch(p.label){case 0:return jb(n=be(e)),Ub(n),t!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,YT(n,r.it())]);case 1:return i=p.sent(),n.kl=!0,[4,Py(n.yl,!0)];case 2:for(p.sent(),s=0,u=i;s<u.length;s++)l=u[s],lp(n.yl,l);return[3,7];case 3:return t!==!1||n.kl===!1?[3,7]:(c=[],d=Promise.resolve(),n.Sl.forEach(function(f,m){n.Vl.Ma(m)?c.push(m):d=d.then(function(){return wu(n,m),bu(n.bh,m,!0)}),pc(n.yl,m)}),[4,d]);case 4:return p.sent(),[4,YT(n,c)];case 5:return p.sent(),function(f){var m=be(f);m.xl.forEach(function(v,b){pc(m.yl,b)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new Vn(De.H)}(n),n.kl=!1,[4,Py(n.yl,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function YT(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s,u,l,c,d,p,f,m,v,b,w,S;return J(this,function(E){switch(E.label){case 0:r=be(e),i=[],s=[],u=0,l=t,E.label=1;case 1:return u<l.length?(c=l[u],d=void 0,(p=r.Sl.get(c))&&p.length!==0?[4,vd(r.bh,Oi(p[0]))]:[3,7]):[3,13];case 2:d=E.sent(),f=0,m=p,E.label=3;case 3:return f<m.length?(v=m[f],b=r.vl.get(v),[4,Rz(r,b)]):[3,6];case 4:(w=E.sent()).snapshot&&s.push(w.snapshot),E.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Yk(r.bh,c)];case 8:return S=E.sent(),[4,vd(r.bh,S)];case 9:return d=E.sent(),[4,Mb(r,fO(S),c,!1)];case 10:E.sent(),E.label=11;case 11:i.push(d),E.label=12;case 12:return u++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function fO(e){return uk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Vz(e){var t=be(e);return be(be(t.bh).persistence).Uo()}function Fz(e,t,n,r){return ee(this,void 0,void 0,function(){var i,s,u;return J(this,function(l){switch(l.label){case 0:return(i=be(e)).kl?(fe("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qk(i.bh)];case 3:return s=l.sent(),u=yb.Me(t,n==="current"),[4,ns(i,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,bu(i.bh,t,!0)];case 6:return l.sent(),wu(i,t,r),[3,8];case 7:Ce(),l.label=8;case 8:return[2]}})})}function jz(e,t,n){return ee(this,void 0,void 0,function(){var r,i,s,u,l,c,d,p,f,m;return J(this,function(v){switch(v.label){case 0:if(!(r=jb(e)).kl)return[3,10];i=0,s=t,v.label=1;case 1:return i<s.length?(u=s[i],r.Sl.has(u)?(fe("SyncEngine","Adding an already active target "+u),[3,5]):[4,Yk(r.bh,u)]):[3,6];case 2:return l=v.sent(),[4,vd(r.bh,l)];case 3:return c=v.sent(),[4,Mb(r,fO(l),c.targetId,!1)];case 4:v.sent(),lp(r.yl,c),v.label=5;case 5:return i++,[3,1];case 6:d=function(b){return J(this,function(w){switch(w.label){case 0:return r.Sl.has(b)?[4,bu(r.bh,b,!1).then(function(){pc(r.yl,b),wu(r,b)}).catch(oa)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},p=0,f=n,v.label=7;case 7:return p<f.length?(m=f[p],[5,d(m)]):[3,10];case 8:v.sent(),v.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function jb(e){var t=be(e);return t.yl.Dh.Lh=lO.bind(null,t),t.yl.Dh.vn=Pz.bind(null,t),t.yl.Dh.Mh=xz.bind(null,t),t.bl.ah=yz.bind(null,t.gl),t.bl.Bl=bz.bind(null,t.gl),t}function Ub(e){var t=be(e);return t.yl.Dh.Bh=Az.bind(null,t),t.yl.Dh.qh=Cz.bind(null,t),t}var hO=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return ee(this,void 0,void 0,function(){return J(this,function(n){switch(n.label){case 0:return this.Qt=up(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},e.prototype.zl=function(t){return null},e.prototype.Hl=function(t){return Wk(this.persistence,new qk,t.Jl,this.Qt)},e.prototype.jl=function(t){return new YB(JB.ia,this.Qt)},e.prototype.Wl=function(t){return new Jk},e.prototype.terminate=function(){return ee(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},e}(),dO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return _e(t,e),t.prototype.initialize=function(n){return ee(this,void 0,void 0,function(){return J(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,HB(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,Ub(this.Yl._a)];case 4:return r.sent(),[4,Mu(this.Yl.yl)];case 5:return r.sent(),[2]}})})},t.prototype.Hl=function(n){return Wk(this.persistence,new qk,n.Jl,this.Qt)},t.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new NB(r,n._s)},t.prototype.jl=function(n){var r=Ib(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?wi.Ys(this.cacheSizeBytes):wi.ti;return new VB(this.synchronizeTabs,r,n.clientId,i,n._s,Zk(),Ph(),this.Qt,this.Vl,!!this.forceOwnership)},t.prototype.Wl=function(n){return new Jk},t}(hO),Uz=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return _e(t,e),t.prototype.initialize=function(n){return ee(this,void 0,void 0,function(){var r,i=this;return J(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof Iv?(this.Vl._a={eu:Mz.bind(null,r),nu:Fz.bind(null,r),su:jz.bind(null,r),Uo:Vz.bind(null,r),tu:Dz.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(u){return ee(i,void 0,void 0,function(){return J(this,function(l){switch(l.label){case 0:return[4,Lz(this.Yl._a,u)];case 1:return l.sent(),this.Gl&&(u&&!this.Gl.Er?this.Gl.start(this.bh):u||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Wl=function(n){var r=Zk();if(!Iv.Kn(r))throw new ne(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Ib(n.yu.t,n.yu.persistenceKey);return new Iv(r,n._s,i,n.clientId,n.Jl)},t}(dO),Dy=function(){function e(){}return e.prototype.initialize=function(t,n){return ee(this,void 0,void 0,function(){var r=this;return J(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!t.synchronizeTabs),this.Vl.fa=function(s){return KT(r._a,s,1)},this.yl.Dh.n_=Nz.bind(null,this._a),[4,Py(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.t_=function(t){return new vz},e.prototype.Xl=function(t){var n,r=up(t.yu.t),i=(n=t.yu,new rz(n));return function(s,u,l){return new sz(s,u,l)}(t.credentials,i,r)},e.prototype.Zl=function(t){var n,r,i,s,u,l=this;return n=this.bh,r=this.Sh,i=t._s,s=function(c){return KT(l._a,c,0)},u=XT.Kn()?new XT:new ez,new uz(n,r,i,s,u)},e.prototype.e_=function(t,n){return function(r,i,s,u,l,c,d){var p=new Sz(r,i,s,u,l,c);return d&&(p.kl=!0),p}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,n)},e.prototype.terminate=function(){return function(t){return ee(this,void 0,void 0,function(){var n;return J(this,function(r){switch(r.label){case 0:return n=be(t),fe("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,Du(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cp=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.i_=function(){this.muted=!0},e.prototype.s_=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),Wi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new ui(t)}return e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(),sa=function(e){this._methodName=e},ut=function(e){this.d_=e};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(e,t,n){if(!n)throw new ne(B.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Bb(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new ne(B.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function pO(e,t,n,r){if(t===!0&&r===!0)throw new ne(B.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function QT(e){if(!De.wt(e))throw new ne(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function JT(e){if(De.wt(e))throw new ne(B.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function fp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ce()}function bt(e,t){if("_delegate"in e&&(e=e.d_),!(e instanceof t)){if(t.name===e.constructor.name)throw new ne(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fp(e);throw new ne(B.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ZT(e,t){if(t<=0)throw new ne(B.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ne(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ne(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,pO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),tI=new Map,mc=function(){function e(t,n){this.w_="(lite)",this.E_=new eI({}),this.T_=!1,t instanceof sd?(this.I_=t,this.m_=new cT):(this.A_=t,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ne(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(r.options.projectId)}(t),this.m_=new P$(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.A_)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),e.prototype.g_=function(t){if(this.T_)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new eI(t),t.credentials!==void 0&&(this.m_=function(n){if(!n)return new cT;switch(n.type){case"gapi":var r=n.client;return Ue(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new D$(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new ne(B.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.V_=function(){return this.E_},e.prototype.p_=function(){return this.T_=!0,this.E_},e.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},e.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},e.prototype.b_=function(){return t=this,(n=tI.get(t))&&(fe("ComponentProvider","Removing Datastore"),tI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Gt=function(){function e(t,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uo(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.S_)},e}(),Cr=function(){function e(t,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.C_)},e}(),Uo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Hc(i))||this).firestore=n,s.D_=i,s.type="collection",s}return _e(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Gt(this.firestore,null,new De(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this.D_)},t}(Cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof ut&&(e=e.d_),$b("collection","path",t),e instanceof mc)return JT(n=yt.ot.apply(yt,Nn([t],r))),new Uo(e,null,n);if(!(e instanceof Gt||e instanceof Uo))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return JT(n=yt.ot.apply(yt,Nn([e.path],r)).child(yt.ot(t))),new Uo(e.firestore,null,n)}function Rh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof ut&&(e=e.d_),arguments.length===1&&(t=ek.u()),$b("doc","path",t),e instanceof mc)return QT(n=yt.ot.apply(yt,Nn([t],r))),new Gt(e,null,new De(n));if(!(e instanceof Gt||e instanceof Uo))throw new ne(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return QT(n=e.D_.child(yt.ot.apply(yt,Nn([t],r)))),new Gt(e.firestore,e instanceof Uo?e.v_:null,new De(n))}function gO(e,t){return e instanceof ut&&(e=e.d_),t instanceof ut&&(t=t.d_),(e instanceof Gt||e instanceof Uo)&&(t instanceof Gt||t instanceof Uo)&&e.firestore===t.firestore&&e.path===t.path&&e.v_===t.v_}function vO(e,t){return e instanceof ut&&(e=e.d_),t instanceof ut&&(t=t.d_),e instanceof Cr&&t instanceof Cr&&e.firestore===t.firestore&&Gc(e.C_,t.C_)&&e.v_===t.v_}var hp=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new ne(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ne(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=t,this.N_=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},e.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},e.prototype.U=function(t){return it(this.x_,t.x_)||it(this.N_,t.N_)},e}(),$z=/^__.*__$/,Bz=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return this.Gt!==null?new es(t,this.data,this.Gt,n,this.fieldTransforms):new Xc(t,this.data,n,this.fieldTransforms)},e}(),yO=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return new es(t,this.data,this.Gt,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}var wO=function(){function e(t,n,r,i,s,u){this.settings=t,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),e.prototype.M_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},e.prototype.L_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.q_(t),i},e.prototype.U_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.O_(),i},e.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},e.prototype.K_=function(t){return wd(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},e.prototype.contains=function(t){return this.Gt.find(function(n){return t.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return t.nt(n.field)})!==void 0},e.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},e.prototype.q_=function(t){if(t.length===0)throw this.K_("Document fields must not be empty");if(bO(this.k_)&&$z.test(t))throw this.K_('Document fields cannot begin and end with "__"')},e}(),zz=function(){function e(t,n,r){this.t=t,this.ignoreUndefinedProperties=n,this.Qt=r||up(t)}return e.prototype.G_=function(t,n,r,i){return i===void 0&&(i=!1),new wO({k_:t,methodName:n,j_:r,path:ui.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},e}();function aa(e){var t=e.p_(),n=up(e.I_);return new zz(e.I_,!!t.ignoreUndefinedProperties,n)}function dp(e,t,n,r,i,s){s===void 0&&(s={});var u=e.G_(s.merge||s.mergeFields?2:0,t,n,i);qb("Data must be an object, but it was:",u,r);var l,c,d=EO(r,u);if(s.merge)l=new uu(u.Gt),c=u.fieldTransforms;else if(s.mergeFields){for(var p=[],f=0,m=s.mergeFields;f<m.length;f++){var v=My(t,m[f],n);if(!u.contains(v))throw new ne(B.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");IO(p,v)||p.push(v)}l=new uu(p),c=u.fieldTransforms.filter(function(b){return l.Tt(b.field)})}else l=null,c=u.fieldTransforms;return new Bz(new Xo(d),l,c)}var zb=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(sa);function _O(e,t,n){return new wO({k_:3,j_:t.settings.j_,methodName:e._methodName,B_:n},t.t,t.Qt,t.ignoreUndefinedProperties)}var Hz=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.z_=function(n){return new Wc(n.path,new hu)},t.prototype.isEqual=function(n){return n instanceof t},t}(sa),Gz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return _e(t,e),t.prototype.z_=function(n){var r=_O(this,n,!0),i=this.H_.map(function(u){return ua(u,r)}),s=new Ys(i);return new Wc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(sa),qz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return _e(t,e),t.prototype.z_=function(n){var r=_O(this,n,!0),i=this.H_.map(function(u){return ua(u,r)}),s=new Qs(i);return new Wc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(sa),Wz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).J_=r,i}return _e(t,e),t.prototype.z_=function(n){var r=new du(n.Qt,pk(n.Qt,this.J_));return new Wc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(sa);function Hb(e,t,n,r){var i=e.G_(1,t,n);qb("Data must be an object, but it was:",i,r);var s=[],u=new Bc;$c(r,function(c,d){var p=Wb(t,c,n);d instanceof ut&&(d=d.d_);var f=i.U_(p);if(d instanceof zb)s.push(p);else{var m=ua(d,f);m!=null&&(s.push(p),u.set(p,m))}});var l=new uu(s);return new yO(u.Pt(),l,i.fieldTransforms)}function Gb(e,t,n,r,i,s){var u=e.G_(1,t,n),l=[My(t,r,n)],c=[i];if(s.length%2!=0)throw new ne(B.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(My(t,s[d])),c.push(s[d+1]);for(var p=[],f=new Bc,m=l.length-1;m>=0;--m)if(!IO(p,l[m])){var v=l[m],b=c[m];b instanceof ut&&(b=b.d_);var w=u.U_(v);if(b instanceof zb)p.push(v);else{var S=ua(b,w);S!=null&&(p.push(v),f.set(v,S))}}var E=new uu(p);return new yO(f.Pt(),E,u.fieldTransforms)}function SO(e,t,n,r){return r===void 0&&(r=!1),ua(n,e.G_(r?4:3,t))}function ua(e,t){if(e instanceof ut&&(e=e.d_),TO(e))return qb("Unsupported field value:",t,e),EO(e,t);if(e instanceof sa)return function(n,r){if(!bO(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.Gt.push(t.path),e instanceof Array){if(t.settings.B_&&t.k_!==4)throw t.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,u=0,l=n;u<l.length;u++){var c=ua(l[u],r.Q_(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if(n instanceof ut&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pk(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=lr.fromDate(n);return{timestampValue:fc(r.Qt,i)}}if(n instanceof lr)return i=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:fc(r.Qt,i)};if(n instanceof hp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ks)return{bytesValue:Ik(r.Qt,n.I)};if(n instanceof Gt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:wb(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+fp(n))}(e,t)}function EO(e,t){var n={};return rk(e)?t.path&&t.path.length>0&&t.Gt.push(t.path):$c(e,function(r,i){var s=ua(i,t.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof lr||e instanceof hp||e instanceof Ks||e instanceof Gt||e instanceof sa)}function qb(e,t,n){if(!TO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=fp(n);throw r==="an object"?t.K_(e+" a custom object"):t.K_(e+" "+r)}}function My(e,t,n){if(t instanceof ut&&(t=t.d_),t instanceof Wi)return t.f_;if(typeof t=="string")return Wb(e,t);throw wd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Xz=new RegExp("[~\\*/\\[\\]]");function Wb(e,t,n){if(t.search(Xz)>=0)throw wd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Wi.bind.apply(Wi,Nn([void 0],t.split("."))))().f_}catch{throw wd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function wd(e,t,n,r,i){var s=r&&!r.et(),u=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||u)&&(c+=" (found",s&&(c+=" in field "+r),u&&(c+=" in document "+i),c+=")"),new ne(B.INVALID_ARGUMENT,(l+=". ")+e+c)}function IO(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kz=function(){function e(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return e.prototype.ef=function(t){return ee(this,void 0,void 0,function(){var n,r=this;return J(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new ne(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return ee(this,void 0,void 0,function(){var l,c,d,p,f,m;return J(this,function(v){switch(v.label){case 0:return l=be(s),c=dc(l.Qt)+"/documents",d={documents:u.map(function(b){return hc(l.Qt,b)})},[4,l.Du("BatchGetDocuments",c,d)];case 1:return p=v.sent(),f=new Map,p.forEach(function(b){var w=function(S,E){return"found"in E?function(x,C){Ue(!!C.found),C.found.name,C.found.updateTime;var D=Gi(x,C.found.name),V=Kn(C.found.updateTime),A=new Xo({mapValue:{fields:C.found.fields}});return new Ct(D,V,A,{})}(S,E):"missing"in E?function(x,C){Ue(!!C.missing),Ue(!!C.readTime);var D=Gi(x,C.missing),V=Kn(C.readTime);return new wn(D,V)}(S,E):Ce()}(l.Qt,b);f.set(w.key.toString(),w)}),m=[],[2,(u.forEach(function(b){var w=f.get(b.toString());Ue(!!w),m.push(w)}),m)]}})})}(this.Sh,t)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof wn||s instanceof Ct?r.sf(s):Ce()}),n)]}})})},e.prototype.set=function(t,n){this.write(n.F_(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.F_(t,this.rf(t)))}catch(r){this.Z_=r}this.tf.add(t.toString())},e.prototype.delete=function(t){this.write(new Kc(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.commit=function(){return ee(this,void 0,void 0,function(){var t,n=this;return J(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var u=De._t(s);n.mutations.push(new vb(u,n.jt(u)))}),[4,function(i,s){return ee(this,void 0,void 0,function(){var u,l,c;return J(this,function(d){switch(d.label){case 0:return u=be(i),l=dc(u.Qt)+"/documents",c={writes:s.map(function(p){return pd(u.Qt,p)})},[4,u.pu("Commit",l,c)];case 1:return d.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},e.prototype.sf=function(t){var n;if(t instanceof Ct)n=t.version;else{if(!(t instanceof wn))throw Ce();n=tt.min()}var r=this.Y_.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ne(B.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),n)},e.prototype.jt=function(t){var n=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&n?Pn.updateTime(n):Pn.Kt()},e.prototype.rf=function(t){var n=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&n){if(n.isEqual(tt.min()))throw new ne(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(n)}return Pn.exists(!0)},e.prototype.write=function(t){this.nf(),this.mutations.push(t)},e.prototype.nf=function(){},e}(),Yz=function(){function e(t,n,r,i){this._s=t,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new Ab(this._s,"transaction_retry")}return e.prototype.run=function(){this.af()},e.prototype.af=function(){var t=this;this.Gu.Lu(function(){return ee(t,void 0,void 0,function(){var n,r,i=this;return J(this,function(s){return n=new Kz(this.Sh),(r=this.uf(n))&&r.then(function(u){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(u)}).catch(function(l){i.hf(l)})})}).catch(function(u){i.hf(u)}),[2]})})})},e.prototype.uf=function(t){try{var n=this.updateFunction(t);return!ra(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},e.prototype.hf=function(t){var n=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(t)},e.prototype.lf=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!wk(n)}return!1},e}(),Qz=function(){function e(t,n,r){var i=this;this.credentials=t,this._s=n,this.yu=r,this.user=_r.UNAUTHENTICATED,this.clientId=ek.u(),this._f=function(){},this.C=new Pr,this.credentials.v(function(s){fe("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return e.prototype.getConfiguration=function(){return ee(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},e.prototype.ff=function(t){var n=this;this._f=t,this.C.promise.then(function(){return n._f(n.user)})},e.prototype.df=function(){if(this._s.wf)throw new ne(B.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this._s.Ef();var n=new Pr;return this._s.Tf(function(){return ee(t,void 0,void 0,function(){var r,i;return J(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Pu(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(e,t){return ee(this,void 0,void 0,function(){var n,r,i=this;return J(this,function(s){switch(s.label){case 0:return e._s.Af(),fe("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.Jl,e.ff(function(u){r.isEqual(u)||(r=u,e._s.po(function(){return ee(i,void 0,void 0,function(){return J(this,function(l){switch(l.label){case 0:return[4,Xk(t.bh,u)];case 1:return l.sent(),[2]}})})}))}),t.persistence.Po(function(){return e.terminate()}),e.mf=t,[2]}})})}function AO(e,t){return ee(this,void 0,void 0,function(){var n,r;return J(this,function(i){switch(i.label){case 0:return e._s.Af(),[4,Xb(e)];case 1:return n=i.sent(),fe("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.ff(function(s){return e._s.po(function(){return function(u,l){return ee(this,void 0,void 0,function(){var c,d;return J(this,function(p){switch(p.label){case 0:return(c=be(u))._s.Af(),fe("RemoteStore","RemoteStore received new credentials"),d=ts(c),c.Nh.add(3),[4,Du(c)];case 1:return p.sent(),d&&c.Oh.set("Unknown"),[4,c.Dh.n_(l)];case 2:return p.sent(),c.Nh.delete(3),[4,Yc(c)];case 3:return p.sent(),[2]}})})}(t.yl,s)})}),e.If=t,[2]}})})}function Xb(e){return ee(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return e.mf?[3,2]:(fe("FirestoreClient","Using default OfflineComponentProvider"),[4,xO(e,new hO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.mf]}})})}function pp(e){return ee(this,void 0,void 0,function(){return J(this,function(t){switch(t.label){case 0:return e.If?[3,2]:(fe("FirestoreClient","Using default OnlineComponentProvider"),[4,AO(e,new Dy)]);case 1:t.sent(),t.label=2;case 2:return[2,e.If]}})})}function nI(e){return Xb(e).then(function(t){return t.persistence})}function CO(e){return Xb(e).then(function(t){return t.bh})}function rI(e){return pp(e).then(function(t){return t.yl})}function kO(e){return pp(e).then(function(t){return t._a})}function _u(e){return ee(this,void 0,void 0,function(){var t,n;return J(this,function(r){switch(r.label){case 0:return[4,pp(e)];case 1:return t=r.sent(),[2,((n=t.gl).jh=Ez.bind(null,t._a),n.Hh=Tz.bind(null,t._a),n)]}})})}function iI(e,t,n){var r=this;n===void 0&&(n={});var i=new Pr;return e._s.Ps(function(){return ee(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return s=function(l,c,d,p,f){var m=new cp({next:function(b){c.Ps(function(){return Pb(l,v)});var w=b.docs.has(d);!w&&b.fromCache?f.reject(new ne(B.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&p&&p.source==="server"?f.reject(new ne(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:function(b){return f.reject(b)}}),v=new Db(Hc(d.path),m,{includeMetadataChanges:!0,nl:!0});return Nb(l,v)},[4,_u(e)];case 1:return[2,s.apply(void 0,[u.sent(),e._s,t,n,i])]}})})}),i.promise}function oI(e,t,n){var r=this;n===void 0&&(n={});var i=new Pr;return e._s.Ps(function(){return ee(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return s=function(l,c,d,p,f){var m=new cp({next:function(b){c.Ps(function(){return Pb(l,v)}),b.fromCache&&p.source==="server"?f.reject(new ne(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:function(b){return f.reject(b)}}),v=new Db(d,m,{includeMetadataChanges:!0,nl:!0});return Nb(l,v)},[4,_u(e)];case 1:return[2,s.apply(void 0,[u.sent(),e._s,t,n,i])]}})})}),i.promise}var Jz=function(){function e(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Ab(this,"async_queue_retry"),this.vf=function(){var r=Ph();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Gu.qu()};var n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(e.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),e.prototype.Ps=function(t){this.enqueue(t)},e.prototype.Tf=function(t){this.Sf(),this.Df(t)},e.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ph();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.vf)}},e.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(t)},e.prototype.po=function(t){var n=this;this.Ps(function(){return n.Pf.push(t),n.Cf()})},e.prototype.Cf=function(){return ee(this,void 0,void 0,function(){var t,n=this;return J(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!ia(t=r.sent()))throw t;return fe("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},e.prototype.Df=function(t){var n=this,r=this.Rf.then(function(){return n.pf=!0,t().catch(function(i){throw n.Vf=i,n.pf=!1,sn("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},e.prototype.Tr=function(t,n,r){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(n=0);var s=yB.Ts(this,t,n,r,function(u){return i.xf(u)});return this.gf.push(s),s},e.prototype.Sf=function(){this.Vf&&Ce()},e.prototype.Af=function(){},e.prototype.Nf=function(){return ee(this,void 0,void 0,function(){var t;return J(this,function(n){switch(n.label){case 0:return[4,t=this.Rf];case 1:n.sent(),n.label=2;case 2:if(t!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.$f=function(t){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===t)return!0;return!1},e.prototype.Ff=function(t){var n=this;return this.Nf().then(function(){n.gf.sort(function(u,l){return u.ds-l.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),t!=="all"&&s.fs===t)break}return n.Nf()})},e.prototype.Of=function(t){this.bf.push(t)},e.prototype.xf=function(t){var n=this.gf.indexOf(t);this.gf.splice(n,1)},e}();function Su(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var u=s[i];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var Zz=-1,ln=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Bf=new Jz,i.w_="name"in n?n.name:"[DEFAULT]",i}return _e(t,e),t.prototype.b_=function(){return this.qf||OO(this),this.qf.terminate()},t}(mc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(e){return e.qf||OO(e),e.qf.df(),e.qf}function OO(e){var t=e.p_(),n=function(r,i,s){return new k$(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(e.I_,e.w_,t);e.qf=new Qz(e.m_,e.Bf,n)}function sI(e,t,n){var r=this,i=new Pr;return e._s.enqueue(function(){return ee(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,xO(e,n)];case 1:return u.sent(),[4,AO(e,t)];case 2:return u.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===B.FAILED_PRECONDITION||l.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function aI(e){if(e.R_||e.P_)throw new ne(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kb=function(){function e(){}return e.prototype.Uf=function(t,n){switch(n===void 0&&(n="none"),Wo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return on(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,n);case 5:return t.stringValue;case 6:return this.Wf(lu(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,n);case 10:return this.Hf(t.mapValue,n);default:throw Ce()}},e.prototype.Hf=function(t,n){var r=this,i={};return $c(t.fields||{},function(s,u){i[s]=r.Uf(u,n)}),i},e.prototype.Gf=function(t){return new hp(on(t.latitude),on(t.longitude))},e.prototype.zf=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.Uf(i,n)})},e.prototype.Kf=function(t,n){switch(n){case"previous":var r=ik(t);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(ac(t));default:return null}},e.prototype.Qf=function(t){var n=qo(t);return new lr(n.seconds,n.nanos)},e.prototype.Jf=function(t,n){var r=yt.ot(t);Ue(Rk(r));var i=new sd(r.get(1),r.get(3)),s=new De(r.Y(5));return i.isEqual(n)||sn("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}(),gc=function(){function e(t,n,r,i,s){this.Yf=t,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Gt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this.Zf!==null},e.prototype.data=function(){if(this.Zf){if(this.v_){var t=new e4(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},e.prototype.get=function(t){if(this.Zf){var n=this.Zf.data().field(_d("DocumentSnapshot.get",t));if(n!==null)return this.Xf.Uf(n)}},e}(),e4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(gc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e,t){return typeof t=="string"?Wb(e,t):t instanceof ut?t.d_.f_:t.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e){if(fd(e)&&e.xt.length===0)throw new ne(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qc=function(){};function go(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s.td(e)}return e}var t4=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return _e(t,e),t.prototype.td=function(n){var r=aa(n.firestore),i=function(s,u,l,c,d,p,f){var m;if(d.ut()){if(p==="array-contains"||p==="array-contains-any")throw new ne(B.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){hI(f,p);for(var v=[],b=0,w=f;b<w.length;b++){var S=w[b];v.push(fI(c,s,S))}m={arrayValue:{values:v}}}else m=fI(c,s,f)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||hI(f,p),m=SO(l,"where",f,p==="in"||p==="not-in");var E=Tr.create(d,p,m);return function(x,C){if(C.Ct()){var D=pb(x);if(D!==null&&!D.isEqual(C.field))throw new ne(B.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+D.toString()+"' and '"+C.field.toString()+"'");var V=db(x);V!==null&&RO(x,C.field,V)}var A=function(G,F){for(var P=0,U=G.filters;P<U.length;P++){var k=U[P];if(F.indexOf(k.op)>=0)return k.op}return null}(x,function(G){switch(G){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(C.op));if(A!==null)throw A===C.op?new ne(B.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+C.op.toString()+"' filter."):new ne(B.INVALID_ARGUMENT,"Invalid query. You cannot use '"+C.op.toString()+"' filters with '"+A.toString()+"' filters.")}(s,E),E}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new Cr(n.firestore,n.v_,function(s,u){var l=s.filters.concat([u]);return new Zi(s.path,s.collectionGroup,s.xt.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},t}(Qc),n4=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return _e(t,e),t.prototype.td=function(n){var r=function(i,s,u){if(i.startAt!==null)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new tu(s,u);return function(c,d){if(db(c)===null){var p=pb(c);p!==null&&RO(c,p,d.field)}}(i,l),l}(n.C_,this.ed,this.rd);return new Cr(n.firestore,n.v_,function(i,s){var u=i.xt.concat([s]);return new Zi(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},t}(Qc),uI=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.od=r,s.ad=i,s}return _e(t,e),t.prototype.td=function(n){return new Cr(n.firestore,n.v_,lk(n.C_,this.od,this.ad))},t}(Qc),lI=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return _e(t,e),t.prototype.td=function(n){var r=PO(n,this.type,this.ud,this.hd);return new Cr(n.firestore,n.v_,function(i,s){return new Zi(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},t}(Qc),cI=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return _e(t,e),t.prototype.td=function(n){var r=PO(n,this.type,this.ud,this.hd);return new Cr(n.firestore,n.v_,function(i,s){return new Zi(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},t}(Qc);function PO(e,t,n,r){if(n[0]instanceof ut&&(n[0]=n[0].d_),n[0]instanceof gc)return function(s,u,l,c,d){if(!c)throw new ne(B.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],f=0,m=fu(s);f<m.length;f++){var v=m[f];if(v.field.ut())p.push(ud(u,c.key));else{var b=c.field(v.field);if(ab(b))throw new ne(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var w=v.field.rt();throw new ne(B.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}p.push(b)}}return new lc(p,d)}(e.C_,e.firestore.I_,t,n[0].Zf,r);var i=aa(e.firestore);return function(s,u,l,c,d,p){var f=s.xt;if(d.length>f.length)throw new ne(B.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],v=0;v<d.length;v++){var b=d[v];if(f[v].field.ut()){if(typeof b!="string")throw new ne(B.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof b);if(!mb(s)&&b.indexOf("/")!==-1)throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+b+"' contains a slash.");var w=s.path.child(yt.ot(b));if(!De.wt(w))throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var S=new De(w);m.push(ud(u,S))}else{var E=SO(l,c,b);m.push(E)}}return new lc(m,p)}(e.C_,e.firestore.I_,i,t,n,r)}function fI(e,t,n){if(n instanceof ut&&(n=n.d_),typeof n=="string"){if(n==="")throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(t)&&n.indexOf("/")!==-1)throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(yt.ot(n));if(!De.wt(r))throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ud(e,new De(r))}if(n instanceof Gt)return ud(e,n.S_);throw new ne(B.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fp(n)+".")}function hI(e,t){if(!Array.isArray(e)||e.length===0)throw new ne(B.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ne(B.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function RO(e,t,n){if(!n.isEqual(t))throw new ne(B.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var r4=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.Wf=function(n){return new Ks(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Gt(this.firestore,null,r)},t}(Kb),Vs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Xi=function(e){function t(n,r,i,s,u,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this).Yf=n,c.ld=n,c.metadata=u,c}return _e(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new Bl(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(_d("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},t}(gc),Bl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Xi),ko=function(){function e(t,n,r,i){this.Yf=t,this.Xf=n,this._d=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._d.docs.forEach(function(i){t.call(n,new Bl(r.Yf,r.Xf,i.key,i,new Vs(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._d.xe)throw new ne(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(l){var c=new Bl(r.Yf,r.Xf,l.doc.key,l.doc,new Vs(r._d.De.has(l.doc.key),r._d.fromCache),r.query.v_);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var u=r._d.Se;return r._d.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Bl(r.Yf,r.Xf,l.doc.key,l.doc,new Vs(r._d.De.has(l.doc.key),r._d.fromCache),r.query.v_),d=-1,p=-1;return l.type!==0&&(d=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(p=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:i4(l.type),doc:c,oldIndex:d,newIndex:p}})}(this,n),this.dd=n),this.fd},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}function DO(e,t){return e instanceof Xi&&t instanceof Xi?e.Yf===t.Yf&&e.S_.isEqual(t.S_)&&(e.Zf===null?t.Zf===null:e.Zf.isEqual(t.Zf))&&e.v_===t.v_:e instanceof ko&&t instanceof ko&&e.Yf===t.Yf&&vO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._d.isEqual(t._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.Wf=function(n){return new Ks(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Gt(this.firestore,null,r)},t}(Kb);function dI(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=bt(e,Gt);var s=bt(e.firestore,ln),u=aa(s);return t instanceof ut&&(t=t.d_),vc(s,[(typeof t=="string"||t instanceof Wi?Gb(u,"updateDoc",e.S_,t,n,r):Hb(u,"updateDoc",e.S_,t)).F_(e.S_,Pn.exists(!0))])}function MO(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e instanceof ut&&(e=e.d_);var u={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Su(i[l])||(u=i[l],l++);var c,d,p,f={includeMetadataChanges:u.includeMetadataChanges};if(Su(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Gt)d=bt(e.firestore,ln),p=Hc(e.S_.path),c={next:function(w){i[l]&&i[l](Ly(d,e,w))},error:i[l+1],complete:i[l+2]};else{var v=bt(e,Cr);d=bt(v.firestore,ln),p=v.C_;var b=new Bs(d);c={next:function(w){i[l]&&i[l](new ko(d,b,v,w))},error:i[l+1],complete:i[l+2]},NO(e.C_)}return function(w,S,E,x){var C=this,D=new cp(x),V=new Db(S,D,E);return w._s.Ps(function(){return ee(C,void 0,void 0,function(){var A;return J(this,function(G){switch(G.label){case 0:return A=Nb,[4,_u(w)];case 1:return[2,A.apply(void 0,[G.sent(),V])]}})})}),function(){D.i_(),w._s.Ps(function(){return ee(C,void 0,void 0,function(){var A;return J(this,function(G){switch(G.label){case 0:return A=Pb,[4,_u(w)];case 1:return[2,A.apply(void 0,[G.sent(),V])]}})})})}}(Cn(d),p,f,c)}function vc(e,t){return function(n,r){var i=this,s=new Pr;return n._s.Ps(function(){return ee(i,void 0,void 0,function(){var u;return J(this,function(l){switch(l.label){case 0:return u=Iz,[4,kO(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Cn(e),t)}function Ly(e,t,n){var r=n.docs.get(t.S_),i=new Bs(e);return new Xi(e,i,t.S_,r,new Vs(n.hasPendingWrites,n.fromCache),t.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o4=function(){function e(t,n){this.Yf=t,this.wd=n,this.Ed=[],this.Td=!1,this.Id=aa(t)}return e.prototype.set=function(t,n,r){this.md();var i=Oo(t,this.Yf),s=mp(i.v_,n,r),u=dp(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(u.F_(i.S_,Pn.Kt())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var u,l=Oo(t,this.Yf);return n instanceof ut&&(n=n.d_),u=typeof n=="string"||n instanceof Wi?Gb(this.Id,"WriteBatch.update",l.S_,n,r,i):Hb(this.Id,"WriteBatch.update",l.S_,n),this.Ed.push(u.F_(l.S_,Pn.exists(!0))),this},e.prototype.delete=function(t){this.md();var n=Oo(t,this.Yf);return this.Ed=this.Ed.concat(new Kc(n.S_,Pn.Kt())),this},e.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},e.prototype.md=function(){if(this.Td)throw new ne(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Oo(e,t){if(e instanceof ut&&(e=e.d_),e.firestore!==t)throw new ne(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s4=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Yf=n,i}return _e(t,e),t.prototype.get=function(n){var r=this,i=Oo(n,this.Yf),s=new Bs(this.Yf);return e.prototype.get.call(this,n).then(function(u){return new Xi(r.Yf,s,i.S_,u.Zf,new Vs(!1,!1),i.v_)})},t}(function(){function e(t,n){this.Yf=t,this.Ad=n,this.Id=aa(t)}return e.prototype.get=function(t){var n=this,r=Oo(t,this.Yf),i=new r4(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return Ce();var u=s[0];if(u instanceof wn)return new gc(n.Yf,i,r.S_,null,r.v_);if(u instanceof Ct)return new gc(n.Yf,i,u.key,u,r.v_);throw Ce()})},e.prototype.set=function(t,n,r){var i=Oo(t,this.Yf),s=mp(i.v_,n,r),u=dp(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,u),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var u,l=Oo(t,this.Yf);return n instanceof ut&&(n=n.d_),u=typeof n=="string"||n instanceof Wi?Gb(this.Id,"Transaction.update",l.S_,n,r,i):Hb(this.Id,"Transaction.update",l.S_,n),this.Ad.update(l.S_,u),this},e.prototype.delete=function(t){var n=Oo(t,this.Yf);return this.Ad.delete(n.S_),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){if(typeof Uint8Array>"u")throw new ne(B.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mI(){if(typeof atob>"u")throw new ne(B.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var LO=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.fromBase64String=function(n){return mI(),new t(Ks.fromBase64String(n))},t.fromUint8Array=function(n){return pI(),new t(Ks.fromUint8Array(n))},t.prototype.toBase64=function(){return mI(),this.d_.toBase64()},t.prototype.toUint8Array=function(){return pI(),this.d_.toUint8Array()},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(ut),a4=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){aI(r=bt(r,ln));var s=Cn(r),u=r.p_(),l=new Dy;return sI(s,l,new dO(l,u.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t.d_,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){aI(n=bt(n,ln));var r=Cn(n),i=n.p_(),s=new Dy;return sI(r,s,new Uz(s,i.cacheSizeBytes))}(t.d_)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n.R_&&!n.P_)throw new ne(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Pr;return n.Bf.Tf(function(){return ee(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return ee(this,void 0,void 0,function(){var c;return J(this,function(d){switch(d.label){case 0:return pu.Kn()?(c=l+"main",[4,pu.delete(c)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Ib(n.I_,n.w_))];case 1:return u.sent(),i.resolve(),[3,3];case 2:return s=u.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t.d_)},e}(),VO=function(e){function t(n,r,i){var s=this;return(s=e.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof sd||(s.Pd=n),s}return _e(t,e),Object.defineProperty(t.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},t.prototype.useEmulator=function(n,r){(function(i,s,u){var l=(i=bt(i,mc)).V_();l.host!=="firestore.googleapis.com"&&l.host!==s&&Ty("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},l),{host:s+":"+u,ssl:!1}))})(this.d_,n,r)},t.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return ee(r,void 0,void 0,function(){var i,s;return J(this,function(u){switch(u.label){case 0:return[4,nI(n)];case 1:return i=u.sent(),[4,rI(n)];case 2:return s=u.sent(),[2,(i.yo(!0),function(l){var c=be(l);return c.Nh.delete(0),Yc(c)}(s))]}})})})}(Cn(bt(this.d_,ln)))},t.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return ee(r,void 0,void 0,function(){var i,s;return J(this,function(u){switch(u.label){case 0:return[4,nI(n)];case 1:return i=u.sent(),[4,rI(n)];case 2:return s=u.sent(),[2,(i.yo(!1),function(l){return ee(this,void 0,void 0,function(){var c;return J(this,function(d){switch(d.label){case 0:return(c=be(l)).Nh.add(0),[4,Du(c)];case 1:return d.sent(),c.Oh.set("Offline"),[2]}})})}(s))]}})})})}(Cn(bt(this.d_,ln)))},t.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&pO("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new Pr;return n._s.Ps(function(){return ee(r,void 0,void 0,function(){var s;return J(this,function(u){switch(u.label){case 0:return s=kz,[4,kO(n)];case 1:return[2,s.apply(void 0,[u.sent(),i])]}})})}),i.promise}(Cn(bt(this.d_,ln)))},t.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,u){var l=this,c=new cp(u);return s._s.Ps(function(){return ee(l,void 0,void 0,function(){var d;return J(this,function(p){switch(p.label){case 0:return d=function(f,m){be(f).Wh.add(m),m.next()},[4,_u(s)];case 1:return[2,d.apply(void 0,[p.sent(),c])]}})})}),function(){c.i_(),s._s.Ps(function(){return ee(l,void 0,void 0,function(){var d;return J(this,function(p){switch(p.label){case 0:return d=function(f,m){be(f).Wh.delete(m)},[4,_u(s)];case 1:return[2,d.apply(void 0,[p.sent(),c])]}})})})}}(Cn(r=bt(r,ln)),Su(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Pd)throw new ne(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new Sd(this,mO(this.d_,n))}catch(r){throw Hn(r,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new zs(this,Rh(this.d_,n))}catch(r){throw Hn(r,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new yp(this,function(r,i){if(r=bt(r,mc),$b("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new ne(B.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cr(r,null,function(s){return new Zi(yt.ct(),s)}(i))}(this.d_,n))}catch(r){throw Hn(r,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(u,l){var c=this,d=new Pr;return u._s.Ps(function(){return ee(c,void 0,void 0,function(){var p;return J(this,function(f){switch(f.label){case 0:return[4,function(m){return pp(m).then(function(v){return v.Sh})}(u)];case 1:return p=f.sent(),new Yz(u._s,p,l,d).run(),[2]}})})}),d.promise}(Cn(i),function(u){return s(new s4(i,u))})}(this.d_,function(i){return n(new FO(r,i))})},t.prototype.batch=function(){var n=this;return Cn(this.d_),new jO(new o4(this.d_,function(r){return vc(n.d_,r)}))},t.prototype.loadBundle=function(n){throw new ne(B.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new ne(B.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(ut),gp=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return _e(t,e),t.prototype.Wf=function(n){return new LO(new Ks(n))},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return zs.yd(r,this.firestore,null)},t}(Kb);function u4(e){var t;t=e,si.setLogLevel(t)}var FO=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i.Xf=new gp(n),i}return _e(t,e),t.prototype.get=function(n){var r=this,i=Fs(n);return this.d_.get(i).then(function(s){return new yc(r.Yf,new Xi(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},t.prototype.set=function(n,r,i){var s=Fs(n);return i?(Bb("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,u=[],l=3;l<arguments.length;l++)u[l-3]=arguments[l];var c=Fs(n);return arguments.length===2?this.d_.update(c,r):(s=this.d_).update.apply(s,Nn([c,r,i],u)),this},t.prototype.delete=function(n){var r=Fs(n);return this.d_.delete(r),this},t}(ut),jO=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.set=function(n,r,i){var s=Fs(n);return i?(Bb("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,u=[],l=3;l<arguments.length;l++)u[l-3]=arguments[l];var c=Fs(n);return arguments.length===2?this.d_.update(c,r):(s=this.d_).update.apply(s,Nn([c,r,i],u)),this},t.prototype.delete=function(n){var r=Fs(n);return this.d_.delete(r),this},t.prototype.commit=function(){return this.d_.commit()},t}(ut),vp=function(e){function t(n,r,i){var s=this;return(s=e.call(this,i)||this).Yf=n,s.Xf=r,s}return _e(t,e),t.prototype.fromFirestore=function(n,r){var i=new Bl(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new bc(this.Yf,i),r??{})},t.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},t.gd=function(n,r){var i=t.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var u=s.get(r);return u||(u=new t(n,new gp(n),r),s.set(r,u)),u},t}(ut);vp.Vd=new WeakMap;var zs=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new gp(n),i}return _e(t,e),t.pd=function(n,r,i){if(n.length%2!=0)throw new ne(B.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new t(r,new Gt(r.d_,i,new De(n)))},t.yd=function(n,r,i){return new t(r,new Gt(r.d_,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sd(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new Sd(this.firestore,mO(this.d_,n))}catch(r){throw Hn(r,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return n instanceof ut&&(n=n.d_),n instanceof Gt&&gO(this.d_,n)},t.prototype.set=function(n,r){r=Bb("DocumentReference.set",r);try{return function(i,s,u){i=bt(i,Gt);var l=bt(i.firestore,ln),c=mp(i.v_,s,u);return vc(l,[dp(aa(l),"setDoc",i.S_,c,i.v_!==null,u).F_(i.S_,Pn.Kt())])}(this.d_,n,r)}catch(i){throw Hn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?dI(this.d_,n):dI.apply(void 0,Nn([this.d_,n,r],i))}catch(u){throw Hn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return vc(bt((n=this.d_).firestore,ln),[new Kc(n.S_,Pn.Kt())]);var n},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=UO(r),u=$O(r,function(l){return new yc(n.firestore,new Xi(n.firestore.d_,n.Xf,l.S_,l.Zf,l.metadata,n.d_.v_))});return MO(this.d_,s,u)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=bt(i,Gt);var s=bt(i.firestore,ln),u=Cn(s),l=new Bs(s);return function(c,d){var p=this,f=new Pr;return c._s.Ps(function(){return ee(p,void 0,void 0,function(){var m;return J(this,function(v){switch(v.label){case 0:return m=function(b,w,S){return ee(this,void 0,void 0,function(){var E,x;return J(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(D,V){var A=be(D);return A.persistence.runTransaction("read document","readonly",function(G){return A.Tc.Ho(G,V)})}(b,w)];case 1:return(x=C.sent())instanceof Ct?S.resolve(x):x instanceof wn?S.resolve(null):S.reject(new ne(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),x=Pu(E,"Failed to get document '"+w+" from cache"),S.reject(x),[3,3];case 3:return[2]}})})},[4,CO(c)];case 1:return[2,m.apply(void 0,[v.sent(),d,f])]}})})}),f.promise}(u,i.S_).then(function(c){return new Xi(s,l,i.S_,c,new Vs(c instanceof Ct&&c.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=bt(i,Gt);var s=bt(i.firestore,ln);return iI(Cn(s),i.S_,{source:"server"}).then(function(u){return Ly(s,i,u)})}(this.d_):function(i){i=bt(i,Gt);var s=bt(i.firestore,ln);return iI(Cn(s),i.S_).then(function(u){return Ly(s,i,u)})}(this.d_)).then(function(i){return new yc(r.firestore,new Xi(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(vp.gd(this.firestore,n)))},t}(ut);function Hn(e,t,n){return e.message=e.message.replace(t,n),e}function UO(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Su(r))return r}return{}}function $O(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Su(e[0])?e[0]:Su(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var yc=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return _e(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new zs(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this.d_.data(n)},t.prototype.get=function(n,r){return this.d_.get(n,r)},t.prototype.isEqual=function(n){return DO(this.d_,n.d_)},t}(ut),bc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.prototype.data=function(n){return this.d_.data(n)},t}(yc),yp=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new gp(n),i}return _e(t,e),t.prototype.where=function(n,r,i){try{return new t(this.firestore,go(this.d_,function(s,u,l){var c=u,d=_d("where",s);return new t4(d,c,l)}(n,r,i)))}catch(s){throw Hn(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(n,r){try{return new t(this.firestore,go(this.d_,function(i,s){s===void 0&&(s="asc");var u=s,l=_d("orderBy",i);return new n4(l,u)}(n,r)))}catch(i){throw Hn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,go(this.d_,function(r){return ZT("limit",r),new uI("limit",r,"F")}(n)))}catch(r){throw Hn(r,"limit()","Query.limit()")}},t.prototype.limitToLast=function(n){try{return new t(this.firestore,go(this.d_,function(r){return ZT("limitToLast",r),new uI("limitToLast",r,"L")}(n)))}catch(r){throw Hn(r,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,go(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new lI("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw Hn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,go(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new lI("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw Hn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,go(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new cI("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw Hn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,go(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new cI("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw Hn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return vO(this.d_,n.d_)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=bt(i,Cr);var s=bt(i.firestore,ln),u=Cn(s),l=new Bs(s);return function(c,d){var p=this,f=new Pr;return c._s.Ps(function(){return ee(p,void 0,void 0,function(){var m;return J(this,function(v){switch(v.label){case 0:return m=function(b,w,S){return ee(this,void 0,void 0,function(){var E,x,C,D,V;return J(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,yd(b,w,!0)];case 1:return V=A.sent(),E=new uO(w,V.Rc),x=E.fl(V.documents),C=E.wi(x,!1),S.resolve(C.snapshot),[3,3];case 2:return D=A.sent(),V=Pu(D,"Failed to execute query '"+w+" against cache"),S.reject(V),[3,3];case 3:return[2]}})})},[4,CO(c)];case 1:return[2,m.apply(void 0,[v.sent(),d,f])]}})})}),f.promise}(u,i.C_).then(function(c){return new ko(s,l,i,c)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=bt(i,Cr);var s=bt(i.firestore,ln),u=Cn(s),l=new Bs(s);return oI(u,i.C_,{source:"server"}).then(function(c){return new ko(s,l,i,c)})}(this.d_):function(i){i=bt(i,Cr);var s=bt(i.firestore,ln),u=Cn(s),l=new Bs(s);return NO(i.C_),oI(u,i.C_).then(function(c){return new ko(s,l,i,c)})}(this.d_)).then(function(i){return new Vy(r.firestore,new ko(r.firestore.d_,r.Xf,r.d_,i._d))})},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=UO(r),u=$O(r,function(l){return new Vy(n.firestore,new ko(n.firestore.d_,n.Xf,n.d_,l._d))});return MO(this.d_,s,u)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(vp.gd(this.firestore,n)))},t}(ut),l4=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return _e(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new bc(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),t}(ut),Vy=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return _e(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new yp(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new bc(n.Yf,r)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new l4(r.Yf,i)})},t.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new bc(i.Yf,s))})},t.prototype.isEqual=function(n){return DO(this.d_,n.d_)},t}(ut),Sd=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i.d_=r,i}return _e(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new zs(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new zs(this.firestore,n===void 0?Rh(this.d_):Rh(this.d_,n))}catch(r){throw Hn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var u=bt(i.firestore,ln),l=Rh(i),c=mp(i.v_,s);return vc(u,[dp(aa(i.firestore),"addDoc",l.S_,c,i.v_!==null,{}).F_(l.S_,Pn.exists(!1))]).then(function(){return l})}(this.d_,n).then(function(i){return new zs(r.firestore,i)})},t.prototype.isEqual=function(n){return gO(this.d_,n.d_)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(vp.gd(this.firestore,n)))},t}(yp);function Fs(e){return e instanceof ut&&(e=e.d_),bt(e,Gt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c4=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(this,new(Wi.bind.apply(Wi,Nn([void 0],n))))||this}return _e(t,e),t.documentId=function(){return new t(ui.ht().rt())},t.prototype.isEqual=function(n){return n instanceof ut&&(n=n.d_),n instanceof Wi&&this.d_.f_.isEqual(n.f_)},t}(ut),f4=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return _e(t,e),t.serverTimestamp=function(){var n=new Hz("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new zb("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new Gz("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new qz("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var r=function(i){return new Wz("increment",i)}(n);return r._methodName="FieldValue.increment",new t(r)},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t}(ut),h4={Firestore:VO,GeoPoint:hp,Timestamp:lr,Blob:LO,Transaction:FO,WriteBatch:jO,DocumentReference:zs,DocumentSnapshot:yc,Query:yp,QueryDocumentSnapshot:bc,QuerySnapshot:Vy,CollectionReference:Sd,FieldPath:c4,FieldValue:f4,setLogLevel:u4,CACHE_SIZE_UNLIMITED:Zz};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(e){(function(t,n){t.INTERNAL.registerComponent(new Rc("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},h4)))})(e,function(t,n){return new VO(t,new ln(t,n),new a4)}),e.registerVersion("@firebase/firestore","2.1.6")}d4(Ae);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fy=function(e,t){return Fy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Fy(e,t)};function p4(e,t){Fy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var jy=function(){return jy=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jy.apply(this,arguments)};function la(e,t,n,r){function i(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(p){try{d(r.next(p))}catch(f){u(f)}}function c(p){try{d(r.throw(p))}catch(f){u(f)}}function d(p){p.done?s(p.value):i(p.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function ca(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(p){return c([d,p])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function gI(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,i++)r[i]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BO="firebasestorage.googleapis.com",zO="storageBucket",m4=2*60*1e3,g4=10*60*1e3,en=function(e){p4(t,e);function t(n,r){var i=e.call(this,xv(n),"Firebase Storage: "+r+" ("+xv(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return t.prototype.codeEquals=function(n){return xv(n)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),t}(HA),qt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function xv(e){return"storage/"+e}function Yb(){var e="An unknown error occurred, please check the error payload for server response.";return new en(qt.UNKNOWN,e)}function v4(e){return new en(qt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function y4(e){return new en(qt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b4(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new en(qt.UNAUTHENTICATED,e)}function w4(e){return new en(qt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function _4(){return new en(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HO(){return new en(qt.CANCELED,"User canceled the upload/download.")}function S4(e){return new en(qt.INVALID_URL,"Invalid URL '"+e+"'.")}function E4(e){return new en(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function T4(){return new en(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zO+"' property when initializing the app?")}function GO(){return new en(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function I4(){return new en(qt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function x4(){return new en(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zl(e){return new en(qt.INVALID_ARGUMENT,e)}function qO(){return new en(qt.APP_DELETED,"The Firebase app was deleted.")}function WO(e){return new en(qt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hl(e,t){return new en(qt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ph(e){throw new en(qt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Av=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function XO(e,t){switch(e){case Ir.RAW:return new Av(KO(t));case Ir.BASE64:case Ir.BASE64URL:return new Av(YO(e,t));case Ir.DATA_URL:return new Av(C4(t),k4(t))}throw Yb()}function KO(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function A4(e){var t;try{t=decodeURIComponent(e)}catch{throw Hl(Ir.DATA_URL,"Malformed data URL.")}return KO(t)}function YO(e,t){switch(e){case Ir.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Hl(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ir.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var i=s?"+":"/";throw Hl(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw Hl(e,"Invalid character found")}for(var c=new Uint8Array(l.length),d=0;d<l.length;d++)c[d]=l.charCodeAt(d);return c}var QO=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Hl(Ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=O4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function C4(e){var t=new QO(e);return t.base64?YO(Ir.BASE64,t.rest):A4(t.rest)}function k4(e){var t=new QO(e);return t.contentType}function O4(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N4={STATE_CHANGED:"state_changed"},Ye={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cv(e){switch(e){case Ye.RUNNING:case Ye.PAUSING:case Ye.CANCELING:return Gn.RUNNING;case Ye.PAUSED:return Gn.PAUSED;case Ye.SUCCESS:return Gn.SUCCESS;case Ye.CANCELED:return Gn.CANCELED;case Ye.ERROR:return Gn.ERROR;default:return Gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hs;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Hs||(Hs={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P4=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Hs.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Hs.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Hs.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw ph("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ph("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ph("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ph("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R4=function(){function e(){}return e.prototype.createXhrIo=function(){return new P4},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(e){return e!==void 0}function M4(e){return typeof e=="function"}function L4(e){return typeof e=="object"&&!Array.isArray(e)}function bp(e){return typeof e=="string"||e instanceof String}function vI(e){return Qb()&&e instanceof Blob}function Qb(){return typeof Blob<"u"}function Uy(e,t,n,r){if(r<t)throw new en(qt.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw new en(qt.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function F4(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=V4();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(Qb())return new Blob(e);throw new en(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function j4(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jb=function(){function e(t,n){var r=0,i="";vI(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(vI(this.data_)){var r=this.data_,i=j4(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Qb()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(F4.apply(null,r))}else{var i=t.map(function(c){return bp(c)?XO(Ir.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var u=new Uint8Array(s),l=0;return i.forEach(function(c){for(var d=0;d<c.length;d++)u[l++]=c[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch{return new e(t,"")}if(n.path==="")return n;throw E4(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}var s="(/(.*))?$",u=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(F){F.path_=decodeURIComponent(F.path)}for(var d="v[A-Za-z0-9_]+",p=BO.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp("^https?://"+p+"/"+d+"/b/"+r+"/o"+f,"i"),v={bucket:1,path:3},b="(?:storage.googleapis.com|storage.cloud.google.com)",w="([^?#]*)",S=new RegExp("^https?://"+b+"/"+r+"/"+w,"i"),E={bucket:1,path:2},x=[{regex:u,indices:l,postModify:i},{regex:m,indices:v,postModify:c},{regex:S,indices:E,postModify:c}],C=0;C<x.length;C++){var D=x[C],V=D.regex.exec(t);if(V){var A=V[D.indices.bucket],G=V[D.indices.path];G||(G=""),n=new e(A,G),D.postModify(n);break}}if(n==null)throw S4(t);return n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(e){var t;try{t=JSON.parse(e)}catch{return null}return L4(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function $4(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function JO(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return"https://"+BO+"/v0"+e}function ZO(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(e,t){return t}var Bn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||B4}return e}(),mh=null;function z4(e){return!bp(e)||e.length<2?e:JO(e)}function wp(){if(mh)return mh;var e=[];e.push(new Bn("bucket")),e.push(new Bn("generation")),e.push(new Bn("metageneration")),e.push(new Bn("name","fullPath",!0));function t(s,u){return z4(u)}var n=new Bn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var i=new Bn("size");return i.xform=r,e.push(i),e.push(new Bn("timeCreated")),e.push(new Bn("updated")),e.push(new Bn("md5Hash",null,!0)),e.push(new Bn("cacheControl",null,!0)),e.push(new Bn("contentDisposition",null,!0)),e.push(new Bn("contentEncoding",null,!0)),e.push(new Bn("contentLanguage",null,!0)),e.push(new Bn("contentType",null,!0)),e.push(new Bn("metadata","customMetadata",!0)),mh=e,mh}function H4(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new ii(r,i);return t.makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function G4(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return H4(r,e),r}function eN(e,t,n){var r=Zb(t);if(r===null)return null;var i=r;return G4(e,i,n)}function q4(e,t){var n=Zb(t);if(n===null||!bp(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),u=s.map(function(l){var c=e.bucket,d=e.fullPath,p="/b/"+i(c)+"/o/"+i(d),f=rs(p),m=ZO({alt:"media",token:l});return f+m});return u[0]}function ew(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yI="prefixes",bI="items";function W4(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yI])for(var i=0,s=n[yI];i<s.length;i++){var u=s[i],l=u.replace(/\/$/,""),c=e.makeStorageReference(new ii(t,l));r.prefixes.push(c)}if(n[bI])for(var d=0,p=n[bI];d<p.length;d++){var f=p[d],c=e.makeStorageReference(new ii(t,f.name));r.items.push(c)}return r}function X4(e,t,n){var r=Zb(n);if(r===null)return null;var i=r;return W4(e,t,i)}var eo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){if(!e)throw Yb()}function _p(e,t){function n(r,i){var s=eN(e,i,t);return Ii(s!==null),s}return n}function K4(e,t){function n(r,i){var s=X4(e,t,i);return Ii(s!==null),s}return n}function Y4(e,t){function n(r,i){var s=eN(e,i,t);return Ii(s!==null),q4(s,i)}return n}function Vu(e){function t(n,r){var i;return n.getStatus()===401?i=b4():n.getStatus()===402?i=y4(e.bucket):n.getStatus()===403?i=w4(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Sp(e){var t=Vu(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=v4(e.path)),s.serverResponse=i.serverResponse,s}return n}function tN(e,t,n){var r=t.fullServerUrl(),i=rs(r),s="GET",u=e.maxOperationRetryTime,l=new eo(i,s,_p(e,n),u);return l.errorHandler=Sp(t),l}function Q4(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var u=t.bucketOnlyServerUrl(),l=rs(u),c="GET",d=e.maxOperationRetryTime,p=new eo(l,c,K4(e,t.bucket),d);return p.urlParams=s,p.errorHandler=Vu(t),p}function J4(e,t,n){var r=t.fullServerUrl(),i=rs(r),s="GET",u=e.maxOperationRetryTime,l=new eo(i,s,Y4(e,n),u);return l.errorHandler=Sp(t),l}function Z4(e,t,n,r){var i=t.fullServerUrl(),s=rs(i),u="PATCH",l=ew(n,r),c={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new eo(s,u,_p(e,r),d);return p.headers=c,p.body=l,p.errorHandler=Sp(t),p}function e5(e,t){var n=t.fullServerUrl(),r=rs(n),i="DELETE",s=e.maxOperationRetryTime;function u(c,d){}var l=new eo(r,i,u,s);return l.successCodes=[200,204],l.errorHandler=Sp(t),l}function t5(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function nN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=t5(null,t)),r}function n5(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var C="",D=0;D<2;D++)C=C+Math.random().toString().slice(2);return C}var c=l();u["Content-Type"]="multipart/related; boundary="+c;var d=nN(t,r,i),p=ew(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",v=Jb.getBlob(f,r,m);if(v===null)throw GO();var b={name:d.fullPath},w=rs(s),S="POST",E=e.maxUploadRetryTime,x=new eo(w,S,_p(e,n),E);return x.urlParams=b,x.headers=u,x.body=v.uploadData(),x.errorHandler=Vu(t),x}var Ed=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function tw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ii(!1)}var r=t||["active"];return Ii(!!n&&r.indexOf(n)!==-1),n}function r5(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),u=nN(t,r,i),l={name:u.fullPath},c=rs(s),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},f=ew(u,n),m=e.maxUploadRetryTime;function v(w){tw(w);var S;try{S=w.getResponseHeader("X-Goog-Upload-URL")}catch{Ii(!1)}return Ii(bp(S)),S}var b=new eo(c,d,v,m);return b.urlParams=l,b.headers=p,b.body=f,b.errorHandler=Vu(t),b}function i5(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(d){var p=tw(d,["active","final"]),f=null;try{f=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ii(!1)}f||Ii(!1);var m=Number(f);return Ii(!isNaN(m)),new Ed(m,r.size(),p==="final")}var u="POST",l=e.maxUploadRetryTime,c=new eo(n,u,s,l);return c.headers=i,c.errorHandler=Vu(t),c}var wI=256*1024;function o5(e,t,n,r,i,s,u,l){var c=new Ed(0,0);if(u?(c.current=u.current,c.total=u.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw I4();var d=c.total-c.current,p=d;i>0&&(p=Math.min(p,i));var f=c.current,m=f+p,v=p===d?"upload, finalize":"upload",b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":c.current},w=r.slice(f,m);if(w===null)throw GO();function S(D,V){var A=tw(D,["active","final"]),G=c.current+p,F=r.size(),P;return A==="final"?P=_p(t,s)(D,V):P=null,new Ed(G,F,A==="final",P)}var E="POST",x=t.maxUploadRetryTime,C=new eo(n,E,S,x);return C.headers=b,C.body=w.uploadData(),C.progressCallback=l||null,C.errorHandler=Vu(e),C}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s5=function(){function e(t,n,r){var i=M4(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}(),a5=function(){function e(t,n,r,i,s,u){this.bytesTransferred=t,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=u}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rN=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=wp(),this._resumable=this._shouldDoResumable(this._blob),this._state=Ye.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(qt.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(Ye.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(qt.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(Ye.ERROR))},this._promise=new Promise(function(s,u){i._resolve=s,i._reject=u,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state===Ye.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case Ye.RUNNING:t(r);break;case Ye.CANCELING:n._transition(Ye.CANCELED);break;case Ye.PAUSING:n._transition(Ye.PAUSED);break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=r5(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var i=i5(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage.makeRequest(i,r);t._request=s,s.getPromise().then(function(u){u=u,t._request=void 0,t._updateProgress(u.current),t._needToFetchStatus=!1,u.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=wI*this._chunkMultiplier,r=new Ed(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var u;try{u=o5(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(c){t._error=c,t._transition(Ye.ERROR);return}var l=t._ref.storage.makeRequest(u,s);t._request=l,l.getPromise().then(function(c){t._increaseMultiplier(),t._request=void 0,t._updateProgress(c.current),c.finalized?(t._metadata=c.metadata,t._transition(Ye.SUCCESS)):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=wI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=tN(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition(Ye.SUCCESS)},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=n5(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition(Ye.SUCCESS)},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case Ye.CANCELING:this._state=t,this._request!==void 0&&this._request.cancel();break;case Ye.PAUSING:this._state=t,this._request!==void 0&&this._request.cancel();break;case Ye.RUNNING:var n=this._state===Ye.PAUSED;this._state=t,n&&(this._notifyObservers(),this._start());break;case Ye.PAUSED:this._state=t,this._notifyObservers();break;case Ye.CANCELED:this._error=HO(),this._state=t,this._notifyObservers();break;case Ye.ERROR:this._state=t,this._notifyObservers();break;case Ye.SUCCESS:this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case Ye.PAUSING:this._transition(Ye.PAUSED);break;case Ye.CANCELING:this._transition(Ye.CANCELED);break;case Ye.RUNNING:this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Cv(this._state);return new a5(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,u=new s5(n,r,i);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Cv(this._state)){case Gn.SUCCESS:Fa(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:var n=this._reject;Fa(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Cv(this._state);switch(n){case Gn.RUNNING:case Gn.PAUSED:t.next&&Fa(t.next.bind(t,this.snapshot))();break;case Gn.SUCCESS:t.complete&&Fa(t.complete.bind(t))();break;case Gn.CANCELED:case Gn.ERROR:t.error&&Fa(t.error.bind(t,this._error))();break;default:t.error&&Fa(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state===Ye.PAUSED||this._state===Ye.PAUSING;return t&&this._transition(Ye.RUNNING),t},e.prototype.pause=function(){var t=this._state===Ye.RUNNING;return t&&this._transition(Ye.PAUSING),t},e.prototype.cancel=function(){var t=this._state===Ye.RUNNING||this._state===Ye.PAUSING;return t&&this._transition(Ye.CANCELING),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ep=function(){function e(t,n){this._service=t,n instanceof ii?this._location=n:this._location=ii.makeFromUrl(n)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype.newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ii(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return JO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=U4(this._location.path);if(t===null)return null;var n=new ii(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw WO(t)},e}();function u5(e,t,n){return n===void 0&&(n=null),e._throwIfRoot("uploadBytesResumable"),new rN(e,new Jb(t),n)}function l5(e,t,n,r){n===void 0&&(n=Ir.RAW),e._throwIfRoot("putString");var i=XO(n,t),s=jy({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new rN(e,new Jb(i.data,!0),s)}function c5(e){var t={prefixes:[],items:[]};return iN(e,t).then(function(){return t})}function iN(e,t,n){return la(this,void 0,void 0,function(){var r,i,s,u;return ca(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,oN(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(u=t.items).push.apply(u,i.items),i.nextPageToken==null?[3,3]:[4,iN(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function oN(e,t){return la(this,void 0,void 0,function(){var n,r,i;return ca(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Uy("options.maxResults",1,1e3,t.maxResults),[4,e.storage.getAuthToken()];case 1:return n=s.sent(),r=t||{},i=Q4(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage.makeRequest(i,n).getPromise()]}})})}function f5(e){return la(this,void 0,void 0,function(){var t,n;return ca(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=tN(e.storage,e._location,wp()),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function h5(e,t){return la(this,void 0,void 0,function(){var n,r;return ca(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage.getAuthToken()];case 1:return n=i.sent(),r=Z4(e.storage,e._location,t,wp()),[2,e.storage.makeRequest(r,n).getPromise()]}})})}function d5(e){return la(this,void 0,void 0,function(){var t,n;return ca(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=J4(e.storage,e._location,wp()),[2,e.storage.makeRequest(n,t).getPromise().then(function(i){if(i===null)throw x4();return i})]}})})}function p5(e){return la(this,void 0,void 0,function(){var t,n;return ca(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=e5(e.storage,e._location),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function sN(e,t){var n=$4(e._location.path,t),r=new ii(e._location.bucket,n);return new Ep(e.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _I=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new gh(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new gh(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new gh(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new gh(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,i||void 0)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new wc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new wc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=sN(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new _I(u5(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){return n===void 0&&(n=Ir.RAW),this._throwIfRoot("putString"),new _I(l5(this._delegate,t,n,r),this)},e.prototype.listAll=function(){var t=this;return c5(this._delegate).then(function(n){return new SI(n,t.storage)})},e.prototype.list=function(t){var n=this;return oN(this._delegate,t).then(function(r){return new SI(r,n.storage)})},e.prototype.getMetadata=function(){return f5(this._delegate)},e.prototype.updateMetadata=function(t){return h5(this._delegate,t)},e.prototype.getDownloadURL=function(){return d5(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),p5(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw WO(t)},e}(),m5=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(e,t,n){var r=1,i=null,s=!1,u=0;function l(){return u===2}var c=!1;function d(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];c||(c=!0,t.apply(null,b))}function p(b){i=setTimeout(function(){i=null,e(f,l())},b)}function f(b){for(var w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];if(!c){if(b){d.call.apply(d,gI([null,b],w));return}var E=l()||s;if(E){d.call.apply(d,gI([null,b],w));return}r<64&&(r*=2);var x;u===1?(u=2,x=0):x=(r+Math.random())*1e3,p(x)}}var m=!1;function v(b){m||(m=!0,!c&&(i!==null?(b||(u=2),clearTimeout(i),p(0)):b||(u=1)))}return p(0),setTimeout(function(){s=!0,v(!0)},n),v}function v5(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y5=function(){function e(t,n,r,i,s,u,l,c,d,p,f){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=d,this.pool_=f,this.promise_=new Promise(function(v,b){m.resolve_=v,m.reject_=b,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new vh(!1,null,!0));return}var u=t.pool_.createXhrIo();t.pendingXhr_=u;function l(c){var d=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var d=c.getErrorCode()===Hs.NO_ERROR,p=c.getStatus();if(!d||t.isRetryStatusCode_(p)){var f=c.getErrorCode()===Hs.ABORT;i(!1,new vh(!1,null,f));return}var m=t.successCodes_.indexOf(p)!==-1;i(!0,new vh(m,c))})}function r(i,s){var u=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var d=t.callback_(c,c.getResponseText());D4(d)?u(d):u()}catch(f){l(f)}else if(c!==null){var p=Yb();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?qO():HO();l(p)}else{var p=_4();l(p)}}this.canceled_?r(!1,new vh(!1,null,!0)):this.backoffId_=g5(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&v5(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),vh=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function b5(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function w5(e){var t=typeof Ae<"u"?Ae.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function _5(e,t){t&&(e["X-Firebase-GMPID"]=t)}function S5(e,t,n,r){var i=ZO(e.urlParams),s=e.url+i,u=Object.assign({},e.headers);return _5(u,t),b5(u,n),w5(u),new y5(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e){return/^[A-Za-z]+:\/\//.test(e)}function E5(e,t){return new Ep(e,t)}function aN(e,t){if(e instanceof Tp){var n=e;if(n._bucket==null)throw T4();var r=new Ep(n,n._bucket);return t!=null?aN(r,t):r}else if(t!==void 0){if(t.includes(".."))throw zl('`path` param cannot contain ".."');return sN(e,t)}else return e}function EI(e,t){if(t&&$y(t)){if(e instanceof Tp)return E5(e,t);throw zl("To use ref(service, url), the first argument must be a Storage instance.")}else return aN(e,t)}function T5(e){var t=e==null?void 0:e[zO];return t==null?null:ii.makeFromBucketSpec(t)}var Tp=function(){function e(t,n,r,i){this.app=t,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m4,this._maxUploadRetryTime=g4,this._requests=new Set,i!=null?this._bucket=ii.makeFromBucketSpec(i):this._bucket=T5(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Uy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Uy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype.getAuthToken=function(){return la(this,void 0,void 0,function(){var t,n;return ca(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype.makeStorageReference=function(t){return new Ep(this,t)},e.prototype.makeRequest=function(t,n){var r=this;if(this._deleted)return new m5(qO());var i=S5(t,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I5=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if($y(t))throw zl("ref() expected a child path but got a URL, use refFromURL instead.");return new wc(EI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!$y(t))throw zl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ii.makeFromUrl(t)}catch{throw zl("refFromUrl() expected a valid full URL but got an invalid one.")}return new wc(EI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e}(),x5="@firebase/storage",A5="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C5="storage";function k5(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=new I5(n,new Tp(n,r,new R4,t));return i}function O5(e){var t={TaskState:Gn,TaskEvent:N4,StringFormat:Ir,Storage:Tp,Reference:wc};e.INTERNAL.registerComponent(new Rc(C5,k5,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(x5,A5)}O5(Ae);const N5={apiKey:"AIzaSyDifpf4NnX-S7J890trgdqn9o1GZ2rd8Y0",authDomain:"vue-developer-course---music.firebaseapp.com",projectId:"vue-developer-course---music",storageBucket:"vue-developer-course---music.appspot.com",appId:"1:842258481263:web:599be2573872ab20c94d9a"};Ae.initializeApp(N5);const Ki=Ae.auth(),Ip=Ae.firestore(),Ur=Ae.storage(),nw=Ip.collection("users"),kr=Ip.collection("songs"),Gr=Ip.collection("albums"),Eu=Ip.collection("favoriteSongList"),hr=Cu("user",{state:()=>({userLoggedIn:!1,userName:"",uid:"",favSongList:[]}),actions:{async register(e){const t=await Ki.createUserWithEmailAndPassword(e.email,e.password);await nw.doc(t.user.uid).set({name:e.name,email:e.email}),await t.user.updateProfile({displayName:e.name}),await Eu.doc(t.user.uid).set({favSongLists:[]}),this.userLoggedIn=!0},async authenticate(e){await Ki.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await Ki.signOut(),this.userLoggedIn=!1,this.userName="",this.uid="",this.favSongList=[]},async delfavSongFromList(e){try{const t=Eu.doc(this.uid);console.log(" favoriteSongListRef=> ",t)}catch(t){console.log("error => ",t)}}}}),By=Cu("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}}),zy=Cu("toast",{state:()=>({toastCount:0}),actions:{subtractToastCount(){this.toastCount>0&&(this.toastCount-=1)}}}),Et=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},P5={data(){return{close:!1}},props:["toggle","message","success"],computed:{...Bt(zy,["toastCount"]),...In(hr,["userLoggedIn"]),topPosition(){if(this.toastCount>0)return"top:70px"}},methods:{...xn(zy,["subtractToastCount"]),closeToast(){this.close=!1,this.subtractToastCount()}},watch:{toggle(){this.close=!0,this.toastCount+=1}}},R5={key:0,class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},D5=T("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"},null,-1),M5=[D5],L5={key:1,class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},V5=T("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"},null,-1),F5=[V5],j5=T("span",{class:"sr-only"},"Warning icon",-1),U5={class:"ms-3 text-sm font-normal"},$5=T("span",{class:"sr-only"},"Close",-1),B5=T("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[T("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),z5=[$5,B5];function H5(e,t,n,r,i,s){return le(),de("div",{id:"toast-warning",class:et(["flex fixed right-1 z-[12] items-center w-full max-w-xs p-4 text-zinc-200 bg-zinc-800/90 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",{hidden:!i.close}]),role:"alert",style:Br(s.topPosition)},[T("div",{class:et(["inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",{"text-green-500":n.success,"text-rose-500":!e.userLoggedIn||!n.success}])},[n.success?(le(),de("svg",R5,M5)):(le(),de("svg",L5,F5)),j5],2),T("div",U5,ht(this.message),1),T("button",{type:"button",class:"ms-auto -mx-1.5 -my-1.5 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-warning","aria-label":"Close",onClick:t[0]||(t[0]=Be((...u)=>s.closeToast&&s.closeToast(...u),["prevent"]))},z5)],6)}const Di=Et(P5,[["render",H5]]),G5="/vue-earphone-music/assets/logo-inverted-DTIppobh.png",q5={data(){return{hamburgerChange:!1,menu_hamberger_css:"",toggle:!1,message:"",FavSongList:[]}},components:{toastMessage:Di},computed:{...Bt(hr,["userLoggedIn","userName","uid","favSongList"]),...Bt(By,["isOpen"])},methods:{...xn(hr,["signOut"]),getAuth(){Ki.currentUser&&(this.userLoggedIn=!0,this.userName=Ki.currentUser.displayName,this.uid=Ki.currentUser.uid,this.getFavSongList())},async getFavSongList(){try{const e=await Eu.doc(this.uid).get();this.favSongList=e.data().favSongLists}catch(e){console.log("error => ",e)}},toggleAuthModal(){this.userLoggedIn?(this.signOut(),this.$router.push({name:"home"})):this.isOpen=!this.isOpen},clickHamberMenu(){this.hamburgerChange?(this.hamburgerChange=!1,this.menu_hamberger_css=""):(this.hamburgerChange=!0,this.menu_hamberger_css="hamburgerChange")},forwardHome(){this.$router.push({name:"home"}),this.hamburgerChange=!1,this.menu_hamberger_css=""},enterPage(e,t){(r=>{let i;switch(r){case"我的播放清單":i="favSongList";break;case"製作自己的專輯":i="makeAlbum";break;default:this.toggle=!this.toggle,this.message="沒找到指定的路由";return}this.userLoggedIn?(this.$router.push({name:i}),this.hamburgerChange=!1,this.menu_hamberger_css=""):(this.toggle=!this.toggle,this.message=e)})(t)},userLoginCheck(e){this.enterPage("該功能需登入才可使用，可免費註冊使用",e.target.innerText)},loginMemberStage(){this.userLoggedIn?(this.$router.push({name:"member-backStage",params:{uid:this.uid}}),this.hamburgerChange=!1,this.menu_hamberger_css=""):this.isOpen=!this.isOpen}},mounted(){this.getAuth()}},W5={class:"fixed top-0 left-0 text-zinc-200 w-full z-10"},X5={class:"lg:px-[5rem] sticky flex top-0 bg-gradient-to-r from-rose-500 to-pink-500 z-10"},K5=T("img",{src:G5,width:"50",alt:""},null,-1),Y5=T("div",{class:"font-bold text-2xl"},[Zl(" earphone: "),T("span",{class:"text-sky-900"},"MUISC")],-1),Q5=[K5,Y5],J5={class:"flex-1 md:flex hidden items-center justify-end"},Z5=T("i",{class:"fas fa-user pr-2"},null,-1),eH={key:0},tH={key:1},nH=T("span",null,"我的播放清單",-1),rH=[nH],iH=T("span",null,"製作自己的專輯",-1),oH=[iH],sH=T("span",null,"會員管理",-1),aH=[sH],uH={class:"block md:hidden ml-auto p-4 my-auto cursor-pointer"},lH=T("div",{class:"top-0 bg-zinc-200 rounded-full w-8 h-1 transition-all group-change:rotate-45 group-change:top-2 relative"},null,-1),cH=T("div",{class:"my-1 bg-zinc-200 rounded-full w-8 h-1 opacity-100 transition-all group-change:opacity-0"},null,-1),fH=T("div",{class:"top-0 bg-zinc-200 rounded-full w-8 h-1 transition-all group-change:-rotate-45 group-change:-top-2 relative"},null,-1),hH=[lH,cH,fH],dH={class:"peer-open:block hidden absolute bg-gradient-to-r from-rose-500 to-pink-500 w-full top-[62px] left-0"},pH=T("i",{class:"fas fa-user pr-2"},null,-1),mH={key:0},gH={key:1},vH=T("span",null,"我的播放清單",-1),yH=[vH],bH=T("div",{class:"p-4 text-center font-bold"},"製作自己的專輯",-1),wH=[bH],_H=T("span",null,"會員管理",-1),SH=[_H];function EH(e,t,n,r,i,s){const u=Ne("toastMessage");return le(),de(mt,null,[Z(u,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),T("header",W5,[T("nav",X5,[T("div",{class:"flex items-center p-2 gap-2 cursor-pointer",onClick:t[0]||(t[0]=Be((...l)=>s.forwardHome&&s.forwardHome(...l),["prevent"]))},Q5),T("div",J5,[T("div",{class:"menu-item",onClick:t[1]||(t[1]=Be((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[Z5,e.userLoggedIn?(le(),de("span",tH,"登出")):(le(),de("span",eH,"登入/註冊"))]),T("div",{class:"menu-item",onClick:t[2]||(t[2]=Be((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},rH),T("div",{class:"menu-item group",onClick:t[3]||(t[3]=Be((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},oH),T("div",{class:"menu-item",onClick:t[4]||(t[4]=Be((...l)=>s.loginMemberStage&&s.loginMemberStage(...l),["prevent"]))},aH)]),T("div",uH,[T("div",{id:"mobile-menu-button",class:et(["group peer",i.menu_hamberger_css]),onClick:t[5]||(t[5]=Be((...l)=>s.clickHamberMenu&&s.clickHamberMenu(...l),["prevent"])),ref:"mobileMenu"},hH,2),T("div",dH,[T("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[6]||(t[6]=Be((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[pH,e.userLoggedIn?(le(),de("span",gH,"登出")):(le(),de("span",mH,"登入/註冊"))]),T("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[7]||(t[7]=Be((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},yH),T("div",{id:"ticket-menu-item",class:"group relative h-full cursor-pointer text-pink-200 transition-colors hover:bg-white/10 hover:text-zinc-200",onClick:t[8]||(t[8]=Be((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},wH),T("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[9]||(t[9]=Be((...l)=>s.loginMemberStage&&s.loginMemberStage(...l),["prevent"]))},SH)])])])])],64)}const TH=Et(q5,[["render",EH]]);var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dh={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||n;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var m=this||n;if(f=parseFloat(f),m.ctx||p(),typeof f<"u"&&f>=0&&f<=1){if(m._volume=f,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(f,n.ctx.currentTime);for(var v=0;v<m._howls.length;v++)if(!m._howls[v]._webAudio)for(var b=m._howls[v]._getSoundIds(),w=0;w<b.length;w++){var S=m._howls[v]._soundById(b[w]);S&&S._node&&(S._node.volume=S._volume*f)}return m}return m._volume},mute:function(f){var m=this||n;m.ctx||p(),m._muted=f,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(f?0:m._volume,n.ctx.currentTime);for(var v=0;v<m._howls.length;v++)if(!m._howls[v]._webAudio)for(var b=m._howls[v]._getSoundIds(),w=0;w<b.length;w++){var S=m._howls[v]._soundById(b[w]);S&&S._node&&(S._node.muted=f?!0:S._muted)}return m},stop:function(){for(var f=this||n,m=0;m<f._howls.length;m++)f._howls[m].stop();return f},unload:function(){for(var f=this||n,m=f._howls.length-1;m>=0;m--)f._howls[m].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,p()),f},codecs:function(f){return(this||n)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||n;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var m=new Audio;m.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return f}if(!m||typeof m.canPlayType!="function")return f;var v=m.canPlayType("audio/mpeg;").replace(/^no$/,""),b=f._navigator?f._navigator.userAgent:"",w=b.match(/OPR\/(\d+)/g),S=w&&parseInt(w[0].split("/")[1],10)<33,E=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,x=b.match(/Version\/(.*?) /),C=E&&x&&parseInt(x[1],10)<15;return f._codecs={mp3:!!(!S&&(v||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!C&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!C&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||n;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var m=function(v){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,f._releaseHtml5Audio(b)}catch{f.noAudio=!0;break}for(var w=0;w<f._howls.length;w++)if(!f._howls[w]._webAudio)for(var S=f._howls[w]._getSoundIds(),E=0;E<S.length;E++){var x=f._howls[w]._soundById(S[E]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}f._autoResume();var C=f.ctx.createBufferSource();C.buffer=f._scratchBuffer,C.connect(f.ctx.destination),typeof C.start>"u"?C.noteOn(0):C.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),C.onended=function(){C.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var D=0;D<f._howls.length;D++)f._howls[D]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),f}},_obtainHtml5Audio:function(){var f=this||n;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var m=this||n;return f._unlocked&&m._html5AudioPool.push(f),m},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<f._howls.length;m++)if(f._howls[m]._webAudio){for(var v=0;v<f._howls[m]._sounds.length;v++)if(!f._howls[m]._sounds[v]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var b=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(b,b)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!n.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var m=0;m<f._howls.length;m++)f._howls[m]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var n=new t,r=function(f){var m=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(f)};r.prototype={init:function(f){var m=this;return n.ctx||p(),m._autoplay=f.autoplay||!1,m._format=typeof f.format!="string"?f.format:[f.format],m._html5=f.html5||!1,m._muted=f.mute||!1,m._loop=f.loop||!1,m._pool=f.pool||5,m._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,m._rate=f.rate||1,m._sprite=f.sprite||{},m._src=typeof f.src!="string"?f.src:[f.src],m._volume=f.volume!==void 0?f.volume:1,m._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=f.onend?[{fn:f.onend}]:[],m._onfade=f.onfade?[{fn:f.onfade}]:[],m._onload=f.onload?[{fn:f.onload}]:[],m._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],m._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],m._onpause=f.onpause?[{fn:f.onpause}]:[],m._onplay=f.onplay?[{fn:f.onplay}]:[],m._onstop=f.onstop?[{fn:f.onstop}]:[],m._onmute=f.onmute?[{fn:f.onmute}]:[],m._onvolume=f.onvolume?[{fn:f.onvolume}]:[],m._onrate=f.onrate?[{fn:f.onrate}]:[],m._onseek=f.onseek?[{fn:f.onseek}]:[],m._onunlock=f.onunlock?[{fn:f.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var f=this,m=null;if(n.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var v=0;v<f._src.length;v++){var b,w;if(f._format&&f._format[v])b=f._format[v];else{if(w=f._src[v],typeof w!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(w),b||(b=/\.([^.]+)$/.exec(w.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&n.codecs(b)){m=f._src[v];break}}if(!m){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=m,f._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new i(f),f._webAudio&&u(f),f},play:function(f,m){var v=this,b=null;if(typeof f=="number")b=f,f=null;else{if(typeof f=="string"&&v._state==="loaded"&&!v._sprite[f])return null;if(typeof f>"u"&&(f="__default",!v._playLock)){for(var w=0,S=0;S<v._sounds.length;S++)v._sounds[S]._paused&&!v._sounds[S]._ended&&(w++,b=v._sounds[S]._id);w===1?f=null:b=null}}var E=b?v._soundById(b):v._inactiveSound();if(!E)return null;if(b&&!f&&(f=E._sprite||"__default"),v._state!=="loaded"){E._sprite=f,E._ended=!1;var x=E._id;return v._queue.push({event:"play",action:function(){v.play(x)}}),x}if(b&&!E._paused)return m||v._loadQueue("play"),E._id;v._webAudio&&n._autoResume();var C=Math.max(0,E._seek>0?E._seek:v._sprite[f][0]/1e3),D=Math.max(0,(v._sprite[f][0]+v._sprite[f][1])/1e3-C),V=D*1e3/Math.abs(E._rate),A=v._sprite[f][0]/1e3,G=(v._sprite[f][0]+v._sprite[f][1])/1e3;E._sprite=f,E._ended=!1;var F=function(){E._paused=!1,E._seek=C,E._start=A,E._stop=G,E._loop=!!(E._loop||v._sprite[f][2])};if(C>=G){v._ended(E);return}var P=E._node;if(v._webAudio){var U=function(){v._playLock=!1,F(),v._refreshBuffer(E);var me=E._muted||v._muted?0:E._volume;P.gain.setValueAtTime(me,n.ctx.currentTime),E._playStart=n.ctx.currentTime,typeof P.bufferSource.start>"u"?E._loop?P.bufferSource.noteGrainOn(0,C,86400):P.bufferSource.noteGrainOn(0,C,D):E._loop?P.bufferSource.start(0,C,86400):P.bufferSource.start(0,C,D),V!==1/0&&(v._endTimers[E._id]=setTimeout(v._ended.bind(v,E),V)),m||setTimeout(function(){v._emit("play",E._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?U():(v._playLock=!0,v.once("resume",U),v._clearTimer(E._id))}else{var k=function(){P.currentTime=C,P.muted=E._muted||v._muted||n._muted||P.muted,P.volume=E._volume*n.volume(),P.playbackRate=E._rate;try{var me=P.play();if(me&&typeof Promise<"u"&&(me instanceof Promise||typeof me.then=="function")?(v._playLock=!0,F(),me.then(function(){v._playLock=!1,P._unlocked=!0,m?v._loadQueue():v._emit("play",E._id)}).catch(function(){v._playLock=!1,v._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):m||(v._playLock=!1,F(),v._emit("play",E._id)),P.playbackRate=E._rate,P.paused){v._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||E._loop?v._endTimers[E._id]=setTimeout(v._ended.bind(v,E),V):(v._endTimers[E._id]=function(){v._ended(E),P.removeEventListener("ended",v._endTimers[E._id],!1)},P.addEventListener("ended",v._endTimers[E._id],!1))}catch(Se){v._emit("playerror",E._id,Se)}};P.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(P.src=v._src,P.load());var q=window&&window.ejecta||!P.readyState&&n._navigator.isCocoonJS;if(P.readyState>=3||q)k();else{v._playLock=!0,v._state="loading";var K=function(){v._state="loaded",k(),P.removeEventListener(n._canPlayEvent,K,!1)};P.addEventListener(n._canPlayEvent,K,!1),v._clearTimer(E._id)}}return E._id},pause:function(f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(f)}}),m;for(var v=m._getSoundIds(f),b=0;b<v.length;b++){m._clearTimer(v[b]);var w=m._soundById(v[b]);if(w&&!w._paused&&(w._seek=m.seek(v[b]),w._rateSeek=0,w._paused=!0,m._stopFade(v[b]),w._node))if(m._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),m._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||m._emit("pause",w?w._id:null)}return m},stop:function(f,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(f)}}),v;for(var b=v._getSoundIds(f),w=0;w<b.length;w++){v._clearTimer(b[w]);var S=v._soundById(b[w]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,v._stopFade(b[w]),S._node&&(v._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),v._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&v._clearSound(S._node))),m||v._emit("stop",S._id))}return v},mute:function(f,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(f,m)}}),v;if(typeof m>"u")if(typeof f=="boolean")v._muted=f;else return v._muted;for(var b=v._getSoundIds(m),w=0;w<b.length;w++){var S=v._soundById(b[w]);S&&(S._muted=f,S._interval&&v._stopFade(S._id),v._webAudio&&S._node?S._node.gain.setValueAtTime(f?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:f),v._emit("mute",S._id))}return v},volume:function(){var f=this,m=arguments,v,b;if(m.length===0)return f._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var w=f._getSoundIds(),S=w.indexOf(m[0]);S>=0?b=parseInt(m[0],10):v=parseFloat(m[0])}else m.length>=2&&(v=parseFloat(m[0]),b=parseInt(m[1],10));var E;if(typeof v<"u"&&v>=0&&v<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,m)}}),f;typeof b>"u"&&(f._volume=v),b=f._getSoundIds(b);for(var x=0;x<b.length;x++)E=f._soundById(b[x]),E&&(E._volume=v,m[2]||f._stopFade(b[x]),f._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(v,n.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=v*n.volume()),f._emit("volume",E._id))}else return E=b?f._soundById(b):f._sounds[0],E?E._volume:0;return f},fade:function(f,m,v,b){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(f,m,v,b)}}),w;f=Math.min(Math.max(0,parseFloat(f)),1),m=Math.min(Math.max(0,parseFloat(m)),1),v=parseFloat(v),w.volume(f,b);for(var S=w._getSoundIds(b),E=0;E<S.length;E++){var x=w._soundById(S[E]);if(x){if(b||w._stopFade(S[E]),w._webAudio&&!x._muted){var C=n.ctx.currentTime,D=C+v/1e3;x._volume=f,x._node.gain.setValueAtTime(f,C),x._node.gain.linearRampToValueAtTime(m,D)}w._startFadeInterval(x,f,m,v,S[E],typeof b>"u")}}return w},_startFadeInterval:function(f,m,v,b,w,S){var E=this,x=m,C=v-m,D=Math.abs(C/.01),V=Math.max(4,D>0?b/D:b),A=Date.now();f._fadeTo=v,f._interval=setInterval(function(){var G=(Date.now()-A)/b;A=Date.now(),x+=C*G,x=Math.round(x*100)/100,C<0?x=Math.max(v,x):x=Math.min(v,x),E._webAudio?f._volume=x:E.volume(x,f._id,!0),S&&(E._volume=x),(v<m&&x<=v||v>m&&x>=v)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,E.volume(v,f._id),E._emit("fade",f._id))},V)},_stopFade:function(f){var m=this,v=m._soundById(f);return v&&v._interval&&(m._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,m.volume(v._fadeTo,f),v._fadeTo=null,m._emit("fade",f)),m},loop:function(){var f=this,m=arguments,v,b,w;if(m.length===0)return f._loop;if(m.length===1)if(typeof m[0]=="boolean")v=m[0],f._loop=v;else return w=f._soundById(parseInt(m[0],10)),w?w._loop:!1;else m.length===2&&(v=m[0],b=parseInt(m[1],10));for(var S=f._getSoundIds(b),E=0;E<S.length;E++)w=f._soundById(S[E]),w&&(w._loop=v,f._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=v,v&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,f.playing(S[E])&&(f.pause(S[E],!0),f.play(S[E],!0)))));return f},rate:function(){var f=this,m=arguments,v,b;if(m.length===0)b=f._sounds[0]._id;else if(m.length===1){var w=f._getSoundIds(),S=w.indexOf(m[0]);S>=0?b=parseInt(m[0],10):v=parseFloat(m[0])}else m.length===2&&(v=parseFloat(m[0]),b=parseInt(m[1],10));var E;if(typeof v=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,m)}}),f;typeof b>"u"&&(f._rate=v),b=f._getSoundIds(b);for(var x=0;x<b.length;x++)if(E=f._soundById(b[x]),E){f.playing(b[x])&&(E._rateSeek=f.seek(b[x]),E._playStart=f._webAudio?n.ctx.currentTime:E._playStart),E._rate=v,f._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):E._node&&(E._node.playbackRate=v);var C=f.seek(b[x]),D=(f._sprite[E._sprite][0]+f._sprite[E._sprite][1])/1e3-C,V=D*1e3/Math.abs(E._rate);(f._endTimers[b[x]]||!E._paused)&&(f._clearTimer(b[x]),f._endTimers[b[x]]=setTimeout(f._ended.bind(f,E),V)),f._emit("rate",E._id)}}else return E=f._soundById(b),E?E._rate:f._rate;return f},seek:function(){var f=this,m=arguments,v,b;if(m.length===0)f._sounds.length&&(b=f._sounds[0]._id);else if(m.length===1){var w=f._getSoundIds(),S=w.indexOf(m[0]);S>=0?b=parseInt(m[0],10):f._sounds.length&&(b=f._sounds[0]._id,v=parseFloat(m[0]))}else m.length===2&&(v=parseFloat(m[0]),b=parseInt(m[1],10));if(typeof b>"u")return 0;if(typeof v=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,m)}}),f;var E=f._soundById(b);if(E)if(typeof v=="number"&&v>=0){var x=f.playing(b);x&&f.pause(b,!0),E._seek=v,E._ended=!1,f._clearTimer(b),!f._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=v);var C=function(){x&&f.play(b,!0),f._emit("seek",b)};if(x&&!f._webAudio){var D=function(){f._playLock?setTimeout(D,0):C()};setTimeout(D,0)}else C()}else if(f._webAudio){var V=f.playing(b)?n.ctx.currentTime-E._playStart:0,A=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(A+V*Math.abs(E._rate))}else return E._node.currentTime;return f},playing:function(f){var m=this;if(typeof f=="number"){var v=m._soundById(f);return v?!v._paused:!1}for(var b=0;b<m._sounds.length;b++)if(!m._sounds[b]._paused)return!0;return!1},duration:function(f){var m=this,v=m._duration,b=m._soundById(f);return b&&(v=m._sprite[b._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var f=this,m=f._sounds,v=0;v<m.length;v++)m[v]._paused||f.stop(m[v]._id),f._webAudio||(f._clearSound(m[v]._node),m[v]._node.removeEventListener("error",m[v]._errorFn,!1),m[v]._node.removeEventListener(n._canPlayEvent,m[v]._loadFn,!1),m[v]._node.removeEventListener("ended",m[v]._endFn,!1),n._releaseHtml5Audio(m[v]._node)),delete m[v]._node,f._clearTimer(m[v]._id);var b=n._howls.indexOf(f);b>=0&&n._howls.splice(b,1);var w=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===f._src||f._src.indexOf(n._howls[v]._src)>=0){w=!1;break}return s&&w&&delete s[f._src],n.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,m,v,b){var w=this,S=w["_on"+f];return typeof m=="function"&&S.push(b?{id:v,fn:m,once:b}:{id:v,fn:m}),w},off:function(f,m,v){var b=this,w=b["_on"+f],S=0;if(typeof m=="number"&&(v=m,m=null),m||v)for(S=0;S<w.length;S++){var E=v===w[S].id;if(m===w[S].fn&&E||!m&&E){w.splice(S,1);break}}else if(f)b["_on"+f]=[];else{var x=Object.keys(b);for(S=0;S<x.length;S++)x[S].indexOf("_on")===0&&Array.isArray(b[x[S]])&&(b[x[S]]=[])}return b},once:function(f,m,v){var b=this;return b.on(f,m,v,1),b},_emit:function(f,m,v){for(var b=this,w=b["_on"+f],S=w.length-1;S>=0;S--)(!w[S].id||w[S].id===m||f==="load")&&(setTimeout((function(E){E.call(this,m,v)}).bind(b,w[S].fn),0),w[S].once&&b.off(f,w[S].fn,w[S].id));return b._loadQueue(f),b},_loadQueue:function(f){var m=this;if(m._queue.length>0){var v=m._queue[0];v.event===f&&(m._queue.shift(),m._loadQueue()),f||v.action()}return m},_ended:function(f){var m=this,v=f._sprite;if(!m._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(m._ended.bind(m,f),100),m;var b=!!(f._loop||m._sprite[v][2]);if(m._emit("end",f._id),!m._webAudio&&b&&m.stop(f._id,!0).play(f._id),m._webAudio&&b){m._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=n.ctx.currentTime;var w=(f._stop-f._start)*1e3/Math.abs(f._rate);m._endTimers[f._id]=setTimeout(m._ended.bind(m,f),w)}return m._webAudio&&!b&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,m._clearTimer(f._id),m._cleanBuffer(f._node),n._autoSuspend()),!m._webAudio&&!b&&m.stop(f._id,!0),m},_clearTimer:function(f){var m=this;if(m._endTimers[f]){if(typeof m._endTimers[f]!="function")clearTimeout(m._endTimers[f]);else{var v=m._soundById(f);v&&v._node&&v._node.removeEventListener("ended",m._endTimers[f],!1)}delete m._endTimers[f]}return m},_soundById:function(f){for(var m=this,v=0;v<m._sounds.length;v++)if(f===m._sounds[v]._id)return m._sounds[v];return null},_inactiveSound:function(){var f=this;f._drain();for(var m=0;m<f._sounds.length;m++)if(f._sounds[m]._ended)return f._sounds[m].reset();return new i(f)},_drain:function(){var f=this,m=f._pool,v=0,b=0;if(!(f._sounds.length<m)){for(b=0;b<f._sounds.length;b++)f._sounds[b]._ended&&v++;for(b=f._sounds.length-1;b>=0;b--){if(v<=m)return;f._sounds[b]._ended&&(f._webAudio&&f._sounds[b]._node&&f._sounds[b]._node.disconnect(0),f._sounds.splice(b,1),v--)}}},_getSoundIds:function(f){var m=this;if(typeof f>"u"){for(var v=[],b=0;b<m._sounds.length;b++)v.push(m._sounds[b]._id);return v}else return[f]},_refreshBuffer:function(f){var m=this;return f._node.bufferSource=n.ctx.createBufferSource(),f._node.bufferSource.buffer=s[m._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,n.ctx.currentTime),m},_cleanBuffer:function(f){var m=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return m;if(n._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),v))try{f.bufferSource.buffer=n._scratchBuffer}catch{}return f.bufferSource=null,m},_clearSound:function(f){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(f){this._parent=f,this.init()};i.prototype={init:function(){var f=this,m=f._parent;return f._muted=m._muted,f._loop=m._loop,f._volume=m._volume,f._rate=m._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,m._sounds.push(f),f.create(),f},create:function(){var f=this,m=f._parent,v=n._muted||f._muted||f._parent._muted?0:f._volume;return m._webAudio?(f._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),f._node.gain.setValueAtTime(v,n.ctx.currentTime),f._node.paused=!0,f._node.connect(n.masterGain)):n.noAudio||(f._node=n._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(n._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=m._src,f._node.preload=m._preload===!0?"auto":m._preload,f._node.volume=v*n.volume(),f._node.load()),f},reset:function(){var f=this,m=f._parent;return f._muted=m._muted,f._loop=m._loop,f._volume=m._volume,f._rate=m._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,m=f._parent;m._duration=Math.ceil(f._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),f._node.removeEventListener(n._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,m=f._parent;m._duration===1/0&&(m._duration=Math.ceil(f._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var s={},u=function(f){var m=f._src;if(s[m]){f._duration=s[m].duration,d(f);return}if(/^data:[^;]+;base64,/.test(m)){for(var v=atob(m.split(",")[1]),b=new Uint8Array(v.length),w=0;w<v.length;++w)b[w]=v.charCodeAt(w);c(b.buffer,f)}else{var S=new XMLHttpRequest;S.open(f._xhr.method,m,!0),S.withCredentials=f._xhr.withCredentials,S.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(E){S.setRequestHeader(E,f._xhr.headers[E])}),S.onload=function(){var E=(S.status+"")[0];if(E!=="0"&&E!=="2"&&E!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}c(S.response,f)},S.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete s[m],f.load())},l(S)}},l=function(f){try{f.send()}catch{f.onerror()}},c=function(f,m){var v=function(){m._emit("loaderror",null,"Decoding audio data failed.")},b=function(w){w&&m._sounds.length>0?(s[m._src]=w,d(m,w)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(f).then(b).catch(v):n.ctx.decodeAudioData(f,b,v)},d=function(f,m){m&&!f._duration&&(f._duration=m.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},p=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=m?parseInt(m[1],10):null;if(f&&v&&v<9){var b=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!b&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof xl<"u"?(xl.HowlerGlobal=t,xl.Howler=n,xl.Howl=r,xl.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,u,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(r=typeof r!="number"?d[1]:r,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,l=typeof l!="number"?d[5]:l,typeof n=="number")c._orientation=[n,r,i,s,u,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,i,s,u,l);else return d;return c},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var u=i._getSoundIds(r),l=0;l<u.length;l++){var c=i._soundById(u[l]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,i,s)}}),u;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")u._pos=[n,r,i];else return u._pos;for(var l=u._getSoundIds(s),c=0;c<l.length;c++){var d=u._soundById(l[c]);if(d)if(typeof n=="number")d._pos=[n,r,i],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(n,r,i)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,i,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,i,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,i=typeof i!="number"?u._orientation[2]:i,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,i];else return u._orientation;for(var l=u._getSoundIds(s),c=0;c<l.length;c++){var d=u._soundById(l[c]);if(d)if(typeof n=="number")d._orientation=[n,r,i],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,i)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),c=0;c<l.length;c++)if(u=n._soundById(l[c]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var p=u._panner;p||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),p=u._panner),p.coneInnerAngle=d.coneInnerAngle,p.coneOuterAngle=d.coneOuterAngle,p.coneOuterGain=d.coneOuterGain,p.distanceModel=d.distanceModel,p.maxDistance=d.maxDistance,p.refDistance=d.refDistance,p.rolloffFactor=d.rolloffFactor,p.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Dh);var IH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xH=window.device,ce={},Hy=[];window.device=ce;var _c=window.document.documentElement,AH=window.navigator.userAgent.toLowerCase(),TI=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];ce.macos=function(){return Jt("mac")};ce.ios=function(){return ce.iphone()||ce.ipod()||ce.ipad()};ce.iphone=function(){return!ce.windows()&&Jt("iphone")};ce.ipod=function(){return Jt("ipod")};ce.ipad=function(){var e=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return Jt("ipad")||e};ce.android=function(){return!ce.windows()&&Jt("android")};ce.androidPhone=function(){return ce.android()&&Jt("mobile")};ce.androidTablet=function(){return ce.android()&&!Jt("mobile")};ce.blackberry=function(){return Jt("blackberry")||Jt("bb10")};ce.blackberryPhone=function(){return ce.blackberry()&&!Jt("tablet")};ce.blackberryTablet=function(){return ce.blackberry()&&Jt("tablet")};ce.windows=function(){return Jt("windows")};ce.windowsPhone=function(){return ce.windows()&&Jt("phone")};ce.windowsTablet=function(){return ce.windows()&&Jt("touch")&&!ce.windowsPhone()};ce.fxos=function(){return(Jt("(mobile")||Jt("(tablet"))&&Jt(" rv:")};ce.fxosPhone=function(){return ce.fxos()&&Jt("mobile")};ce.fxosTablet=function(){return ce.fxos()&&Jt("tablet")};ce.meego=function(){return Jt("meego")};ce.cordova=function(){return window.cordova&&location.protocol==="file:"};ce.nodeWebkit=function(){return IH(window.process)==="object"};ce.mobile=function(){return ce.androidPhone()||ce.iphone()||ce.ipod()||ce.windowsPhone()||ce.blackberryPhone()||ce.fxosPhone()||ce.meego()};ce.tablet=function(){return ce.ipad()||ce.androidTablet()||ce.blackberryTablet()||ce.windowsTablet()||ce.fxosTablet()};ce.desktop=function(){return!ce.tablet()&&!ce.mobile()};ce.television=function(){for(var e=0;e<TI.length;){if(Jt(TI[e]))return!0;e++}return!1};ce.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?rw(screen.orientation.type,"portrait"):ce.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:window.innerHeight/window.innerWidth>1};ce.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?rw(screen.orientation.type,"landscape"):ce.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1};ce.noConflict=function(){return window.device=xH,this};function rw(e,t){return e.indexOf(t)!==-1}function Jt(e){return rw(AH,e)}function uN(e){return _c.className.match(new RegExp(e,"i"))}function rn(e){var t=null;uN(e)||(t=_c.className.replace(/^\s+|\s+$/g,""),_c.className=t+" "+e)}function II(e){uN(e)&&(_c.className=_c.className.replace(" "+e,""))}ce.ios()?ce.ipad()?rn("ios ipad tablet"):ce.iphone()?rn("ios iphone mobile"):ce.ipod()&&rn("ios ipod mobile"):ce.macos()?rn("macos desktop"):ce.android()?ce.androidTablet()?rn("android tablet"):rn("android mobile"):ce.blackberry()?ce.blackberryTablet()?rn("blackberry tablet"):rn("blackberry mobile"):ce.windows()?ce.windowsTablet()?rn("windows tablet"):ce.windowsPhone()?rn("windows mobile"):rn("windows desktop"):ce.fxos()?ce.fxosTablet()?rn("fxos tablet"):rn("fxos mobile"):ce.meego()?rn("meego mobile"):ce.nodeWebkit()?rn("node-webkit"):ce.television()?rn("television"):ce.desktop()&&rn("desktop");ce.cordova()&&rn("cordova");function Mh(){ce.landscape()?(II("portrait"),rn("landscape"),xI("landscape")):(II("landscape"),rn("portrait"),xI("portrait")),lN()}function xI(e){for(var t=0;t<Hy.length;t++)Hy[t](e)}ce.onChangeOrientation=function(e){typeof e=="function"&&Hy.push(e)};var Lh="resize";Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Lh="orientationchange");window.addEventListener?window.addEventListener(Lh,Mh,!1):window.attachEvent?window.attachEvent(Lh,Mh):window[Lh]=Mh;Mh();function iw(e){for(var t=0;t<e.length;t++)if(ce[e[t]]())return e[t];return"unknown"}ce.type=iw(["mobile","tablet","desktop"]);ce.os=iw(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]);function lN(){ce.orientation=iw(["portrait","landscape"])}lN();const fn={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`},RangeInt(e,t){return Math.floor(Math.random()*(t-e+1))+e},formatIndex(e){return(e+1).toString().padStart(2,"0")},formatSongName(e){let t=e.replace(".mp3","");return t=t.replace(/^\d+\.\s*/,""),t},changeHightStyle(e,t){const n=ce.desktop(),r=ce.mobile();e.length<8&&n?t.style.height="418px":e.length<6&&r?t.style.height="300px":t.style.height="auto"},uploadImg(e){return new Promise((t,n)=>{const r=e.target.files[0];if(!r)return;["image/jpeg","image/png","image/jpg","image/bmp"].includes(r.type)||t({showAlert:!0,message:"請上傳圖片檔，如jpg、png、bmp檔等"}),t({file:r})})}},Ln=Cu("player",{state:()=>({songList:[],current_song:{},sound:{},seek:"00:00",duration:"00:00",playProgress:"0% ",playingIndex:0,pauseCurrentSong:{}}),actions:{async newSong(e){this.sound instanceof Dh.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Dh.Howl({src:[e.url],html5:!0,volume:.3}),this.sound.play(),this.sound.on("play",()=>{this.progress(),requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?(this.sound.pause(),this.pauseCurrentSong={pause:!0,currentSong:this.current_song.modified_name}):(this.pauseCurrentSong={pause:!1,currentSong:this.current_song.modified_name},this.sound.play()))},forward_backPlay(e){this.sound.playing&&(this.sound.playing()&&this.sound.stop(),e&&this.playingIndex<=this.songList.length-2?this.playingIndex+=1:e&&this.playingIndex===this.songList.length-1?this.playingIndex=0:!e&&this.playingIndex>0?this.playingIndex-=1:!e&&this.playingIndex===0&&(this.playingIndex=this.songList.length-1),this.sound=new Dh.Howl({src:[this.songList[this.playingIndex].url],html5:!0,volume:.3}),this.sound.play(),this.sound.on("play",()=>{this.progress(),requestAnimationFrame(this.progress)}),this.current_song=this.songList[this.playingIndex])},deleteSong(e){this.sound.playing&&this.sound.stop(),this.songList.splice(e,1),this.songList.length===0?this.current_song={}:this.current_song=this.songList[0]},progress(){this.seek=fn.formatTime(this.sound.seek()),this.duration=fn.formatTime(this.sound.duration()),this.playProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(e){if(!this.sound.playing)return;const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),i=(e.clientX-t)/n,s=this.sound.duration()*i;this.sound.seek(s),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1}}),CH={name:"Player",computed:{...In(Ln,["playing","seek","duration","playProgress","current_song"])},methods:{...xn(Ln,["toggleAudio","updateSeek","forward_backPlay"])}},kH={class:"flex justify-between items-center"},OH={class:"flex-1"},NH={key:0,class:"text-center"},PH={class:"font-bold text-md"},RH={class:"font-bold text-md"},DH={class:"flex flex-nowrap gap-4 items-center"},MH={class:"player-currenttime"},LH=T("i",{class:"fas fa-circle"},null,-1),VH=[LH],FH={class:"player-duration"},jH={class:"flex my-2"},UH=["src"],$H={class:"flex-1 flex flex-nowrap justify-between px-2 md:px-5"},BH=T("i",{class:"fas fa-backward text-rose-500 text-2xl"},null,-1),zH=[BH],HH=T("i",{class:"fas fa-forward text-rose-500 text-2xl"},null,-1),GH=[HH],qH={key:0,class:"w-10 md:mr-4 md:ml-2"},WH={class:"flex md:gap-1 gap-0.5 items-center justify-center"};function XH(e,t,n,r,i,s){return le(),de("div",{class:et({hidden:e.$route.name==="admin-backStage"})},[T("div",{class:et(["fixed bottom-0 left-0 bg-zinc-800 pl-4 py-2 w-full text-zinc-200 shadow-[0_0_5px_rgba(255,255,255,1)] z-10",{"pr-4":!e.current_song.album}])},[T("div",kH,[T("div",OH,[e.current_song.modified_name?(le(),de("div",NH,[T("span",PH,ht(e.current_song.display_name),1),Zl(" - "),T("span",RH,ht(e.current_song.modified_name),1)])):Ar("",!0),T("div",DH,[T("div",MH,ht(e.seek),1),T("div",{class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer",onClick:t[0]||(t[0]=Be((...u)=>e.updateSeek&&e.updateSeek(...u),["prevent"]))},[T("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-700 text-lg",style:Br({left:e.playProgress})},VH,4),T("span",{class:"block h-2 rounded bg-gradient-to-r from-rose-500 to-pink-500",style:Br({width:e.playProgress})},null,4)]),T("div",FH,ht(e.duration),1)]),T("div",jH,[T("img",{src:e.current_song.coverImg,class:et(["w-10",{"opacity-0":!e.current_song.coverImg}]),alt:""},null,10,UH),T("div",$H,[T("button",{type:"button",onClick:t[1]||(t[1]=Be(u=>e.forward_backPlay(!1),["prevent"]))},zH),T("button",{type:"button",onClick:t[2]||(t[2]=Be((...u)=>e.toggleAudio&&e.toggleAudio(...u),["prevent"]))},[T("i",{class:et(["fas text-rose-500 text-3xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),T("button",{type:"button",onClick:t[3]||(t[3]=Be(u=>e.forward_backPlay(!0),["prevent"]))},GH)])])]),e.current_song.album?(le(),de("div",qH,[T("div",WH,[T("div",{class:et(["md:h-6 h-4 md:w-[5px] w-[3px] bg-rose-400 rounded-full animate-wavey",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),T("div",{class:et(["md:h-7 h-5 md:w-[5px] w-[3px] bg-rose-300 rounded-full animate-wavey animation-delay-200",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),T("div",{class:et(["md:h-8 h-6 md:w-[5px] w-[3px] bg-rose-200 rounded-full animate-wavey animation-delay-[150ms]",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),T("div",{class:et(["md:h-9 h-7 md:w-[5px] w-[3px] bg-rose-300 rounded-full animate-wavey animation-delay-300",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),T("div",{class:et(["md:h-6 h-4 md:w-[5px] w-[3px] bg-rose-400 rounded-full animate-wavey animation-delay-[75ms]",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2)])])):Ar("",!0)])],2)],2)}const KH=Et(CH,[["render",XH]]),YH={name:"loginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required|min:9|max:100|excluded:password"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500/50",login_alert_msg:"正在登入中."}},methods:{...xn(hr,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500/50",this.login_alert_msg="正在登入中.";try{await this.authenticate(e)}catch(t){console.log("error => ",t),this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="登入失敗.";return}this.login_alert_variant="bg-green-500/60",this.login_alert_msg="登入成功! 轉跳頁面中.",console.log("this.$route => ",this.$route),window.location.reload()}}},QH={class:"mb-3"},JH=T("label",{class:"inline-block mb-2"},"Email",-1),ZH={class:"mb-3"},eG=T("label",{class:"inline-block mb-2"},"密碼",-1),tG=["disabled"];function nG(e,t,n,r,i,s){const u=Ne("vee-field"),l=Ne("ErrorMessage"),c=Ne("vee-form");return le(),de(mt,null,[i.login_show_alert?(le(),de("div",{key:0,class:et(["text-white text-center font-bold p-2 rounded mb-4",i.login_alert_variant])},ht(i.login_alert_msg),3)):Ar("",!0),Z(c,{"validation-schema":i.loginSchema,onSubmit:s.login},{default:Rn(()=>[T("div",QH,[JH,Z(u,{name:"email",type:"email",autocomplete:"email",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),Z(l,{class:"text-pink-600",name:"email"})]),T("div",ZH,[eG,Z(u,{type:"password",name:"password",autocomplete:"current-password",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),Z(l,{class:"text-pink-600",name:"password"})]),T("button",{type:"submit",class:"block w-full bg-pink-500/75 text-white py-1.5 px-3 rounded transition hover:bg-pink-500/55 disabled:bg-gray-400",disabled:i.login_in_submission}," 傳送 ",8,tG)]),_:1},8,["validation-schema","onSubmit"])],64)}const rG=Et(YH,[["render",nG]]),iG="password,admin",oG={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100",email:"required|min:3|max:100|email",password:`required|min:9|max:100|excluded:${iG}`,confirm_password:"passwords_mismatch:@password"},userData:{country:"USA"},reg_in_submission:!1,res_show_alert:!1,reg_alert_variant:"bg-blue-500/50",reg_alert_msg:"註冊中，請稍等..."}},computed:{},methods:{...xn(hr,{createUser:"register"}),async register(e){this.res_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500/50",this.reg_alert_msg="註冊中，請稍等...";try{await this.createUser(e)}catch(t){this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500/60",this.reg_alert_msg=t.message,console.log("error => ",t);return}this.reg_alert_variant="bg-green-500/60",this.login_alert_msg="註冊成功! 轉跳頁面中.",window.location.reload()}}},sG={class:"mb-3"},aG=T("label",{class:"inline-block mb-2"},"使用者名稱",-1),uG={class:"mb-3"},lG=T("label",{class:"inline-block mb-2"},"Email",-1),cG={class:"mb-3"},fG=T("label",{class:"inline-block mb-2"},"密碼",-1),hG={class:"mb-3"},dG=T("label",{class:"inline-block mb-2"},"請再次輸入您的密碼",-1),pG=["disabled"];function mG(e,t,n,r,i,s){const u=Ne("vee-field"),l=Ne("ErrorMessage"),c=Ne("vee-form");return le(),de(mt,null,[i.res_show_alert?(le(),de("div",{key:0,class:et(["text-white text-center font-bold p-2 rounded mb-4",i.reg_alert_variant])},ht(i.reg_alert_msg),3)):Ar("",!0),Z(c,{"validation-schema":i.schema,onSubmit:s.register,"initial-values":i.userData},{default:Rn(()=>[T("div",sG,[aG,Z(u,{name:"name",type:"text",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"輸入使用者名稱"}),Z(l,{class:"text-pink-600",name:"name"})]),T("div",uG,[lG,Z(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"輸入Email"}),Z(l,{class:"text-pink-600",name:"email"})]),T("div",cG,[fG,Z(u,{name:"password",bails:!1},{default:Rn(({field:d,errors:p})=>[T("input",pA({class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",name:"password",autocomplete:"password",placeholder:"輸入密碼"},d),null,16),(le(!0),de(mt,null,Ci(p,f=>(le(),de("div",{class:"text-pink-600",key:f},ht(f),1))),128))]),_:1})]),T("div",hG,[dG,Z(u,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"再次確認密碼"}),Z(l,{class:"text-pink-600",name:"confirm_password"})]),T("button",{type:"submit",class:"block w-full bg-pink-500/75 text-white py-1.5 px-3 rounded transition hover:bg-pink-500/55 disabled:bg-gray-400",disabled:i.reg_in_submission}," 送出 ",8,pG)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const gG=Et(oG,[["render",mG]]),vG={data(){return{tab:"login"}},components:{LoginForm:rG,RegisterForm:gG},computed:{...In(By,["hiddenClass"]),...Bt(By,{modalVisibility:"isOpen"})}},yG={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},bG=T("div",{class:"fixed inset-0 transition-opacity"},[T("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),wG=T("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),_G={class:"inline-block align-bottom w-full bg-zinc-900/70 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},SG={class:"pt-3 pb-7 text-left px-6"},EG={class:"flex justify-between items-center pb-4"},TG=T("p",{class:"text-md font-bold"},"您的帳戶",-1),IG=T("i",{class:"fas fa-times"},null,-1),xG=[IG],AG={class:"flex flex-wrap mb-4"},CG={class:"flex-auto text-center"},kG={class:"flex-auto text-center"};function OG(e,t,n,r,i,s){const u=Ne("LoginForm"),l=Ne("RegisterForm");return le(),de("div",{class:et(["fixed z-10 inset-0 overflow-y-auto text-zinc-200",e.hiddenClass]),id:"modal"},[T("div",yG,[bG,wG,T("div",_G,[T("div",SG,[T("div",EG,[TG,T("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=c=>e.modalVisibility=!1)},xG)]),T("ul",AG,[T("li",CG,[T("a",{class:et(["block rounded py-1.5 px-2 transition",{"hover:text-white text-white bg-pink-500/75":i.tab==="login","hover:text-rose-200":i.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Be(c=>i.tab="login",["prevent"]))},"登入",2)]),T("li",kG,[T("a",{class:et(["block rounded py-1.5 px-2 transition",{"hover:text-white text-white bg-pink-500/75":i.tab==="register","hover:text-rose-200":i.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Be(c=>i.tab="register",["prevent"]))},"註冊",2)])]),i.tab==="login"?(le(),zo(u,{key:0})):(le(),zo(l,{key:1}))])])])],2)}const NG=Et(vG,[["render",OG]]),PG={components:{Auth:NG,HeaderVue:TH,Player:KH}};function RG(e,t,n,r,i,s){const u=Ne("HeaderVue"),l=Ne("RouterView"),c=Ne("Player"),d=Ne("Auth");return le(),de(mt,null,[Z(u),Z(l,null,{default:Rn(({Component:p})=>[Z(A0,{name:"fade"},{default:Rn(()=>[(le(),zo(Vd(p),{mode:"out-in"}))]),_:2},1024)]),_:1}),Z(c),Z(d)],64)}const DG=Et(PG,[["render",RG]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ga=typeof document<"u";function MG(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const _t=Object.assign;function kv(e,t){const n={};for(const r in t){const i=t[r];n[r]=li(i)?i.map(e):e(i)}return n}const Gl=()=>{},li=Array.isArray,cN=/#/g,LG=/&/g,VG=/\//g,FG=/=/g,jG=/\?/g,fN=/\+/g,UG=/%5B/g,$G=/%5D/g,hN=/%5E/g,BG=/%60/g,dN=/%7B/g,zG=/%7C/g,pN=/%7D/g,HG=/%20/g;function ow(e){return encodeURI(""+e).replace(zG,"|").replace(UG,"[").replace($G,"]")}function GG(e){return ow(e).replace(dN,"{").replace(pN,"}").replace(hN,"^")}function Gy(e){return ow(e).replace(fN,"%2B").replace(HG,"+").replace(cN,"%23").replace(LG,"%26").replace(BG,"`").replace(dN,"{").replace(pN,"}").replace(hN,"^")}function qG(e){return Gy(e).replace(FG,"%3D")}function WG(e){return ow(e).replace(cN,"%23").replace(jG,"%3F")}function XG(e){return e==null?"":WG(e).replace(VG,"%2F")}function Sc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const KG=/\/$/,YG=e=>e.replace(KG,"");function Ov(e,t,n="/"){let r,i={},s="",u="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),i=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=eq(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:i,hash:Sc(u)}}function QG(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function AI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function JG(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Tu(t.matched[r],n.matched[i])&&mN(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Tu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mN(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ZG(e[n],t[n]))return!1;return!0}function ZG(e,t){return li(e)?CI(e,t):li(t)?CI(t,e):e===t}function CI(e,t){return li(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function eq(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u).join("/")}var Ec;(function(e){e.pop="pop",e.push="push"})(Ec||(Ec={}));var ql;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ql||(ql={}));function tq(e){if(!e)if(Ga){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),YG(e)}const nq=/^[^#]+#/;function rq(e,t){return e.replace(nq,"#")+t}function iq(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const xp=()=>({left:window.scrollX,top:window.scrollY});function oq(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=iq(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function kI(e,t){return(history.state?history.state.position-t:-1)+e}const qy=new Map;function sq(e,t){qy.set(e,t)}function aq(e){const t=qy.get(e);return qy.delete(e),t}let uq=()=>location.protocol+"//"+location.host;function gN(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let l=i.includes(e.slice(s))?e.slice(s).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),AI(c,"")}return AI(n,e)+r+i}function lq(e,t,n,r){let i=[],s=[],u=null;const l=({state:m})=>{const v=gN(e,location),b=n.value,w=t.value;let S=0;if(m){if(n.value=v,t.value=m,u&&u===b){u=null;return}S=w?m.position-w.position:0}else r(v);i.forEach(E=>{E(n.value,b,{delta:S,type:Ec.pop,direction:S?S>0?ql.forward:ql.back:ql.unknown})})};function c(){u=n.value}function d(m){i.push(m);const v=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(v),v}function p(){const{history:m}=window;m.state&&m.replaceState(_t({},m.state,{scroll:xp()}),"")}function f(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function OI(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?xp():null}}function cq(e){const{history:t,location:n}=window,r={value:gN(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,d,p){const f=e.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:uq()+e+c;try{t[p?"replaceState":"pushState"](d,"",m),i.value=d}catch(v){console.error(v),n[p?"replace":"assign"](m)}}function u(c,d){const p=_t({},t.state,OI(i.value.back,c,i.value.forward,!0),d,{position:i.value.position});s(c,p,!0),r.value=c}function l(c,d){const p=_t({},i.value,t.state,{forward:c,scroll:xp()});s(p.current,p,!0);const f=_t({},OI(r.value,c,null),{position:p.position+1},d);s(c,f,!1),r.value=c}return{location:r,state:i,push:l,replace:u}}function fq(e){e=tq(e);const t=cq(e),n=lq(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const i=_t({location:"",base:e,go:r,createHref:rq.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function hq(e){return typeof e=="string"||e&&typeof e=="object"}function vN(e){return typeof e=="string"||typeof e=="symbol"}const vo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},yN=Symbol("");var NI;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NI||(NI={}));function Iu(e,t){return _t(new Error,{type:e,[yN]:!0},t)}function Ui(e,t){return e instanceof Error&&yN in e&&(t==null||!!(e.type&t))}const PI="[^/]+?",dq={sensitive:!1,strict:!1,start:!0,end:!0},pq=/[.+*?^${}()[\]/\\]/g;function mq(e,t){const n=_t({},dq,t),r=[];let i=n.start?"^":"";const s=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(i+="/");for(let f=0;f<d.length;f++){const m=d[f];let v=40+(n.sensitive?.25:0);if(m.type===0)f||(i+="/"),i+=m.value.replace(pq,"\\$&"),v+=40;else if(m.type===1){const{value:b,repeatable:w,optional:S,regexp:E}=m;s.push({name:b,repeatable:w,optional:S});const x=E||PI;if(x!==PI){v+=10;try{new RegExp(`(${x})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${b}" (${x}): `+D.message)}}let C=w?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(C=S&&d.length<2?`(?:/${C})`:"/"+C),S&&(C+="?"),i+=C,v+=20,S&&(v+=-8),w&&(v+=-20),x===".*"&&(v+=-50)}p.push(v)}r.push(p)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const u=new RegExp(i,n.sensitive?"":"i");function l(d){const p=d.match(u),f={};if(!p)return null;for(let m=1;m<p.length;m++){const v=p[m]||"",b=s[m-1];f[b.name]=v&&b.repeatable?v.split("/"):v}return f}function c(d){let p="",f=!1;for(const m of e){(!f||!p.endsWith("/"))&&(p+="/"),f=!1;for(const v of m)if(v.type===0)p+=v.value;else if(v.type===1){const{value:b,repeatable:w,optional:S}=v,E=b in d?d[b]:"";if(li(E)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const x=li(E)?E.join("/"):E;if(!x)if(S)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);p+=x}}return p||"/"}return{re:u,score:r,keys:s,parse:l,stringify:c}}function gq(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function vq(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=gq(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(RI(r))return 1;if(RI(i))return-1}return i.length-r.length}function RI(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const yq={type:0,value:""},bq=/[a-zA-Z0-9_]/;function wq(e){if(!e)return[[]];if(e==="/")return[[yq]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,r=n;const i=[];let s;function u(){s&&i.push(s),s=[]}let l=0,c,d="",p="";function f(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),u()):c===":"?(f(),n=1):m();break;case 4:m(),n=r;break;case 1:c==="("?n=2:bq.test(c)?m():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:n=3:p+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),u(),i}function _q(e,t,n){const r=mq(wq(e.path),n),i=_t(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Sq(e,t){const n=[],r=new Map;t=LI({strict:!1,end:!0,sensitive:!1},t);function i(p){return r.get(p)}function s(p,f,m){const v=!m,b=Eq(p);b.aliasOf=m&&m.record;const w=LI(t,p),S=[b];if("alias"in p){const C=typeof p.alias=="string"?[p.alias]:p.alias;for(const D of C)S.push(_t({},b,{components:m?m.record.components:b.components,path:D,aliasOf:m?m.record:b}))}let E,x;for(const C of S){const{path:D}=C;if(f&&D[0]!=="/"){const V=f.record.path,A=V[V.length-1]==="/"?"":"/";C.path=f.record.path+(D&&A+D)}if(E=_q(C,f,w),m?m.alias.push(E):(x=x||E,x!==E&&x.alias.push(E),v&&p.name&&!MI(E)&&u(p.name)),b.children){const V=b.children;for(let A=0;A<V.length;A++)s(V[A],E,m&&m.children[A])}m=m||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&c(E)}return x?()=>{u(x)}:Gl}function u(p){if(vN(p)){const f=r.get(p);f&&(r.delete(p),n.splice(n.indexOf(f),1),f.children.forEach(u),f.alias.forEach(u))}else{const f=n.indexOf(p);f>-1&&(n.splice(f,1),p.record.name&&r.delete(p.record.name),p.children.forEach(u),p.alias.forEach(u))}}function l(){return n}function c(p){let f=0;for(;f<n.length&&vq(p,n[f])>=0&&(p.record.path!==n[f].record.path||!bN(p,n[f]));)f++;n.splice(f,0,p),p.record.name&&!MI(p)&&r.set(p.record.name,p)}function d(p,f){let m,v={},b,w;if("name"in p&&p.name){if(m=r.get(p.name),!m)throw Iu(1,{location:p});w=m.record.name,v=_t(DI(f.params,m.keys.filter(x=>!x.optional).concat(m.parent?m.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),p.params&&DI(p.params,m.keys.map(x=>x.name))),b=m.stringify(v)}else if(p.path!=null)b=p.path,m=n.find(x=>x.re.test(b)),m&&(v=m.parse(b),w=m.record.name);else{if(m=f.name?r.get(f.name):n.find(x=>x.re.test(f.path)),!m)throw Iu(1,{location:p,currentLocation:f});w=m.record.name,v=_t({},f.params,p.params),b=m.stringify(v)}const S=[];let E=m;for(;E;)S.unshift(E.record),E=E.parent;return{name:w,path:b,params:v,matched:S,meta:Iq(S)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:l,getRecordMatcher:i}}function DI(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Eq(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Tq(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Tq(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function MI(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Iq(e){return e.reduce((t,n)=>_t(t,n.meta),{})}function LI(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function bN(e,t){return t.children.some(n=>n===e||bN(e,n))}function xq(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(fN," "),u=s.indexOf("="),l=Sc(u<0?s:s.slice(0,u)),c=u<0?null:Sc(s.slice(u+1));if(l in t){let d=t[l];li(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function VI(e){let t="";for(let n in e){const r=e[n];if(n=qG(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(li(r)?r.map(s=>s&&Gy(s)):[r&&Gy(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Aq(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=li(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Cq=Symbol(""),FI=Symbol(""),sw=Symbol(""),wN=Symbol(""),Wy=Symbol("");function Al(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function xo(e,t,n,r,i,s=u=>u()){const u=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const d=m=>{m===!1?c(Iu(4,{from:n,to:t})):m instanceof Error?c(m):hq(m)?c(Iu(2,{from:t,to:m})):(u&&r.enterCallbacks[i]===u&&typeof m=="function"&&u.push(m),l())},p=s(()=>e.call(r&&r.instances[i],t,n,d));let f=Promise.resolve(p);e.length<3&&(f=f.then(d)),f.catch(m=>c(m))})}function Nv(e,t,n,r,i=s=>s()){const s=[];for(const u of e)for(const l in u.components){let c=u.components[l];if(!(t!=="beforeRouteEnter"&&!u.instances[l]))if(kq(c)){const p=(c.__vccOpts||c)[t];p&&s.push(xo(p,n,r,u,l,i))}else{let d=c();s.push(()=>d.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${u.path}"`));const f=MG(p)?p.default:p;u.components[l]=f;const v=(f.__vccOpts||f)[t];return v&&xo(v,n,r,u,l,i)()}))}}return s}function kq(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jI(e){const t=Hr(sw),n=Hr(wN),r=We(()=>t.resolve(ft(e.to))),i=We(()=>{const{matched:c}=r.value,{length:d}=c,p=c[d-1],f=n.matched;if(!p||!f.length)return-1;const m=f.findIndex(Tu.bind(null,p));if(m>-1)return m;const v=UI(c[d-2]);return d>1&&UI(p)===v&&f[f.length-1].path!==v?f.findIndex(Tu.bind(null,c[d-2])):m}),s=We(()=>i.value>-1&&Rq(n.params,r.value.params)),u=We(()=>i.value>-1&&i.value===n.matched.length-1&&mN(n.params,r.value.params));function l(c={}){return Pq(c)?t[ft(e.replace)?"replace":"push"](ft(e.to)).catch(Gl):Promise.resolve()}return{route:r,href:We(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const Oq=Ac({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:jI,setup(e,{slots:t}){const n=Yi(jI(e)),{options:r}=Hr(sw),i=We(()=>({[$I(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[$I(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:yn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Nq=Oq;function Pq(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Rq(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!li(i)||i.length!==r.length||r.some((s,u)=>s!==i[u]))return!1}return!0}function UI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $I=(e,t,n)=>e??t??n,Dq=Ac({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Hr(Wy),i=We(()=>e.route||r.value),s=Hr(FI,0),u=We(()=>{let d=ft(s);const{matched:p}=i.value;let f;for(;(f=p[d])&&!f.components;)d++;return d}),l=We(()=>i.value.matched[u.value]);Fo(FI,We(()=>u.value+1)),Fo(Cq,l),Fo(Wy,i);const c=St();return xr(()=>[c.value,l.value,e.name],([d,p,f],[m,v,b])=>{p&&(p.instances[f]=d,v&&v!==p&&d&&d===m&&(p.leaveGuards.size||(p.leaveGuards=v.leaveGuards),p.updateGuards.size||(p.updateGuards=v.updateGuards))),d&&p&&(!v||!Tu(p,v)||!m)&&(p.enterCallbacks[f]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=i.value,p=e.name,f=l.value,m=f&&f.components[p];if(!m)return BI(n.default,{Component:m,route:d});const v=f.props[p],b=v?v===!0?d.params:typeof v=="function"?v(d):v:null,S=yn(m,_t({},b,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[p]=null)},ref:c}));return BI(n.default,{Component:S,route:d})||S}}});function BI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Mq=Dq;function Lq(e){const t=Sq(e.routes,e),n=e.parseQuery||xq,r=e.stringifyQuery||VI,i=e.history,s=Al(),u=Al(),l=Al(),c=Vx(vo);let d=vo;Ga&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=kv.bind(null,$=>""+$),f=kv.bind(null,XG),m=kv.bind(null,Sc);function v($,re){let Y,ge;return vN($)?(Y=t.getRecordMatcher($),ge=re):ge=$,t.addRoute(ge,Y)}function b($){const re=t.getRecordMatcher($);re&&t.removeRoute(re)}function w(){return t.getRoutes().map($=>$.record)}function S($){return!!t.getRecordMatcher($)}function E($,re){if(re=_t({},re||c.value),typeof $=="string"){const R=Ov(n,$,re.path),j=t.resolve({path:R.path},re),X=i.createHref(R.fullPath);return _t(R,j,{params:m(j.params),hash:Sc(R.hash),redirectedFrom:void 0,href:X})}let Y;if($.path!=null)Y=_t({},$,{path:Ov(n,$.path,re.path).path});else{const R=_t({},$.params);for(const j in R)R[j]==null&&delete R[j];Y=_t({},$,{params:f(R)}),re.params=f(re.params)}const ge=t.resolve(Y,re),ze=$.hash||"";ge.params=p(m(ge.params));const gt=QG(r,_t({},$,{hash:GG(ze),path:ge.path})),O=i.createHref(gt);return _t({fullPath:gt,hash:ze,query:r===VI?Aq($.query):$.query||{}},ge,{redirectedFrom:void 0,href:O})}function x($){return typeof $=="string"?Ov(n,$,c.value.path):_t({},$)}function C($,re){if(d!==$)return Iu(8,{from:re,to:$})}function D($){return G($)}function V($){return D(_t(x($),{replace:!0}))}function A($){const re=$.matched[$.matched.length-1];if(re&&re.redirect){const{redirect:Y}=re;let ge=typeof Y=="function"?Y($):Y;return typeof ge=="string"&&(ge=ge.includes("?")||ge.includes("#")?ge=x(ge):{path:ge},ge.params={}),_t({query:$.query,hash:$.hash,params:ge.path!=null?{}:$.params},ge)}}function G($,re){const Y=d=E($),ge=c.value,ze=$.state,gt=$.force,O=$.replace===!0,R=A(Y);if(R)return G(_t(x(R),{state:typeof R=="object"?_t({},ze,R.state):ze,force:gt,replace:O}),re||Y);const j=Y;j.redirectedFrom=re;let X;return!gt&&JG(r,ge,Y)&&(X=Iu(16,{to:j,from:ge}),Ot(ge,ge,!0,!1)),(X?Promise.resolve(X):U(j,ge)).catch(z=>Ui(z)?Ui(z,2)?z:Lt(z):Ve(z,j,ge)).then(z=>{if(z){if(Ui(z,2))return G(_t({replace:O},x(z.to),{state:typeof z.to=="object"?_t({},ze,z.to.state):ze,force:gt}),re||j)}else z=q(j,ge,!0,O,ze);return k(j,ge,z),z})}function F($,re){const Y=C($,re);return Y?Promise.reject(Y):Promise.resolve()}function P($){const re=Fn.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext($):$()}function U($,re){let Y;const[ge,ze,gt]=Vq($,re);Y=Nv(ge.reverse(),"beforeRouteLeave",$,re);for(const R of ge)R.leaveGuards.forEach(j=>{Y.push(xo(j,$,re))});const O=F.bind(null,$,re);return Y.push(O),Oe(Y).then(()=>{Y=[];for(const R of s.list())Y.push(xo(R,$,re));return Y.push(O),Oe(Y)}).then(()=>{Y=Nv(ze,"beforeRouteUpdate",$,re);for(const R of ze)R.updateGuards.forEach(j=>{Y.push(xo(j,$,re))});return Y.push(O),Oe(Y)}).then(()=>{Y=[];for(const R of gt)if(R.beforeEnter)if(li(R.beforeEnter))for(const j of R.beforeEnter)Y.push(xo(j,$,re));else Y.push(xo(R.beforeEnter,$,re));return Y.push(O),Oe(Y)}).then(()=>($.matched.forEach(R=>R.enterCallbacks={}),Y=Nv(gt,"beforeRouteEnter",$,re,P),Y.push(O),Oe(Y))).then(()=>{Y=[];for(const R of u.list())Y.push(xo(R,$,re));return Y.push(O),Oe(Y)}).catch(R=>Ui(R,8)?R:Promise.reject(R))}function k($,re,Y){l.list().forEach(ge=>P(()=>ge($,re,Y)))}function q($,re,Y,ge,ze){const gt=C($,re);if(gt)return gt;const O=re===vo,R=Ga?history.state:{};Y&&(ge||O?i.replace($.fullPath,_t({scroll:O&&R&&R.scroll},ze)):i.push($.fullPath,ze)),c.value=$,Ot($,re,Y,O),Lt()}let K;function me(){K||(K=i.listen(($,re,Y)=>{if(!we.listening)return;const ge=E($),ze=A(ge);if(ze){G(_t(ze,{replace:!0}),ge).catch(Gl);return}d=ge;const gt=c.value;Ga&&sq(kI(gt.fullPath,Y.delta),xp()),U(ge,gt).catch(O=>Ui(O,12)?O:Ui(O,2)?(G(O.to,ge).then(R=>{Ui(R,20)&&!Y.delta&&Y.type===Ec.pop&&i.go(-1,!1)}).catch(Gl),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),Ve(O,ge,gt))).then(O=>{O=O||q(ge,gt,!1),O&&(Y.delta&&!Ui(O,8)?i.go(-Y.delta,!1):Y.type===Ec.pop&&Ui(O,20)&&i.go(-1,!1)),k(ge,gt,O)}).catch(Gl)}))}let Se=Al(),ie=Al(),Re;function Ve($,re,Y){Lt($);const ge=ie.list();return ge.length?ge.forEach(ze=>ze($,re,Y)):console.error($),Promise.reject($)}function Je(){return Re&&c.value!==vo?Promise.resolve():new Promise(($,re)=>{Se.add([$,re])})}function Lt($){return Re||(Re=!$,me(),Se.list().forEach(([re,Y])=>$?Y($):re()),Se.reset()),$}function Ot($,re,Y,ge){const{scrollBehavior:ze}=e;if(!Ga||!ze)return Promise.resolve();const gt=!Y&&aq(kI($.fullPath,0))||(ge||!Y)&&history.state&&history.state.scroll||null;return or().then(()=>ze($,re,gt)).then(O=>O&&oq(O)).catch(O=>Ve(O,$,re))}const Pt=$=>i.go($);let Tt;const Fn=new Set,we={currentRoute:c,listening:!0,addRoute:v,removeRoute:b,hasRoute:S,getRoutes:w,resolve:E,options:e,push:D,replace:V,go:Pt,back:()=>Pt(-1),forward:()=>Pt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:ie.add,isReady:Je,install($){const re=this;$.component("RouterLink",Nq),$.component("RouterView",Mq),$.config.globalProperties.$router=re,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>ft(c)}),Ga&&!Tt&&c.value===vo&&(Tt=!0,D(i.location).catch(ze=>{}));const Y={};for(const ze in vo)Object.defineProperty(Y,ze,{get:()=>c.value[ze],enumerable:!0});$.provide(sw,re),$.provide(wN,Rx(Y)),$.provide(Wy,c);const ge=$.unmount;Fn.add($),$.unmount=function(){Fn.delete($),Fn.size<1&&(d=vo,K&&K(),K=null,c.value=vo,Tt=!1,Re=!1),ge()}}};function Oe($){return $.reduce((re,Y)=>re.then(()=>P(Y)),Promise.resolve())}return we}function Vq(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(d=>Tu(d,l))?r.push(l):n.push(l));const c=e.matched[u];c&&(t.matched.find(d=>Tu(d,c))||i.push(c))}return[n,r,i]}const _N="/vue-earphone-music/assets/logo-BuyWDoCF.png",Fq={name:"HomeSongPlay",data(){return{songs:[],isPlaying:!1,pause:!1,backImage:"https://i.imgur.com/Mjs5yOr.jpg",homePlayList:["awD3iFkG2dmt4E9Oc8gu","xrftJ03d44UNT7Gm6T8f","pOrIB7mjQjnDdEJtpTsg","u0KPcCl3RyRBlfLB7udg","RBCnCji0uqExquAhqHEF","Gen1NSVenV3QfHzSAPkN","MibHYBTMBqQhbNvCjloa","xeA3kFMhLPwMAPU4ky4A","WEo5iN1IopUxaXZPBBwl","aJgIHyg7uk3dZ2CmuLV0","5lwjpimV1csVAoKdt85n","EZTFMSYU7Jg8yZBzioBs"]}},computed:{...In(Ln,["sound","playing","songList","current_song"]),...Bt(Ln,["songList"])},methods:{...xn(Ln,["newSong","toggleAudio"]),async getSong(){this.homePlayList.forEach(async e=>{const t=await kr.doc(e).get();this.songs.push({...t.data()})})},clickPlay(){let e=fn.RangeInt(0,this.songs.length-1);this.songList=this.songs,this.isPlaying?this.toggleAudio():(this.isPlaying=!0,this.newSong(this.songs[0]),this.backImage=this.songs[e].coverImg),this.isPlaying&&!this.pause?this.pause=!0:this.isPlaying&&this.pause&&(this.pause=!1)}},watch:{playing(){this.playing?this.pause=!0:this.pause=!1},current_song(){this.backImage=this.current_song.coverImg}},mounted(){this.getSong()}},jq={class:"bg-white/30 py-7 px-9 rounded-xl text-center backdrop-blur-md"},Uq={class:"relative"},$q=T("img",{src:_N,alt:"",class:"md:w-[300px] w-[250px]"},null,-1),Bq={key:0,class:"playButton bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},zq=T("i",{class:"fas fa-play text-3xl text-zinc-200"},null,-1),Hq=[zq],Gq={key:1,class:"bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},qq=IV('<div class="md:h-8 h-6 w-1.5 bg-pink-300 rounded-full animate-wavey"></div><div class="md:h-9 h-7 w-1.5 bg-pink-200 rounded-full animate-wavey animation-delay-200"></div><div class="md:h-10 h-8 w-1.5 bg-pink-100 rounded-full animate-wavey animation-delay-[150ms]"></div><div class="md:h-11 h-9 w-1.5 bg-pink-200 rounded-full animate-wavey animation-delay-300"></div><div class="md:h-8 h-6 w-1.5 bg-pink-300 rounded-full animate-wavey animation-delay-[75ms]"></div>',5),Wq=[qq],Xq={key:2,class:"bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},Kq=T("i",{class:"fas fa-pause text-3xl text-zinc-200"},null,-1),Yq=[Kq],Qq={key:0,class:"text-lg font-bold"},Jq={key:1,class:"text-lg font-bold text-pink-500"},Zq=T("div",{class:"font-bold text-[13px] md:text-sm mt-3"},[T("span",{class:"italic font-normal"},"網站之音樂及歌曲僅作為技術測試用，非商業用途，請勿轉載及分享")],-1);function e6(e,t,n,r,i,s){return le(),de("div",{class:"md:mb-8 bg-contain bg-center md:bg-fixed bg-no-repeat md:bg-contain flex flex-col min-h-[100px] items-center justify-center h-[calc(100vh-250px)] md:h-[calc(100vh-200px)]",style:Br(`background-image: url(${i.backImage})`)},[T("div",jq,[T("div",Uq,[$q,T("div",{class:"flex items-center justify-center md:mt-[-110px] mt-[-100px] cursor-pointer",onClick:t[0]||(t[0]=Be((...u)=>s.clickPlay&&s.clickPlay(...u),["prevent"]))},[i.isPlaying?i.isPlaying&&i.pause?(le(),de("div",Gq,Wq)):i.isPlaying&&!i.pause?(le(),de("div",Xq,Yq)):Ar("",!0):(le(),de("div",Bq,Hq))])]),i.isPlaying?(le(),de("div",Jq,ht(e.current_song.album),1)):(le(),de("div",Qq,"點我聽聽看"))]),Zq],4)}const t6=Et(Fq,[["render",e6]]);function zI(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function aw(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:zI(t[n])&&zI(e[n])&&Object.keys(t[n]).length>0&&aw(e[n],t[n])})}const SN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fu(){const e=typeof document<"u"?document:{};return aw(e,SN),e}const n6={document:SN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Rr(){const e=typeof window<"u"?window:{};return aw(e,n6),e}function r6(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function i6(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function Xy(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Td(){return Date.now()}function o6(e){const t=Rr();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function s6(e,t){t===void 0&&(t="x");const n=Rr();let r,i,s;const u=o6(e);return n.WebKitCSSMatrix?(i=u.transform||u.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function yh(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function a6(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function wr(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!a6(r)){const i=Object.keys(Object(r)).filter(s=>t.indexOf(s)<0);for(let s=0,u=i.length;s<u;s+=1){const l=i[s],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(yh(e[l])&&yh(r[l])?r[l].__swiper__?e[l]=r[l]:wr(e[l],r[l]):!yh(e[l])&&yh(r[l])?(e[l]={},r[l].__swiper__?e[l]=r[l]:wr(e[l],r[l])):e[l]=r[l])}}}return e}function bh(e,t,n){e.style.setProperty(t,n)}function EN(e){let{swiper:t,targetPosition:n,side:r}=e;const i=Rr(),s=-t.translate;let u=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const d=n>s?"next":"prev",p=(m,v)=>d==="next"&&m>=v||d==="prev"&&m<=v,f=()=>{l=new Date().getTime(),u===null&&(u=l);const m=Math.max(Math.min((l-u)/c,1),0),v=.5-Math.cos(m*Math.PI)/2;let b=s+v*(n-s);if(p(b,n)&&(b=n),t.wrapperEl.scrollTo({[r]:b}),p(b,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:b})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Ti(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function Id(e){try{console.warn(e);return}catch{}}function xd(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:r6(t)),n}function u6(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function l6(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function Po(e,t){return Rr().getComputedStyle(e,null).getPropertyValue(t)}function HI(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function c6(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function GI(e,t,n){const r=Rr();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function $i(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}let Pv;function f6(){const e=Rr(),t=Fu();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function TN(){return Pv||(Pv=f6()),Pv}let Rv;function h6(e){let{userAgent:t}=e===void 0?{}:e;const n=TN(),r=Rr(),i=r.navigator.platform,s=t||r.navigator.userAgent,u={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,d=s.match(/(Android);?[\s\/]+([\d.]+)?/);let p=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!p&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=i==="Win32";let b=i==="MacIntel";const w=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&b&&n.touch&&w.indexOf(`${l}x${c}`)>=0&&(p=s.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),b=!1),d&&!v&&(u.os="android",u.android=!0),(p||m||f)&&(u.os="ios",u.ios=!0),u}function IN(e){return e===void 0&&(e={}),Rv||(Rv=h6(e)),Rv}let Dv;function d6(){const e=Rr(),t=IN();let n=!1;function r(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=r(),u=s||i&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:u,isWebView:i}}function p6(){return Dv||(Dv=d6()),Dv}function m6(e){let{swiper:t,on:n,emit:r}=e;const i=Rr();let s=null,u=null;const l=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(f=>{u=i.requestAnimationFrame(()=>{const{width:m,height:v}=t;let b=m,w=v;f.forEach(S=>{let{contentBoxSize:E,contentRect:x,target:C}=S;C&&C!==t.el||(b=x?x.width:(E[0]||E).inlineSize,w=x?x.height:(E[0]||E).blockSize)}),(b!==m||w!==v)&&l()})}),s.observe(t.el))},d=()=>{u&&i.cancelAnimationFrame(u),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},p=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),n("destroy",()=>{d(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function g6(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const s=[],u=Rr(),l=function(p,f){f===void 0&&(f={});const m=u.MutationObserver||u.WebkitMutationObserver,v=new m(b=>{if(t.__preventObserver__)return;if(b.length===1){i("observerUpdate",b[0]);return}const w=function(){i("observerUpdate",b[0])};u.requestAnimationFrame?u.requestAnimationFrame(w):u.setTimeout(w,0)});v.observe(p,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:typeof f.childList>"u"?!0:f.childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(v)},c=()=>{if(t.params.observer){if(t.params.observeParents){const p=c6(t.hostEl);for(let f=0;f<p.length;f+=1)l(p[f])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},d=()=>{s.forEach(p=>{p.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",d)}var v6={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const i=n?"unshift":"push";return e.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];t.apply(r,u)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[c,...n])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(d=>{d.apply(r,n)})}),e}};function y6(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(Po(r,"padding-left")||0,10)-parseInt(Po(r,"padding-right")||0,10),n=n-parseInt(Po(r,"padding-top")||0,10)-parseInt(Po(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function b6(){const e=this;function t(U,k){return parseFloat(U.getPropertyValue(e.getDirectionLabel(k))||0)}const n=e.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:u,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,d=c?e.virtual.slides.length:e.slides.length,p=Ti(i,`.${e.params.slideClass}, swiper-slide`),f=c?e.virtual.slides.length:p.length;let m=[];const v=[],b=[];let w=n.slidesOffsetBefore;typeof w=="function"&&(w=n.slidesOffsetBefore.call(e));let S=n.slidesOffsetAfter;typeof S=="function"&&(S=n.slidesOffsetAfter.call(e));const E=e.snapGrid.length,x=e.slidesGrid.length;let C=n.spaceBetween,D=-w,V=0,A=0;if(typeof s>"u")return;typeof C=="string"&&C.indexOf("%")>=0?C=parseFloat(C.replace("%",""))/100*s:typeof C=="string"&&(C=parseFloat(C)),e.virtualSize=-C,p.forEach(U=>{u?U.style.marginLeft="":U.style.marginRight="",U.style.marginBottom="",U.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(bh(r,"--swiper-centered-offset-before",""),bh(r,"--swiper-centered-offset-after",""));const G=n.grid&&n.grid.rows>1&&e.grid;G?e.grid.initSlides(p):e.grid&&e.grid.unsetSlides();let F;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(U=>typeof n.breakpoints[U].slidesPerView<"u").length>0;for(let U=0;U<f;U+=1){F=0;let k;if(p[U]&&(k=p[U]),G&&e.grid.updateSlide(U,k,p),!(p[U]&&Po(k,"display")==="none")){if(n.slidesPerView==="auto"){P&&(p[U].style[e.getDirectionLabel("width")]="");const q=getComputedStyle(k),K=k.style.transform,me=k.style.webkitTransform;if(K&&(k.style.transform="none"),me&&(k.style.webkitTransform="none"),n.roundLengths)F=e.isHorizontal()?GI(k,"width",!0):GI(k,"height",!0);else{const Se=t(q,"width"),ie=t(q,"padding-left"),Re=t(q,"padding-right"),Ve=t(q,"margin-left"),Je=t(q,"margin-right"),Lt=q.getPropertyValue("box-sizing");if(Lt&&Lt==="border-box")F=Se+Ve+Je;else{const{clientWidth:Ot,offsetWidth:Pt}=k;F=Se+ie+Re+Ve+Je+(Pt-Ot)}}K&&(k.style.transform=K),me&&(k.style.webkitTransform=me),n.roundLengths&&(F=Math.floor(F))}else F=(s-(n.slidesPerView-1)*C)/n.slidesPerView,n.roundLengths&&(F=Math.floor(F)),p[U]&&(p[U].style[e.getDirectionLabel("width")]=`${F}px`);p[U]&&(p[U].swiperSlideSize=F),b.push(F),n.centeredSlides?(D=D+F/2+V/2+C,V===0&&U!==0&&(D=D-s/2-C),U===0&&(D=D-s/2-C),Math.abs(D)<1/1e3&&(D=0),n.roundLengths&&(D=Math.floor(D)),A%n.slidesPerGroup===0&&m.push(D),v.push(D)):(n.roundLengths&&(D=Math.floor(D)),(A-Math.min(e.params.slidesPerGroupSkip,A))%e.params.slidesPerGroup===0&&m.push(D),v.push(D),D=D+F+C),e.virtualSize+=F+C,V=F,A+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+S,u&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${e.virtualSize+C}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+C}px`),G&&e.grid.updateWrapperSize(F,m),!n.centeredSlides){const U=[];for(let k=0;k<m.length;k+=1){let q=m[k];n.roundLengths&&(q=Math.floor(q)),m[k]<=e.virtualSize-s&&U.push(q)}m=U,Math.floor(e.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-s)}if(c&&n.loop){const U=b[0]+C;if(n.slidesPerGroup>1){const k=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),q=U*n.slidesPerGroup;for(let K=0;K<k;K+=1)m.push(m[m.length-1]+q)}for(let k=0;k<e.virtual.slidesBefore+e.virtual.slidesAfter;k+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+U),v.push(v[v.length-1]+U),e.virtualSize+=U}if(m.length===0&&(m=[0]),C!==0){const U=e.isHorizontal()&&u?"marginLeft":e.getDirectionLabel("marginRight");p.filter((k,q)=>!n.cssMode||n.loop?!0:q!==p.length-1).forEach(k=>{k.style[U]=`${C}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let U=0;b.forEach(q=>{U+=q+(C||0)}),U-=C;const k=U-s;m=m.map(q=>q<=0?-w:q>k?k+S:q)}if(n.centerInsufficientSlides){let U=0;if(b.forEach(k=>{U+=k+(C||0)}),U-=C,U<s){const k=(s-U)/2;m.forEach((q,K)=>{m[K]=q-k}),v.forEach((q,K)=>{v[K]=q+k})}}if(Object.assign(e,{slides:p,snapGrid:m,slidesGrid:v,slidesSizesGrid:b}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){bh(r,"--swiper-centered-offset-before",`${-m[0]}px`),bh(r,"--swiper-centered-offset-after",`${e.size/2-b[b.length-1]/2}px`);const U=-e.snapGrid[0],k=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(q=>q+U),e.slidesGrid=e.slidesGrid.map(q=>q+k)}if(f!==d&&e.emit("slidesLengthChange"),m.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==x&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const U=`${n.containerModifierClass}backface-hidden`,k=e.el.classList.contains(U);f<=n.maxBackfaceHiddenSlides?k||e.el.classList.add(U):k&&e.el.classList.remove(U)}}function w6(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const u=l=>r?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const l=t.activeIndex+s;if(l>t.slides.length&&!r)break;n.push(u(l))}else n.push(u(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function _6(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function S6(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:s}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let u=-e;i&&(u=e),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const d=r[c];let p=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=r[0].swiperSlideOffset);const f=(u+(n.centeredSlides?t.minTranslate():0)-p)/(d.swiperSlideSize+l),m=(u-s[0]+(n.centeredSlides?t.minTranslate():0)-p)/(d.swiperSlideSize+l),v=-(u-p),b=v+t.slidesSizesGrid[c],w=v>=0&&v<=t.size-t.slidesSizesGrid[c];(v>=0&&v<t.size-1||b>1&&b<=t.size||v<=0&&b>=t.size)&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),w&&r[c].classList.add(n.slideFullyVisibleClass),d.progress=i?-f:f,d.originalProgress=i?-m:m}}function E6(e){const t=this;if(typeof e>"u"){const p=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*p||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:s,isEnd:u,progressLoop:l}=t;const c=s,d=u;if(r===0)i=0,s=!0,u=!0;else{i=(e-t.minTranslate())/r;const p=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;s=p||i<=0,u=f||i>=1,p&&(i=0),f&&(i=1)}if(n.loop){const p=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[p],v=t.slidesGrid[f],b=t.slidesGrid[t.slidesGrid.length-1],w=Math.abs(e);w>=m?l=(w-m)/b:l=(w+b-v)/b,l>1&&(l-=1)}Object.assign(t,{progress:i,progressLoop:l,isBeginning:s,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!c&&t.emit("reachBeginning toEdge"),u&&!d&&t.emit("reachEnd toEdge"),(c&&!s||d&&!u)&&t.emit("fromEdge"),t.emit("progress",i)}function T6(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:i}=e,s=e.virtual&&n.virtual.enabled,u=e.grid&&n.grid&&n.grid.rows>1,l=f=>Ti(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];t.forEach(f=>{f.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,d,p;if(s)if(n.loop){let f=i-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else u?(c=t.filter(f=>f.column===i)[0],p=t.filter(f=>f.column===i+1)[0],d=t.filter(f=>f.column===i-1)[0]):c=t[i];c&&(c.classList.add(n.slideActiveClass),u?(p&&p.classList.add(n.slideNextClass),d&&d.classList.add(n.slidePrevClass)):(p=l6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p&&(p=t[0]),p&&p.classList.add(n.slideNextClass),d=u6(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=t[t.length-1]),d&&d.classList.add(n.slidePrevClass))),e.emitSlidesClasses()}const Vh=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){let i=r.querySelector(`.${e.params.lazyPreloaderClass}`);!i&&e.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Mv=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Ky=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const u=i,l=[u-t];l.push(...Array.from({length:t}).map((c,d)=>u+r+d)),e.slides.forEach((c,d)=>{l.includes(c.column)&&Mv(e,d)});return}const s=i+r-1;if(e.params.rewind||e.params.loop)for(let u=i-t;u<=s+t;u+=1){const l=(u%n+n)%n;(l<i||l>s)&&Mv(e,l)}else for(let u=Math.max(i-t,0);u<=Math.min(s+t,n-1);u+=1)u!==i&&(u>s||u<i)&&Mv(e,u)};function I6(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let i;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?r>=t[s]&&r<t[s+1]-(t[s+1]-t[s])/2?i=s:r>=t[s]&&r<t[s+1]&&(i=s+1):r>=t[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function x6(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:u,snapIndex:l}=t;let c=e,d;const p=v=>{let b=v-t.virtual.slidesBefore;return b<0&&(b=t.virtual.slides.length+b),b>=t.virtual.slides.length&&(b-=t.virtual.slides.length),b};if(typeof c>"u"&&(c=I6(t)),r.indexOf(n)>=0)d=r.indexOf(n);else{const v=Math.min(i.slidesPerGroupSkip,c);d=v+Math.floor((c-v)/i.slidesPerGroup)}if(d>=r.length&&(d=r.length-1),c===s&&!t.params.loop){d!==l&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=p(c);return}const f=t.grid&&i.grid&&i.grid.rows>1;let m;if(t.virtual&&i.virtual.enabled&&i.loop)m=p(c);else if(f){const v=t.slides.filter(w=>w.column===c)[0];let b=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(b)&&(b=Math.max(t.slides.indexOf(v),0)),m=Math.floor(b/i.grid.rows)}else if(t.slides[c]){const v=t.slides[c].getAttribute("data-swiper-slide-index");v?m=parseInt(v,10):m=c}else m=c;Object.assign(t,{previousSnapIndex:l,snapIndex:d,previousRealIndex:u,realIndex:m,previousIndex:s,activeIndex:c}),t.initialized&&Ky(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(u!==m&&t.emit("realIndexChange"),t.emit("slideChange"))}function A6(e,t){const n=this,r=n.params;let i=e.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,u;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,u=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=u;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var C6={updateSize:y6,updateSlides:b6,updateAutoHeight:w6,updateSlidesOffset:_6,updateSlidesProgress:S6,updateProgress:E6,updateSlidesClasses:T6,updateActiveIndex:x6,updateClickedSlide:A6};function k6(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=t;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let u=s6(s,e);return u+=t.cssOverflowAdjustment(),r&&(u=-u),u||0}function O6(e,t){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:u}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=r?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let p;const f=n.maxTranslate()-n.minTranslate();f===0?p=0:p=(e-n.minTranslate())/f,p!==u&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function N6(){return-this.snapGrid[0]}function P6(){return-this.snapGrid[this.snapGrid.length-1]}function R6(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:u,wrapperEl:l}=s;if(s.animating&&u.preventInteractionOnTransition)return!1;const c=s.minTranslate(),d=s.maxTranslate();let p;if(r&&e>c?p=c:r&&e<d?p=d:p=e,s.updateProgress(p),u.cssMode){const f=s.isHorizontal();if(t===0)l[f?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return EN({swiper:s,targetPosition:-p,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-p,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var D6={getTranslate:k6,setTranslate:O6,minTranslate:N6,maxTranslate:P6,translateTo:R6};function M6(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function xN(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:s,previousIndex:u}=t;let l=r;if(l||(s>u?l="next":s<u?l="prev":l="reset"),t.emit(`transition${i}`),n&&s!==u){if(l==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function L6(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),xN({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function V6(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),xN({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var F6={setTransition:M6,transitionStart:L6,transitionEnd:V6};function j6(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let u=e;u<0&&(u=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:p,activeIndex:f,rtlTranslate:m,wrapperEl:v,enabled:b}=s;if(s.animating&&l.preventInteractionOnTransition||!b&&!r&&!i||s.destroyed)return!1;const w=Math.min(s.params.slidesPerGroupSkip,u);let S=w+Math.floor((u-w)/s.params.slidesPerGroup);S>=c.length&&(S=c.length-1);const E=-c[S];if(l.normalizeSlideIndex)for(let C=0;C<d.length;C+=1){const D=-Math.floor(E*100),V=Math.floor(d[C]*100),A=Math.floor(d[C+1]*100);typeof d[C+1]<"u"?D>=V&&D<A-(A-V)/2?u=C:D>=V&&D<A&&(u=C+1):D>=V&&(u=C)}if(s.initialized&&u!==f&&(!s.allowSlideNext&&(m?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(f||0)!==u))return!1;u!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let x;if(u>f?x="next":u<f?x="prev":x="reset",m&&-E===s.translate||!m&&E===s.translate)return s.updateActiveIndex(u),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(E),x!=="reset"&&(s.transitionStart(n,x),s.transitionEnd(n,x)),!1;if(l.cssMode){const C=s.isHorizontal(),D=m?E:-E;if(t===0){const V=s.virtual&&s.params.virtual.enabled;V&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),V&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[C?"scrollLeft":"scrollTop"]=D})):v[C?"scrollLeft":"scrollTop"]=D,V&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return EN({swiper:s,targetPosition:D,side:C?"left":"top"}),!0;v.scrollTo({[C?"left":"top"]:D,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(E),s.updateActiveIndex(u),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,x),t===0?s.transitionEnd(n,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(D){!s||s.destroyed||D.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function U6(e,t,n,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;if(i.destroyed)return;const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let u=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)u=u+i.virtual.slidesBefore;else{let l;if(s){const m=u*i.params.grid.rows;l=i.slides.filter(v=>v.getAttribute("data-swiper-slide-index")*1===m)[0].column}else l=i.getSlideIndexByData(u);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let p=i.params.slidesPerView;p==="auto"?p=i.slidesPerViewDynamic():(p=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&p%2===0&&(p=p+1));let f=c-l<p;if(d&&(f=f||l<Math.ceil(p/2)),f){const m=d?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-c+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(s){const m=u*i.params.grid.rows;u=i.slides.filter(v=>v.getAttribute("data-swiper-slide-index")*1===m)[0].column}else u=i.getSlideIndexByData(u)}return requestAnimationFrame(()=>{i.slideTo(u,t,n,r)}),i}function $6(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{enabled:i,params:s,animating:u}=r;if(!i||r.destroyed)return r;let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:l,d=r.virtual&&s.virtual.enabled;if(s.loop){if(u&&!d&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,e,t,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)}function B6(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{params:i,snapGrid:s,slidesGrid:u,rtlTranslate:l,enabled:c,animating:d}=r;if(!c||r.destroyed)return r;const p=r.virtual&&i.virtual.enabled;if(i.loop){if(d&&!p&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function m(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const v=m(f),b=s.map(E=>m(E));let w=s[b.indexOf(v)-1];if(typeof w>"u"&&i.cssMode){let E;s.forEach((x,C)=>{v>=x&&(E=C)}),typeof E<"u"&&(w=s[E>0?E-1:E])}let S=0;if(typeof w<"u"&&(S=u.indexOf(w),S<0&&(S=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(S=S-r.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),i.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,e,t,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(S,e,t,n)}),!0;return r.slideTo(S,e,t,n)}function z6(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,e,t,n)}function H6(e,t,n,r){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;let s=i.activeIndex;const u=Math.min(i.params.slidesPerGroupSkip,s),l=u+Math.floor((s-u)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const d=i.snapGrid[l],p=i.snapGrid[l+1];c-d>(p-d)*r&&(s+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],p=i.snapGrid[l];c-d<=(p-d)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,n)}function G6(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let i=e.clickedIndex,s;const u=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=e.getSlideIndex(Ti(n,`${u}[data-swiper-slide-index="${s}"]`)[0]),Xy(()=>{e.slideTo(i)})):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=e.getSlideIndex(Ti(n,`${u}[data-swiper-slide-index="${s}"]`)[0]),Xy(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}var q6={slideTo:j6,slideToLoop:U6,slideNext:$6,slidePrev:B6,slideReset:z6,slideToClosest:H6,slideToClickedSlide:G6};function W6(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{Ti(r,`.${n.slideClass}, swiper-slide`).forEach((f,m)=>{f.setAttribute("data-swiper-slide-index",m)})},s=t.grid&&n.grid&&n.grid.rows>1,u=n.slidesPerGroup*(s?n.grid.rows:1),l=t.slides.length%u!==0,c=s&&t.slides.length%n.grid.rows!==0,d=p=>{for(let f=0;f<p;f+=1){const m=t.isElement?xd("swiper-slide",[n.slideBlankClass]):xd("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(m)}};if(l){if(n.loopAddBlankSlides){const p=u-t.slides.length%u;d(p),t.recalcSlides(),t.updateSlides()}else Id("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(n.loopAddBlankSlides){const p=n.grid.rows-t.slides.length%n.grid.rows;d(p),t.recalcSlides(),t.updateSlides()}else Id("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function X6(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:u,byMousewheel:l}=e===void 0?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:d,allowSlidePrev:p,allowSlideNext:f,slidesEl:m,params:v}=c,{centeredSlides:b}=v;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&v.virtual.enabled){n&&(!v.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):v.centeredSlides&&c.snapIndex<v.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=p,c.allowSlideNext=f,c.emit("loopFix");return}let w=v.slidesPerView;w==="auto"?w=c.slidesPerViewDynamic():(w=Math.ceil(parseFloat(v.slidesPerView,10)),b&&w%2===0&&(w=w+1));const S=v.slidesPerGroupAuto?w:v.slidesPerGroup;let E=S;E%S!==0&&(E+=S-E%S),E+=v.loopAdditionalSlides,c.loopedSlides=E;const x=c.grid&&v.grid&&v.grid.rows>1;d.length<w+E?Id("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&v.grid.fill==="row"&&Id("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],D=[];let V=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(d.filter(K=>K.classList.contains(v.slideActiveClass))[0]):V=s;const A=r==="next"||!r,G=r==="prev"||!r;let F=0,P=0;const U=x?Math.ceil(d.length/v.grid.rows):d.length,q=(x?d[s].column:s)+(b&&typeof i>"u"?-w/2+.5:0);if(q<E){F=Math.max(E-q,S);for(let K=0;K<E-q;K+=1){const me=K-Math.floor(K/U)*U;if(x){const Se=U-me-1;for(let ie=d.length-1;ie>=0;ie-=1)d[ie].column===Se&&C.push(ie)}else C.push(U-me-1)}}else if(q+w>U-E){P=Math.max(q-(U-E*2),S);for(let K=0;K<P;K+=1){const me=K-Math.floor(K/U)*U;x?d.forEach((Se,ie)=>{Se.column===me&&D.push(ie)}):D.push(me)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),G&&C.forEach(K=>{d[K].swiperLoopMoveDOM=!0,m.prepend(d[K]),d[K].swiperLoopMoveDOM=!1}),A&&D.forEach(K=>{d[K].swiperLoopMoveDOM=!0,m.append(d[K]),d[K].swiperLoopMoveDOM=!1}),c.recalcSlides(),v.slidesPerView==="auto"?c.updateSlides():x&&(C.length>0&&G||D.length>0&&A)&&c.slides.forEach((K,me)=>{c.grid.updateSlide(me,K,c.slides)}),v.watchSlidesProgress&&c.updateSlidesOffset(),n){if(C.length>0&&G){if(typeof t>"u"){const K=c.slidesGrid[V],Se=c.slidesGrid[V+F]-K;l?c.setTranslate(c.translate-Se):(c.slideTo(V+Math.ceil(F),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-Se,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-Se))}else if(i){const K=x?C.length/v.grid.rows:C.length;c.slideTo(c.activeIndex+K,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(D.length>0&&A)if(typeof t>"u"){const K=c.slidesGrid[V],Se=c.slidesGrid[V-P]-K;l?c.setTranslate(c.translate-Se):(c.slideTo(V-P,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-Se,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-Se))}else{const K=x?D.length/v.grid.rows:D.length;c.slideTo(c.activeIndex-K,0,!1,!0)}}if(c.allowSlidePrev=p,c.allowSlideNext=f,c.controller&&c.controller.control&&!u){const K={slideRealIndex:t,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(me=>{!me.destroyed&&me.params.loop&&me.loopFix({...K,slideTo:me.params.slidesPerView===v.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...K,slideTo:c.controller.control.params.slidesPerView===v.slidesPerView?n:!1})}c.emit("loopFix")}function K6(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),e.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var Y6={loopCreate:W6,loopFix:X6,loopDestroy:K6};function Q6(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function J6(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var Z6={setGrabCursor:Q6,unsetGrabCursor:J6};function e8(e,t){t===void 0&&(t=this);function n(r){if(!r||r===Fu()||r===Rr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(e);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(t)}function qI(e,t,n){const r=Rr(),{params:i}=e,s=i.edgeSwipeDetection,u=i.edgeSwipeThreshold;return s&&(n<=u||n>=r.innerWidth-u)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function t8(e){const t=this,n=Fu();let r=e;r.originalEvent&&(r=r.originalEvent);const i=t.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){qI(t,r,r.targetTouches[0].pageX);return}const{params:s,touches:u,enabled:l}=t;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const d=!!s.noSwipingClass&&s.noSwipingClass!=="",p=r.composedPath?r.composedPath():r.path;d&&r.target&&r.target.shadowRoot&&p&&(c=p[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?e8(f,c):c.closest(f))){t.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const v=u.currentX,b=u.currentY;if(!qI(t,r,v))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=v,u.startY=b,i.touchStartTime=Td(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let w=!0;c.matches(i.focusableElements)&&(w=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const S=w&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||S)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function n8(e){const t=Fu(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:u,enabled:l}=n;if(!l||!i.simulateTouch&&e.pointerType==="mouse")return;let c=e;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].filter(A=>A.identifier===r.touchId)[0],!d||d.identifier!==r.touchId)return}else d=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const p=d.pageX,f=d.pageY;if(c.preventedByNestedSwiper){s.startX=p,s.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:p,startY:f,currentX:p,currentY:f}),r.touchStartTime=Td());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(p<s.startX&&n.translate<=n.maxTranslate()||p>s.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=p,s.currentY=f;const m=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(m**2+v**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let A;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+v*v>=25&&(A=Math.atan2(Math.abs(v),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?A>i.touchAngle:90-A>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let b=n.isHorizontal()?m:v,w=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(b=Math.abs(b)*(u?1:-1),w=Math.abs(w)*(u?1:-1)),s.diff=b,b*=i.touchRatio,u&&(b=-b,w=-w);const S=n.touchesDirection;n.swipeDirection=b>0?"prev":"next",n.touchesDirection=w>0?"prev":"next";const E=n.params.loop&&!i.cssMode,x=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&x&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(A)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let C;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&S!==n.touchesDirection&&E&&x&&Math.abs(b)>=1){Object.assign(s,{startX:p,startY:f,currentX:p,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=b+r.startTranslate;let D=!0,V=i.resistanceRatio;if(i.touchReleaseOnEdges&&(V=0),b>0?(E&&x&&!C&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+b)**V))):b<0&&(E&&x&&!C&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-b)**V))),D&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(b)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function r8(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(V=>V.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:u,touches:l,rtlTranslate:c,slidesGrid:d,enabled:p}=t;if(!p||!u.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&u.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}u.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=Td(),m=f-n.touchStartTime;if(t.allowClick){const V=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(V&&V[0]||r.target,V),t.emit("tap click",r),m<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Td(),Xy(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(u.followFinger?v=c?t.translate:-t.translate:v=-n.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}const b=v>=-t.maxTranslate()&&!t.params.loop;let w=0,S=t.slidesSizesGrid[0];for(let V=0;V<d.length;V+=V<u.slidesPerGroupSkip?1:u.slidesPerGroup){const A=V<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof d[V+A]<"u"?(b||v>=d[V]&&v<d[V+A])&&(w=V,S=d[V+A]-d[V]):(b||v>=d[V])&&(w=V,S=d[d.length-1]-d[d.length-2])}let E=null,x=null;u.rewind&&(t.isBeginning?x=u.virtual&&u.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(E=0));const C=(v-d[w])/S,D=w<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(m>u.longSwipesMs){if(!u.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(C>=u.longSwipesRatio?t.slideTo(u.rewind&&t.isEnd?E:w+D):t.slideTo(w)),t.swipeDirection==="prev"&&(C>1-u.longSwipesRatio?t.slideTo(w+D):x!==null&&C<0&&Math.abs(C)>u.longSwipesRatio?t.slideTo(x):t.slideTo(w))}else{if(!u.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(w+D):t.slideTo(w):(t.swipeDirection==="next"&&t.slideTo(E!==null?E:w+D),t.swipeDirection==="prev"&&t.slideTo(x!==null?x:w))}}function WI(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=e,u=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=u&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!u?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function i8(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function o8(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let i;const s=e.maxTranslate()-e.minTranslate();s===0?i=0:i=(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function s8(e){const t=this;Vh(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function a8(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const AN=(e,t)=>{const n=Fu(),{params:r,el:i,wrapperEl:s,device:u}=e,l=!!r.nested,c=t==="on"?"addEventListener":"removeEventListener",d=t;n[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",e.onTouchStart,{passive:!1}),i[c]("pointerdown",e.onTouchStart,{passive:!1}),n[c]("touchmove",e.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",e.onTouchEnd,{passive:!0}),n[c]("pointerup",e.onTouchEnd,{passive:!0}),n[c]("pointercancel",e.onTouchEnd,{passive:!0}),n[c]("touchcancel",e.onTouchEnd,{passive:!0}),n[c]("pointerout",e.onTouchEnd,{passive:!0}),n[c]("pointerleave",e.onTouchEnd,{passive:!0}),n[c]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",e.onClick,!0),r.cssMode&&s[c]("scroll",e.onScroll),r.updateOnWindowResize?e[d](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",WI,!0):e[d]("observerUpdate",WI,!0),i[c]("load",e.onLoad,{capture:!0})};function u8(){const e=this,{params:t}=e;e.onTouchStart=t8.bind(e),e.onTouchMove=n8.bind(e),e.onTouchEnd=r8.bind(e),e.onDocumentTouchStart=a8.bind(e),t.cssMode&&(e.onScroll=o8.bind(e)),e.onClick=i8.bind(e),e.onLoad=s8.bind(e),AN(e,"on")}function l8(){AN(this,"off")}var c8={attachEvents:u8,detachEvents:l8};const XI=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function f8(){const e=this,{realIndex:t,initialized:n,params:r,el:i}=e,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const u=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!u||e.currentBreakpoint===u)return;const c=(u in s?s[u]:void 0)||e.originalParams,d=XI(e,r),p=XI(e,c),f=r.enabled;d&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof c[E]>"u")return;const x=r[E]&&r[E].enabled,C=c[E]&&c[E].enabled;x&&!C&&e[E].disable(),!x&&C&&e[E].enable()});const m=c.direction&&c.direction!==r.direction,v=r.loop&&(c.slidesPerView!==r.slidesPerView||m),b=r.loop;m&&n&&e.changeDirection(),wr(e.params,c);const w=e.params.enabled,S=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!w?e.disable():!f&&w&&e.enable(),e.currentBreakpoint=u,e.emit("_beforeBreakpoint",c),n&&(v?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&S?(e.loopCreate(t),e.updateSlides()):b&&!S&&e.loopDestroy()),e.emit("breakpoint",c)}function h8(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const i=Rr(),s=t==="window"?i.innerHeight:n.clientHeight,u=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:s*c,point:l}}return{value:l,point:l}});u.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<u.length;l+=1){const{point:c,value:d}=u[l];t==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(r=c):d<=n.clientWidth&&(r=c)}return r||"max"}var d8={setBreakpoint:f8,getBreakpoint:h8};function p8(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(t+i)}):typeof r=="string"&&n.push(t+r)}),n}function m8(){const e=this,{classNames:t,params:n,rtl:r,el:i,device:s}=e,u=p8(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...u),i.classList.add(...t),e.emitContainerClasses()}function g8(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var v8={addClasses:m8,removeClasses:g8};function y8(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const i=e.slides.length-1,s=e.slidesGrid[i]+e.slidesSizesGrid[i]+r*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var b8={checkOverflow:y8},Yy={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function w8(e,t){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){wr(t,r);return}if(e[i]===!0&&(e[i]={enabled:!0}),i==="navigation"&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),!(i in e&&"enabled"in s)){wr(t,r);return}typeof e[i]=="object"&&!("enabled"in e[i])&&(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),wr(t,r)}}const Lv={eventsEmitter:v6,update:C6,translate:D6,transition:F6,slide:q6,loop:Y6,grabCursor:Z6,events:c8,breakpoints:d8,checkOverflow:b8,classes:v8},Vv={};let uw=class Bi{constructor(){let t,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=wr({},n),t&&!n.el&&(n.el=t);const u=Fu();if(n.el&&typeof n.el=="string"&&u.querySelectorAll(n.el).length>1){const p=[];return u.querySelectorAll(n.el).forEach(f=>{const m=wr({},n,{el:f});p.push(new Bi(m))}),p}const l=this;l.__swiper__=!0,l.support=TN(),l.device=IN({userAgent:n.userAgent}),l.browser=p6(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(p=>{p({params:n,swiper:l,extendParams:w8(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=wr({},Yy,c);return l.params=wr({},d,Vv,n),l.originalParams=wr({},l.params),l.passedParams=wr({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(p=>{l.on(p,l.params.on[p])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,i=Ti(n,`.${r.slideClass}, swiper-slide`),s=HI(i[0]);return HI(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=Ti(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const i=r.minTranslate(),u=(r.maxTranslate()-i)*t+i;r.translateTo(u,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const i=t.getSlideClasses(r);n.push({slideEl:r,classNames:i}),t.emit("_slideClass",r,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:u,slidesSizesGrid:l,size:c,activeIndex:d}=r;let p=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[d]?Math.ceil(s[d].swiperSlideSize):0,m;for(let v=d+1;v<s.length;v+=1)s[v]&&!m&&(f+=Math.ceil(s[v].swiperSlideSize),p+=1,f>c&&(m=!0));for(let v=d-1;v>=0;v-=1)s[v]&&!m&&(f+=s[v].swiperSlideSize,p+=1,f>c&&(m=!0))}else if(t==="current")for(let f=d+1;f<s.length;f+=1)(n?u[f]+l[f]-u[d]<c:u[f]-u[d]<c)&&(p+=1);else for(let f=d-1;f>=0;f-=1)u[d]-u[f]<c&&(p+=1);return p}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Vh(t,u)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const u=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(u,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const u=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(u.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Ti(r,i())[0];return!u&&n.params.createElements&&(u=xd("div",n.params.wrapperClass),r.append(u),Ti(r,`.${n.params.slideClass}`).forEach(l=>{u.append(l)})),Object.assign(n,{el:r,wrapperEl:u,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Po(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Po(r,"direction")==="rtl"),wrongRTL:Po(u,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Vh(n,s):s.addEventListener("load",u=>{Vh(n,u.target)})}),Ky(n),n.initialized=!0,Ky(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:u,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),u.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),t!==!1&&(r.el.swiper=null,i6(r)),r.destroyed=!0),null}static extendDefaults(t){wr(Vv,t)}static get extendedDefaults(){return Vv}static get defaults(){return Yy}static installModule(t){Bi.prototype.__modules__||(Bi.prototype.__modules__=[]);const n=Bi.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>Bi.installModule(n)),Bi):(Bi.installModule(t),Bi)}};Object.keys(Lv).forEach(e=>{Object.keys(Lv[e]).forEach(t=>{uw.prototype[t]=Lv[e][t]})});uw.use([m6,g6]);const CN=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Js(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function nu(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:Js(t[r])&&Js(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:nu(e[r],t[r]):e[r]=t[r]})}function kN(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function ON(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function NN(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function PN(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function _8(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function S8(e){let{swiper:t,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:u,scrollbarEl:l,paginationEl:c}=e;const d=i.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:p,pagination:f,navigation:m,scrollbar:v,virtual:b,thumbs:w}=t;let S,E,x,C,D,V,A,G;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(S=!0),i.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(E=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(p.pagination||p.pagination===!1)&&f&&!f.el&&(x=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&v&&!v.el&&(C=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||s)&&(p.navigation||p.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(D=!0);const F=P=>{t[P]&&(t[P].destroy(),P==="navigation"?(t.isElement&&(t[P].prevEl.remove(),t[P].nextEl.remove()),p[P].prevEl=void 0,p[P].nextEl=void 0,t[P].prevEl=void 0,t[P].nextEl=void 0):(t.isElement&&t[P].el.remove(),p[P].el=void 0,t[P].el=void 0))};i.includes("loop")&&t.isElement&&(p.loop&&!r.loop?V=!0:!p.loop&&r.loop?A=!0:G=!0),d.forEach(P=>{if(Js(p[P])&&Js(r[P]))Object.assign(p[P],r[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in r[P]&&!r[P].enabled&&F(P);else{const U=r[P];(U===!0||U===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?U===!1&&F(P):p[P]=r[P]}}),d.includes("controller")&&!E&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),i.includes("children")&&n&&b&&p.virtual.enabled?(b.slides=n,b.update(!0)):i.includes("virtual")&&b&&p.virtual.enabled&&(n&&(b.slides=n),b.update(!0)),i.includes("children")&&n&&p.loop&&(G=!0),S&&w.init()&&w.update(!0),E&&(t.controller.control=p.controller.control),x&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(p.pagination.el=c),f.init(),f.render(),f.update()),C&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(p.scrollbar.el=l),v.init(),v.updateSize(),v.setTranslate()),D&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),u.innerHTML=t.hostEl.constructor.prevButtonSvg,u.part.add("button-prev"),t.el.appendChild(u))),s&&(p.navigation.nextEl=s),u&&(p.navigation.prevEl=u),m.init(),m.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&t.changeDirection(r.direction,!1),(V||G)&&t.loopDestroy(),(A||G)&&t.loopCreate(),t.update()}function KI(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},i={};nu(n,Yy),n._emitClasses=!0,n.init=!1;const s={},u=CN.map(c=>c.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(c=>{typeof e[c]>"u"||(u.indexOf(c)>=0?Js(e[c])?(n[c]={},i[c]={},nu(n[c],e[c]),nu(i[c],e[c])):(n[c]=e[c],i[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?r[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:s[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function E8(e,t){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:u,swiper:l}=e;kN(t)&&r&&i&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),ON(t)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),NN(t)&&u&&(l.params.scrollbar.el=u,l.originalParams.scrollbar.el=u),l.init(n)}function T8(e,t,n,r,i){const s=[];if(!t)return s;const u=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),d=n.map(i);c.join("")!==d.join("")&&u("children"),r.length!==n.length&&u("children")}return CN.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(Js(e[c])&&Js(t[c])){const d=Object.keys(e[c]),p=Object.keys(t[c]);d.length!==p.length?u(c):(d.forEach(f=>{e[c][f]!==t[c][f]&&u(c)}),p.forEach(f=>{e[c][f]!==t[c][f]&&u(c)}))}else e[c]!==t[c]&&u(c)}),s}const I8=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Fv(e,t,n){e===void 0&&(e={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},s=(u,l)=>{Array.isArray(u)&&u.forEach(c=>{const d=typeof c.type=="symbol";l==="default"&&(l="container-end"),d&&c.children?s(c.children,l):c.type&&(c.type.name==="SwiperSlide"||c.type.name==="AsyncComponentWrapper")?r.push(c):i[l]&&i[l].push(c)})};return Object.keys(e).forEach(u=>{if(typeof e[u]!="function")return;const l=e[u]();s(l,u)}),n.value=t.value,t.value=r,{slides:r,slots:i}}function x8(e,t,n){if(!n)return null;const r=p=>{let f=p;return p<0?f=t.length+p:f>=t.length&&(f=f-t.length),f},i=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:u}=n,l=e.value.params.loop?-t.length:0,c=e.value.params.loop?t.length*2:t.length,d=[];for(let p=l;p<c;p+=1)p>=s&&p<=u&&d.push(t[r(p)]);return d.map(p=>(p.props||(p.props={}),p.props.style||(p.props.style={}),p.props.swiperRef=e,p.props.style=i,yn(p.type,{...p.props},p.children)))}const A8={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:n,emit:r}=t;const{tag:i,wrapperTag:s}=e,u=St("swiper"),l=St(null),c=St(!1),d=St(!1),p=St(null),f=St(null),m=St(null),v={value:[]},b={value:[]},w=St(null),S=St(null),E=St(null),x=St(null),{params:C,passedParams:D}=KI(e,!1);Fv(n,v,b),m.value=D,b.value=v.value;const V=()=>{Fv(n,v,b),c.value=!0};C.onAny=function(F){for(var P=arguments.length,U=new Array(P>1?P-1:0),k=1;k<P;k++)U[k-1]=arguments[k];r(F,...U)},Object.assign(C.on,{_beforeBreakpoint:V,_containerClasses(F,P){u.value=P}});const A={...C};if(delete A.wrapperClass,f.value=new uw(A),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=v.value;const F={cache:!1,slides:v.value,renderExternal:P=>{l.value=P},renderExternalUpdate:!1};nu(f.value.params.virtual,F),nu(f.value.originalParams.virtual,F)}E0(()=>{!d.value&&f.value&&(f.value.emitSlidesClasses(),d.value=!0);const{passedParams:F}=KI(e,!1),P=T8(F,m.value,v.value,b.value,U=>U.props&&U.props.key);m.value=F,(P.length||c.value)&&f.value&&!f.value.destroyed&&S8({swiper:f.value,slides:v.value,passedParams:F,changedParams:P,nextEl:w.value,prevEl:S.value,scrollbarEl:x.value,paginationEl:E.value}),c.value=!1}),Fo("swiper",f),xr(l,()=>{or(()=>{I8(f.value)})}),Au(()=>{p.value&&(E8({el:p.value,nextEl:w.value,prevEl:S.value,paginationEl:E.value,scrollbarEl:x.value,swiper:f.value},C),r("swiper",f.value))}),Cc(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function G(F){return C.virtual?x8(f,F,l.value):(F.forEach((P,U)=>{P.props||(P.props={}),P.props.swiperRef=f,P.props.swiperSlideIndex=U}),F)}return()=>{const{slides:F,slots:P}=Fv(n,v,b);return yn(i,{ref:p,class:PN(u.value)},[P["container-start"],yn(s,{class:_8(C.wrapperClass)},[P["wrapper-start"],G(F),P["wrapper-end"]]),kN(e)&&[yn("div",{ref:S,class:"swiper-button-prev"}),yn("div",{ref:w,class:"swiper-button-next"})],NN(e)&&yn("div",{ref:x,class:"swiper-scrollbar"}),ON(e)&&yn("div",{ref:E,class:"swiper-pagination"}),P["container-end"]])}}},C8={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,r=!1;const{swiperRef:i}=e,s=St(null),u=St("swiper-slide"),l=St(!1);function c(f,m,v){m===s.value&&(u.value=v)}Au(()=>{!i||!i.value||(i.value.on("_slideClass",c),r=!0)}),tA(()=>{r||!i||!i.value||(i.value.on("_slideClass",c),r=!0)}),E0(()=>{!s.value||!i||!i.value||(typeof e.swiperSlideIndex<"u"&&(s.value.swiperSlideIndex=e.swiperSlideIndex),i.value.destroyed&&u.value!=="swiper-slide"&&(u.value="swiper-slide"))}),Cc(()=>{!i||!i.value||i.value.off("_slideClass",c)});const d=We(()=>({isActive:u.value.indexOf("swiper-slide-active")>=0,isVisible:u.value.indexOf("swiper-slide-visible")>=0,isPrev:u.value.indexOf("swiper-slide-prev")>=0,isNext:u.value.indexOf("swiper-slide-next")>=0}));Fo("swiperSlide",d);const p=()=>{l.value=!0};return()=>yn(e.tag,{class:PN(`${u.value}`),ref:s,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:p},e.zoom?yn("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[n.default&&n.default(d.value),e.lazy&&!l.value&&yn("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(d.value),e.lazy&&!l.value&&yn("div",{class:"swiper-lazy-preloader"})])}};function k8(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Ti(e.el,`.${r[i]}`)[0];s||(s=xd("div",r[i]),s.className=r[i],e.el.append(s)),n[i]=s,t[i]=s}}),n}function O8(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(b){let w;return b&&typeof b=="string"&&t.isElement&&(w=t.el.querySelector(b),w)?w:(b&&(typeof b=="string"&&(w=[...document.querySelectorAll(b)]),t.params.uniqueNavElements&&typeof b=="string"&&w.length>1&&t.el.querySelectorAll(b).length===1&&(w=t.el.querySelector(b))),b&&!w?b:w)}function u(b,w){const S=t.params.navigation;b=$i(b),b.forEach(E=>{E&&(E.classList[w?"add":"remove"](...S.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=w),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](S.lockClass))})}function l(){const{nextEl:b,prevEl:w}=t.navigation;if(t.params.loop){u(w,!1),u(b,!1);return}u(w,t.isBeginning&&!t.params.rewind),u(b,t.isEnd&&!t.params.rewind)}function c(b){b.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function d(b){b.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const b=t.params.navigation;if(t.params.navigation=k8(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(b.nextEl||b.prevEl))return;let w=s(b.nextEl),S=s(b.prevEl);Object.assign(t.navigation,{nextEl:w,prevEl:S}),w=$i(w),S=$i(S);const E=(x,C)=>{x&&x.addEventListener("click",C==="next"?d:c),!t.enabled&&x&&x.classList.add(...b.lockClass.split(" "))};w.forEach(x=>E(x,"next")),S.forEach(x=>E(x,"prev"))}function f(){let{nextEl:b,prevEl:w}=t.navigation;b=$i(b),w=$i(w);const S=(E,x)=>{E.removeEventListener("click",x==="next"?d:c),E.classList.remove(...t.params.navigation.disabledClass.split(" "))};b.forEach(E=>S(E,"next")),w.forEach(E=>S(E,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?v():(p(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:b,prevEl:w}=t.navigation;if(b=$i(b),w=$i(w),t.enabled){l();return}[...b,...w].filter(S=>!!S).forEach(S=>S.classList.add(t.params.navigation.lockClass))}),r("click",(b,w)=>{let{nextEl:S,prevEl:E}=t.navigation;S=$i(S),E=$i(E);const x=w.target;if(t.params.navigation.hideOnClick&&!E.includes(x)&&!S.includes(x)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===x||t.pagination.el.contains(x)))return;let C;S.length?C=S[0].classList.contains(t.params.navigation.hiddenClass):E.length&&(C=E[0].classList.contains(t.params.navigation.hiddenClass)),i(C===!0?"navigationShow":"navigationHide"),[...S,...E].filter(D=>!!D).forEach(D=>D.classList.toggle(t.params.navigation.hiddenClass))}});const m=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),l()},v=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:m,disable:v,update:l,init:p,destroy:f})}const qr=Cu("albumInfo",{state:()=>({albumInfo:{},albumMakeTemp:{albumID:"",albumDesc:"",albumImg:"",albumName:"",albumSinger:"",albumSingerDesc:"",albumSingerImg:"",albumGenre:"Acoustic",albumUploadSingnerImgFile:{},albumUploadAlbumImgFile:{}},albumEditTemp:{isLoading:!1,isRelease:!1,albumID:"",albumDesc:"",albumImg:"",albumName:"",albumSinger:"",albumSingerDesc:"",albumSingerImg:"",albumGenre:"",albumSongs:[],albumUploadSingnerImgFile:{},albumUploadAlbumImgFile:{}}}),actions:{initalbumMakeTemp(){this.albumMakeTemp.albumDesc="",this.albumMakeTemp.albumID="",this.albumMakeTemp.albumGenre="Acoustic",this.albumMakeTemp.albumImg="",this.albumMakeTemp.albumName="",this.albumMakeTemp.albumDesc="",this.albumMakeTemp.albumSingerDesc="",this.albumMakeTemp.albumUploadSingnerImgFile={},this.albumMakeTemp.albumUploadAlbumImgFile={}},initalbumEditTemp(){this.albumEditTemp.isLoading=!1,this.albumEditTemp.albumDesc="",this.albumEditTemp.albumSinger="",this.albumEditTemp.albumID="",this.albumEditTemp.albumGenre="",this.albumEditTemp.albumImg="",this.albumEditTemp.albumName="",this.albumEditTemp.albumDesc="",this.albumEditTemp.albumSingerDesc="",this.albumEditTemp.albumSingerImg="",this.albumEditTemp.isRelease=!1,this.albumEditTemp.albumSongs=[],this.albumEditTemp.albumUploadSingnerImgFile={},this.albumEditTemp.albumUploadAlbumImgFile={}}}}),N8={data(){return{modules:[O8],albums:[],isfundraising:!1}},props:{gener:{type:String,required:!0}},computed:{...In(qr,["albumInfo"]),...Bt(qr,["albumInfo"])},methods:{async getAlbums(){const e=this.gener.toLowerCase();try{let n=(await Gr.doc(e).get()).data().items;if(n.length===0)return;if(e==="fundraising"){let r=n.sort((i,s)=>s.createdAt-i.createdAt).filter(i=>i.isRelease===!0);this.albums=r,this.isfundraising=!0}else this.albums=n}catch(t){console.error("Error adding album:",t)}},setAlbumInfo(e){this.albumInfo=e}},components:{Swiper:A8,SwiperSlide:C8,albumsCollection:Gr},beforeMount(){this.getAlbums()}},P8={class:"mt-3"},R8=["src","onClick"];function D8(e,t,n,r,i,s){const u=Ne("router-link"),l=Ne("swiper-slide"),c=Ne("swiper");return le(),de("div",P8,[Z(c,{slidesPerView:2.5,spaceBetween:10,navigation:!0,modules:i.modules,breakpoints:{768:{slidesPerView:7.5,spaceBetween:20}}},{default:Rn(()=>[(le(!0),de(mt,null,Ci(i.albums,(d,p)=>(le(),zo(l,{key:p},{default:Rn(()=>[Z(u,{to:{name:"album",params:{gener:n.gener.toLowerCase(),albumSinger:d.albumSinger}}},{default:Rn(()=>[T("img",{src:d.isRelease?d.albumSingerImg:d.albumImg,alt:"",onClick:f=>s.setAlbumInfo(d),class:et({"rounded-full":i.isfundraising," rounded-md":!i.isfundraising})},null,10,R8),T("p",{class:et(["text-sm my-1 font-bold text-zinc-200 w-[130px] truncate overflow-hidden text-center mx-auto",{hidden:i.isfundraising}])}," 《"+ht(d.albumName)+"》 ",3),T("p",{class:et(["text-sm font-bold text-zinc-200",{"mt-2":i.isfundraising}])},ht(d.albumSinger),3)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])])}const M8=Et(N8,[["render",D8]]),L8={props:{gener:{type:String,required:!0}},components:{SwiperSong:M8},computed:{generHead(){const e={America:"美國流行音樂",Kpop:"KPOP",Jpop:"JPOP",Music:"鋼琴音樂",fundraising:"明日之星",default:"歌曲清單"}[this.gener];return e||e.default}}},V8={class:"max-w-[1400px] mx-auto pl-2 pb-[35px]"},F8={class:"border-l-[7px] border-rose-500 bg-[#9b27504a] py-1 pl-[15px]"};function j8(e,t,n,r,i,s){const u=Ne("SwiperSong");return le(),de("section",V8,[T("h6",F8,ht(s.generHead),1),Z(u,{gener:n.gener},null,8,["gener"])])}const U8=Et(L8,[["render",j8]]),$8={components:{HomeSongPlayZone:t6,HomeSongListZone:U8,toastMessage:Di}},B8={class:"text-zinc-200 bg-zinc-900 mt-[55px] mb-[90px] relative"};function z8(e,t,n,r,i,s){const u=Ne("toastMessage"),l=Ne("HomeSongPlayZone"),c=Ne("HomeSongListZone");return le(),de("main",B8,[Z(u),Z(l),Z(c,{gener:"fundraising"}),Z(c,{gener:"America"}),Z(c,{gener:"Kpop"}),Z(c,{gener:"Jpop"}),Z(c,{gener:"Music"})])}const H8=Et($8,[["render",z8]]),G8={data(){return{isCurrentPlaying:!1,toggle:!1,message:"",isFavSong:!1,success:!1}},components:{toastMessage:Di},props:{songData:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{...In(Ln,["playing","current_song","pauseCurrentSong"]),...In(hr,["userLoggedIn","uid"]),...Bt(Ln,["playingIndex"]),...Bt(hr,["favSongList"])},methods:{...xn(Ln,["newSong"]),playSong(e){this.newSong(e),this.isCurrentPlaying=!0},addToFav(e){this.userLoggedIn?(this.setFavSongToDatabase(e.docID),this.toggle=!this.toggle,this.success=!0,this.message=`已將 ${e.modified_name} 加入至您的播放清單`):(this.toggle=!this.toggle,this.message="該功能需登入才可使用，可免費註冊使用")},async delFormFav(e){try{await Eu.doc(this.uid).update({favSongLists:Ae.firestore.FieldValue.arrayRemove(e.docID)}),this.favSongList=this.favSongList.filter(n=>e.docID!==n),this.isFavSong=!1,this.toggle=!this.toggle,this.success=!0,this.message=`已將 ${e.modified_name} 從您的播放清單移除`}catch(t){console.log("error => ",t)}},async setFavSongToDatabase(e){try{await Eu.doc(this.uid).update({favSongLists:Ae.firestore.FieldValue.arrayUnion(e)}),this.favSongList.push(e),this.isFavSong=!0}catch(t){console.log("error => ",t)}}},mounted(){this.favSongList.length!==0&&(this.isFavSong=this.favSongList.includes(this.songData.docID))},watch:{playing(){this.current_song&&(this.current_song.modified_name==this.songData.modified_name?(this.isCurrentPlaying=!0,this.playingIndex=this.index):this.isCurrentPlaying=!1)},pauseCurrentSong(){this.pauseCurrentSong&&this.pauseCurrentSong.pause&&(this.current_song.modified_name==this.pauseCurrentSong.currentSong?this.isCurrentPlaying=!1:this.isCurrentPlaying=!0)}}},q8=T("p",{class:"flex-initial md:w-20 w-10"},"03:57",-1),W8={class:"flex-initial md:w-12 w-10 md:text-center text-end"},X8={key:0,class:"far fa-play-circle text-2xl text-rose-500/80"},K8={key:1,class:"far fa-pause-circle text-2xl text-rose-500/80"},Y8=T("i",{class:"far fa-heart text-2xl text-rose-500/80"},null,-1),Q8=[Y8],J8=T("i",{class:"fas fa-heart text-2xl text-rose-500/80"},null,-1),Z8=[J8];function eW(e,t,n,r,i,s){const u=Ne("toastMessage");return le(),de(mt,null,[Z(u,{toggle:i.toggle,message:i.message,success:i.success},null,8,["toggle","message","success"]),T("p",{class:"flex-1 truncate pr-3 cursor-pointer",onClick:t[0]||(t[0]=Be(l=>s.playSong(n.songData),["prevent"]))},ht(n.songData.modified_name),1),T("div",{class:"flex cursor-pointer justify-center items-center",onClick:t[1]||(t[1]=Be(l=>s.playSong(n.songData),["prevent"]))},[q8,T("div",W8,[i.isCurrentPlaying?(le(),de("i",K8)):(le(),de("i",X8))])]),i.isFavSong?(le(),de("div",{key:1,class:"w-10 text-end cursor-pointer",onClick:t[3]||(t[3]=Be(l=>s.delFormFav(n.songData),["prevent"]))},Z8)):(le(),de("div",{key:0,class:"w-10 text-end cursor-pointer",onClick:t[2]||(t[2]=Be(l=>s.addToFav(n.songData),["prevent"]))},Q8))],64)}const tW=Et(G8,[["render",eW]]),nW={data(){return{isPlaying:!1,songs:[],memberImage:_N}},components:{SongItem:tW},computed:{...Bt(qr,["albumInfo"]),...Bt(Ln,["songList"]),...Bt(zy,["toastCount"]),albumSingerImg(){return this.albumInfo.albumSingerImg?this.albumInfo.albumSingerImg:"https://i.imgur.com/arYdJI6.png"}},methods:{...xn(Ln,["newSong"]),async getAlbumSongs(){try{(await kr.where("display_name","==",this.$route.params.albumSinger).get()).forEach((t,n)=>{this.songs.push({...t.data(),docID:t.id})})}catch(e){console.log("getAlbumSongs error => ",e)}},async getAlbumInfo(){try{const t=(await Gr.doc(this.$route.params.gener).get()).data().items.filter(n=>n.albumSinger===this.$route.params.albumSinger);this.albumInfo={...t[0]}}catch{}},palySong(e){this.newSong(e),this.isPlaying=!0},formatIndex:fn.formatIndex},mounted(){this.getAlbumSongs(),this.songList=this.songs,window.scrollTo({top:0,left:0,behavior:"auto"}),this.toastCount=0},beforeMount(){Object.keys(this.albumInfo).length===0&&this.getAlbumInfo()}},rW={class:"text-zinc-200 bg-zinc-900 pb-8 mt-[63px] mb-[90px]",id:"albumPage"},iW={class:"max-w-[1200px] mx-auto pt-10"},oW={class:"flex md:flex-row flex-col"},sW={class:"md:order-1 order-last w-[25%] hidden md:block sidebarBackgound"},aW={class:"max-w-[160px] mx-auto"},uW=["src"],lW={class:"text-center mt-6 px-5"},cW=T("p",{class:"text-lg"},"歌手",-1),fW={class:"text-2xl pb-3"},hW={class:"text-zinc-400 text-left"},dW={class:"md:order-2 flex-1 px-3 md:px-14"},pW={class:"md:flex items-center border-b-2 border-[#e6dbdb21] pb-4"},mW={class:"flex md:flex-row flex-col justify-center"},gW={class:"md:max-w-64 mx-auto"},vW=["src"],yW={class:"md:ml-10 md:mt-5 text-center md:text-left"},bW={class:"text-[25px] tracking-widest leading-loose text-white"},wW={class:"md:pb-5"},_W={class:"md:block hidden max-w-80"},SW={class:"mt-6"},EW={class:"px-2 md:px-0"},TW={class:"flex-none w-7 md:w-24 text-[12px] md:text-base md:leading-normal leading-6"};function IW(e,t,n,r,i,s){const u=Ne("SongItem");return le(),de("main",rW,[T("div",iW,[T("div",oW,[T("div",sW,[T("div",aW,[T("img",{class:"rounded-full",src:s.albumSingerImg,alt:""},null,8,uW)]),T("div",lW,[cW,T("p",fW,ht(e.albumInfo.albumSinger),1),T("p",hW,ht(e.albumInfo.albumSingerDesc),1)])]),T("div",dW,[T("div",pW,[T("div",mW,[T("div",gW,[T("img",{src:e.albumInfo.albumImg,alt:""},null,8,vW)]),T("div",yW,[T("p",bW,ht(e.albumInfo.albumName),1),T("p",wW,ht(e.albumInfo.albumSinger),1),T("p",_W,ht(e.albumInfo.albumDesc),1)])])]),T("div",SW,[T("ul",EW,[(le(!0),de(mt,null,Ci(i.songs,(l,c)=>(le(),de("li",{class:"flex py-3 items-center",key:l.coverImg},[T("p",TW,ht(s.formatIndex(c))+". ",1),Z(u,{songData:l,index:c},null,8,["songData","index"])]))),128))])])])])])])}const xW=Et(nW,[["render",IW]]),AW={name:"Upload",data(){return{is_dragover:!1,uploadsTemp:[],uploadSchema:{albumName:"required",albumSinger:"required",albumCoverImgUrl:"required",albumGenre:"required"},userData:{albumGenre:"America"},toggle:!1,message:""}},props:["addSong"],components:{toastMessage:Di},methods:{upload(e){const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];console.log("files => ",t),t.forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsTemp.push({file:n,current_progress:0,icon:"",text_class:"",variant:"",isUploadComplete:!1,isUploading:!1})})},deleteSong(e){this.uploadsTemp.splice(e,1)},uploadSubmit(e){this.uploadsTemp.forEach((t,n)=>{const s=Ur.ref().child(`songs/${t.file.name}`).put(t.file);this.uploadsTemp[n].icon="fas fa-spinner fa-spin",this.uploadsTemp[n].variant="bg-blue-400",this.uploadsTemp[n].isUploading=!0,s.on("state_changed",u=>{let l=u.bytesTransferred/u.totalBytes*100;this.uploadsTemp[n].current_progress=l},u=>{this.uploadsTemp[n].variant="bg-red-400",this.uploadsTemp[n].icon="fa fa-times",this.uploadsTemp[n].text_class="text-red-400"},async()=>{try{const u={album:e.albumName,coverImg:e.albumCoverImgUrl,uid:Ki.currentUser.uid,display_name:e.albumSinger,original_name:s.snapshot.ref.name,modified_name:fn.formatSongName(s.snapshot.ref.name),genre:e.albumGenre,comment_count:0},l={albumDesc:"",albumImg:e.albumCoverImgUrl,albumName:e.albumName,albumSinger:e.albumSinger,albumSingerDesc:"",albumSingerImg:""};u.url=await s.snapshot.ref.getDownloadURL();const d=await(await kr.add(u)).get();this.addSong(d),await Gr.doc(e.albumGenre.toLowerCase()).update({items:Ae.firestore.FieldValue.arrayUnion(l)}),console.log("Album added successfully"),this.uploadsTemp[n].variant="bg-green-400",this.uploadsTemp[n].icon="fa fa-check",this.uploadsTemp[n].text_class="text-green-400",this.uploadsTemp[n].isUploadComplete=!0}catch(u){console.log("error => ",u)}})})},formatIndex:fn.formatIndex,formatSongName:fn.formatSongName}},CW={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},kW=T("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[T("span",{class:"card-title"},"上傳歌曲"),T("i",{class:"fas fa-upload float-right text-rose-500 text-xl"})],-1),OW={class:"p-6"},NW=T("h5",null,"請拖曳檔案到此",-1),PW=[NW],RW=T("hr",{class:"my-6"},null,-1),DW=T("label",{class:"inline-block mb-2"},"歌手名稱",-1),MW=T("label",{class:"inline-block mb-2"},"專輯名稱",-1),LW=T("label",{class:"inline-block mb-2"},"專輯類型",-1),VW=T("option",{class:"bg-gray-700 text-zinc-100",value:"America"},"America",-1),FW=T("option",{class:"bg-gray-700 text-zinc-100",value:"Kpop"},"Kpop",-1),jW=T("option",{class:"bg-gray-700 text-zinc-100",value:"Jpop"},"Jpop",-1),UW=T("option",{class:"bg-gray-700 text-zinc-100",value:"Music"},"Music",-1),$W=T("label",{class:"inline-block mb-2"},"專輯封面",-1),BW=T("p",{class:"mb-3 border-b-2 border-[#fff]/30 pb-2"},"要上傳的歌曲:",-1),zW={class:"flex items-center justify-between"},HW={class:"overflow-hidden flex items-center"},GW={class:"pl-2 truncate"},qW={class:""},WW=["onClick"],XW=T("i",{class:"fa fa-times"},null,-1),KW=[XW],YW={key:0,class:"flex h-4 mt-1 overflow-hidden bg-gray-200 rounded"},QW=["disabled"];function JW(e,t,n,r,i,s){const u=Ne("toastMessage"),l=Ne("vee-field"),c=Ne("ErrorMessage"),d=Ne("vee-form");return le(),de(mt,null,[Z(u,{toggle:i.toggle,message:i.message},null,8,["toggle","message"]),T("div",CW,[kW,T("div",OW,[T("div",{class:et(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"bg-rose-500 border-rose-500 border-solid":i.is_dragover}]),onDrag:t[0]||(t[0]=Be(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Be(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Be(p=>i.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Be(p=>i.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Be(p=>i.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Be(p=>i.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Be(p=>s.upload(p),["prevent","stop"]))},PW,34),T("input",{class:"block w-full text-md borderrounded-lg cursor-pointer text-gray-400 focus:outline-none mt-4",type:"file",multiple:"",onChange:t[7]||(t[7]=p=>s.upload(p))},null,32),RW,Z(d,{"validation-schema":i.uploadSchema,onSubmit:s.uploadSubmit,"initial-values":i.userData},{default:Rn(()=>[T("div",null,[DW,Z(l,{type:"text",name:"albumSinger",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"歌手名稱"}),Z(c,{class:"text-pink-600",name:"albumSinger"})]),T("div",null,[MW,Z(l,{type:"text",name:"albumName",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯名稱"}),Z(c,{class:"text-pink-600",name:"albumName"})]),T("div",null,[LW,Z(l,{as:"select",name:"albumGenre",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Rn(()=>[VW,FW,jW,UW]),_:1}),Z(c,{class:"text-red-600",name:"albumGenre"})]),T("div",null,[$W,Z(l,{type:"text",name:"albumCoverImgUrl",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯封面"}),Z(c,{class:"text-pink-600",name:"albumCoverImgUrl"})]),BW,(le(!0),de(mt,null,Ci(i.uploadsTemp,(p,f)=>(le(),de("div",{class:"mb-4",key:p.file.name},[T("div",{class:et(["border border-zinc-200 p-2 mb-4 rounded font-bold text-sm",p.text_class])},[T("div",zW,[T("div",HW,[T("i",{class:et(p.icon)},null,2),T("p",GW,ht(s.formatIndex(f))+". "+ht(s.formatSongName(p.file.name)),1)]),T("div",qW,[p.isUploadComplete?Ar("",!0):(le(),de("button",{key:0,class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:Be(m=>s.deleteSong(f),["prevent"])},KW,8,WW))])])],2),p.isUploading?(le(),de("div",YW,[T("div",{class:et(["transition-all progress-bar",p.variant]),style:Br({width:p.current_progress+"%"})},null,6)])):Ar("",!0)]))),128)),T("button",{type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-rose-500 w-full hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",disabled:i.uploadsTemp.length==0}," 檔案上傳 ",8,QW)]),_:1},8,["validation-schema","onSubmit","initial-values"])])])],64)}const ZW=Et(AW,[["render",JW]]),e7={name:"CompositionItem",data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},is_submission:!1,show_alart:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info"}},props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number},removeSong:{type:Function,required:!0},updateUnsaveFlag:{type:Function}},methods:{async edit(e){this.is_submission=!0,this.show_alart=!0,this.alert_variant="bg-blue-500",this.alert_message="";try{await kr.doc(e.docID).update(e)}catch(t){console.log("error => ",t),this.is_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsaveFlag(!1),this.is_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){const t=Ur.ref().child(`songs/${this.song.original_name}`);try{await t.delete(),await kr.doc(this.song.docID).delete(),this.removeSong(this.index)}catch(n){console.log("error => ",n)}}},mounted(){}},t7={class:"border border-zinc-200 p-2 mb-4 rounded"},n7={class:"inline-block text-sm font-bold"},r7=T("i",{class:"fa fa-times"},null,-1),i7=[r7],o7=T("i",{class:"fa fa-pencil-alt"},null,-1),s7=[o7],a7={class:"mb-3"},u7=T("label",{class:"inline-block mb-2"},"歌曲名稱",-1),l7={class:"mb-3"},c7=T("label",{class:"inline-block mb-2"},"類型",-1),f7=T("button",{type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-green-700"}," 確定修改 ",-1),h7=["disabled"];function d7(e,t,n,r,i,s){const u=Ne("vee-field"),l=Ne("ErrorMessage"),c=Ne("vee-form");return le(),de("div",t7,[Ql(T("div",null,[T("h4",n7,ht(n.song.modified_name),1),T("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600 float-right",onClick:t[0]||(t[0]=Be((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"]))},i7),T("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-400 float-right",onClick:t[1]||(t[1]=Be(d=>i.showForm=!i.showForm,["prevent"]))},s7)],512),[[Gh,!i.showForm]]),Ql(T("div",null,[i.show_alart?(le(),de("div",{key:0,class:et(["text-white text-center font-bold p-4 mb-4",i.alert_variant])},ht(i.alert_message),3)):Ar("",!0),Z(c,{"validation-schema":i.schema,"initial-values":n.song,onSubmit:s.edit},{default:Rn(()=>[T("div",a7,[u7,Z(u,{name:"modified_name",type:"text",class:"block w-full py-1 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateUnsaveFlag(!0))}),Z(l,{class:"text-red-600",name:"modified_name"})]),T("div",l7,[c7,Z(u,{name:"genre",type:"text",class:"block w-full py-1 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateUnsaveFlag(!0))}),Z(l,{class:"text-red-600",name:"genre"})]),f7,T("button",{type:"button",class:"py-1 px-3 rounded text-white bg-gray-600",disabled:i.is_submission,onClick:t[4]||(t[4]=Be(d=>i.showForm=!1,["prevent"]))}," 取消 ",8,h7)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[Gh,i.showForm]])])}const p7=Et(e7,[["render",d7]]),m7={name:"Manage",data(){return{songs:[],unsaveFlag:!1}},components:{toastMessage:Di,UploadAdminManage:ZW,CompositionItem:p7},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsaveFlag(e){this.unsaveFlag=e}},async created(){(await kr.where("uid","==",Ki.currentUser.uid).get()).forEach(t=>{this.addSong(t)})},beforeRouteLeave(e,t,n){if(!this.unsaveFlag)n();else{const r=confirm("你的檔案還未修改完必，有確定要離開嗎?");n(r)}}},g7={class:"text-zinc-200 bg-zinc-900 mt-[55px] mb-[90px] relative"},v7={class:"container mx-auto mt-14 pt-3 pr-1 md:pr-0"},y7={class:"md:grid md:grid-cols-3 md:gap-4"},b7={class:"col-span-1"},w7={class:"col-span-2"},_7={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},S7=T("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[T("span",{class:"card-title"},"我的歌單"),T("i",{class:"fa fa-compact-disc float-right text-rose-400 text-xl"})],-1),E7={class:"p-6"};function T7(e,t,n,r,i,s){const u=Ne("toastMessage"),l=Ne("UploadAdminManage"),c=Ne("CompositionItem");return le(),de("main",g7,[Z(u),T("section",v7,[T("div",y7,[T("div",b7,[Z(l,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),T("div",w7,[T("div",_7,[S7,T("div",E7,[(le(!0),de(mt,null,Ci(i.songs,(d,p)=>(le(),zo(c,{key:d.docID,song:d,updateSong:s.updateSong,index:p,removeSong:s.removeSong,updateUnsaveFlag:s.updateUnsaveFlag},null,8,["song","updateSong","index","removeSong","updateUnsaveFlag"]))),128))])])])])])])}const I7=Et(m7,[["render",T7]]),Ni=Cu("alert",{state:()=>({isShowAlertConfirm:!1,alertMessage:"",delFavSong:{index:null,docID:""},delData:!1,deleteData:{}}),actions:{fireShowAlertConfirm(e){const{data:t,msg:n}=e;this.isShowAlertConfirm=!0,this.deleteData=t||{},this.alertMessage=n||""},closeAlert(){this.isShowAlertConfirm=!1,this.delFavSong={index:null,docID:""},this.deleteData={},this.alertMessage=""},delDataCheck(){this.isShowAlertConfirm=!1,this.delData=!0}}}),x7={name:"FavSongItem",data(){return{isCurrentPlaying:!1}},props:{favSong:{type:Object,required:!0},index:{type:Number,required:!0},isFinshRender:{type:Function,required:!0}},computed:{...In(Ln,["playing","current_song","pauseCurrentSong"]),...In(hr,["favSongList"]),...Bt(Ln,["playingIndex"]),...Bt(Ni,["delFavSong","isShowAlertConfirm"])},methods:{...xn(Ln,["newSong"]),...xn(Ni,["fireShowAlertConfirm"]),playSong(e){this.newSong(e),this.isCurrentPlaying=!0},delSongFromList(e,t){this.delFavSong.index=t,this.delFavSong.docID=e,this.fireShowAlertConfirm({msg:`是否將${this.favSong.modified_name}從清單中刪除`})}},watch:{playing(){this.current_song&&(this.current_song.modified_name==this.favSong.modified_name?(this.isCurrentPlaying=!0,this.playingIndex=this.index):this.isCurrentPlaying=!1)},pauseCurrentSong(){this.pauseCurrentSong&&this.pauseCurrentSong.pause&&(this.current_song.modified_name==this.pauseCurrentSong.currentSong?this.isCurrentPlaying=!1:this.isCurrentPlaying=!0)}},mounted(){this.index===this.favSongList.length-1&&this.isFinshRender(!0)}},A7={class:"w-12 mr-4"},C7=["src"],k7={class:"flex flex-1 justify-between border-b border-b-zinc-200/30 items-center"},O7={class:"pr-3 flex-initial truncate md:w-80 w-44"},N7={class:"text-zinc-500 text-sm"},P7={class:"flex justify-between w-28"},R7=T("p",{class:"flex-initial w-14 text-start"},"03:57",-1),D7={class:"flex-initial md:text-center text-start"},M7={key:0,class:"far fa-play-circle text-2xl text-rose-500/80"},L7={key:1,class:"far fa-pause-circle text-2xl text-rose-500/80"};function V7(e,t,n,r,i,s){return le(),de(mt,null,[T("div",A7,[T("img",{class:"rounded-md",src:n.favSong.coverImg,alt:""},null,8,C7)]),T("div",k7,[T("div",{class:"cursor-pointer pr-3 flex-1",onClick:t[0]||(t[0]=Be(u=>s.playSong(n.favSong),["prevent"]))},[T("p",O7,ht(n.favSong.modified_name),1),T("p",N7,ht(n.favSong.display_name),1)]),T("div",P7,[T("div",{class:"cursor-pointer flex items-center",onClick:t[1]||(t[1]=Be(u=>s.playSong(n.favSong),["prevent"]))},[R7,T("div",D7,[i.isCurrentPlaying?(le(),de("i",L7)):(le(),de("i",M7))])]),T("div",null,[T("i",{class:"fas fa-minus-square text-2xl text-rose-500/80 cursor-pointer",onClick:t[2]||(t[2]=Be(u=>s.delSongFromList(n.favSong.docID,n.index),["prevent"]))})])])])],64)}const F7=Et(x7,[["render",V7]]),j7={computed:{...In(Ni,["isShowAlertConfirm","alertMessage"])},methods:{...xn(Ni,["fireShowAlertConfirm","closeAlert","delDataCheck"])}},U7={class:"relative top-[120px] md:m-auto w-full max-w-sm h-auto"},$7={class:"relative py-4 text-center bg-zinc-800/90 rounded-lg shadow dark:bg-gray-800"},B7=T("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),z7=T("span",{class:"sr-only"},"Close modal",-1),H7=[B7,z7],G7=T("svg",{class:"text-gray-400 dark:text-gray-500 w-7 h-7 mb-1 mx-auto","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),q7={class:"flex items-center justify-around pt-2 py-5"},W7={class:"flex-1 text-gray-300 dark:text-gray-300 text-center"},X7={class:"flex justify-center items-center space-x-4"};function K7(e,t,n,r,i,s){return le(),de("div",{id:"deleteModal",tabindex:"-1","aria-hidden":"true",class:et(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!e.isShowAlertConfirm}])},[T("div",U7,[T("div",$7,[T("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteModal",onClick:t[0]||(t[0]=Be(u=>e.closeAlert(),["prevent"]))},H7),G7,T("div",q7,[T("p",W7,ht(e.alertMessage),1)]),T("div",X7,[T("button",{"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-zinc-200 bg-black/10 rounded-lg border border-gray-500 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:t[1]||(t[1]=Be(u=>e.closeAlert(),["prevent"]))}," 取消 "),T("button",{type:"submit",class:"py-2 px-3 text-sm font-medium text-center text-white bg-rose-600/80 rounded-lg hover:bg-red-900 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500/ dark:hover:bg-red-600 dark:focus:ring-red-900",onClick:t[2]||(t[2]=Be(u=>e.delDataCheck(),["prevent"]))}," 確定 ")])])])],2)}const RN=Et(j7,[["render",K7]]),jv="/vue-earphone-music/assets/logo2-BpBPWk9v.png",Y7={data(){return{favSongs:[],currentSongCoverImg:jv,listHeightStyle:""}},components:{FavSongItem:F7,AlertDeleteConfirm:RN},computed:{...In(hr,["uid"]),...In(Ln,["playing","current_song","pauseCurrentSong"]),...Bt(Ni,["delData","delFavSong"]),...Bt(hr,["favSongList"]),...Bt(Ln,["songList","playingIndex"]),filter(){if(!this.current_song.coverImg&&this.songList.length===0)return{filter:"grayscale(50%)"}}},methods:{...xn(Ni,["delFavSongItemDoc"]),...xn(Ln,["deleteSong"]),getSongs(){try{this.favSongList.forEach(async e=>{const t=await kr.doc(e).get();this.favSongs.push({...t.data(),docID:e}),this.songList.push({...t.data(),docID:e})})}catch(e){console.log("error => ",e)}},isFinshRender(e){e&&(this.songList.length>0&&(this.currentSongCoverImg=this.songList[0].coverImg),fn.changeHightStyle(this.favSongList,this.$refs.listRef))}},mounted(){this.songList=[],this.favSongList.length==0&&(this.playing?this.$refs.listRef.style.height="388px":this.$refs.listRef.style.height="418px"),this.getSongs(),Kx(()=>{this.favSongList.length===0&&(this.currentSongCoverImg=jv)})},watch:{async delData(){if(this.delData){const e=this.delFavSong.index;try{await Eu.doc(this.uid).update({favSongLists:Ae.firestore.FieldValue.arrayRemove(this.favSongs[e].docID)})}catch(t){console.log("error => ",t);return}this.favSongs.splice(e,1),this.favSongList.splice(e,1),this.deleteSong(e),this.delData=!1,this.delFavSong={index:null,docID:""}}},current_song(){fn.changeHightStyle(this.favSongList,this.$refs.listRef),Object.keys(this.current_song).length===0?this.currentSongCoverImg=jv:this.currentSongCoverImg=this.current_song.coverImg}}},Q7={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},J7={class:"bg-black/70 backdrop-blur-md w-full h-full"},Z7={class:"md:w-[550px] w-full bg-[#00000030] rounded md:border border-transparent md:border-gray-200/40 mx-auto"},e9={class:"w-56 mx-auto"},t9=["src"],n9=T("div",{class:"mt-2"},[T("p",{class:"text-center"},"我的播放清單")],-1);function r9(e,t,n,r,i,s){const u=Ne("AlertDeleteConfirm"),l=Ne("FavSongItem");return le(),de("main",Q7,[Z(u),T("div",{class:"bg-cover bg-center md:bg-fixed bg-no-repeat md:bg-cover h-full",style:Br(`background-image: url(${i.currentSongCoverImg})`)},[T("div",J7,[T("div",Z7,[T("div",e9,[T("img",{src:i.currentSongCoverImg,style:Br(s.filter),alt:""},null,12,t9)]),n9,T("ul",{class:"md:mx-5 mx-5",style:Br(i.listHeightStyle),ref:"listRef"},[(le(!0),de(mt,null,Ci(i.favSongs,(c,d)=>(le(),de("li",{class:"flex justify-center my-2",key:c.docID},[Z(l,{favSong:c,index:d,isFinshRender:s.isFinshRender},null,8,["favSong","index","isFinshRender"])]))),128))],4)])])],4)])}const i9=Et(Y7,[["render",r9]]);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){u9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MN(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function s9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MN(r.key),r)}}function a9(e,t,n){return t&&QI(e.prototype,t),n&&QI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u9(e,t,n){return t=MN(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LN(e){return l9(e)||c9(e)||f9(e)||h9()}function l9(e){if(Array.isArray(e))return Jy(e)}function c9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f9(e,t){if(e){if(typeof e=="string")return Jy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(e,t)}}function Jy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ap=typeof window<"u"&&typeof window.document<"u",Pi=Ap?window:{},lw=Ap&&Pi.document.documentElement?"ontouchstart"in Pi.document.documentElement:!1,cw=Ap?"PointerEvent"in Pi:!1,jt="cropper",fw="all",VN="crop",FN="move",jN="zoom",Cs="e",ks="w",ja="s",yo="n",Cl="ne",kl="nw",Ol="se",Nl="sw",Zy="".concat(jt,"-crop"),JI="".concat(jt,"-disabled"),sr="".concat(jt,"-hidden"),ZI="".concat(jt,"-hide"),d9="".concat(jt,"-invisible"),Ad="".concat(jt,"-modal"),e0="".concat(jt,"-move"),Tc="".concat(jt,"Action"),wh="".concat(jt,"Preview"),hw="crop",UN="move",$N="none",t0="crop",n0="cropend",r0="cropmove",i0="cropstart",ex="dblclick",p9=lw?"touchstart":"mousedown",m9=lw?"touchmove":"mousemove",g9=lw?"touchend touchcancel":"mouseup",tx=cw?"pointerdown":p9,nx=cw?"pointermove":m9,rx=cw?"pointerup pointercancel":g9,ix="ready",ox="resize",sx="wheel",o0="zoom",ax="image/jpeg",v9=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,y9=/^data:/,b9=/^data:image\/jpeg;base64,/,w9=/^img|canvas$/i,BN=200,zN=100,ux={viewMode:0,dragMode:hw,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:BN,minContainerHeight:zN,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},_9='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',S9=Number.isNaN||Pi.isNaN;function rt(e){return typeof e=="number"&&!S9(e)}var lx=function(t){return t>0&&t<1/0};function Uv(e){return typeof e>"u"}function Zs(e){return Qy(e)==="object"&&e!==null}var E9=Object.prototype.hasOwnProperty;function Xa(e){if(!Zs(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&E9.call(n,"isPrototypeOf")}catch{return!1}}function ir(e){return typeof e=="function"}var T9=Array.prototype.slice;function HN(e){return Array.from?Array.from(e):T9.call(e)}function an(e,t){return e&&ir(t)&&(Array.isArray(e)||rt(e.length)?HN(e).forEach(function(n,r){t.call(e,n,r,e)}):Zs(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var Ut=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Zs(t)&&r.length>0&&r.forEach(function(s){Zs(s)&&Object.keys(s).forEach(function(u){t[u]=s[u]})}),t},I9=/\.\d*(?:0|9){12}\d*$/;function ru(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return I9.test(e)?Math.round(e*t)/t:e}var x9=/^width|height|left|top|marginLeft|marginTop$/;function Ro(e,t){var n=e.style;an(t,function(r,i){x9.test(i)&&rt(r)&&(r="".concat(r,"px")),n[i]=r})}function A9(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function gn(e,t){if(t){if(rt(e.length)){an(e,function(r){gn(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function xi(e,t){if(t){if(rt(e.length)){an(e,function(n){xi(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Ka(e,t,n){if(t){if(rt(e.length)){an(e,function(r){Ka(r,t,n)});return}n?gn(e,t):xi(e,t)}}var C9=/([a-z\d])([A-Z])/g;function dw(e){return e.replace(C9,"$1-$2").toLowerCase()}function s0(e,t){return Zs(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(dw(t)))}function Ic(e,t,n){Zs(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(dw(t)),n)}function k9(e,t){if(Zs(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(dw(t)))}var GN=/\s\s*/,qN=function(){var e=!1;if(Ap){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});Pi.addEventListener("test",n,r),Pi.removeEventListener("test",n,r)}return e}();function ei(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(GN).forEach(function(s){if(!qN){var u=e.listeners;u&&u[s]&&u[s][n]&&(i=u[s][n],delete u[s][n],Object.keys(u[s]).length===0&&delete u[s],Object.keys(u).length===0&&delete e.listeners)}e.removeEventListener(s,i,r)})}function jr(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(GN).forEach(function(s){if(r.once&&!qN){var u=e.listeners,l=u===void 0?{}:u;i=function(){delete l[s][n],e.removeEventListener(s,i,r);for(var d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];n.apply(e,p)},l[s]||(l[s]={}),l[s][n]&&e.removeEventListener(s,l[s][n],r),l[s][n]=i,e.listeners=l}e.addEventListener(s,i,r)})}function iu(e,t,n){var r;return ir(Event)&&ir(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function WN(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var $v=Pi.location,O9=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function cx(e){var t=e.match(O9);return t!==null&&(t[1]!==$v.protocol||t[2]!==$v.hostname||t[3]!==$v.port)}function fx(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Wl(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,s=e.translateY,u=[];rt(i)&&i!==0&&u.push("translateX(".concat(i,"px)")),rt(s)&&s!==0&&u.push("translateY(".concat(s,"px)")),rt(t)&&t!==0&&u.push("rotate(".concat(t,"deg)")),rt(n)&&n!==1&&u.push("scaleX(".concat(n,")")),rt(r)&&r!==1&&u.push("scaleY(".concat(r,")"));var l=u.length?u.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function N9(e){var t=DN({},e),n=0;return an(e,function(r,i){delete t[i],an(t,function(s){var u=Math.abs(r.startX-s.startX),l=Math.abs(r.startY-s.startY),c=Math.abs(r.endX-s.endX),d=Math.abs(r.endY-s.endY),p=Math.sqrt(u*u+l*l),f=Math.sqrt(c*c+d*d),m=(f-p)/p;Math.abs(m)>Math.abs(n)&&(n=m)})}),n}function _h(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:DN({startX:n,startY:r},i)}function P9(e){var t=0,n=0,r=0;return an(e,function(i){var s=i.startX,u=i.startY;t+=s,n+=u,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function Do(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=lx(r),u=lx(n);if(s&&u){var l=n*t;i==="contain"&&l>r||i==="cover"&&l<r?n=r/t:r=n*t}else s?n=r/t:u&&(r=n*t);return{width:r,height:n}}function R9(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var i=r%90*Math.PI/180,s=Math.sin(i),u=Math.cos(i),l=t*u+n*s,c=t*s+n*u;return r>90?{width:c,height:l}:{width:l,height:c}}function D9(e,t,n,r){var i=t.aspectRatio,s=t.naturalWidth,u=t.naturalHeight,l=t.rotate,c=l===void 0?0:l,d=t.scaleX,p=d===void 0?1:d,f=t.scaleY,m=f===void 0?1:f,v=n.aspectRatio,b=n.naturalWidth,w=n.naturalHeight,S=r.fillColor,E=S===void 0?"transparent":S,x=r.imageSmoothingEnabled,C=x===void 0?!0:x,D=r.imageSmoothingQuality,V=D===void 0?"low":D,A=r.maxWidth,G=A===void 0?1/0:A,F=r.maxHeight,P=F===void 0?1/0:F,U=r.minWidth,k=U===void 0?0:U,q=r.minHeight,K=q===void 0?0:q,me=document.createElement("canvas"),Se=me.getContext("2d"),ie=Do({aspectRatio:v,width:G,height:P}),Re=Do({aspectRatio:v,width:k,height:K},"cover"),Ve=Math.min(ie.width,Math.max(Re.width,b)),Je=Math.min(ie.height,Math.max(Re.height,w)),Lt=Do({aspectRatio:i,width:G,height:P}),Ot=Do({aspectRatio:i,width:k,height:K},"cover"),Pt=Math.min(Lt.width,Math.max(Ot.width,s)),Tt=Math.min(Lt.height,Math.max(Ot.height,u)),Fn=[-Pt/2,-Tt/2,Pt,Tt];return me.width=ru(Ve),me.height=ru(Je),Se.fillStyle=E,Se.fillRect(0,0,Ve,Je),Se.save(),Se.translate(Ve/2,Je/2),Se.rotate(c*Math.PI/180),Se.scale(p,m),Se.imageSmoothingEnabled=C,Se.imageSmoothingQuality=V,Se.drawImage.apply(Se,[e].concat(LN(Fn.map(function(we){return Math.floor(ru(we))})))),Se.restore(),me}var XN=String.fromCharCode;function M9(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=XN(e.getUint8(i));return r}var L9=/^data:.*,/;function V9(e){var t=e.replace(L9,""),n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return an(i,function(s,u){i[u]=n.charCodeAt(u)}),r}function F9(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(XN.apply(null,HN(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function j9(e){var t=new DataView(e),n;try{var r,i,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var u=t.byteLength,l=2;l+1<u;){if(t.getUint8(l)===255&&t.getUint8(l+1)===225){i=l;break}l+=1}if(i){var c=i+4,d=i+10;if(M9(t,c,4)==="Exif"){var p=t.getUint16(d);if(r=p===18761,(r||p===19789)&&t.getUint16(d+2,r)===42){var f=t.getUint32(d+4,r);f>=8&&(s=d+f)}}}if(s){var m=t.getUint16(s,r),v,b;for(b=0;b<m;b+=1)if(v=s+b*12+2,t.getUint16(v,r)===274){v+=8,n=t.getUint16(v,r),t.setUint16(v,1,r);break}}}catch{n=1}return n}function U9(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var $9={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,i=this.cropper,s=Number(n.minContainerWidth),u=Number(n.minContainerHeight);gn(i,sr),xi(t,sr);var l={width:Math.max(r.offsetWidth,s>=0?s:BN),height:Math.max(r.offsetHeight,u>=0?u:zN)};this.containerData=l,Ro(i,{width:l.width,height:l.height}),gn(t,sr),xi(i,sr)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,s=i?n.naturalHeight:n.naturalWidth,u=i?n.naturalWidth:n.naturalHeight,l=s/u,c=t.width,d=t.height;t.height*l>t.width?r===3?c=t.height*l:d=t.width/l:r===3?d=t.width/l:c=t.height*l;var p={aspectRatio:l,naturalWidth:s,naturalHeight:u,width:c,height:d};this.canvasData=p,this.limited=r===1||r===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(t.width-p.width)/2,p.top=(t.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=Ut({},p)},limitCanvas:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,u=this.cropBoxData,l=r.viewMode,c=s.aspectRatio,d=this.cropped&&u;if(t){var p=Number(r.minCanvasWidth)||0,f=Number(r.minCanvasHeight)||0;l>1?(p=Math.max(p,i.width),f=Math.max(f,i.height),l===3&&(f*c>p?p=f*c:f=p/c)):l>0&&(p?p=Math.max(p,d?u.width:0):f?f=Math.max(f,d?u.height:0):d&&(p=u.width,f=u.height,f*c>p?p=f*c:f=p/c));var m=Do({aspectRatio:c,width:p,height:f});p=m.width,f=m.height,s.minWidth=p,s.minHeight=f,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(l>(d?0:1)){var v=i.width-s.width,b=i.height-s.height;s.minLeft=Math.min(0,v),s.minTop=Math.min(0,b),s.maxLeft=Math.max(0,v),s.maxTop=Math.max(0,b),d&&this.limited&&(s.minLeft=Math.min(u.left,u.left+(u.width-s.width)),s.minTop=Math.min(u.top,u.top+(u.height-s.height)),s.maxLeft=u.left,s.maxTop=u.top,l===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,v),s.maxLeft=Math.max(0,v)),s.height>=i.height&&(s.minTop=Math.min(0,b),s.maxTop=Math.max(0,b))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(t,n){var r=this.canvasData,i=this.imageData;if(n){var s=R9({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),u=s.width,l=s.height,c=r.width*(u/r.naturalWidth),d=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(d-r.height)/2,r.width=c,r.height=d,r.aspectRatio=u/l,r.naturalWidth=u,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,Ro(this.canvas,Ut({width:r.width,height:r.height},Wl({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),s=r.naturalHeight*(n.height/n.naturalHeight);Ut(r,{width:i,height:s,left:(n.width-i)/2,top:(n.height-s)/2}),Ro(this.image,Ut({width:r.width,height:r.height},Wl(Ut({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,s={width:n.width,height:n.height};r&&(n.height*r>n.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Ut({},s)},limitCropBox:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,u=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(t){var d=Number(r.minCropBoxWidth)||0,p=Number(r.minCropBoxHeight)||0,f=l?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,m=l?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;d=Math.min(d,i.width),p=Math.min(p,i.height),c&&(d&&p?p*c>d?p=d/c:d=p*c:d?p=d/c:p&&(d=p*c),m*c>f?m=f/c:f=m*c),u.minWidth=Math.min(d,f),u.minHeight=Math.min(p,m),u.maxWidth=f,u.maxHeight=m}n&&(l?(u.minLeft=Math.max(0,s.left),u.minTop=Math.max(0,s.top),u.maxLeft=Math.min(i.width,s.left+s.width)-u.width,u.maxTop=Math.min(i.height,s.top+s.height)-u.height):(u.minLeft=0,u.minTop=0,u.maxLeft=i.width-u.width,u.maxTop=i.height-u.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&Ic(this.face,Tc,r.width>=n.width&&r.height>=n.height?FN:fw),Ro(this.cropBox,Ut({width:r.width,height:r.height},Wl({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),iu(this.element,t0,this.getData())}},B9={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",u=document.createElement("img");if(n&&(u.crossOrigin=n),u.src=i,u.alt=s,this.viewBox.appendChild(u),this.viewBoxImage=u,!!r){var l=r;typeof r=="string"?l=t.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,an(l,function(c){var d=document.createElement("img");Ic(c,wh,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(d.crossOrigin=n),d.src=i,d.alt=s,d.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(d)})}},resetPreview:function(){an(this.previews,function(t){var n=s0(t,wh);Ro(t,{width:n.width,height:n.height}),t.innerHTML=n.html,k9(t,wh)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,u=t.width,l=t.height,c=r.left-n.left-t.left,d=r.top-n.top-t.top;!this.cropped||this.disabled||(Ro(this.viewBoxImage,Ut({width:u,height:l},Wl(Ut({translateX:-c,translateY:-d},t)))),an(this.previews,function(p){var f=s0(p,wh),m=f.width,v=f.height,b=m,w=v,S=1;i&&(S=m/i,w=s*S),s&&w>v&&(S=v/s,b=i*S,w=v),Ro(p,{width:b,height:w}),Ro(p.getElementsByTagName("img")[0],Ut({width:u*S,height:l*S},Wl(Ut({translateX:-c*S,translateY:-d*S},t))))}))}},z9={bind:function(){var t=this.element,n=this.options,r=this.cropper;ir(n.cropstart)&&jr(t,i0,n.cropstart),ir(n.cropmove)&&jr(t,r0,n.cropmove),ir(n.cropend)&&jr(t,n0,n.cropend),ir(n.crop)&&jr(t,t0,n.crop),ir(n.zoom)&&jr(t,o0,n.zoom),jr(r,tx,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&jr(r,sx,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&jr(r,ex,this.onDblclick=this.dblclick.bind(this)),jr(t.ownerDocument,nx,this.onCropMove=this.cropMove.bind(this)),jr(t.ownerDocument,rx,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&jr(window,ox,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;ir(n.cropstart)&&ei(t,i0,n.cropstart),ir(n.cropmove)&&ei(t,r0,n.cropmove),ir(n.cropend)&&ei(t,n0,n.cropend),ir(n.crop)&&ei(t,t0,n.crop),ir(n.zoom)&&ei(t,o0,n.zoom),ei(r,tx,this.onCropStart),n.zoomable&&n.zoomOnWheel&&ei(r,sx,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ei(r,ex,this.onDblclick),ei(t.ownerDocument,nx,this.onCropMove),ei(t.ownerDocument,rx,this.onCropEnd),n.responsive&&ei(window,ox,this.onResize)}},H9={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,s=n.offsetHeight/r.height,u=Math.abs(i-1)>Math.abs(s-1)?i:s;if(u!==1){var l,c;t.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(an(l,function(d,p){l[p]=d*u})),this.setCropBoxData(an(c,function(d,p){c[p]=d*u})))}}},dblclick:function(){this.disabled||this.options.dragMode===$N||this.setDragMode(A9(this.dragBox,Zy)?UN:hw)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(rt(n)&&n!==1||rt(r)&&r!==0||t.ctrlKey))){var i=this.options,s=this.pointers,u;t.changedTouches?an(t.changedTouches,function(l){s[l.identifier]=_h(l)}):s[t.pointerId||0]=_h(t),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?u=jN:u=s0(t.target,Tc),v9.test(u)&&iu(this.element,i0,{originalEvent:t,action:u})!==!1&&(t.preventDefault(),this.action=u,this.cropping=!1,u===VN&&(this.cropping=!0,gn(this.dragBox,Ad)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),iu(this.element,r0,{originalEvent:t,action:n})!==!1&&(t.changedTouches?an(t.changedTouches,function(i){Ut(r[i.identifier]||{},_h(i,!0))}):Ut(r[t.pointerId||0]||{},_h(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?an(t.changedTouches,function(i){delete r[i.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Ka(this.dragBox,Ad,this.cropped&&this.options.modal)),iu(this.element,n0,{originalEvent:t,action:n}))}}},G9={change:function(t){var n=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,u=this.pointers,l=this.action,c=n.aspectRatio,d=s.left,p=s.top,f=s.width,m=s.height,v=d+f,b=p+m,w=0,S=0,E=i.width,x=i.height,C=!0,D;!c&&t.shiftKey&&(c=f&&m?f/m:1),this.limited&&(w=s.minLeft,S=s.minTop,E=w+Math.min(i.width,r.width,r.left+r.width),x=S+Math.min(i.height,r.height,r.top+r.height));var V=u[Object.keys(u)[0]],A={x:V.endX-V.startX,y:V.endY-V.startY},G=function(P){switch(P){case Cs:v+A.x>E&&(A.x=E-v);break;case ks:d+A.x<w&&(A.x=w-d);break;case yo:p+A.y<S&&(A.y=S-p);break;case ja:b+A.y>x&&(A.y=x-b);break}};switch(l){case fw:d+=A.x,p+=A.y;break;case Cs:if(A.x>=0&&(v>=E||c&&(p<=S||b>=x))){C=!1;break}G(Cs),f+=A.x,f<0&&(l=ks,f=-f,d-=f),c&&(m=f/c,p+=(s.height-m)/2);break;case yo:if(A.y<=0&&(p<=S||c&&(d<=w||v>=E))){C=!1;break}G(yo),m-=A.y,p+=A.y,m<0&&(l=ja,m=-m,p-=m),c&&(f=m*c,d+=(s.width-f)/2);break;case ks:if(A.x<=0&&(d<=w||c&&(p<=S||b>=x))){C=!1;break}G(ks),f-=A.x,d+=A.x,f<0&&(l=Cs,f=-f,d-=f),c&&(m=f/c,p+=(s.height-m)/2);break;case ja:if(A.y>=0&&(b>=x||c&&(d<=w||v>=E))){C=!1;break}G(ja),m+=A.y,m<0&&(l=yo,m=-m,p-=m),c&&(f=m*c,d+=(s.width-f)/2);break;case Cl:if(c){if(A.y<=0&&(p<=S||v>=E)){C=!1;break}G(yo),m-=A.y,p+=A.y,f=m*c}else G(yo),G(Cs),A.x>=0?v<E?f+=A.x:A.y<=0&&p<=S&&(C=!1):f+=A.x,A.y<=0?p>S&&(m-=A.y,p+=A.y):(m-=A.y,p+=A.y);f<0&&m<0?(l=Nl,m=-m,f=-f,p-=m,d-=f):f<0?(l=kl,f=-f,d-=f):m<0&&(l=Ol,m=-m,p-=m);break;case kl:if(c){if(A.y<=0&&(p<=S||d<=w)){C=!1;break}G(yo),m-=A.y,p+=A.y,f=m*c,d+=s.width-f}else G(yo),G(ks),A.x<=0?d>w?(f-=A.x,d+=A.x):A.y<=0&&p<=S&&(C=!1):(f-=A.x,d+=A.x),A.y<=0?p>S&&(m-=A.y,p+=A.y):(m-=A.y,p+=A.y);f<0&&m<0?(l=Ol,m=-m,f=-f,p-=m,d-=f):f<0?(l=Cl,f=-f,d-=f):m<0&&(l=Nl,m=-m,p-=m);break;case Nl:if(c){if(A.x<=0&&(d<=w||b>=x)){C=!1;break}G(ks),f-=A.x,d+=A.x,m=f/c}else G(ja),G(ks),A.x<=0?d>w?(f-=A.x,d+=A.x):A.y>=0&&b>=x&&(C=!1):(f-=A.x,d+=A.x),A.y>=0?b<x&&(m+=A.y):m+=A.y;f<0&&m<0?(l=Cl,m=-m,f=-f,p-=m,d-=f):f<0?(l=Ol,f=-f,d-=f):m<0&&(l=kl,m=-m,p-=m);break;case Ol:if(c){if(A.x>=0&&(v>=E||b>=x)){C=!1;break}G(Cs),f+=A.x,m=f/c}else G(ja),G(Cs),A.x>=0?v<E?f+=A.x:A.y>=0&&b>=x&&(C=!1):f+=A.x,A.y>=0?b<x&&(m+=A.y):m+=A.y;f<0&&m<0?(l=kl,m=-m,f=-f,p-=m,d-=f):f<0?(l=Nl,f=-f,d-=f):m<0&&(l=Cl,m=-m,p-=m);break;case FN:this.move(A.x,A.y),C=!1;break;case jN:this.zoom(N9(u),t),C=!1;break;case VN:if(!A.x||!A.y){C=!1;break}D=WN(this.cropper),d=V.startX-D.left,p=V.startY-D.top,f=s.minWidth,m=s.minHeight,A.x>0?l=A.y>0?Ol:Cl:A.x<0&&(d-=f,l=A.y>0?Nl:kl),A.y<0&&(p-=m),this.cropped||(xi(this.cropBox,sr),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}C&&(s.width=f,s.height=m,s.left=d,s.top=p,this.action=l,this.renderCropBox()),an(u,function(F){F.startX=F.endX,F.startY=F.endY})}},q9={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&gn(this.dragBox,Ad),xi(this.cropBox,sr),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ut({},this.initialImageData),this.canvasData=Ut({},this.initialCanvasData),this.cropBoxData=Ut({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ut(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),xi(this.dragBox,Ad),gn(this.cropBox,sr)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,an(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,xi(this.cropper,JI)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,gn(this.cropper,JI)),this},destroy:function(){var t=this.element;return t[jt]?(t[jt]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(Uv(t)?t:i+Number(t),Uv(n)?n:s+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(rt(t)&&(r.left=t,i=!0),rt(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var i=this.options,s=this.canvasData,u=s.width,l=s.height,c=s.naturalWidth,d=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var p=c*t,f=d*t;if(iu(this.element,o0,{ratio:t,oldRatio:u/c,originalEvent:r})===!1)return this;if(r){var m=this.pointers,v=WN(this.cropper),b=m&&Object.keys(m).length?P9(m):{pageX:r.pageX,pageY:r.pageY};s.left-=(p-u)*((b.pageX-v.left-s.left)/u),s.top-=(f-l)*((b.pageY-v.top-s.top)/l)}else Xa(n)&&rt(n.x)&&rt(n.y)?(s.left-=(p-u)*((n.x-s.left)/u),s.top-=(f-l)*((n.y-s.top)/l)):(s.left-=(p-u)/2,s.top-=(f-l)/2);s.width=p,s.height=f,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),rt(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,rt(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(rt(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(rt(t)&&(r.scaleX=t,i=!0),rt(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,u;if(this.ready&&this.cropped){u={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var l=r.width/r.naturalWidth;if(an(u,function(p,f){u[f]=p/l}),t){var c=Math.round(u.y+u.height),d=Math.round(u.x+u.width);u.x=Math.round(u.x),u.y=Math.round(u.y),u.width=d-u.x,u.height=c-u.y}}else u={x:0,y:0,width:0,height:0};return n.rotatable&&(u.rotate=r.rotate||0),n.scalable&&(u.scaleX=r.scaleX||1,u.scaleY=r.scaleY||1),u},setData:function(t){var n=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&Xa(t)){var u=!1;n.rotatable&&rt(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,u=!0),n.scalable&&(rt(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,u=!0),rt(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,u=!0)),u&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;rt(t.x)&&(s.left=t.x*l+i.left),rt(t.y)&&(s.top=t.y*l+i.top),rt(t.width)&&(s.width=t.width*l),rt(t.height)&&(s.height=t.height*l),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Ut({},this.containerData):{}},getImageData:function(){return this.sized?Ut({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&an(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Xa(t)&&(rt(t.left)&&(n.left=t.left),rt(t.top)&&(n.top=t.top),rt(t.width)?(n.width=t.width,n.height=t.width/r):rt(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&Xa(t)&&(rt(t.left)&&(n.left=t.left),rt(t.top)&&(n.top=t.top),rt(t.width)&&t.width!==n.width&&(i=!0,n.width=t.width),rt(t.height)&&t.height!==n.height&&(s=!0,n.height=t.height),r&&(i?n.height=n.width/r:s&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=D9(this.image,this.imageData,n,t);if(!this.cropped)return r;var i=this.getData(t.rounded),s=i.x,u=i.y,l=i.width,c=i.height,d=r.width/Math.floor(n.naturalWidth);d!==1&&(s*=d,u*=d,l*=d,c*=d);var p=l/c,f=Do({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),m=Do({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=Do({aspectRatio:p,width:t.width||(d!==1?r.width:l),height:t.height||(d!==1?r.height:c)}),b=v.width,w=v.height;b=Math.min(f.width,Math.max(m.width,b)),w=Math.min(f.height,Math.max(m.height,w));var S=document.createElement("canvas"),E=S.getContext("2d");S.width=ru(b),S.height=ru(w),E.fillStyle=t.fillColor||"transparent",E.fillRect(0,0,b,w);var x=t.imageSmoothingEnabled,C=x===void 0?!0:x,D=t.imageSmoothingQuality;E.imageSmoothingEnabled=C,D&&(E.imageSmoothingQuality=D);var V=r.width,A=r.height,G=s,F=u,P,U,k,q,K,me;G<=-l||G>V?(G=0,P=0,k=0,K=0):G<=0?(k=-G,G=0,P=Math.min(V,l+G),K=P):G<=V&&(k=0,P=Math.min(l,V-G),K=P),P<=0||F<=-c||F>A?(F=0,U=0,q=0,me=0):F<=0?(q=-F,F=0,U=Math.min(A,c+F),me=U):F<=A&&(q=0,U=Math.min(c,A-F),me=U);var Se=[G,F,P,U];if(K>0&&me>0){var ie=b/l;Se.push(k*ie,q*ie,K*ie,me*ie)}return E.drawImage.apply(E,[r].concat(LN(Se.map(function(Re){return Math.floor(ru(Re))})))),S},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!Uv(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=t===hw,u=n.movable&&t===UN;t=s||u?t:$N,n.dragMode=t,Ic(r,Tc,t),Ka(r,Zy,s),Ka(r,e0,u),n.cropBoxMovable||(Ic(i,Tc,t),Ka(i,Zy,s),Ka(i,e0,u))}return this}},W9=Pi.Cropper,KN=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s9(this,e),!t||!w9.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Ut({},ux,Xa(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return a9(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[jt]){if(n[jt]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(y9.test(n)){b9.test(n)?this.read(V9(n)):this.clone();return}var u=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=u,u.onabort=l,u.onerror=l,u.ontimeout=l,u.onprogress=function(){u.getResponseHeader("content-type")!==ax&&u.abort()},u.onload=function(){r.read(u.response)},u.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&cx(n)&&i.crossOrigin&&(n=fx(n)),u.open("GET",n,!0),u.responseType="arraybuffer",u.withCredentials=i.crossOrigin==="use-credentials",u.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,s=j9(n),u=0,l=1,c=1;if(s>1){this.url=F9(n,ax);var d=U9(s);u=d.rotate,l=d.scaleX,c=d.scaleY}r.rotatable&&(i.rotate=u),r.scalable&&(i.scaleX=l,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,s=r;this.options.checkCrossOrigin&&cx(r)&&(i||(i="anonymous"),s=fx(r)),this.crossOrigin=i,this.crossOriginUrl=s;var u=document.createElement("img");i&&(u.crossOrigin=i),u.src=s||r,u.alt=n.alt||"The image to crop",this.image=u,u.onload=this.start.bind(this),u.onerror=this.stop.bind(this),gn(u,ZI),n.parentNode.insertBefore(u,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Pi.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Pi.navigator.userAgent),s=function(d,p){Ut(n.imageData,{naturalWidth:d,naturalHeight:p,aspectRatio:d/p}),n.initialImageData=Ut({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var u=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=u,u.onload=function(){s(u.width,u.height),i||l.removeChild(u)},u.src=r.src,i||(u.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(u))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,s=n.parentNode,u=document.createElement("div");u.innerHTML=_9;var l=u.querySelector(".".concat(jt,"-container")),c=l.querySelector(".".concat(jt,"-canvas")),d=l.querySelector(".".concat(jt,"-drag-box")),p=l.querySelector(".".concat(jt,"-crop-box")),f=p.querySelector(".".concat(jt,"-face"));this.container=s,this.cropper=l,this.canvas=c,this.dragBox=d,this.cropBox=p,this.viewBox=l.querySelector(".".concat(jt,"-view-box")),this.face=f,c.appendChild(i),gn(n,sr),s.insertBefore(l,n.nextSibling),xi(i,ZI),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,gn(p,sr),r.guides||gn(p.getElementsByClassName("".concat(jt,"-dashed")),sr),r.center||gn(p.getElementsByClassName("".concat(jt,"-center")),sr),r.background&&gn(l,"".concat(jt,"-bg")),r.highlight||gn(f,d9),r.cropBoxMovable&&(gn(f,e0),Ic(f,Tc,fw)),r.cropBoxResizable||(gn(p.getElementsByClassName("".concat(jt,"-line")),sr),gn(p.getElementsByClassName("".concat(jt,"-point")),sr)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),ir(r.ready)&&jr(n,ix,r.ready,{once:!0}),iu(n,ix)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),xi(this.element,sr)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=W9,e}},{key:"setDefaults",value:function(n){Ut(ux,Xa(n)&&n)}}])}();Ut(KN.prototype,$9,B9,z9,H9,G9,q9);const X9={name:"CropperImage",data(){return{cropper:null,imageSrc:null,imageFile:[]}},emits:["isCloseCropper"],props:{tempCropperFile:{type:Object,require:!0}},methods:{initCropper(){this.cropper&&this.cropper.destroy();const e=this.$refs.cropImage;this.cropper=new KN(e,{aspectRatio:1,preview:".img-preview",viewMode:1,data:{x:0,y:0},minContainerHeight:600})},setImage(e){const t=new FileReader;t.readAsDataURL(this.tempCropperFile.file),t.onload=n=>{this.imageSrc=n.target.result,this.$nextTick(()=>{this.initCropper()})}},cropAndSave(){this.cropper.getCroppedCanvas().toBlob(e=>{const t=`cropped_${Date.now()}.jpeg`,n=new File([e],t,{type:"image/jpeg"}),r=URL.createObjectURL(n);this.$emit("isCloseCropper",{isClose:!0,file:n,imgUrl:r,imgType:this.tempCropperFile.imageType})},"image/jpeg")},closeCropper(){this.$emit("isCloseCropper",{isClose:!0}),this.cropper.destroy()}},mounted(){this.initCropper(),this.setImage()},beforeDestroy(){this.cropper&&this.cropper.destroy()}},K9={tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/90 right-0 left-0 z-40 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0"},Y9={class:"relative md:top-[20px] md:m-auto w-full max-w-lg h-auto"},Q9={class:"relative py-2 text-center bg-zinc-800 rounded-lg shadow dark:bg-gray-800"},J9=T("svg",{"aria-hidden":"true",class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Z9=[J9],eX={class:"mx-2"},tX={class:"max-w-lg relative"},nX=["src"],rX=T("div",{class:"absolute bottom-0 left-1 docs-preview"},[T("div",{class:"img-preview preview-md"})],-1),iX={class:"flex justify-center items-center mt-3"},oX={class:"w-full"};function sX(e,t,n,r,i,s){return le(),de("div",K9,[T("div",Y9,[T("div",Q9,[T("button",{type:"button",class:"text-rose-500 absolute top-2.5 right-2.5 z-50 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[0]||(t[0]=(...u)=>s.closeCropper&&s.closeCropper(...u))},Z9),T("div",eX,[T("div",tX,[T("img",{ref:"cropImage",src:i.imageSrc,alt:"Source Image"},null,8,nX),rX]),T("div",iX,[T("div",oX,[T("button",{type:"button",class:"w-full ml-1 py-1 rounded text-white bg-rose-600",onClick:t[1]||(t[1]=(...u)=>s.cropAndSave&&s.cropAndSave(...u))}," 確定裁切 ")])])])])])])}const YN=Et(X9,[["render",sX]]),aX={data(){return{toggle:!1,message:"",tempCropperFile:{},uploadSignerImgTempUrl:"",uploadAlbumImgTempUrl:"",uploadSchema:{albumSinger:"required",albumName:"required",albumGenre:"required",albumDesc:"required|min:3"},userData:{albumGenre:"America"}}},components:{ToastMessage:Di,CropperImag:YN},computed:{...Bt(qr,["albumMakeTemp"])},methods:{uploadSubmit(e){},uploadImg(e){return new Promise((t,n)=>{const r=e.target.files[0];if(!r)return;if(!["image/jpeg","image/png","image/jpg","image/bmp"].includes(r.type)){this.toggle=!this.toggle,this.message="請上傳圖片檔，如jpg、png、bmp檔等",n(new Error("Invalid file type."));return}const s=URL.createObjectURL(r),u=new Image;u.src=s,u.onload=()=>{const l=u.naturalWidth,c=u.naturalHeight;if(l!==c){this.toggle=!this.toggle,this.message="建議圖片為長、寬一樣的尺寸，例如500x500",n(new Error("Invalid image dimensions."));return}else if(l<200&&c<200){this.toggle=!this.toggle,this.message="圖片尺寸長、寬需大於200像素",n(new Error("Invalid image dimensions."));return}else t({file:r,imgUrl:s})}})},async uploadSignerImg(e){const{file:t,showAlert:n,message:r}=await fn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"signer"}},async uploadAlbumImg(e){const{file:t,showAlert:n,message:r}=await fn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"album"}},isCloseCropper(e={}){console.log("setClose => ",e);const{isClose:t,file:n,imgUrl:r,imgType:i}=e;i==="signer"?(this.uploadSignerImgTempUrl=r,this.albumMakeTemp.albumUploadSingnerImgFile=n):i==="album"&&(this.uploadAlbumImgTempUrl=r,this.albumMakeTemp.albumUploadAlbumImgFile=n),t&&(this.tempCropperFile={})}}},uX={class:"p-6"},lX={class:"flex justify-between gap-2"},cX={key:0,class:"mx-auto"},fX=["src"],hX={class:"absolute top-1 left-2 text-rose-500"},dX={key:0,class:"mx-auto"},pX=["src"],mX={class:"absolute top-1 left-2 text-rose-500"},gX=T("hr",{class:"my-6"},null,-1),vX=T("label",{class:"inline-block mb-2"},"歌手名稱",-1),yX=T("label",{class:"inline-block mb-2"},"專輯名稱",-1),bX=T("label",{class:"inline-block mb-2"},"專輯類型",-1),wX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Acoustic"},"原音樂 Acoustic",-1),_X=T("option",{class:"bg-gray-700 text-zinc-100",value:"Blues"},"藍調 Blues",-1),SX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Classical"},"古典 Classical",-1),EX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Country"},"鄉村音樂 Country",-1),TX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Dance"}," 電子舞曲 Dance / Electronica ",-1),IX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Drones"},"持續音 Drones",-1),xX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Dubstep"},"迴響貝斯 Dubstep",-1),AX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Easy Listening"}," 輕音樂 Easy Listening ",-1),CX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Folk"},"民歌 Folk",-1),kX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Funk"},"放克 Funk",-1),OX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Hip Hop"},"嘻哈 Hip Hop",-1),NX=T("option",{class:"bg-gray-700 text-zinc-100",value:"House"},"浩室 House",-1),PX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Kitsch"},"俗氣 Kitsch",-1),RX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Latin"},"拉丁 Latin",-1),DX=T("option",{class:"bg-gray-700 text-zinc-100",value:"March"},"進行曲 March",-1),MX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Metal"},"金屬 Metal",-1),LX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Opera"},"歌劇 Opera",-1),VX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Pop"},"流行曲 Pop",-1),FX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Rock"},"搖滾 Rock",-1),jX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Soul"},"騷靈 Soul",-1),UX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Urban / R&B"}," 都市 / 節奏藍調 Urban / R&Bl ",-1),$X=T("option",{class:"bg-gray-700 text-zinc-100",value:"World Music"}," 民俗音樂 World Music ",-1),BX=T("option",{class:"bg-gray-700 text-zinc-100",value:"Other"},"其他 Other",-1),zX=T("label",{class:"inline-block mb-2"},"專輯描述",-1),HX=T("label",{class:"inline-block mb-2"},"歌手描述",-1);function GX(e,t,n,r,i,s){const u=Ne("ToastMessage"),l=Ne("CropperImag"),c=Ne("vee-field"),d=Ne("ErrorMessage"),p=Ne("vee-form");return le(),de(mt,null,[Z(u,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),i.tempCropperFile.file?(le(),zo(l,{key:0,tempCropperFile:i.tempCropperFile,onIsCloseCropper:s.isCloseCropper},null,8,["tempCropperFile","onIsCloseCropper"])):Ar("",!0),T("div",uX,[T("div",lX,[T("label",{class:et(["relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"px-10":!i.uploadSignerImgTempUrl,"md:py-20 py-10":!i.uploadSignerImgTempUrl}])},[T("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=f=>s.uploadSignerImg(f))},null,32),i.uploadSignerImgTempUrl?(le(),de("img",{key:1,src:i.uploadSignerImgTempUrl,alt:""},null,8,fX)):(le(),de("h6",cX,"上傳歌手照片")),Ql(T("h6",hX," 歌手照片 ",512),[[Gh,i.uploadSignerImgTempUrl]])],2),T("label",{class:et(["relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"px-10":!i.uploadAlbumImgTempUrl,"md:py-20 py-10":!i.uploadAlbumImgTempUrl}])},[T("input",{type:"file",class:"hidden",onChange:t[1]||(t[1]=f=>s.uploadAlbumImg(f))},null,32),i.uploadAlbumImgTempUrl?(le(),de("img",{key:1,src:i.uploadAlbumImgTempUrl,alt:""},null,8,pX)):(le(),de("h6",dX,"上傳專輯封面")),Ql(T("h6",mX,"專輯封面",512),[[Gh,i.uploadAlbumImgTempUrl]])],2)]),gX,Z(p,{"validation-schema":i.uploadSchema,"initial-values":i.userData},{default:Rn(()=>[T("div",null,[vX,Z(c,{type:"text",name:"albumSinger",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"歌手名稱",modelValue:e.albumMakeTemp.albumSinger,"onUpdate:modelValue":t[2]||(t[2]=f=>e.albumMakeTemp.albumSinger=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumSinger"})]),T("div",null,[yX,Z(c,{type:"text",name:"albumName",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯名稱",modelValue:e.albumMakeTemp.albumName,"onUpdate:modelValue":t[3]||(t[3]=f=>e.albumMakeTemp.albumName=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumName"})]),T("div",null,[bX,Z(c,{as:"select",name:"albumGenre",class:"block w-full truncate py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",modelValue:e.albumMakeTemp.albumGenre,"onUpdate:modelValue":t[4]||(t[4]=f=>e.albumMakeTemp.albumGenre=f)},{default:Rn(()=>[wX,_X,SX,EX,TX,IX,xX,AX,CX,kX,OX,NX,PX,RX,DX,MX,LX,VX,FX,jX,UX,$X,BX]),_:1},8,["modelValue"]),Z(d,{class:"text-red-600",name:"albumGenre"})]),T("div",null,[zX,Z(c,{as:"textarea",name:"albumDesc",class:"block w-full h-24 py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"請描述您的專輯",modelValue:e.albumMakeTemp.albumDesc,"onUpdate:modelValue":t[5]||(t[5]=f=>e.albumMakeTemp.albumDesc=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumDesc"})]),T("div",null,[HX,Z(c,{as:"textarea",name:"albumSingerDesc",class:"block w-full h-24 py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"請描述您自己",modelValue:e.albumMakeTemp.albumSingerDesc,"onUpdate:modelValue":t[6]||(t[6]=f=>e.albumMakeTemp.albumSingerDesc=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumSingerDesc"})])]),_:1},8,["validation-schema","initial-values"])])],64)}const qX=Et(aX,[["render",GX]]),WX={props:{isShow:{type:Boolean,required:!0}},computed:{...In(hr,["uid"]),...Bt(qr,["albumMakeTemp"])},methods:{...xn(qr,["initalbumMakeTemp"]),async releaseToPublic(){const{albumID:e}=this.albumMakeTemp,t=Gr.doc("fundraising"),n=await t.get();try{if(await t.collection(this.uid).doc(e).update({isRelease:!0}),n.exists){let i=n.data().items;i.forEach(s=>(s.albumID===e&&(s.isRelease=!0),s)),await t.update({items:i})}this.initalbumMakeTemp(),this.$router.push({name:"home"})}catch(r){console.log("error => ",r)}},goToHome(){this.initalbumMakeTemp(),this.$router.push({name:"home"})}}},XX={class:"relative top-[120px] md:m-auto w-full max-w-sm h-auto"},KX={class:"relative py-4 text-center bg-zinc-800/90 rounded-lg shadow dark:bg-gray-800"},YX=T("svg",{class:"text-green-400 dark:text-gray-500 w-7 h-7 mb-1 mx-auto","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[T("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})],-1),QX=T("div",{class:"flex items-center justify-around pt-2 py-5"},[T("p",{class:"flex-1 text-gray-300 dark:text-gray-300 text-center"},ht("專輯已完成，是否要公開至網站上? "))],-1),JX={class:"flex justify-center items-center space-x-4"};function ZX(e,t,n,r,i,s){return le(),de("div",{id:"deleteModal",tabindex:"-1","aria-hidden":"true",class:et(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!n.isShow}])},[T("div",XX,[T("div",KX,[YX,QX,T("div",JX,[T("button",{"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-zinc-200 bg-black/10 rounded-lg border border-gray-500 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:t[0]||(t[0]=Be(u=>s.goToHome(),["prevent"]))}," 目前先不用 "),T("button",{type:"submit",class:"py-2 px-3 text-sm font-medium text-center text-white bg-green-500/80 rounded-lg hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500/ dark:hover:bg-red-600 dark:focus:ring-red-900",onClick:t[1]||(t[1]=Be(u=>s.releaseToPublic(),["prevent"]))}," 是 ")])])])],2)}const eK=Et(WX,[["render",ZX]]),tK={props:["isShow"]},nK=T("div",{role:"status",class:"absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2"},[T("svg",{"aria-hidden":"true",class:"w-10 h-1w-10 text-gray-300/90 animate-spin dark:text-gray-600 fill-rose-500",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[T("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})])],-1),rK=[nK];function iK(e,t,n,r,i,s){return le(),de("div",{class:et(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-[50] justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!n.isShow}])},rK,2)}const Cp=Et(tK,[["render",iK]]),oK={data(){return{toggle:!1,message:"",success:!1,uploadsTemp:[],uploadAvilable:!0,isComplete:!1,showLoading:!1}},components:{toastMessage:Di,alertCompleteConfirm:eK,Loading:Cp},computed:{...Bt(qr,["albumMakeTemp"]),...Bt(Ni,["isShowAlertConfirm"]),...In(hr,["uid"]),canBeSubmit(){if(this.albumMakeTemp.albumSinger==""||this.albumMakeTemp.albumName==""||this.albumMakeTemp.albumDesc==""||!this.albumMakeTemp.albumUploadSingnerImgFile.lastModified||!this.albumMakeTemp.albumUploadAlbumImgFile.lastModified||this.uploadsTemp.length===0)return!0}},methods:{uploadSong(e){[...e.target.files].forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsTemp.push({file:n,current_progress:0,icon:"",text_class:"",variant:"",isUploadComplete:!1,isUploading:!1})})},async uploadImage(e){return this.showLoading=!0,new Promise((t,n)=>{const s=Ur.ref().child(`images/${e.name}`).put(e);s.on("state_changed",u=>{},u=>{console.error("error => ",u),n(u)},async()=>{try{const u=await s.snapshot.ref.getDownloadURL();t(u)}catch(u){console.error("error => ",u),n(u)}})})},async uploadSignerImg(){const e=this.albumMakeTemp.albumUploadSingnerImgFile,t=await this.uploadImage(e);this.albumMakeTemp.albumSingerImg=t},async uploadAlbumImg(){const e=this.albumMakeTemp.albumUploadAlbumImgFile,t=await this.uploadImage(e);this.albumMakeTemp.albumImg=t},async storeToAlbum(){const e=`album_${Date.now()}_${Math.floor(Math.random()*1e4)}`;this.albumMakeTemp.albumID=e;const t={uid:this.uid,albumDesc:this.albumMakeTemp.albumDesc,albumImg:this.albumMakeTemp.albumImg,albumName:this.albumMakeTemp.albumName,albumSinger:this.albumMakeTemp.albumSinger,albumGenre:this.albumMakeTemp.albumGenre.toLocaleLowerCase(),albumSingerDesc:this.albumMakeTemp.albumSingerDesc,albumSingerImg:this.albumMakeTemp.albumSingerImg,albumID:e,isRelease:!1,type:"member_fundraising",createdAt:Ae.firestore.FieldValue.serverTimestamp(),fundraising_total:5e5,fundraising_raised:0,fundraising_count:0,fundraising_dueDate:"2024-11-01"},n=Gr.doc("fundraising"),r=nw.doc(this.uid);try{(await n.get()).exists?(await n.collection(this.uid).doc(e).set(t),t.createdAt=Date.now(),await n.update({items:Ae.firestore.FieldValue.arrayUnion(t)})):(await Gr.doc("fundraising").collection(this.uid).doc(e).set(t),t.createdAt=Date.now(),await Gr.doc("fundraising").set({items:[t]})),await r.update({albums:Ae.firestore.FieldValue.arrayUnion(e)})}catch(i){console.error("Error updating document: ",i);return}},async storeToSong(){this.showLoading=!1,this.uploadsTemp.forEach((e,t)=>{const i=Ur.ref().child(`fundraising_songss/${e.file.name}`).put(e.file);this.uploadsTemp[t].icon="fas fa-spinner fa-spin",this.uploadsTemp[t].variant="bg-blue-400",this.uploadsTemp[t].isUploading=!0,i.on("state_changed",s=>{let u=s.bytesTransferred/s.totalBytes*100;this.uploadsTemp[t].current_progress=u},s=>{this.uploadsTemp[t].variant="bg-red-400",this.uploadsTemp[t].icon="fa fa-times",this.uploadsTemp[t].text_class="text-red-400"},async()=>{try{const s={albumID:this.albumMakeTemp.albumID,album:this.albumMakeTemp.albumName,coverImg:this.albumMakeTemp.albumImg,uid:this.uid,display_name:this.albumMakeTemp.albumSinger,original_name:i.snapshot.ref.name,modified_name:fn.formatSongName(i.snapshot.ref.name),genre:this.albumMakeTemp.albumGenre.toLowerCase(),comment_count:0,type:"member_fundingraise",createdAt:Ae.firestore.FieldValue.serverTimestamp()};s.url=await i.snapshot.ref.getDownloadURL(),await kr.add(s)}catch(s){console.log("error => ",s);return}this.uploadsTemp[t].variant="bg-green-400",this.uploadsTemp[t].icon="fa fa-check",this.uploadsTemp[t].text_class="text-green-400",this.uploadsTemp[t].isUploadComplete=!0,this.uploadsTemp.length-1===t&&(this.isComplete=!0,this.uploadAvilable=!1)})})},deleteSong(e){this.uploadsTemp.length<1||this.uploadsTemp.splice(e,1)},async submit(){await this.uploadSignerImg(),await this.uploadAlbumImg(),await this.storeToAlbum(),await this.storeToSong()},formatIndex:fn.formatIndex,formatSongName:fn.formatSongName}},sK={class:"p-6"},aK={class:"cursor-pointer py-1.5 px-3 mr-2 rounded text-zinc-100 bg-rose-500 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400"},uK=T("span",null,"上傳歌曲檔案",-1),lK={class:"mt-4"},cK=T("p",{class:"mb-3 border-b-2 border-[#fff]/30 pb-2"},"要上傳的歌曲:",-1),fK={class:"flex items-center justify-between"},hK={class:"overflow-hidden flex items-center"},dK={class:"pl-2 truncate"},pK={class:""},mK=["onClick"],gK=T("i",{class:"fa fa-times"},null,-1),vK=[gK],yK={key:0,class:"flex h-4 mt-1 overflow-hidden bg-gray-200 rounded"},bK={class:"flex justify-end"},wK=["disabled"];function _K(e,t,n,r,i,s){const u=Ne("Loading"),l=Ne("alertCompleteConfirm"),c=Ne("toastMessage");return le(),de(mt,null,[Z(u,{isShow:i.showLoading},null,8,["isShow"]),Z(l,{isShow:i.isComplete},null,8,["isShow"]),Z(c,{toggle:i.toggle,message:i.message,success:i.success},null,8,["toggle","message","success"]),T("div",sK,[T("label",aK,[T("input",{type:"file",class:"hidden",multiple:"",onChange:t[0]||(t[0]=d=>s.uploadSong(d))},null,32),uK]),T("div",lK,[cK,(le(!0),de(mt,null,Ci(i.uploadsTemp,(d,p)=>(le(),de("div",{class:"mb-4",key:d.file.name},[T("div",{class:et(["border border-zinc-200 p-2 mb-4 rounded font-bold text-sm",d.text_class])},[T("div",fK,[T("div",hK,[T("i",{class:et(d.icon)},null,2),T("p",dK,ht(s.formatIndex(p))+". "+ht(s.formatSongName(d.file.name)),1)]),T("div",pK,[d.isUploadComplete?Ar("",!0):(le(),de("button",{key:0,class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:Be(f=>s.deleteSong(p),["prevent"])},vK,8,mK))])])],2),d.isUploading?(le(),de("div",yK,[T("div",{class:et(["transition-all progress-bar",d.variant]),style:Br({width:d.current_progress+"%"})},null,6)])):Ar("",!0)]))),128)),T("div",bK,[i.uploadAvilable?(le(),de("button",{key:0,type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-rose-500 w-30 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",disabled:s.canBeSubmit,onClick:t[1]||(t[1]=(...d)=>s.submit&&s.submit(...d))}," 確定上傳 ",8,wK)):Ar("",!0)])])])],64)}const SK=Et(oK,[["render",_K]]),EK={components:{UploadImageMakeAlbum:qX,UploadSongMakeAlbum:SK}},TK={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},IK={class:"container mx-auto pt-1 pr-1 md:pr-0"},xK={class:"md:grid md:grid-cols-3 md:gap-4"},AK={class:"col-span-1"},CK={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},kK=T("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[T("span",{class:"card-title"},"開始製作專輯"),T("i",{class:"fa fa-music float-right text-rose-400 text-xl"})],-1),OK={class:"col-span-2 mt-3 md:mt-0"},NK={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},PK=T("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[T("span",{class:"card-title"},"您要上傳的歌曲"),T("i",{class:"fa fa-upload float-right text-rose-400 text-xl"})],-1);function RK(e,t,n,r,i,s){const u=Ne("UploadImageMakeAlbum"),l=Ne("UploadSongMakeAlbum");return le(),de("main",TK,[T("section",IK,[T("div",xK,[T("div",AK,[T("div",CK,[kK,Z(u)])]),T("div",OK,[T("div",NK,[PK,Z(l)])])])])])}const DK=Et(EK,[["render",RK]]),MK={data(){return{toggle:!1,message:"",tempCropperFile:{},uploadSignerImgTempUrl:"",uploadAlbumImgTempUrl:"",uploadSchema:{albumSinger:"required",albumName:"required",albumGenre:"required",albumDesc:"required|min:3"},userData:{albumGenre:"America"}}},props:["isClose"],components:{ToastMessage:Di,CropperImag:YN},computed:{...Bt(qr,["albumEditTemp"])},methods:{async uploadSignerImg(e){const{file:t,showAlert:n,message:r}=await fn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"signer"}},async uploadAlbumImg(e){const{file:t,showAlert:n,message:r}=await fn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"album"}},isCloseCropper(e={}){console.log("setClose => ",e);const{isClose:t,file:n,imgUrl:r,imgType:i}=e;i==="signer"?(this.uploadSignerImgTempUrl=r,this.albumEditTemp.albumUploadSingnerImgFile=n):i==="album"&&(this.uploadAlbumImgTempUrl=r,this.albumEditTemp.albumUploadAlbumImgFile=n),t&&(this.tempCropperFile={})}},watch:{isClose(){this.isClose||(this.uploadSignerImgTempUrl="",this.uploadAlbumImgTempUrl="")}}},LK={class:"md:order-1 md:w-[50%] w-full rounded border border-gray-200/70 px-3"},VK=T("div",{class:"px-1 pt-6 pb-3 font-bold border-b border-gray-200 flex justify-between"},[T("span",{class:"card-title"},"專輯資訊"),T("i",{class:"fa fa-music float-right text-rose-400 text-xl"})],-1),FK={class:"flex justify-between gap-5 mt-3"},jK={class:"relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid"},UK=["src"],$K=T("h6",{class:"absolute top-1 left-2 text-rose-500"},"歌手照片",-1),BK={class:"relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid"},zK=["src"],HK=T("h6",{class:"absolute top-1 left-2 text-rose-500"},"專輯封面",-1),GK=T("div",{class:"my-4 border-b-[1.5px] border-zinc-500"},null,-1),qK={class:"flex justify-start pl-1"},WK={class:"inline-flex items-center mb-3 cursor-pointer"},XK=T("span",{class:"mr-5"},"是否發佈 :",-1),KK=T("div",{class:"relative w-9 h-5 bg-white/20 border-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-rose-300 dark:peer-focus:ring-rose-500 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-rose-200 after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-rose-500"},null,-1),YK={key:0,class:"pl-2 text-emerald-500"},QK=T("i",{class:"fas fa-check-circle"},null,-1),JK={key:1,class:"pl-2 text-rose-600"},ZK=T("i",{class:"fas fa-bell"},null,-1),eY={class:"flex gap-2 items-center mb-3"},tY=T("label",{class:"w-20"},"歌手名稱 :",-1),nY={class:"flex gap-2 items-center mb-3"},rY=T("label",{class:"w-20"},"專輯名稱 :",-1),iY={class:"flex gap-2 items-center mb-3"},oY=T("label",{class:"w-20"},"專輯類型 :",-1),sY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Acoustic"},"原音樂 Acoustic",-1),aY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Blues"},"藍調 Blues",-1),uY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Classical"},"古典 Classical",-1),lY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Country"},"鄉村音樂 Country",-1),cY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Dance"}," 電子舞曲 Dance / Electronica ",-1),fY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Drones"},"持續音 Drones",-1),hY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Dubstep"},"迴響貝斯 Dubstep",-1),dY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Easy Listening"}," 輕音樂 Easy Listening ",-1),pY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Folk"},"民歌 Folk",-1),mY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Funk"},"放克 Funk",-1),gY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Hip Hop"},"嘻哈 Hip Hop",-1),vY=T("option",{class:"bg-gray-700 text-zinc-100",value:"House"},"浩室 House",-1),yY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Kitsch"},"俗氣 Kitsch",-1),bY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Latin"},"拉丁 Latin",-1),wY=T("option",{class:"bg-gray-700 text-zinc-100",value:"March"},"進行曲 March",-1),_Y=T("option",{class:"bg-gray-700 text-zinc-100",value:"Metal"},"金屬 Metal",-1),SY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Opera"},"歌劇 Opera",-1),EY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Pop"},"流行曲 Pop",-1),TY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Rock"},"搖滾 Rock",-1),IY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Soul"},"騷靈 Soul",-1),xY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Urban / R&B"}," 都市 / 節奏藍調 Urban / R&Bl ",-1),AY=T("option",{class:"bg-gray-700 text-zinc-100",value:"World Music"}," 民俗音樂 World Music ",-1),CY=T("option",{class:"bg-gray-700 text-zinc-100",value:"Other"},"其他 Other",-1),kY={class:"flex gap-2 items-center mb-3"},OY=T("label",{class:"w-20"},"歌手自介 :",-1),NY={class:"flex gap-2 items-center mb-3"},PY=T("label",{class:"w-20"},"專輯簡介 :",-1);function RY(e,t,n,r,i,s){const u=Ne("ToastMessage"),l=Ne("CropperImag"),c=Ne("vee-field"),d=Ne("ErrorMessage"),p=Ne("vee-form");return le(),de(mt,null,[Z(u,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),i.tempCropperFile.file?(le(),zo(l,{key:0,tempCropperFile:i.tempCropperFile,onIsCloseCropper:s.isCloseCropper},null,8,["tempCropperFile","onIsCloseCropper"])):Ar("",!0),T("div",LK,[VK,T("div",FK,[T("label",jK,[T("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=f=>s.uploadSignerImg(f))},null,32),T("img",{src:i.uploadSignerImgTempUrl?i.uploadSignerImgTempUrl:e.albumEditTemp.albumSingerImg,alt:""},null,8,UK),$K]),T("label",BK,[T("input",{type:"file",class:"hidden",onChange:t[1]||(t[1]=f=>s.uploadAlbumImg(f))},null,32),T("img",{src:i.uploadAlbumImgTempUrl?i.uploadAlbumImgTempUrl:e.albumEditTemp.albumImg,alt:""},null,8,zK),HK])]),GK,T("div",qK,[T("label",WK,[XK,Ql(T("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=f=>e.albumEditTemp.isRelease=f),class:"sr-only peer",onChange:t[3]||(t[3]=(...f)=>e.updateRelease&&e.updateRelease(...f))},null,544),[[sF,e.albumEditTemp.isRelease]]),KK,e.albumEditTemp.isRelease?(le(),de("span",YK,[Zl(" 發佈 "),QK])):(le(),de("span",JK,[Zl(" 不發佈 "),ZK]))])]),Z(p,{"validation-schema":i.uploadSchema,"initial-values":i.userData},{default:Rn(()=>[T("div",eY,[tY,Z(c,{type:"text",name:"albumSinger",class:"flex-1 py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"歌手名稱",modelValue:e.albumEditTemp.albumSinger,"onUpdate:modelValue":t[4]||(t[4]=f=>e.albumEditTemp.albumSinger=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumSinger"})]),T("div",nY,[rY,Z(c,{type:"text",name:"albumName",class:"flex-1 py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯名稱",modelValue:e.albumEditTemp.albumName,"onUpdate:modelValue":t[5]||(t[5]=f=>e.albumEditTemp.albumName=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumName"})]),T("div",iY,[oY,Z(c,{as:"select",name:"albumGenre",class:"flex-1 h-10 max-w-[75%] md:max-w-full truncate px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",modelValue:e.albumEditTemp.albumGenre,"onUpdate:modelValue":t[6]||(t[6]=f=>e.albumEditTemp.albumGenre=f)},{default:Rn(()=>[sY,aY,uY,lY,cY,fY,hY,dY,pY,mY,gY,vY,yY,bY,wY,_Y,SY,EY,TY,IY,xY,AY,CY]),_:1},8,["modelValue"]),Z(d,{class:"text-red-600",name:"albumGenre"})]),T("div",kY,[OY,Z(c,{as:"textarea",name:"albumSingerDesc",class:"flex-1 py-1.5 px-3 h-20 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"歌手自介",modelValue:e.albumEditTemp.albumSingerDesc,"onUpdate:modelValue":t[7]||(t[7]=f=>e.albumEditTemp.albumSingerDesc=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumSingerDesc"})]),T("div",NY,[PY,Z(c,{as:"textarea",name:"albumDesc",class:"flex-1 py-1.5 px-3 h-20 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯簡介",modelValue:e.albumEditTemp.albumDesc,"onUpdate:modelValue":t[8]||(t[8]=f=>e.albumEditTemp.albumDesc=f)},null,8,["modelValue"]),Z(d,{class:"text-pink-600",name:"albumDesc"})])]),_:1},8,["validation-schema","initial-values"])])],64)}const DY=Et(MK,[["render",RY]]),MY={data(){return{showLoading:!1,toggle:!1,message:"",uploadsNesSongs:[],deleteAlbumSongs:[]}},props:["isClose"],components:{Loading:Cp,toastMessage:Di},computed:{...Bt(qr,["albumEditTemp"]),...In(hr,["uid"])},methods:{...xn(qr,["initalbumEditTemp"]),async imageHandler(e){return new Promise((t,n)=>{const r=Ur.ref(),i=this.albumEditTemp.albumUploadSingnerImgFile,s=this.albumEditTemp.albumUploadAlbumImgFile,u=Ur.refFromURL(this.albumEditTemp.albumSingerImg),l=Ur.refFromURL(this.albumEditTemp.albumImg);if(e==="singerImg"&&i.lastModified){const d=r.child(`images/${i.name}`).put(i);d.on("state_changed",p=>{},p=>{console.error("error => ",p),n(p)},async()=>{try{await u.delete();const p=await d.snapshot.ref.getDownloadURL();t(p)}catch(p){console.error("error => ",p)}})}else if(e==="albumImg"&&s.lastModified){const d=r.child(`images/${s.name}`).put(s);d.on("state_changed",p=>{},p=>{console.error("error => ",p),n(p)},async()=>{try{await l.delete();const p=await d.snapshot.ref.getDownloadURL();console.log("ImgUrl_album => ",p),t(p)}catch(p){console.error("error => ",p)}})}else t()})},async updateAlbumData(){const e=Gr.doc("fundraising"),t=await e.get(),n=e.collection(this.uid).doc(this.albumEditTemp.albumID),r={...this.albumEditTemp,albumGenre:this.albumEditTemp.albumGenre.toLocaleLowerCase()};delete r.albumUploadAlbumImgFile,delete r.albumUploadSingnerImgFile,delete r.albumSongs,delete r.isLoading;const i=t.data().items.map(s=>this.albumEditTemp.albumID===s.albumID?{...s,...r}:s);await e.update({items:i}),await n.update({...r})},async updateSongData(){(await kr.where("albumID","==",this.albumEditTemp.albumSongs[0].albumID).get()).forEach(t=>{t.ref.update({display_name:this.albumEditTemp.albumSinger,coverImg:this.albumEditTemp.albumImg,album:this.albumEditTemp.albumName})})},addNewSong(e){[...e.target.files].forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsNesSongs.push(n)})},deleteAlbumSong(e,t,n){this.deleteAlbumSongs.push({songUrl:e,docID:t}),this.albumEditTemp.albumSongs.splice(n,1)},async deleteSongFromStorage(){const e=this.deleteAlbumSongs;if(!(e.length<1))return new Promise((t,n)=>{e.forEach(async(r,i)=>{const s=Ur.refFromURL(r.songUrl);console.log("songRef => ",s);try{await s.delete(),await kr.doc(r.docID).delete(),i===e.length-1&&t()}catch(u){console.log("catch_error => ",u)}})})},async storeToSong(){const e=this.uploadsNesSongs;if(!(e.length<1))return new Promise((t,n)=>{e.forEach((r,i)=>{const l=Ur.ref().child(`fundraising_songss/${r.name}`).put(r);l.on("state_changed",c=>{},c=>{console.log("task_error => ",c)},async()=>{try{const c={albumID:this.albumEditTemp.albumID,album:this.albumEditTemp.albumName,coverImg:this.albumEditTemp.albumImg,uid:this.uid,display_name:this.albumEditTemp.albumSinger,original_name:l.snapshot.ref.name,modified_name:fn.formatSongName(l.snapshot.ref.name),genre:this.albumEditTemp.albumGenre.toLowerCase(),comment_count:0,type:"member_fundingraise",createdAt:Ae.firestore.FieldValue.serverTimestamp()};c.url=await l.snapshot.ref.getDownloadURL(),await kr.add(c),i===e.length-1&&t()}catch(c){console.log("catch_error => ",c);return}})})})},async submitHandler(){this.showLoading=!0,this.albumEditTemp.albumSingerImg=await this.imageHandler("singerImg")||this.albumEditTemp.albumSingerImg,this.albumEditTemp.albumImg=await this.imageHandler("albumImg")||this.albumEditTemp.albumImg,await this.updateAlbumData(),await this.updateSongData(),await this.storeToSong(),await this.deleteSongFromStorage(),window.location.reload()},deleteNewSong(e){this.uploadsNesSongs.length<1||this.uploadsNesSongs.splice(e,1)},formatIndex:fn.formatIndex,formatSongName:fn.formatSongName},watch:{isClose(){this.isClose||(this.deleteAlbumSongs=[],this.uploadsNesSongs=[])}}},LY={class:"md:order-2 flex-1 rounded border border-gray-200/70 px-3"},VY=T("div",{class:"px-1 pt-6 pb-3 font-bold border-b border-gray-200 flex justify-between"},[T("span",{class:"card-title"},"已上傳的歌曲"),T("i",{class:"fa fa-upload float-right text-rose-400 text-xl"})],-1),FY={class:"mt-3"},jY={class:"flex items-center justify-between"},UY={class:"overflow-hidden flex items-center"},$Y=T("i",null,null,-1),BY={class:"pl-2 truncate"},zY={class:""},HY=["onClick"],GY=T("i",{class:"fa fa-times"},null,-1),qY=[GY],WY={class:"flex items-center justify-between"},XY={class:"overflow-hidden flex items-center"},KY=T("span",{class:"text-rose-500 italic"},"new",-1),YY={class:"pl-2 truncate"},QY={class:""},JY=["onClick"],ZY=T("i",{class:"fa fa-times"},null,-1),e3=[ZY],t3={class:"flex justify-between items-center mb-3"},n3={class:"cursor-pointer"},r3=T("i",{class:"fas fa-plus-square text-rose-500 text-3xl md:text-2xl"},null,-1);function i3(e,t,n,r,i,s){const u=Ne("Loading"),l=Ne("toastMessage");return le(),de(mt,null,[Z(u,{isShow:i.showLoading},null,8,["isShow"]),Z(l,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),T("div",LY,[VY,T("div",FY,[(le(!0),de(mt,null,Ci(e.albumEditTemp.albumSongs,(c,d)=>(le(),de("div",{key:d,class:"border border-zinc-200 p-2 mb-4 rounded font-bold text-sm"},[T("div",jY,[T("div",UY,[$Y,T("p",BY,ht(s.formatIndex(d))+". "+ht(c.modified_name),1)]),T("div",zY,[T("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:Be(p=>s.deleteAlbumSong(c.url,c.docID,d),["prevent"])},qY,8,HY)])])]))),128)),(le(!0),de(mt,null,Ci(i.uploadsNesSongs,(c,d)=>(le(),de("div",{key:c.lastModified,class:"border border-zinc-200 p-2 mb-4 rounded text-sm"},[T("div",WY,[T("div",XY,[KY,T("p",YY,ht(s.formatSongName(c.name)),1)]),T("div",QY,[T("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:Be(p=>s.deleteNewSong(d),["prevent"])},e3,8,JY)])])]))),128)),T("div",t3,[T("label",n3,[T("input",{type:"file",class:"hidden",multiple:"",onChange:t[0]||(t[0]=c=>s.addNewSong(c))},null,32),r3]),T("button",{type:"button",class:"w-auto py-1 px-3 rounded text-zinc-100 bg-rose-500 w-30 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",onClick:t[1]||(t[1]=(...c)=>s.submitHandler&&s.submitHandler(...c))}," 確定修改 ")])])])],64)}const o3=Et(MY,[["render",i3]]),s3={data(){return{close:!0,showLoading:!1}},props:["toggle","albumID"],emits:["closeTheWindow"],components:{SongInfoEdit:DY,SongUploadedEdit:o3,Loading:Cp},computed:{...In(Ni,["isShowAlertConfirm"]),...In(hr,["uid"]),...Bt(qr,["albumEditTemp"])},methods:{...xn(qr,["initalbumEditTemp"]),closeAlbumInfo(){this.close=!0,this.$emit("closeTheWindow",{closed:!0}),this.initalbumEditTemp()},async getAlbumData(e){this.showLoading=!0;const n=(await Gr.doc("fundraising").collection(this.uid).doc(e).get()).data();this.albumEditTemp.albumDesc=n.albumDesc,this.albumEditTemp.isRelease=n.isRelease,this.albumEditTemp.albumGenre=n.albumGenre[0].toUpperCase()+n.albumGenre.substring(1),this.albumEditTemp.albumID=n.albumID,this.albumEditTemp.albumImg=n.albumImg,this.albumEditTemp.albumName=n.albumName,this.albumEditTemp.albumSinger=n.albumSinger,this.albumEditTemp.albumSingerDesc=n.albumSingerDesc,this.albumEditTemp.albumSingerImg=n.albumSingerImg},async getSongs(e){(await kr.where("albumID","==",e).get()).forEach(n=>{this.albumEditTemp.albumSongs.push({...n.data(),docID:n.id})})}},watch:{toggle(){this.close=!1},async albumID(){this.albumID&&(await this.getAlbumData(this.albumID),await this.getSongs(this.albumID),this.showLoading=!1)}}},a3={class:"relative top-[10px] md:m-auto w-full max-w-5xl h-auto"},u3={class:"relative py-2 text-center bg-zinc-800 rounded-lg shadow dark:bg-gray-800"},l3=T("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[T("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),c3=T("span",{class:"sr-only"},"Close modal",-1),f3=[l3,c3],h3={class:"mx-2 flex justify-between md:flex-row flex-col gap-3"};function d3(e,t,n,r,i,s){const u=Ne("Loading"),l=Ne("SongInfoEdit"),c=Ne("SongUploadedEdit");return le(),de(mt,null,[Z(u,{isShow:i.showLoading},null,8,["isShow"]),T("div",{tabindex:"-1","aria-hidden":"true",class:et(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/70 right-0 left-0 z-40 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:i.close}])},[T("div",a3,[T("div",u3,[T("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[0]||(t[0]=(...d)=>s.closeAlbumInfo&&s.closeAlbumInfo(...d))},f3),T("div",h3,[Z(l,{isClose:i.close},null,8,["isClose"]),Z(c,{isClose:i.close},null,8,["isClose"])])])])],2)],64)}const p3=Et(s3,[["render",d3]]),m3={name:"Member-Manage",data(){return{deleteTempAlbum:{},albums:[],albumID:"",profileName:"",unsaveFlag:!1,toggle:!1,showLoading:!1}},components:{toastMessage:Di,MemberSongEdit:p3,alertDeleteConfirm:RN,Loading:Cp},computed:{...Bt(Ni,["delData","deleteData","alertMessage"])},methods:{...xn(Ni,["fireShowAlertConfirm"]),async openAlbum(e){this.toggle=!this.toggle,this.albumID=e},async getAlbums(e){const{albums:t,name:n}=(await nw.doc(e).get()).data();(await Gr.doc("fundraising").collection(e).orderBy("createdAt","desc").get()).forEach(i=>{this.albums.push({...i.data()})}),this.profileName=n,t&&t.forEach(i=>{})},async deleteAlbum(e,t){this.deleteTempAlbum={...e,index:t,urls:[]},this.fireShowAlertConfirm({msg:`是否刪除專輯【${e.albumName}】`})},async deleteAlbumCollection(){const e=Gr.doc("fundraising"),t=await e.get(),n=e.collection(this.deleteTempAlbum.uid).doc(this.deleteTempAlbum.albumID),r=t.data().items.filter(i=>this.deleteTempAlbum.albumID!==i.albumID);try{await n.delete(),await e.update({items:r})}catch(i){console.log("deleteAlbumCollection_error => ",i)}},async deleteSongCollection(){const e=await kr.where("albumID","==",this.deleteTempAlbum.albumID).get();try{e.forEach(async t=>{this.deleteTempAlbum.urls.push(t.data().url),await t.ref.delete()})}catch(t){console.log("deleteSongCollection_error => ",t)}},async deleteImgStorage(){const e=Ur.refFromURL(this.deleteTempAlbum.albumImg),t=Ur.refFromURL(this.deleteTempAlbum.albumSingerImg);try{await e.delete(),await t.delete()}catch(n){console.log("deleteImgStorage_error => ",n)}},async deleteSongStorage(){try{this.deleteTempAlbum.urls.forEach(async(e,t)=>{await Ur.refFromURL(e).delete()})}catch(e){console.log("deleteSongStorage => ",e)}},closeTheWindow(e){e.closed===!0&&(this.albumID="")}},watch:{async delData(){this.delData&&(this.showLoading=!0,await this.deleteAlbumCollection(),await this.deleteSongCollection(),await this.deleteImgStorage(),await this.deleteSongStorage(),window.location.reload())},alertMessage(){this.alertMessage||(this.deleteTempAlbum={})}},mounted(){this.getAlbums(this.$route.params.uid)}},g3={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},v3={class:"p-6 md:w-[550px] w-full bg-gradient-to-b from-zinc-900 to-zinc-700 rounded md:border border-transparent md:border-gray-200/40 mx-auto"},y3={class:"flex justify-around gap-0 items-center"},b3={class:"text-gray-500 flex justify-center w-28 h-28 rounded-full border-2 border-zinc-500"},w3=T("svg",{"data-encore-id":"icon",role:"img",viewBox:"0 0 24 24",fill:"currentColor",class:"w-16 h-1w-16"},[T("path",{d:"M10.165 11.101a2.5 2.5 0 0 1-.67 3.766L5.5 17.173A2.998 2.998 0 0 0 4 19.771v.232h16.001v-.232a3 3 0 0 0-1.5-2.598l-3.995-2.306a2.5 2.5 0 0 1-.67-3.766l.521-.626.002-.002c.8-.955 1.303-1.987 1.375-3.19.041-.706-.088-1.433-.187-1.727a3.717 3.717 0 0 0-.768-1.334 3.767 3.767 0 0 0-5.557 0c-.34.37-.593.82-.768 1.334-.1.294-.228 1.021-.187 1.727.072 1.203.575 2.235 1.375 3.19l.002.002.521.626zm5.727.657-.52.624a.5.5 0 0 0 .134.753l3.995 2.306a5 5 0 0 1 2.5 4.33v2.232H2V19.77a5 5 0 0 1 2.5-4.33l3.995-2.306a.5.5 0 0 0 .134-.753l-.518-.622-.002-.002c-1-1.192-1.735-2.62-1.838-4.356-.056-.947.101-1.935.29-2.49A5.713 5.713 0 0 1 7.748 2.87a5.768 5.768 0 0 1 8.505 0 5.713 5.713 0 0 1 1.187 2.043c.189.554.346 1.542.29 2.489-.103 1.736-.838 3.163-1.837 4.355m-.001.001z"})],-1),_3={class:"md:w-64 w-44"},S3=T("h5",null,"個人檔案",-1),E3=T("hr",{class:"my-6"},null,-1),T3=T("p",{class:"mb-3"},"已建立的專輯",-1),I3={class:"grid grid-cols-4 gap-2"},x3=["onClick"],A3=["src","onClick"];function C3(e,t,n,r,i,s){const u=Ne("Loading"),l=Ne("alertDeleteConfirm"),c=Ne("toastMessage"),d=Ne("MemberSongEdit");return le(),de("main",g3,[Z(u,{isShow:i.showLoading},null,8,["isShow"]),Z(l),Z(c),Z(d,{toggle:i.toggle,albumID:i.albumID,onCloseTheWindow:s.closeTheWindow},null,8,["toggle","albumID","onCloseTheWindow"]),T("div",v3,[T("div",y3,[T("label",b3,[T("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=p=>e.uploadSignerImg(p))},null,32),w3]),T("div",_3,[S3,T("p",null,ht(i.profileName),1)])]),E3,T3,T("div",I3,[(le(!0),de(mt,null,Ci(i.albums,(p,f)=>(le(),de("div",{key:p.albumID,class:"col-span-1 cursor-pointer relative"},[T("i",{class:"fas fa-trash-alt absolute left-1 text-rose-500 hover:text-teal-500 text-xl",onClick:Be(m=>s.deleteAlbum(p,f),["prevent"])},null,8,x3),T("img",{class:"rounded-md",src:p.albumImg,alt:"",onClick:Be(m=>s.openAlbum(p.albumID),["prevent"])},null,8,A3)]))),128))])])])}const k3=Et(m3,[["render",C3]]),O3=[{path:"/",name:"home",component:H8},{path:"/album/:gener/:albumSinger",name:"album",component:xW},{path:"/favSongList",name:"favSongList",component:i9},{path:"/makeAlbum",name:"makeAlbum",component:DK},{name:"admin-backStage",path:"/admin",component:I7,children:[]},{name:"member-backStage",path:"/member/:uid",component:k3,children:[]}],N3=Lq({history:fq("/vue-earphone-music"),routes:O3});let Ua=null;Ki.onAuthStateChanged(()=>{Ua||(Ua=hF(DG),Ua.use(gF()),Ua.use(N3),Ua.use(Tj),Ua.mount("#app"))});
