(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function y_(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ht={},Ru=[],ii=()=>{},IU=()=>!1,Cp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),b_=e=>e.startsWith("onUpdate:"),Sn=Object.assign,__=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},AU=Object.prototype.hasOwnProperty,wt=(e,t)=>AU.call(e,t),Be=Array.isArray,Du=e=>wf(e)==="[object Map]",pl=e=>wf(e)==="[object Set]",yS=e=>wf(e)==="[object Date]",Qe=e=>typeof e=="function",un=e=>typeof e=="string",ds=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",bk=e=>(Ut(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),_k=Object.prototype.toString,wf=e=>_k.call(e),xU=e=>wf(e).slice(8,-1),wk=e=>wf(e)==="[object Object]",w_=e=>un(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ic=y_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Np=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},kU=/-(\w)/g,zi=Np(e=>e.replace(kU,(t,n)=>n?n.toUpperCase():"")),CU=/\B([A-Z])/g,ml=Np(e=>e.replace(CU,"-$1").toLowerCase()),Op=Np(e=>e.charAt(0).toUpperCase()+e.slice(1)),ny=Np(e=>e?`on${Op(e)}`:""),ps=(e,t)=>!Object.is(e,t),bd=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Md=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Uc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},NU=e=>{const t=un(e)?Number(e):NaN;return isNaN(t)?e:t};let bS;const Ek=()=>bS||(bS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jr(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=un(r)?RU(r):jr(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(un(e)||Ut(e))return e}const OU=/;(?![^(]*\))/g,PU=/:([^]+)/,LU=/\/\*[^]*?\*\//g;function RU(e){const t={};return e.replace(LU,"").split(OU).forEach(n=>{if(n){const r=n.split(PU);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function We(e){let t="";if(un(e))t=e;else if(Be(e))for(let n=0;n<e.length;n++){const r=We(e[n]);r&&(t+=r+" ")}else if(Ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const DU="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",MU=y_(DU);function Tk(e){return!!e||e===""}function FU(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ef(e[r],t[r]);return n}function Ef(e,t){if(e===t)return!0;let n=yS(e),r=yS(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ds(e),r=ds(t),n||r)return e===t;if(n=Be(e),r=Be(t),n||r)return n&&r?FU(e,t):!1;if(n=Ut(e),r=Ut(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!Ef(e[a],t[a]))return!1}}return String(e)===String(t)}function E_(e,t){return e.findIndex(n=>Ef(n,t))}const K=e=>un(e)?e:e==null?"":Be(e)||Ut(e)&&(e.toString===_k||!Qe(e.toString))?JSON.stringify(e,Sk,2):String(e),Sk=(e,t)=>t&&t.__v_isRef?Sk(e,t.value):Du(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[ry(r,s)+" =>"]=i,n),{})}:pl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ry(n))}:ds(t)?ry(t):Ut(t)&&!Be(t)&&!wk(t)?String(t):t,ry=(e,t="")=>{var n;return ds(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;class Ik{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pr,!t&&Pr&&(this.index=(Pr.scopes||(Pr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Pr;try{return Pr=this,t()}finally{Pr=n}}}on(){Pr=this}off(){Pr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function T_(e){return new Ik(e)}function UU(e,t=Pr){t&&t.active&&t.effects.push(e)}function Ak(){return Pr}function VU(e){Pr&&Pr.cleanups.push(e)}let ya;class S_{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,UU(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Da();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&($U(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ma()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=as,n=ya;try{return as=!0,ya=this,this._runnings++,_S(this),this.fn()}finally{wS(this),this._runnings--,ya=n,as=t}}stop(){var t;this.active&&(_S(this),wS(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function $U(e){return e.value}function _S(e){e._trackId++,e._depsLength=0}function wS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)xk(e.deps[t],e);e.deps.length=e._depsLength}}function xk(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let as=!0,zy=0;const kk=[];function Da(){kk.push(as),as=!1}function Ma(){const e=kk.pop();as=e===void 0?!0:e}function I_(){zy++}function A_(){for(zy--;!zy&&qy.length;)qy.shift()()}function Ck(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&xk(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const qy=[];function Nk(e,t,n){I_();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&qy.push(r.scheduler)))}A_()}const Ok=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Fd=new WeakMap,ba=Symbol(""),Wy=Symbol("");function Ar(e,t,n){if(as&&ya){let r=Fd.get(e);r||Fd.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Ok(()=>r.delete(n))),Ck(ya,i)}}function ho(e,t,n,r,i,s){const a=Fd.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Be(e)){const c=Number(r);a.forEach((h,p)=>{(p==="length"||!ds(p)&&p>=c)&&l.push(h)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Be(e)?w_(n)&&l.push(a.get("length")):(l.push(a.get(ba)),Du(e)&&l.push(a.get(Wy)));break;case"delete":Be(e)||(l.push(a.get(ba)),Du(e)&&l.push(a.get(Wy)));break;case"set":Du(e)&&l.push(a.get(ba));break}I_();for(const c of l)c&&Nk(c,4);A_()}function jU(e,t){var n;return(n=Fd.get(e))==null?void 0:n.get(t)}const BU=y_("__proto__,__v_isRef,__isVue"),Pk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ds)),ES=HU();function HU(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=yt(this);for(let s=0,a=this.length;s<a;s++)Ar(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(yt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Da(),I_();const r=yt(this)[t].apply(this,n);return A_(),Ma(),r}}),e}function GU(e){const t=yt(this);return Ar(t,"has",e),t.hasOwnProperty(e)}class Lk{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?rV:Fk:s?Mk:Dk).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=Be(t);if(!i){if(a&&wt(ES,n))return Reflect.get(ES,n,r);if(n==="hasOwnProperty")return GU}const l=Reflect.get(t,n,r);return(ds(n)?Pk.has(n):BU(n))||(i||Ar(t,"get",n),s)?l:zt(l)?a&&w_(n)?l:l.value:Ut(l)?i?C_(l):_o(l):l}}class Rk extends Lk{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const c=Hu(s);if(!Ud(r)&&!Hu(r)&&(s=yt(s),r=yt(r)),!Be(t)&&zt(s)&&!zt(r))return c?!1:(s.value=r,!0)}const a=Be(t)&&w_(n)?Number(n)<t.length:wt(t,n),l=Reflect.set(t,n,r,i);return t===yt(i)&&(a?ps(r,s)&&ho(t,"set",n,r):ho(t,"add",n,r)),l}deleteProperty(t,n){const r=wt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ho(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ds(n)||!Pk.has(n))&&Ar(t,"has",n),r}ownKeys(t){return Ar(t,"iterate",Be(t)?"length":ba),Reflect.ownKeys(t)}}class zU extends Lk{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const qU=new Rk,WU=new zU,KU=new Rk(!0),x_=e=>e,Pp=e=>Reflect.getPrototypeOf(e);function qh(e,t,n=!1,r=!1){e=e.__v_raw;const i=yt(e),s=yt(t);n||(ps(t,s)&&Ar(i,"get",t),Ar(i,"get",s));const{has:a}=Pp(i),l=r?x_:n?O_:Vc;if(a.call(i,t))return l(e.get(t));if(a.call(i,s))return l(e.get(s));e!==i&&e.get(t)}function Wh(e,t=!1){const n=this.__v_raw,r=yt(n),i=yt(e);return t||(ps(e,i)&&Ar(r,"has",e),Ar(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Kh(e,t=!1){return e=e.__v_raw,!t&&Ar(yt(e),"iterate",ba),Reflect.get(e,"size",e)}function TS(e){e=yt(e);const t=yt(this);return Pp(t).has.call(t,e)||(t.add(e),ho(t,"add",e,e)),this}function SS(e,t){t=yt(t);const n=yt(this),{has:r,get:i}=Pp(n);let s=r.call(n,e);s||(e=yt(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?ps(t,a)&&ho(n,"set",e,t):ho(n,"add",e,t),this}function IS(e){const t=yt(this),{has:n,get:r}=Pp(t);let i=n.call(t,e);i||(e=yt(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&ho(t,"delete",e,void 0),s}function AS(){const e=yt(this),t=e.size!==0,n=e.clear();return t&&ho(e,"clear",void 0,void 0),n}function Yh(e,t){return function(r,i){const s=this,a=s.__v_raw,l=yt(a),c=t?x_:e?O_:Vc;return!e&&Ar(l,"iterate",ba),a.forEach((h,p)=>r.call(i,c(h),c(p),s))}}function Xh(e,t,n){return function(...r){const i=this.__v_raw,s=yt(i),a=Du(s),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=i[e](...r),p=n?x_:t?O_:Vc;return!t&&Ar(s,"iterate",c?Wy:ba),{next(){const{value:f,done:m}=h.next();return m?{value:f,done:m}:{value:l?[p(f[0]),p(f[1])]:p(f),done:m}},[Symbol.iterator](){return this}}}}function Do(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function YU(){const e={get(s){return qh(this,s)},get size(){return Kh(this)},has:Wh,add:TS,set:SS,delete:IS,clear:AS,forEach:Yh(!1,!1)},t={get(s){return qh(this,s,!1,!0)},get size(){return Kh(this)},has:Wh,add:TS,set:SS,delete:IS,clear:AS,forEach:Yh(!1,!0)},n={get(s){return qh(this,s,!0)},get size(){return Kh(this,!0)},has(s){return Wh.call(this,s,!0)},add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear"),forEach:Yh(!0,!1)},r={get(s){return qh(this,s,!0,!0)},get size(){return Kh(this,!0)},has(s){return Wh.call(this,s,!0)},add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear"),forEach:Yh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Xh(s,!1,!1),n[s]=Xh(s,!0,!1),t[s]=Xh(s,!1,!0),r[s]=Xh(s,!0,!0)}),[e,n,t,r]}const[XU,JU,QU,ZU]=YU();function k_(e,t){const n=t?e?ZU:QU:e?JU:XU;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(wt(n,i)&&i in r?n:r,i,s)}const eV={get:k_(!1,!1)},tV={get:k_(!1,!0)},nV={get:k_(!0,!1)},Dk=new WeakMap,Mk=new WeakMap,Fk=new WeakMap,rV=new WeakMap;function iV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function oV(e){return e.__v_skip||!Object.isExtensible(e)?0:iV(xU(e))}function _o(e){return Hu(e)?e:N_(e,!1,qU,eV,Dk)}function Uk(e){return N_(e,!1,KU,tV,Mk)}function C_(e){return N_(e,!0,WU,nV,Fk)}function N_(e,t,n,r,i){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=oV(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return i.set(e,l),l}function us(e){return Hu(e)?us(e.__v_raw):!!(e&&e.__v_isReactive)}function Hu(e){return!!(e&&e.__v_isReadonly)}function Ud(e){return!!(e&&e.__v_isShallow)}function Vk(e){return us(e)||Hu(e)}function yt(e){const t=e&&e.__v_raw;return t?yt(t):e}function Lp(e){return Object.isExtensible(e)&&Md(e,"__v_skip",!0),e}const Vc=e=>Ut(e)?_o(e):e,O_=e=>Ut(e)?C_(e):e;class $k{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new S_(()=>t(this._value),()=>_d(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=yt(this);return(!t._cacheable||t.effect.dirty)&&ps(t._value,t._value=t.effect.run())&&_d(t,4),jk(t),t.effect._dirtyLevel>=2&&_d(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function sV(e,t,n=!1){let r,i;const s=Qe(e);return s?(r=e,i=ii):(r=e.get,i=e.set),new $k(r,i,s||!i,n)}function jk(e){var t;as&&ya&&(e=yt(e),Ck(ya,(t=e.dep)!=null?t:e.dep=Ok(()=>e.dep=void 0,e instanceof $k?e:void 0)))}function _d(e,t=4,n){e=yt(e);const r=e.dep;r&&Nk(r,t)}function zt(e){return!!(e&&e.__v_isRef===!0)}function ot(e){return Bk(e,!1)}function Rp(e){return Bk(e,!0)}function Bk(e,t){return zt(e)?e:new aV(e,t)}class aV{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:yt(t),this._value=n?t:Vc(t)}get value(){return jk(this),this._value}set value(t){const n=this.__v_isShallow||Ud(t)||Hu(t);t=n?t:yt(t),ps(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Vc(t),_d(this,4))}}function Et(e){return zt(e)?e.value:e}function It(e){return Qe(e)?e():Et(e)}const uV={get:(e,t,n)=>Et(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return zt(i)&&!zt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Hk(e){return us(e)?e:new Proxy(e,uV)}function lV(e){const t=Be(e)?new Array(e.length):{};for(const n in e)t[n]=Gk(e,n);return t}class cV{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return jU(yt(this._object),this._key)}}class fV{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function la(e,t,n){return zt(e)?e:Qe(e)?new fV(e):Ut(e)&&arguments.length>1?Gk(e,t,n):ot(e)}function Gk(e,t,n){const r=e[t];return zt(r)?r:new cV(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ls(e,t,n,r){try{return r?e(...r):e()}catch(i){Dp(i,t,n)}}function oi(e,t,n,r){if(Qe(e)){const s=ls(e,t,n,r);return s&&bk(s)&&s.catch(a=>{Dp(a,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(oi(e[s],t,n,r));return i}function Dp(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const h=s.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,a,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){ls(c,null,10,[e,a,l]);return}}hV(e,n,i,r)}function hV(e,t,n,r=!0){console.error(e)}let $c=!1,Ky=!1;const Hn=[];let Vi=0;const Mu=[];let qo=null,ca=0;const zk=Promise.resolve();let P_=null;function or(e){const t=P_||zk;return e?t.then(this?e.bind(this):e):t}function dV(e){let t=Vi+1,n=Hn.length;for(;t<n;){const r=t+n>>>1,i=Hn[r],s=jc(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function L_(e){(!Hn.length||!Hn.includes(e,$c&&e.allowRecurse?Vi+1:Vi))&&(e.id==null?Hn.push(e):Hn.splice(dV(e.id),0,e),qk())}function qk(){!$c&&!Ky&&(Ky=!0,P_=zk.then(Kk))}function pV(e){const t=Hn.indexOf(e);t>Vi&&Hn.splice(t,1)}function mV(e){Be(e)?Mu.push(...e):(!qo||!qo.includes(e,e.allowRecurse?ca+1:ca))&&Mu.push(e),qk()}function xS(e,t,n=$c?Vi+1:0){for(;n<Hn.length;n++){const r=Hn[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Hn.splice(n,1),n--,r()}}}function Wk(e){if(Mu.length){const t=[...new Set(Mu)].sort((n,r)=>jc(n)-jc(r));if(Mu.length=0,qo){qo.push(...t);return}for(qo=t,ca=0;ca<qo.length;ca++)qo[ca]();qo=null,ca=0}}const jc=e=>e.id==null?1/0:e.id,gV=(e,t)=>{const n=jc(e)-jc(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Kk(e){Ky=!1,$c=!0,Hn.sort(gV);try{for(Vi=0;Vi<Hn.length;Vi++){const t=Hn[Vi];t&&t.active!==!1&&ls(t,null,14)}}finally{Vi=0,Hn.length=0,Wk(),$c=!1,P_=null,(Hn.length||Mu.length)&&Kk()}}function vV(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ht;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:m}=r[p]||Ht;m&&(i=n.map(v=>un(v)?v.trim():v)),f&&(i=n.map(Uc))}let l,c=r[l=ny(t)]||r[l=ny(zi(t))];!c&&s&&(c=r[l=ny(ml(t))]),c&&oi(c,e,6,i);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,oi(h,e,6,i)}}function Yk(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},l=!1;if(!Qe(e)){const c=h=>{const p=Yk(h,t,!0);p&&(l=!0,Sn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(Ut(e)&&r.set(e,null),null):(Be(s)?s.forEach(c=>a[c]=null):Sn(a,s),Ut(e)&&r.set(e,a),a)}function Mp(e,t){return!e||!Cp(t)?!1:(t=t.slice(2).replace(/Once$/,""),wt(e,t[0].toLowerCase()+t.slice(1))||wt(e,ml(t))||wt(e,t))}let Gn=null,Fp=null;function Vd(e){const t=Gn;return Gn=e,Fp=e&&e.type.__scopeId||null,t}function R_(e){Fp=e}function D_(){Fp=null}function Wn(e,t=Gn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&VS(-1);const s=Vd(t);let a;try{a=e(...i)}finally{Vd(s),r._d&&VS(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function iy(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:l,attrs:c,emit:h,render:p,renderCache:f,data:m,setupState:v,ctx:y,inheritAttrs:_}=e;let w,E;const k=Vd(e);try{if(n.shapeFlag&4){const C=i||r,M=C;w=Ui(p.call(M,C,f,s,v,m,y)),E=c}else{const C=t;w=Ui(C.length>1?C(s,{attrs:c,slots:l,emit:h}):C(s,null)),E=t.props?c:yV(c)}}catch(C){xc.length=0,Dp(C,e,1),w=ae(Ei)}let I=w;if(E&&_!==!1){const C=Object.keys(E),{shapeFlag:M}=I;C.length&&M&7&&(a&&C.some(b_)&&(E=bV(E,a)),I=gs(I,E))}return n.dirs&&(I=gs(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),w=I,Vd(k),w}const yV=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cp(n))&&((t||(t={}))[n]=e[n]);return t},bV=(e,t)=>{const n={};for(const r in e)(!b_(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function _V(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:l,patchFlag:c}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?kS(r,a,h):!!a;if(c&8){const p=t.dynamicProps;for(let f=0;f<p.length;f++){const m=p[f];if(a[m]!==r[m]&&!Mp(h,m))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?kS(r,a,h):!0:!!a;return!1}function kS(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Mp(n,s))return!0}return!1}function wV({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const M_="components";function De(e,t){return Jk(M_,e,!0,t)||e}const Xk=Symbol.for("v-ndc");function Up(e){return un(e)?Jk(M_,e,!1)||e:e||Xk}function Jk(e,t,n=!0,r=!1){const i=Gn||Nn;if(i){const s=i.type;if(e===M_){const l=d$(s,!1);if(l&&(l===t||l===zi(t)||l===Op(zi(t))))return s}const a=CS(i[e]||s[e],t)||CS(i.appContext[e],t);return!a&&r?s:a}}function CS(e,t){return e&&(e[t]||e[zi(t)]||e[Op(zi(t))])}const EV=e=>e.__isSuspense;function TV(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):mV(e)}const SV=Symbol.for("v-scx"),IV=()=>Br(SV);function Qk(e,t){return F_(e,null,t)}const Jh={};function Kn(e,t,n){return F_(e,t,n)}function F_(e,t,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:l}=Ht){if(t&&s){const A=t;t=(...j)=>{A(...j),M()}}const c=Nn,h=A=>r===!0?A:da(A,r===!1?1:void 0);let p,f=!1,m=!1;if(zt(e)?(p=()=>e.value,f=Ud(e)):us(e)?(p=()=>h(e),f=!0):Be(e)?(m=!0,f=e.some(A=>us(A)||Ud(A)),p=()=>e.map(A=>{if(zt(A))return A.value;if(us(A))return h(A);if(Qe(A))return ls(A,c,2)})):Qe(e)?t?p=()=>ls(e,c,2):p=()=>(v&&v(),oi(e,c,3,[y])):p=ii,t&&r){const A=p;p=()=>da(A())}let v,y=A=>{v=I.onStop=()=>{ls(A,c,4),v=I.onStop=void 0}},_;if(Bp)if(y=ii,t?n&&oi(t,c,3,[p(),m?[]:void 0,y]):p(),i==="sync"){const A=IV();_=A.__watcherHandles||(A.__watcherHandles=[])}else return ii;let w=m?new Array(e.length).fill(Jh):Jh;const E=()=>{if(!(!I.active||!I.dirty))if(t){const A=I.run();(r||f||(m?A.some((j,U)=>ps(j,w[U])):ps(A,w)))&&(v&&v(),oi(t,c,3,[A,w===Jh?void 0:m&&w[0]===Jh?[]:w,y]),w=A)}else I.run()};E.allowRecurse=!!t;let k;i==="sync"?k=E:i==="post"?k=()=>_r(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),k=()=>L_(E));const I=new S_(p,ii,k),C=Ak(),M=()=>{I.stop(),C&&__(C.effects,I)};return t?n?E():w=I.run():i==="post"?_r(I.run.bind(I),c&&c.suspense):I.run(),_&&_.push(M),M}function AV(e,t,n){const r=this.proxy,i=un(e)?e.includes(".")?Zk(r,e):()=>r[e]:e.bind(r,r);let s;Qe(t)?s=t:(s=t.handler,n=t);const a=If(this),l=F_(i,s.bind(r),n);return a(),l}function Zk(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function da(e,t,n=0,r){if(!Ut(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),zt(e))da(e.value,t,n,r);else if(Be(e))for(let i=0;i<e.length;i++)da(e[i],t,n,r);else if(pl(e)||Du(e))e.forEach(i=>{da(i,t,n,r)});else if(wk(e))for(const i in e)da(e[i],t,n,r);return e}function Sa(e,t){if(Gn===null)return e;const n=Hp(Gn)||Gn.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,l,c=Ht]=t[i];s&&(Qe(s)&&(s={mounted:s,updated:s}),s.deep&&da(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Zs(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];s&&(l.oldValue=s[a].value);let c=l.dir[r];c&&(Da(),oi(c,n,8,[e.el,l,e,t]),Ma())}}const Wo=Symbol("_leaveCb"),Qh=Symbol("_enterCb");function xV(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fa(()=>{e.isMounted=!0}),Tf(()=>{e.isUnmounting=!0}),e}const ei=[Function,Array],eC={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ei,onEnter:ei,onAfterEnter:ei,onEnterCancelled:ei,onBeforeLeave:ei,onLeave:ei,onAfterLeave:ei,onLeaveCancelled:ei,onBeforeAppear:ei,onAppear:ei,onAfterAppear:ei,onAppearCancelled:ei},kV={name:"BaseTransition",props:eC,setup(e,{slots:t}){const n=Wi(),r=xV();return()=>{const i=t.default&&nC(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const m of i)if(m.type!==Ei){s=m;break}}const a=yt(e),{mode:l}=a;if(r.isLeaving)return oy(s);const c=NS(s);if(!c)return oy(s);const h=Yy(c,a,r,n);Xy(c,h);const p=n.subTree,f=p&&NS(p);if(f&&f.type!==Ei&&!fa(c,f)){const m=Yy(f,a,r,n);if(Xy(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},oy(s);l==="in-out"&&c.type!==Ei&&(m.delayLeave=(v,y,_)=>{const w=tC(r,f);w[String(f.key)]=f,v[Wo]=()=>{y(),v[Wo]=void 0,delete h.delayedLeave},h.delayedLeave=_})}return s}}},CV=kV;function tC(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Yy(e,t,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:f,onLeave:m,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:_,onAppear:w,onAfterAppear:E,onAppearCancelled:k}=t,I=String(e.key),C=tC(n,e),M=(U,P)=>{U&&oi(U,r,9,P)},A=(U,P)=>{const z=P[1];M(U,P),Be(U)?U.every(L=>L.length<=1)&&z():U.length<=1&&z()},j={mode:s,persisted:a,beforeEnter(U){let P=l;if(!n.isMounted)if(i)P=_||l;else return;U[Wo]&&U[Wo](!0);const z=C[I];z&&fa(e,z)&&z.el[Wo]&&z.el[Wo](),M(P,[U])},enter(U){let P=c,z=h,L=p;if(!n.isMounted)if(i)P=w||c,z=E||h,L=k||p;else return;let q=!1;const ee=U[Qh]=Te=>{q||(q=!0,Te?M(L,[U]):M(z,[U]),j.delayedLeave&&j.delayedLeave(),U[Qh]=void 0)};P?A(P,[U,ee]):ee()},leave(U,P){const z=String(e.key);if(U[Qh]&&U[Qh](!0),n.isUnmounting)return P();M(f,[U]);let L=!1;const q=U[Wo]=ee=>{L||(L=!0,P(),ee?M(y,[U]):M(v,[U]),U[Wo]=void 0,C[z]===e&&delete C[z])};C[z]=e,m?A(m,[U,q]):q()},clone(U){return Yy(U,t,n,r)}};return j}function oy(e){if(Vp(e))return e=gs(e),e.children=null,e}function NS(e){return Vp(e)?e.children?e.children[0]:void 0:e}function Xy(e,t){e.shapeFlag&6&&e.component?Xy(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function nC(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===vt?(a.patchFlag&128&&i++,r=r.concat(nC(a.children,t,l))):(t||a.type!==Ei)&&r.push(l!=null?gs(a,{key:l}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ss(e,t){return Qe(e)?Sn({name:e.name},t,{setup:e}):e}const wd=e=>!!e.type.__asyncLoader,Vp=e=>e.type.__isKeepAlive;function NV(e,t){rC(e,"a",t)}function OV(e,t){rC(e,"da",t)}function rC(e,t,n=Nn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if($p(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Vp(i.parent.vnode)&&PV(r,t,n,i),i=i.parent}}function PV(e,t,n,r){const i=$p(t,e,r,!0);V_(()=>{__(r[t],i)},n)}function $p(e,t,n=Nn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Da();const l=If(n),c=oi(t,n,e,a);return l(),Ma(),c});return r?i.unshift(s):i.push(s),s}}const Eo=e=>(t,n=Nn)=>(!Bp||e==="sp")&&$p(e,(...r)=>t(...r),n),iC=Eo("bm"),Fa=Eo("m"),oC=Eo("bu"),U_=Eo("u"),Tf=Eo("bum"),V_=Eo("um"),LV=Eo("sp"),RV=Eo("rtg"),DV=Eo("rtc");function MV(e,t=Nn){$p("ec",e,t)}function qi(e,t,n,r){let i;const s=n&&n[r];if(Be(e)||un(e)){i=new Array(e.length);for(let a=0,l=e.length;a<l;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(Ut(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];i[l]=t(e[h],h,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}const Jy=e=>e?yC(e)?Hp(e)||e.proxy:Jy(e.parent):null,Ac=Sn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jy(e.parent),$root:e=>Jy(e.root),$emit:e=>e.emit,$options:e=>$_(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,L_(e.update)}),$nextTick:e=>e.n||(e.n=or.bind(e.proxy)),$watch:e=>AV.bind(e)}),sy=(e,t)=>e!==Ht&&!e.__isScriptSetup&&wt(e,t),FV={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(sy(r,t))return a[t]=1,r[t];if(i!==Ht&&wt(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&wt(h,t))return a[t]=3,s[t];if(n!==Ht&&wt(n,t))return a[t]=4,n[t];Qy&&(a[t]=0)}}const p=Ac[t];let f,m;if(p)return t==="$attrs"&&Ar(e,"get",t),p(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Ht&&wt(n,t))return a[t]=4,n[t];if(m=c.config.globalProperties,wt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return sy(i,t)?(i[t]=n,!0):r!==Ht&&wt(r,t)?(r[t]=n,!0):wt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let l;return!!n[a]||e!==Ht&&wt(e,a)||sy(t,a)||(l=s[0])&&wt(l,a)||wt(r,a)||wt(Ac,a)||wt(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:wt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function OS(e){return Be(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qy=!0;function UV(e){const t=$_(e),n=e.proxy,r=e.ctx;Qy=!1,t.beforeCreate&&PS(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:l,provide:c,inject:h,created:p,beforeMount:f,mounted:m,beforeUpdate:v,updated:y,activated:_,deactivated:w,beforeDestroy:E,beforeUnmount:k,destroyed:I,unmounted:C,render:M,renderTracked:A,renderTriggered:j,errorCaptured:U,serverPrefetch:P,expose:z,inheritAttrs:L,components:q,directives:ee,filters:Te}=t;if(h&&VV(h,r,null),a)for(const Re in a){const Me=a[Re];Qe(Me)&&(r[Re]=Me.bind(n))}if(i){const Re=i.call(n,n);Ut(Re)&&(e.data=_o(Re))}if(Qy=!0,s)for(const Re in s){const Me=s[Re],Xe=Qe(Me)?Me.bind(n,n):Qe(Me.get)?Me.get.bind(n,n):ii,xt=!Qe(Me)&&Qe(Me.set)?Me.set.bind(n):ii,it=He({get:Xe,set:xt});Object.defineProperty(r,Re,{enumerable:!0,configurable:!0,get:()=>it.value,set:dt=>it.value=dt})}if(l)for(const Re in l)sC(l[Re],r,n,Re);if(c){const Re=Qe(c)?c.call(n):c;Reflect.ownKeys(Re).forEach(Me=>{cs(Me,Re[Me])})}p&&PS(p,e,"c");function ie(Re,Me){Be(Me)?Me.forEach(Xe=>Re(Xe.bind(n))):Me&&Re(Me.bind(n))}if(ie(iC,f),ie(Fa,m),ie(oC,v),ie(U_,y),ie(NV,_),ie(OV,w),ie(MV,U),ie(DV,A),ie(RV,j),ie(Tf,k),ie(V_,C),ie(LV,P),Be(z))if(z.length){const Re=e.exposed||(e.exposed={});z.forEach(Me=>{Object.defineProperty(Re,Me,{get:()=>n[Me],set:Xe=>n[Me]=Xe})})}else e.exposed||(e.exposed={});M&&e.render===ii&&(e.render=M),L!=null&&(e.inheritAttrs=L),q&&(e.components=q),ee&&(e.directives=ee)}function VV(e,t,n=ii){Be(e)&&(e=Zy(e));for(const r in e){const i=e[r];let s;Ut(i)?"default"in i?s=Br(i.from||r,i.default,!0):s=Br(i.from||r):s=Br(i),zt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function PS(e,t,n){oi(Be(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function sC(e,t,n,r){const i=r.includes(".")?Zk(n,r):()=>n[r];if(un(e)){const s=t[e];Qe(s)&&Kn(i,s)}else if(Qe(e))Kn(i,e.bind(n));else if(Ut(e))if(Be(e))e.forEach(s=>sC(s,t,n,r));else{const s=Qe(e.handler)?e.handler.bind(n):t[e.handler];Qe(s)&&Kn(i,s,e)}}function $_(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let c;return l?c=l:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(h=>$d(c,h,a,!0)),$d(c,t,a)),Ut(t)&&s.set(t,c),c}function $d(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&$d(e,s,n,!0),i&&i.forEach(a=>$d(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=$V[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const $V={data:LS,props:RS,emits:RS,methods:wc,computed:wc,beforeCreate:rr,created:rr,beforeMount:rr,mounted:rr,beforeUpdate:rr,updated:rr,beforeDestroy:rr,beforeUnmount:rr,destroyed:rr,unmounted:rr,activated:rr,deactivated:rr,errorCaptured:rr,serverPrefetch:rr,components:wc,directives:wc,watch:BV,provide:LS,inject:jV};function LS(e,t){return t?e?function(){return Sn(Qe(e)?e.call(this,this):e,Qe(t)?t.call(this,this):t)}:t:e}function jV(e,t){return wc(Zy(e),Zy(t))}function Zy(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function rr(e,t){return e?[...new Set([].concat(e,t))]:t}function wc(e,t){return e?Sn(Object.create(null),e,t):t}function RS(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:Sn(Object.create(null),OS(e),OS(t??{})):t}function BV(e,t){if(!e)return t;if(!t)return e;const n=Sn(Object.create(null),e);for(const r in t)n[r]=rr(e[r],t[r]);return n}function aC(){return{app:null,config:{isNativeTag:IU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let HV=0;function GV(e,t){return function(r,i=null){Qe(r)||(r=Sn({},r)),i!=null&&!Ut(i)&&(i=null);const s=aC(),a=new WeakSet;let l=!1;const c=s.app={_uid:HV++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:m$,get config(){return s.config},set config(h){},use(h,...p){return a.has(h)||(h&&Qe(h.install)?(a.add(h),h.install(c,...p)):Qe(h)&&(a.add(h),h(c,...p))),c},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),c},component(h,p){return p?(s.components[h]=p,c):s.components[h]},directive(h,p){return p?(s.directives[h]=p,c):s.directives[h]},mount(h,p,f){if(!l){const m=ae(r,i);return m.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),p&&t?t(m,h):e(m,h,f),l=!0,c._container=h,h.__vue_app__=c,Hp(m.component)||m.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,p){return s.provides[h]=p,c},runWithContext(h){const p=Fu;Fu=c;try{return h()}finally{Fu=p}}};return c}}let Fu=null;function cs(e,t){if(Nn){let n=Nn.provides;const r=Nn.parent&&Nn.parent.provides;r===n&&(n=Nn.provides=Object.create(r)),n[e]=t}}function Br(e,t,n=!1){const r=Nn||Gn;if(r||Fu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Fu._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Qe(t)?t.call(r&&r.proxy):t}}function zV(){return!!(Nn||Gn||Fu)}function qV(e,t,n,r=!1){const i={},s={};Md(s,jp,1),e.propsDefaults=Object.create(null),uC(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:Uk(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function WV(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,l=yt(i),[c]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let f=0;f<p.length;f++){let m=p[f];if(Mp(e.emitsOptions,m))continue;const v=t[m];if(c)if(wt(s,m))v!==s[m]&&(s[m]=v,h=!0);else{const y=zi(m);i[y]=eb(c,l,y,v,e,!1)}else v!==s[m]&&(s[m]=v,h=!0)}}}else{uC(e,t,i,s)&&(h=!0);let p;for(const f in l)(!t||!wt(t,f)&&((p=ml(f))===f||!wt(t,p)))&&(c?n&&(n[f]!==void 0||n[p]!==void 0)&&(i[f]=eb(c,l,f,void 0,e,!0)):delete i[f]);if(s!==l)for(const f in s)(!t||!wt(t,f))&&(delete s[f],h=!0)}h&&ho(e,"set","$attrs")}function uC(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Ic(c))continue;const h=t[c];let p;i&&wt(i,p=zi(c))?!s||!s.includes(p)?n[p]=h:(l||(l={}))[p]=h:Mp(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(s){const c=yt(n),h=l||Ht;for(let p=0;p<s.length;p++){const f=s[p];n[f]=eb(i,c,f,h[f],e,!wt(h,f))}}return a}function eb(e,t,n,r,i,s){const a=e[n];if(a!=null){const l=wt(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Qe(c)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const p=If(i);r=h[n]=c.call(null,t),p()}}else r=c}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===ml(n))&&(r=!0))}return r}function lC(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},l=[];let c=!1;if(!Qe(e)){const p=f=>{c=!0;const[m,v]=lC(f,t,!0);Sn(a,m),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!c)return Ut(e)&&r.set(e,Ru),Ru;if(Be(s))for(let p=0;p<s.length;p++){const f=zi(s[p]);DS(f)&&(a[f]=Ht)}else if(s)for(const p in s){const f=zi(p);if(DS(f)){const m=s[p],v=a[f]=Be(m)||Qe(m)?{type:m}:Sn({},m);if(v){const y=US(Boolean,v.type),_=US(String,v.type);v[0]=y>-1,v[1]=_<0||y<_,(y>-1||wt(v,"default"))&&l.push(f)}}}const h=[a,l];return Ut(e)&&r.set(e,h),h}function DS(e){return e[0]!=="$"&&!Ic(e)}function MS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function FS(e,t){return MS(e)===MS(t)}function US(e,t){return Be(t)?t.findIndex(n=>FS(n,e)):Qe(t)&&FS(t,e)?0:-1}const cC=e=>e[0]==="_"||e==="$stable",j_=e=>Be(e)?e.map(Ui):[Ui(e)],KV=(e,t,n)=>{if(t._n)return t;const r=Wn((...i)=>j_(t(...i)),n);return r._c=!1,r},fC=(e,t,n)=>{const r=e._ctx;for(const i in e){if(cC(i))continue;const s=e[i];if(Qe(s))t[i]=KV(i,s,r);else if(s!=null){const a=j_(s);t[i]=()=>a}}},hC=(e,t)=>{const n=j_(t);e.slots.default=()=>n},YV=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=yt(t),Md(t,"_",n)):fC(t,e.slots={})}else e.slots={},t&&hC(e,t);Md(e.slots,jp,1)},XV=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=Ht;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Sn(i,t),!n&&l===1&&delete i._):(s=!t.$stable,fC(t,i)),a=t}else t&&(hC(e,t),a={default:1});if(s)for(const l in i)!cC(l)&&a[l]==null&&delete i[l]};function tb(e,t,n,r,i=!1){if(Be(e)){e.forEach((m,v)=>tb(m,t&&(Be(t)?t[v]:t),n,r,i));return}if(wd(r)&&!i)return;const s=r.shapeFlag&4?Hp(r.component)||r.component.proxy:r.el,a=i?null:s,{i:l,r:c}=e,h=t&&t.r,p=l.refs===Ht?l.refs={}:l.refs,f=l.setupState;if(h!=null&&h!==c&&(un(h)?(p[h]=null,wt(f,h)&&(f[h]=null)):zt(h)&&(h.value=null)),Qe(c))ls(c,l,12,[a,p]);else{const m=un(c),v=zt(c);if(m||v){const y=()=>{if(e.f){const _=m?wt(f,c)?f[c]:p[c]:c.value;i?Be(_)&&__(_,s):Be(_)?_.includes(s)||_.push(s):m?(p[c]=[s],wt(f,c)&&(f[c]=p[c])):(c.value=[s],e.k&&(p[e.k]=c.value))}else m?(p[c]=a,wt(f,c)&&(f[c]=a)):v&&(c.value=a,e.k&&(p[e.k]=a))};a?(y.id=-1,_r(y,n)):y()}}}const _r=TV;function JV(e){return QV(e)}function QV(e,t){const n=Ek();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:l,createComment:c,setText:h,setElementText:p,parentNode:f,nextSibling:m,setScopeId:v=ii,insertStaticContent:y}=e,_=(D,O,H,te=null,X=null,fe=null,pe=void 0,N=null,R=!!O.dynamicChildren)=>{if(D===O)return;D&&!fa(D,O)&&(te=W(D),dt(D,X,fe,!0),D=null),O.patchFlag===-2&&(R=!1,O.dynamicChildren=null);const{type:$,ref:Z,shapeFlag:we}=O;switch($){case Sf:w(D,O,H,te);break;case Ei:E(D,O,H,te);break;case Ed:D==null&&k(O,H,te,pe);break;case vt:q(D,O,H,te,X,fe,pe,N,R);break;default:we&1?M(D,O,H,te,X,fe,pe,N,R):we&6?ee(D,O,H,te,X,fe,pe,N,R):(we&64||we&128)&&$.process(D,O,H,te,X,fe,pe,N,R,Ee)}Z!=null&&X&&tb(Z,D&&D.ref,fe,O||D,!O)},w=(D,O,H,te)=>{if(D==null)r(O.el=l(O.children),H,te);else{const X=O.el=D.el;O.children!==D.children&&h(X,O.children)}},E=(D,O,H,te)=>{D==null?r(O.el=c(O.children||""),H,te):O.el=D.el},k=(D,O,H,te)=>{[D.el,D.anchor]=y(D.children,O,H,te,D.el,D.anchor)},I=({el:D,anchor:O},H,te)=>{let X;for(;D&&D!==O;)X=m(D),r(D,H,te),D=X;r(O,H,te)},C=({el:D,anchor:O})=>{let H;for(;D&&D!==O;)H=m(D),i(D),D=H;i(O)},M=(D,O,H,te,X,fe,pe,N,R)=>{O.type==="svg"?pe="svg":O.type==="math"&&(pe="mathml"),D==null?A(O,H,te,X,fe,pe,N,R):P(D,O,X,fe,pe,N,R)},A=(D,O,H,te,X,fe,pe,N)=>{let R,$;const{props:Z,shapeFlag:we,transition:oe,dirs:G}=D;if(R=D.el=a(D.type,fe,Z&&Z.is,Z),we&8?p(R,D.children):we&16&&U(D.children,R,null,te,X,ay(D,fe),pe,N),G&&Zs(D,null,te,"created"),j(R,D,D.scopeId,pe,te),Z){for(const ge in Z)ge!=="value"&&!Ic(ge)&&s(R,ge,null,Z[ge],fe,D.children,te,X,Ne);"value"in Z&&s(R,"value",null,Z.value,fe),($=Z.onVnodeBeforeMount)&&Mi($,te,D)}G&&Zs(D,null,te,"beforeMount");const J=ZV(X,oe);J&&oe.beforeEnter(R),r(R,O,H),(($=Z&&Z.onVnodeMounted)||J||G)&&_r(()=>{$&&Mi($,te,D),J&&oe.enter(R),G&&Zs(D,null,te,"mounted")},X)},j=(D,O,H,te,X)=>{if(H&&v(D,H),te)for(let fe=0;fe<te.length;fe++)v(D,te[fe]);if(X){let fe=X.subTree;if(O===fe){const pe=X.vnode;j(D,pe,pe.scopeId,pe.slotScopeIds,X.parent)}}},U=(D,O,H,te,X,fe,pe,N,R=0)=>{for(let $=R;$<D.length;$++){const Z=D[$]=N?Ko(D[$]):Ui(D[$]);_(null,Z,O,H,te,X,fe,pe,N)}},P=(D,O,H,te,X,fe,pe)=>{const N=O.el=D.el;let{patchFlag:R,dynamicChildren:$,dirs:Z}=O;R|=D.patchFlag&16;const we=D.props||Ht,oe=O.props||Ht;let G;if(H&&ea(H,!1),(G=oe.onVnodeBeforeUpdate)&&Mi(G,H,O,D),Z&&Zs(O,D,H,"beforeUpdate"),H&&ea(H,!0),$?z(D.dynamicChildren,$,N,H,te,ay(O,X),fe):pe||Me(D,O,N,null,H,te,ay(O,X),fe,!1),R>0){if(R&16)L(N,O,we,oe,H,te,X);else if(R&2&&we.class!==oe.class&&s(N,"class",null,oe.class,X),R&4&&s(N,"style",we.style,oe.style,X),R&8){const J=O.dynamicProps;for(let ge=0;ge<J.length;ge++){const V=J[ge],B=we[V],ne=oe[V];(ne!==B||V==="value")&&s(N,V,B,ne,X,D.children,H,te,Ne)}}R&1&&D.children!==O.children&&p(N,O.children)}else!pe&&$==null&&L(N,O,we,oe,H,te,X);((G=oe.onVnodeUpdated)||Z)&&_r(()=>{G&&Mi(G,H,O,D),Z&&Zs(O,D,H,"updated")},te)},z=(D,O,H,te,X,fe,pe)=>{for(let N=0;N<O.length;N++){const R=D[N],$=O[N],Z=R.el&&(R.type===vt||!fa(R,$)||R.shapeFlag&70)?f(R.el):H;_(R,$,Z,null,te,X,fe,pe,!0)}},L=(D,O,H,te,X,fe,pe)=>{if(H!==te){if(H!==Ht)for(const N in H)!Ic(N)&&!(N in te)&&s(D,N,H[N],null,pe,O.children,X,fe,Ne);for(const N in te){if(Ic(N))continue;const R=te[N],$=H[N];R!==$&&N!=="value"&&s(D,N,$,R,pe,O.children,X,fe,Ne)}"value"in te&&s(D,"value",H.value,te.value,pe)}},q=(D,O,H,te,X,fe,pe,N,R)=>{const $=O.el=D?D.el:l(""),Z=O.anchor=D?D.anchor:l("");let{patchFlag:we,dynamicChildren:oe,slotScopeIds:G}=O;G&&(N=N?N.concat(G):G),D==null?(r($,H,te),r(Z,H,te),U(O.children||[],H,Z,X,fe,pe,N,R)):we>0&&we&64&&oe&&D.dynamicChildren?(z(D.dynamicChildren,oe,H,X,fe,pe,N),(O.key!=null||X&&O===X.subTree)&&dC(D,O,!0)):Me(D,O,H,Z,X,fe,pe,N,R)},ee=(D,O,H,te,X,fe,pe,N,R)=>{O.slotScopeIds=N,D==null?O.shapeFlag&512?X.ctx.activate(O,H,te,pe,R):Te(O,H,te,X,fe,pe,R):xe(D,O,R)},Te=(D,O,H,te,X,fe,pe)=>{const N=D.component=u$(D,te,X);if(Vp(D)&&(N.ctx.renderer=Ee),l$(N),N.asyncDep){if(X&&X.registerDep(N,ie),!D.el){const R=N.subTree=ae(Ei);E(null,R,O,H)}}else ie(N,D,O,H,X,fe,pe)},xe=(D,O,H)=>{const te=O.component=D.component;if(_V(D,O,H))if(te.asyncDep&&!te.asyncResolved){Re(te,O,H);return}else te.next=O,pV(te.update),te.effect.dirty=!0,te.update();else O.el=D.el,te.vnode=O},ie=(D,O,H,te,X,fe,pe)=>{const N=()=>{if(D.isMounted){let{next:Z,bu:we,u:oe,parent:G,vnode:J}=D;{const ve=pC(D);if(ve){Z&&(Z.el=J.el,Re(D,Z,pe)),ve.asyncDep.then(()=>{D.isUnmounted||N()});return}}let ge=Z,V;ea(D,!1),Z?(Z.el=J.el,Re(D,Z,pe)):Z=J,we&&bd(we),(V=Z.props&&Z.props.onVnodeBeforeUpdate)&&Mi(V,G,Z,J),ea(D,!0);const B=iy(D),ne=D.subTree;D.subTree=B,_(ne,B,f(ne.el),W(ne),D,X,fe),Z.el=B.el,ge===null&&wV(D,B.el),oe&&_r(oe,X),(V=Z.props&&Z.props.onVnodeUpdated)&&_r(()=>Mi(V,G,Z,J),X)}else{let Z;const{el:we,props:oe}=O,{bm:G,m:J,parent:ge}=D,V=wd(O);if(ea(D,!1),G&&bd(G),!V&&(Z=oe&&oe.onVnodeBeforeMount)&&Mi(Z,ge,O),ea(D,!0),we&&at){const B=()=>{D.subTree=iy(D),at(we,D.subTree,D,X,null)};V?O.type.__asyncLoader().then(()=>!D.isUnmounted&&B()):B()}else{const B=D.subTree=iy(D);_(null,B,H,te,D,X,fe),O.el=B.el}if(J&&_r(J,X),!V&&(Z=oe&&oe.onVnodeMounted)){const B=O;_r(()=>Mi(Z,ge,B),X)}(O.shapeFlag&256||ge&&wd(ge.vnode)&&ge.vnode.shapeFlag&256)&&D.a&&_r(D.a,X),D.isMounted=!0,O=H=te=null}},R=D.effect=new S_(N,ii,()=>L_($),D.scope),$=D.update=()=>{R.dirty&&R.run()};$.id=D.uid,ea(D,!0),$()},Re=(D,O,H)=>{O.component=D;const te=D.vnode.props;D.vnode=O,D.next=null,WV(D,O.props,te,H),XV(D,O.children,H),Da(),xS(D),Ma()},Me=(D,O,H,te,X,fe,pe,N,R=!1)=>{const $=D&&D.children,Z=D?D.shapeFlag:0,we=O.children,{patchFlag:oe,shapeFlag:G}=O;if(oe>0){if(oe&128){xt($,we,H,te,X,fe,pe,N,R);return}else if(oe&256){Xe($,we,H,te,X,fe,pe,N,R);return}}G&8?(Z&16&&Ne($,X,fe),we!==$&&p(H,we)):Z&16?G&16?xt($,we,H,te,X,fe,pe,N,R):Ne($,X,fe,!0):(Z&8&&p(H,""),G&16&&U(we,H,te,X,fe,pe,N,R))},Xe=(D,O,H,te,X,fe,pe,N,R)=>{D=D||Ru,O=O||Ru;const $=D.length,Z=O.length,we=Math.min($,Z);let oe;for(oe=0;oe<we;oe++){const G=O[oe]=R?Ko(O[oe]):Ui(O[oe]);_(D[oe],G,H,null,X,fe,pe,N,R)}$>Z?Ne(D,X,fe,!0,!1,we):U(O,H,te,X,fe,pe,N,R,we)},xt=(D,O,H,te,X,fe,pe,N,R)=>{let $=0;const Z=O.length;let we=D.length-1,oe=Z-1;for(;$<=we&&$<=oe;){const G=D[$],J=O[$]=R?Ko(O[$]):Ui(O[$]);if(fa(G,J))_(G,J,H,null,X,fe,pe,N,R);else break;$++}for(;$<=we&&$<=oe;){const G=D[we],J=O[oe]=R?Ko(O[oe]):Ui(O[oe]);if(fa(G,J))_(G,J,H,null,X,fe,pe,N,R);else break;we--,oe--}if($>we){if($<=oe){const G=oe+1,J=G<Z?O[G].el:te;for(;$<=oe;)_(null,O[$]=R?Ko(O[$]):Ui(O[$]),H,J,X,fe,pe,N,R),$++}}else if($>oe)for(;$<=we;)dt(D[$],X,fe,!0),$++;else{const G=$,J=$,ge=new Map;for($=J;$<=oe;$++){const et=O[$]=R?Ko(O[$]):Ui(O[$]);et.key!=null&&ge.set(et.key,$)}let V,B=0;const ne=oe-J+1;let ve=!1,Ie=0;const Pe=new Array(ne);for($=0;$<ne;$++)Pe[$]=0;for($=G;$<=we;$++){const et=D[$];if(B>=ne){dt(et,X,fe,!0);continue}let mt;if(et.key!=null)mt=ge.get(et.key);else for(V=J;V<=oe;V++)if(Pe[V-J]===0&&fa(et,O[V])){mt=V;break}mt===void 0?dt(et,X,fe,!0):(Pe[mt-J]=$+1,mt>=Ie?Ie=mt:ve=!0,_(et,O[mt],H,null,X,fe,pe,N,R),B++)}const Ze=ve?e$(Pe):Ru;for(V=Ze.length-1,$=ne-1;$>=0;$--){const et=J+$,mt=O[et],_t=et+1<Z?O[et+1].el:te;Pe[$]===0?_(null,mt,H,_t,X,fe,pe,N,R):ve&&(V<0||$!==Ze[V]?it(mt,H,_t,2):V--)}}},it=(D,O,H,te,X=null)=>{const{el:fe,type:pe,transition:N,children:R,shapeFlag:$}=D;if($&6){it(D.component.subTree,O,H,te);return}if($&128){D.suspense.move(O,H,te);return}if($&64){pe.move(D,O,H,Ee);return}if(pe===vt){r(fe,O,H);for(let we=0;we<R.length;we++)it(R[we],O,H,te);r(D.anchor,O,H);return}if(pe===Ed){I(D,O,H);return}if(te!==2&&$&1&&N)if(te===0)N.beforeEnter(fe),r(fe,O,H),_r(()=>N.enter(fe),X);else{const{leave:we,delayLeave:oe,afterLeave:G}=N,J=()=>r(fe,O,H),ge=()=>{we(fe,()=>{J(),G&&G()})};oe?oe(fe,J,ge):ge()}else r(fe,O,H)},dt=(D,O,H,te=!1,X=!1)=>{const{type:fe,props:pe,ref:N,children:R,dynamicChildren:$,shapeFlag:Z,patchFlag:we,dirs:oe}=D;if(N!=null&&tb(N,null,H,D,!0),Z&256){O.ctx.deactivate(D);return}const G=Z&1&&oe,J=!wd(D);let ge;if(J&&(ge=pe&&pe.onVnodeBeforeUnmount)&&Mi(ge,O,D),Z&6)Se(D.component,H,te);else{if(Z&128){D.suspense.unmount(H,te);return}G&&Zs(D,null,O,"beforeUnmount"),Z&64?D.type.remove(D,O,H,X,Ee,te):$&&(fe!==vt||we>0&&we&64)?Ne($,O,H,!1,!0):(fe===vt&&we&384||!X&&Z&16)&&Ne(R,O,H),te&&pt(D)}(J&&(ge=pe&&pe.onVnodeUnmounted)||G)&&_r(()=>{ge&&Mi(ge,O,D),G&&Zs(D,null,O,"unmounted")},H)},pt=D=>{const{type:O,el:H,anchor:te,transition:X}=D;if(O===vt){en(H,te);return}if(O===Ed){C(D);return}const fe=()=>{i(H),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(D.shapeFlag&1&&X&&!X.persisted){const{leave:pe,delayLeave:N}=X,R=()=>pe(H,fe);N?N(D.el,fe,R):R()}else fe()},en=(D,O)=>{let H;for(;D!==O;)H=m(D),i(D),D=H;i(O)},Se=(D,O,H)=>{const{bum:te,scope:X,update:fe,subTree:pe,um:N}=D;te&&bd(te),X.stop(),fe&&(fe.active=!1,dt(pe,D,O,H)),N&&_r(N,O),_r(()=>{D.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Ne=(D,O,H,te=!1,X=!1,fe=0)=>{for(let pe=fe;pe<D.length;pe++)dt(D[pe],O,H,te,X)},W=D=>D.shapeFlag&6?W(D.component.subTree):D.shapeFlag&128?D.suspense.next():m(D.anchor||D.el);let le=!1;const re=(D,O,H)=>{D==null?O._vnode&&dt(O._vnode,null,null,!0):_(O._vnode||null,D,O,null,null,null,H),le||(le=!0,xS(),Wk(),le=!1),O._vnode=D},Ee={p:_,um:dt,m:it,r:pt,mt:Te,mc:U,pc:Me,pbc:z,n:W,o:e};let Ge,at;return t&&([Ge,at]=t(Ee)),{render:re,hydrate:Ge,createApp:GV(re,Ge)}}function ay({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ea({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ZV(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function dC(e,t,n=!1){const r=e.children,i=t.children;if(Be(r)&&Be(i))for(let s=0;s<r.length;s++){const a=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Ko(i[s]),l.el=a.el),n||dC(a,l)),l.type===Sf&&(l.el=a.el)}}function e$(e){const t=e.slice(),n=[0];let r,i,s,a,l;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<h?s=l+1:a=l;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function pC(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pC(t)}const t$=e=>e.__isTeleport,vt=Symbol.for("v-fgt"),Sf=Symbol.for("v-txt"),Ei=Symbol.for("v-cmt"),Ed=Symbol.for("v-stc"),xc=[];let yi=null;function me(e=!1){xc.push(yi=e?null:[])}function n$(){xc.pop(),yi=xc[xc.length-1]||null}let Bc=1;function VS(e){Bc+=e}function mC(e){return e.dynamicChildren=Bc>0?yi||Ru:null,n$(),Bc>0&&yi&&yi.push(e),e}function _e(e,t,n,r,i,s){return mC(S(e,t,n,r,i,s,!0))}function ms(e,t,n,r,i){return mC(ae(e,t,n,r,i,!0))}function nb(e){return e?e.__v_isVNode===!0:!1}function fa(e,t){return e.type===t.type&&e.key===t.key}const jp="__vInternal",gC=({key:e})=>e??null,Td=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?un(e)||zt(e)||Qe(e)?{i:Gn,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,r=0,i=null,s=e===vt?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&gC(t),ref:t&&Td(t),scopeId:Fp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gn};return l?(B_(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=un(n)?8:16),Bc>0&&!a&&yi&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&yi.push(c),c}const ae=r$;function r$(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Xk)&&(e=Ei),nb(e)){const l=gs(e,t,!0);return n&&B_(l,n),Bc>0&&!s&&yi&&(l.shapeFlag&6?yi[yi.indexOf(e)]=l:yi.push(l)),l.patchFlag|=-2,l}if(p$(e)&&(e=e.__vccOpts),t){t=i$(t);let{class:l,style:c}=t;l&&!un(l)&&(t.class=We(l)),Ut(c)&&(Vk(c)&&!Be(c)&&(c=Sn({},c)),t.style=jr(c))}const a=un(e)?1:EV(e)?128:t$(e)?64:Ut(e)?4:Qe(e)?2:0;return S(e,t,n,r,i,a,s,!0)}function i$(e){return e?Vk(e)||jp in e?Sn({},e):e:null}function gs(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=e,l=t?vC(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&gC(l),ref:t&&t.ref?n&&i?Be(i)?i.concat(Td(t)):[i,Td(t)]:Td(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==vt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gs(e.ssContent),ssFallback:e.ssFallback&&gs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Hc(e=" ",t=0){return ae(Sf,null,e,t)}function o$(e,t){const n=ae(Ed,null,e);return n.staticCount=t,n}function Hr(e="",t=!1){return t?(me(),ms(Ei,null,e)):ae(Ei,null,e)}function Ui(e){return e==null||typeof e=="boolean"?ae(Ei):Be(e)?ae(vt,null,e.slice()):typeof e=="object"?Ko(e):ae(Sf,null,String(e))}function Ko(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gs(e)}function B_(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Be(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),B_(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(jp in t)?t._ctx=Gn:i===3&&Gn&&(Gn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qe(t)?(t={default:t,_ctx:Gn},n=32):(t=String(t),r&64?(n=16,t=[Hc(t)]):n=8);e.children=t,e.shapeFlag|=n}function vC(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=We([t.class,r.class]));else if(i==="style")t.style=jr([t.style,r.style]);else if(Cp(i)){const s=t[i],a=r[i];a&&s!==a&&!(Be(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Mi(e,t,n,r=null){oi(e,t,7,[n,r])}const s$=aC();let a$=0;function u$(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||s$,s={uid:a$++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ik(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lC(r,i),emitsOptions:Yk(r,i),emit:null,emitted:null,propsDefaults:Ht,inheritAttrs:r.inheritAttrs,ctx:Ht,data:Ht,props:Ht,attrs:Ht,slots:Ht,refs:Ht,setupState:Ht,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=vV.bind(null,s),e.ce&&e.ce(s),s}let Nn=null;const Wi=()=>Nn||Gn;let jd,rb;{const e=Ek(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};jd=t("__VUE_INSTANCE_SETTERS__",n=>Nn=n),rb=t("__VUE_SSR_SETTERS__",n=>Bp=n)}const If=e=>{const t=Nn;return jd(e),e.scope.on(),()=>{e.scope.off(),jd(t)}},$S=()=>{Nn&&Nn.scope.off(),jd(null)};function yC(e){return e.vnode.shapeFlag&4}let Bp=!1;function l$(e,t=!1){t&&rb(t);const{props:n,children:r}=e.vnode,i=yC(e);qV(e,n,i,t),YV(e,r);const s=i?c$(e,t):void 0;return t&&rb(!1),s}function c$(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Lp(new Proxy(e.ctx,FV));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?h$(e):null,s=If(e);Da();const a=ls(r,e,0,[e.props,i]);if(Ma(),s(),bk(a)){if(a.then($S,$S),t)return a.then(l=>{jS(e,l,t)}).catch(l=>{Dp(l,e,0)});e.asyncDep=a}else jS(e,a,t)}else bC(e,t)}function jS(e,t,n){Qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=Hk(t)),bC(e,n)}let BS;function bC(e,t,n){const r=e.type;if(!e.render){if(!t&&BS&&!r.render){const i=r.template||$_(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,h=Sn(Sn({isCustomElement:s,delimiters:l},a),c);r.render=BS(i,h)}}e.render=r.render||ii}{const i=If(e);Da();try{UV(e)}finally{Ma(),i()}}}function f$(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ar(e,"get","$attrs"),t[n]}}))}function h$(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return f$(e)},slots:e.slots,emit:e.emit,expose:t}}function Hp(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Hk(Lp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ac)return Ac[n](e)},has(t,n){return n in t||n in Ac}}))}function d$(e,t=!0){return Qe(e)?e.displayName||e.name:e.name||t&&e.__name}function p$(e){return Qe(e)&&"__vccOpts"in e}const He=(e,t)=>sV(e,t,Bp);function mn(e,t,n){const r=arguments.length;return r===2?Ut(t)&&!Be(t)?nb(t)?ae(e,null,[t]):ae(e,t):ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&nb(n)&&(n=[n]),ae(e,t,n))}const m$="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const g$="http://www.w3.org/2000/svg",v$="http://www.w3.org/1998/Math/MathML",Yo=typeof document<"u"?document:null,HS=Yo&&Yo.createElement("template"),y$={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Yo.createElementNS(g$,e):t==="mathml"?Yo.createElementNS(v$,e):Yo.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Yo.createTextNode(e),createComment:e=>Yo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{HS.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const l=HS.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mo="transition",cc="animation",Gc=Symbol("_vtc"),H_=(e,{slots:t})=>mn(CV,b$(e),t);H_.displayName="Transition";const _C={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};H_.props=Sn({},eC,_C);const ta=(e,t=[])=>{Be(e)?e.forEach(n=>n(...t)):e&&e(...t)},GS=e=>e?Be(e)?e.some(t=>t.length>1):e.length>1:!1;function b$(e){const t={};for(const q in e)q in _C||(t[q]=e[q]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:h=a,appearToClass:p=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,y=_$(i),_=y&&y[0],w=y&&y[1],{onBeforeEnter:E,onEnter:k,onEnterCancelled:I,onLeave:C,onLeaveCancelled:M,onBeforeAppear:A=E,onAppear:j=k,onAppearCancelled:U=I}=t,P=(q,ee,Te)=>{na(q,ee?p:l),na(q,ee?h:a),Te&&Te()},z=(q,ee)=>{q._isLeaving=!1,na(q,f),na(q,v),na(q,m),ee&&ee()},L=q=>(ee,Te)=>{const xe=q?j:k,ie=()=>P(ee,q,Te);ta(xe,[ee,ie]),zS(()=>{na(ee,q?c:s),Fo(ee,q?p:l),GS(xe)||qS(ee,r,_,ie)})};return Sn(t,{onBeforeEnter(q){ta(E,[q]),Fo(q,s),Fo(q,a)},onBeforeAppear(q){ta(A,[q]),Fo(q,c),Fo(q,h)},onEnter:L(!1),onAppear:L(!0),onLeave(q,ee){q._isLeaving=!0;const Te=()=>z(q,ee);Fo(q,f),T$(),Fo(q,m),zS(()=>{q._isLeaving&&(na(q,f),Fo(q,v),GS(C)||qS(q,r,w,Te))}),ta(C,[q,Te])},onEnterCancelled(q){P(q,!1),ta(I,[q])},onAppearCancelled(q){P(q,!0),ta(U,[q])},onLeaveCancelled(q){z(q),ta(M,[q])}})}function _$(e){if(e==null)return null;if(Ut(e))return[uy(e.enter),uy(e.leave)];{const t=uy(e);return[t,t]}}function uy(e){return NU(e)}function Fo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Gc]||(e[Gc]=new Set)).add(t)}function na(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Gc];n&&(n.delete(t),n.size||(e[Gc]=void 0))}function zS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let w$=0;function qS(e,t,n,r){const i=e._endId=++w$,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:l,propCount:c}=E$(e,t);if(!a)return r();const h=a+"end";let p=0;const f=()=>{e.removeEventListener(h,m),s()},m=v=>{v.target===e&&++p>=c&&f()};setTimeout(()=>{p<c&&f()},l+1),e.addEventListener(h,m)}function E$(e,t){const n=window.getComputedStyle(e),r=y=>(n[y]||"").split(", "),i=r(`${Mo}Delay`),s=r(`${Mo}Duration`),a=WS(i,s),l=r(`${cc}Delay`),c=r(`${cc}Duration`),h=WS(l,c);let p=null,f=0,m=0;t===Mo?a>0&&(p=Mo,f=a,m=s.length):t===cc?h>0&&(p=cc,f=h,m=c.length):(f=Math.max(a,h),p=f>0?a>h?Mo:cc:null,m=p?p===Mo?s.length:c.length:0);const v=p===Mo&&/\b(transform|all)(,|$)/.test(r(`${Mo}Property`).toString());return{type:p,timeout:f,propCount:m,hasTransform:v}}function WS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>KS(n)+KS(e[r])))}function KS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function T$(){return document.body.offsetHeight}function S$(e,t,n){const r=e[Gc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bd=Symbol("_vod"),wC=Symbol("_vsh"),Hd={beforeMount(e,{value:t},{transition:n}){e[Bd]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):fc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),fc(e,!0),r.enter(e)):r.leave(e,()=>{fc(e,!1)}):fc(e,t))},beforeUnmount(e,{value:t}){fc(e,t)}};function fc(e,t){e.style.display=t?e[Bd]:"none",e[wC]=!t}const I$=Symbol(""),A$=/(^|;)\s*display\s*:/;function x$(e,t,n){const r=e.style,i=un(n);let s=!1;if(n&&!i){if(t)if(un(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Sd(r,l,"")}else for(const a in t)n[a]==null&&Sd(r,a,"");for(const a in n)a==="display"&&(s=!0),Sd(r,a,n[a])}else if(i){if(t!==n){const a=r[I$];a&&(n+=";"+a),r.cssText=n,s=A$.test(n)}}else t&&e.removeAttribute("style");Bd in e&&(e[Bd]=s?r.display:"",e[wC]&&(r.display="none"))}const YS=/\s*!important$/;function Sd(e,t,n){if(Be(n))n.forEach(r=>Sd(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=k$(e,t);YS.test(n)?e.setProperty(ml(r),n.replace(YS,""),"important"):e[r]=n}}const XS=["Webkit","Moz","ms"],ly={};function k$(e,t){const n=ly[t];if(n)return n;let r=zi(t);if(r!=="filter"&&r in e)return ly[t]=r;r=Op(r);for(let i=0;i<XS.length;i++){const s=XS[i]+r;if(s in e)return ly[t]=s}return t}const JS="http://www.w3.org/1999/xlink";function C$(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(JS,t.slice(6,t.length)):e.setAttributeNS(JS,t,n);else{const s=MU(t);n==null||s&&!Tk(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function N$(e,t,n,r,i,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?e.getAttribute("value")||"":e.value,p=n??"";(h!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=Tk(n):n==null&&h==="string"?(n="",c=!0):h==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Qo(e,t,n,r){e.addEventListener(t,n,r)}function O$(e,t,n,r){e.removeEventListener(t,n,r)}const QS=Symbol("_vei");function P$(e,t,n,r,i=null){const s=e[QS]||(e[QS]={}),a=s[t];if(r&&a)a.value=r;else{const[l,c]=L$(t);if(r){const h=s[t]=M$(r,i);Qo(e,l,h,c)}else a&&(O$(e,l,a,c),s[t]=void 0)}}const ZS=/(?:Once|Passive|Capture)$/;function L$(e){let t;if(ZS.test(e)){t={};let r;for(;r=e.match(ZS);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ml(e.slice(2)),t]}let cy=0;const R$=Promise.resolve(),D$=()=>cy||(R$.then(()=>cy=0),cy=Date.now());function M$(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;oi(F$(r,n.value),t,5,[r])};return n.value=e,n.attached=D$(),n}function F$(e,t){if(Be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const eI=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,U$=(e,t,n,r,i,s,a,l,c)=>{const h=i==="svg";t==="class"?S$(e,r,h):t==="style"?x$(e,n,r):Cp(t)?b_(t)||P$(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):V$(e,t,r,h))?N$(e,t,r,s,a,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),C$(e,t,r,h))};function V$(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&eI(t)&&Qe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eI(t)&&un(n)?!1:t in e}const Gu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?n=>bd(t,n):t};function $$(e){e.target.composing=!0}function tI(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const po=Symbol("_assign"),j$={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[po]=Gu(i);const s=r||i.props&&i.props.type==="number";Qo(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Uc(l)),e[po](l)}),n&&Qo(e,"change",()=>{e.value=e.value.trim()}),t||(Qo(e,"compositionstart",$$),Qo(e,"compositionend",tI),Qo(e,"change",tI))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e[po]=Gu(s),e.composing)return;const a=i||e.type==="number"?Uc(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===l)||(e.value=l))}},B$={deep:!0,created(e,t,n){e[po]=Gu(n),Qo(e,"change",()=>{const r=e._modelValue,i=zc(e),s=e.checked,a=e[po];if(Be(r)){const l=E_(r,i),c=l!==-1;if(s&&!c)a(r.concat(i));else if(!s&&c){const h=[...r];h.splice(l,1),a(h)}}else if(pl(r)){const l=new Set(r);s?l.add(i):l.delete(i),a(l)}else a(EC(e,s))})},mounted:nI,beforeUpdate(e,t,n){e[po]=Gu(n),nI(e,t,n)}};function nI(e,{value:t,oldValue:n},r){e._modelValue=t,Be(t)?e.checked=E_(t,r.props.value)>-1:pl(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Ef(t,EC(e,!0)))}const H$={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=pl(t);Qo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Uc(zc(a)):zc(a));e[po](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,or(()=>{e._assigning=!1})}),e[po]=Gu(r)},mounted(e,{value:t,modifiers:{number:n}}){rI(e,t,n)},beforeUpdate(e,t,n){e[po]=Gu(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||rI(e,t,n)}};function rI(e,t,n){const r=e.multiple,i=Be(t);if(!(r&&!i&&!pl(t))){for(let s=0,a=e.options.length;s<a;s++){const l=e.options[s],c=zc(l);if(r)if(i){const h=typeof c;h==="string"||h==="number"?l.selected=t.includes(n?Uc(c):c):l.selected=E_(t,c)>-1}else l.selected=t.has(c);else if(Ef(zc(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zc(e){return"_value"in e?e._value:e.value}function EC(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const G$=["ctrl","shift","alt","meta"],z$={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>G$.some(n=>e[`${n}Key`]&&!t.includes(n))},qe=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<t.length;a++){const l=z$[t[a]];if(l&&l(i,t))return}return e(i,...s)})},q$=Sn({patchProp:U$},y$);let iI;function W$(){return iI||(iI=JV(q$))}const K$=(...e)=>{const t=W$().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=X$(r);if(!i)return;const s=t._component;!Qe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,Y$(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function Y$(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function X$(e){return un(e)?document.querySelector(e):e}var J$=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let TC;const Gp=e=>TC=e,SC=Symbol();function ib(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var kc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(kc||(kc={}));function Q$(){const e=T_(!0),t=e.run(()=>ot({}));let n=[],r=[];const i=Lp({install(s){Gp(i),i._a=s,s.provide(SC,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!J$?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const IC=()=>{};function oI(e,t,n,r=IC){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&Ak()&&VU(i),i}function yu(e,...t){e.slice().forEach(n=>{n(...t)})}const Z$=e=>e();function ob(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];ib(i)&&ib(r)&&e.hasOwnProperty(n)&&!zt(r)&&!us(r)?e[n]=ob(i,r):e[n]=r}return e}const ej=Symbol();function tj(e){return!ib(e)||!e.hasOwnProperty(ej)}const{assign:Go}=Object;function nj(e){return!!(zt(e)&&e.effect)}function rj(e,t,n,r){const{state:i,actions:s,getters:a}=t,l=n.state.value[e];let c;function h(){l||(n.state.value[e]=i?i():{});const p=lV(n.state.value[e]);return Go(p,s,Object.keys(a||{}).reduce((f,m)=>(f[m]=Lp(He(()=>{Gp(n);const v=n._s.get(e);return a[m].call(v,v)})),f),{}))}return c=AC(e,h,t,n,r,!0),c}function AC(e,t,n={},r,i,s){let a;const l=Go({actions:{}},n),c={deep:!0};let h,p,f=[],m=[],v;const y=r.state.value[e];!s&&!y&&(r.state.value[e]={}),ot({});let _;function w(U){let P;h=p=!1,typeof U=="function"?(U(r.state.value[e]),P={type:kc.patchFunction,storeId:e,events:v}):(ob(r.state.value[e],U),P={type:kc.patchObject,payload:U,storeId:e,events:v});const z=_=Symbol();or().then(()=>{_===z&&(h=!0)}),p=!0,yu(f,P,r.state.value[e])}const E=s?function(){const{state:P}=n,z=P?P():{};this.$patch(L=>{Go(L,z)})}:IC;function k(){a.stop(),f=[],m=[],r._s.delete(e)}function I(U,P){return function(){Gp(r);const z=Array.from(arguments),L=[],q=[];function ee(ie){L.push(ie)}function Te(ie){q.push(ie)}yu(m,{args:z,name:U,store:M,after:ee,onError:Te});let xe;try{xe=P.apply(this&&this.$id===e?this:M,z)}catch(ie){throw yu(q,ie),ie}return xe instanceof Promise?xe.then(ie=>(yu(L,ie),ie)).catch(ie=>(yu(q,ie),Promise.reject(ie))):(yu(L,xe),xe)}}const C={_p:r,$id:e,$onAction:oI.bind(null,m),$patch:w,$reset:E,$subscribe(U,P={}){const z=oI(f,U,P.detached,()=>L()),L=a.run(()=>Kn(()=>r.state.value[e],q=>{(P.flush==="sync"?p:h)&&U({storeId:e,type:kc.direct,events:v},q)},Go({},c,P)));return z},$dispose:k},M=_o(C);r._s.set(e,M);const j=(r._a&&r._a.runWithContext||Z$)(()=>r._e.run(()=>(a=T_()).run(t)));for(const U in j){const P=j[U];if(zt(P)&&!nj(P)||us(P))s||(y&&tj(P)&&(zt(P)?P.value=y[U]:ob(P,y[U])),r.state.value[e][U]=P);else if(typeof P=="function"){const z=I(U,P);j[U]=z,l.actions[U]=P}}return Go(M,j),Go(yt(M),j),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:U=>{w(P=>{Go(P,U)})}}),r._p.forEach(U=>{Go(M,a.run(()=>U({store:M,app:r._a,pinia:r,options:l})))}),y&&s&&n.hydrate&&n.hydrate(M.$state,y),h=!0,p=!0,M}function Ua(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function a(l,c){const h=zV();return l=l||(h?Br(SC,null):null),l&&Gp(l),l=TC,l._s.has(r)||(s?AC(r,t,i,l):rj(r,i,l)),l._s.get(r)}return a.$id=r,a}function ln(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const i=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,i):i[s]},n),{})}function $n(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...i){return e(this.$pinia)[r](...i)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...i){return e(this.$pinia)[t[r]](...i)},n),{})}function Mt(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(i){return e(this.$pinia)[r]=i}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(i){return e(this.$pinia)[t[r]]=i}},n),{})}/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Dn(e){return typeof e=="function"}function xC(e){return e==null}const Ia=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function G_(e){return Number(e)>=0}function ij(e){const t=parseFloat(e);return isNaN(t)?e:t}function oj(e){return typeof e=="object"&&e!==null}function sj(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function sI(e){if(!oj(e)||sj(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qc(e,t){return Object.keys(t).forEach(n=>{if(sI(t[n])&&sI(e[n])){e[n]||(e[n]={}),qc(e[n],t[n]);return}e[n]=t[n]}),e}function Ec(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(G_(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const kC={};function pi(e,t){uj(e,t),kC[e]=t}function aj(e){return kC[e]}function uj(e,t){if(!Dn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function aI(e,t,n){typeof n.value=="object"&&(n.value=Dt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Dt(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(a){i.add(Dt(a))})):s==="[object Map]"?(i=new Map,e.forEach(function(a,l){i.set(Dt(l),Dt(a))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Dt(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)aI(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||aI(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}const zp=Symbol("vee-validate-form"),lj=Symbol("vee-validate-field-instance"),Gd=Symbol("Default empty value"),cj=typeof window<"u";function sb(e){return Dn(e)&&!!e.__locatorRef}function bi(e){return!!e&&Dn(e.parse)&&e.__type==="VVTypedSchema"}function zd(e){return!!e&&Dn(e.validate)}function Af(e){return e==="checkbox"||e==="radio"}function fj(e){return Ia(e)||Array.isArray(e)}function hj(e){return Array.isArray(e)?e.length===0:Ia(e)&&Object.keys(e).length===0}function qp(e){return/^\[.+\]$/i.test(e)}function dj(e){return CC(e)&&e.multiple}function CC(e){return e.tagName==="SELECT"}function pj(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function mj(e,t){return!pj(e,t)&&t.type!=="file"&&!Af(t.type)}function NC(e){return z_(e)&&e.target&&"submit"in e.target}function z_(e){return e?!!(typeof Event<"u"&&Dn(Event)&&e instanceof Event||e&&e.srcElement):!1}function uI(e,t){return t in e&&e[t]!==Gd}function hr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!hr(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!hr(r[1],t.get(r[0])))return!1;return!0}if(lI(e)&&lI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(i=Object.keys(e),n=i.length,r=n;r--!==0;){var s=i[r];if(!hr(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function lI(e){return cj?e instanceof File:!1}function q_(e){return qp(e)?e.replace(/\[|\]/gi,""):e}function Tr(e,t,n){return e?qp(t)?e[q_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((i,s)=>fj(i)&&s in i?i[s]:n,e):n}function zo(e,t,n){if(qp(t)){e[q_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<r.length;s++){if(s===r.length-1){i[r[s]]=n;return}(!(r[s]in i)||xC(i[r[s]]))&&(i[r[s]]=G_(r[s+1])?[]:{}),i=i[r[s]]}}function fy(e,t){if(Array.isArray(e)&&G_(t)){e.splice(Number(t),1);return}Ia(e)&&delete e[t]}function cI(e,t){if(qp(t)){delete e[q_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){fy(r,n[s]);break}if(!(n[s]in r)||xC(r[n[s]]))break;r=r[n[s]]}const i=n.map((s,a)=>Tr(e,n.slice(0,a).join(".")));for(let s=i.length-1;s>=0;s--)if(hj(i[s])){if(s===0){fy(e,n[0]);continue}fy(i[s-1],n[s-1])}}function Lr(e){return Object.keys(e)}function OC(e,t=void 0){const n=Wi();return(n==null?void 0:n.provides[e])||Br(e,t)}function fI(e,t,n){if(Array.isArray(e)){const r=[...e],i=r.findIndex(s=>hr(s,t));return i>=0?r.splice(i,1):r.push(t),r}return hr(e,t)?n:t}function hI(e,t=0){let n=null,r=[];return function(...i){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...i);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function gj(e,t){return Ia(t)&&t.number?ij(e):e}function ab(e,t){let n;return async function(...i){const s=e(...i);n=s;const a=await s;return s!==n?a:(n=void 0,t(a,i))}}function ub(e){return Array.isArray(e)?e:e?[e]:[]}function Zh(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function vj(e){let t=null,n=[];return function(...r){const i=or(()=>{if(t!==i)return;const s=e(...r);n.forEach(a=>a(s)),n=[],t=null});return t=i,new Promise(s=>n.push(s))}}function W_(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,i;return(i=(r=t.slots).default)===null||i===void 0?void 0:i.call(r,n())}}:t.slots.default}function hy(e){if(PC(e))return e._value}function PC(e){return"_value"in e}function yj(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function qd(e){if(!z_(e))return e;const t=e.target;if(Af(t.type)&&PC(t))return hy(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(dj(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(hy);if(CC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?hy(n):t.value}return yj(t)}function LC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ia(e)&&e._$$isNormalized?e:Ia(e)?Object.keys(e).reduce((n,r)=>{const i=bj(e[r]);return e[r]!==!1&&(n[r]=dI(i)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const i=_j(r);return i.name&&(n[i.name]=dI(i.params)),n},t):t}function bj(e){return e===!0?[]:Array.isArray(e)||Ia(e)?e:[e]}function dI(e){const t=n=>typeof n=="string"&&n[0]==="@"?wj(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const _j=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function wj(e){const t=n=>Tr(n,e)||n[e];return t.__locatorRef=e,t}function Ej(e){return Array.isArray(e)?e.filter(sb):Lr(e).filter(t=>sb(e[t])).map(t=>e[t])}const Tj={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let lb=Object.assign({},Tj);const pa=()=>lb,Sj=e=>{lb=Object.assign(Object.assign({},lb),e)},Ij=Sj;async function RC(e,t,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await Aj(i,e)).errors;return{errors:a,valid:!a.length}}async function Aj(e,t){if(bi(e.rules)||zd(e.rules))return kj(t,e.rules);if(Dn(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],c=l.length,h=[];for(let p=0;p<c;p++){const f=l[p],m=await f(t,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))h.push(...m);else{const y=typeof m=="string"?m:MC(a);h.push(y)}if(e.bails)return{errors:h}}}return{errors:h}}const n=Object.assign(Object.assign({},e),{rules:LC(e.rules)}),r=[],i=Object.keys(n.rules),s=i.length;for(let a=0;a<s;a++){const l=i[a],c=await Cj(n,t,{name:l,params:n.rules[l]});if(c.error&&(r.push(c.error),e.bails))return{errors:r}}return{errors:r}}function xj(e){return!!e&&e.name==="ValidationError"}function DC(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(i){if(!xj(i))throw i;if(!(!((r=i.inner)===null||r===void 0)&&r.length)&&i.errors.length)return{errors:[{path:i.path,errors:i.errors}]};const s=i.inner.reduce((a,l)=>{const c=l.path||"";return a[c]||(a[c]={errors:[],path:c}),a[c].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function kj(e,t){const r=await(bi(t)?t:DC(t)).parse(e),i=[];for(const s of r.errors)s.errors.length&&i.push(...s.errors);return{errors:i}}async function Cj(e,t,n){const r=aj(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=Nj(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},a=await r(t,i,s);return typeof a=="string"?{error:a}:{error:a?void 0:MC(s)}}function MC(e){const t=pa().generateMessage;return t?t(e):"Field is invalid"}function Nj(e,t){const n=r=>sb(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,i)=>(r[i]=n(e[i]),r),{})}async function Oj(e,t){const r=await(bi(e)?e:DC(e)).parse(Dt(t)),i={},s={};for(const a of r.errors){const l=a.errors,c=(a.path||"").replace(/\["(\d+)"\]/g,(h,p)=>`[${p}]`);i[c]={valid:!l.length,errors:l},l.length&&(s[c]=l[0])}return{valid:!r.errors.length,results:i,errors:s,values:r.value}}async function Pj(e,t,n){const i=Lr(e).map(async h=>{var p,f,m;const v=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[h],y=await RC(Tr(t,h),e[h],{name:(v==null?void 0:v.name)||h,label:v==null?void 0:v.label,values:t,bails:(m=(f=n==null?void 0:n.bailsMap)===null||f===void 0?void 0:f[h])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},y),{path:h})});let s=!0;const a=await Promise.all(i),l={},c={};for(const h of a)l[h.path]={valid:h.valid,errors:h.errors},h.valid||(s=!1,c[h.path]=h.errors[0]);return{valid:s,results:l,errors:c}}let pI=0;function Lj(e,t){const{value:n,initialValue:r,setInitialValue:i}=Rj(e,t.modelValue,t.form);if(!t.form){let c=function(v){var y;"value"in v&&(n.value=v.value),"errors"in v&&p(v.errors),"touched"in v&&(m.touched=(y=v.touched)!==null&&y!==void 0?y:m.touched),"initialValue"in v&&i(v.initialValue)};const{errors:h,setErrors:p}=Fj(),f=pI>=Number.MAX_SAFE_INTEGER?0:++pI,m=Mj(n,r,h,t.schema);return{id:f,path:e,value:n,initialValue:r,meta:m,flags:{pendingUnmount:{[f]:!1},pendingReset:!1},errors:h,setState:c}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),a=He(()=>s.errors);function l(c){var h,p,f;"value"in c&&(n.value=c.value),"errors"in c&&((h=t.form)===null||h===void 0||h.setFieldError(Et(e),c.errors)),"touched"in c&&((p=t.form)===null||p===void 0||p.setFieldTouched(Et(e),(f=c.touched)!==null&&f!==void 0?f:!1)),"initialValue"in c&&i(c.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:a,meta:s,initialValue:r,flags:s.__flags,setState:l}}function Rj(e,t,n){const r=ot(Et(t));function i(){return n?Tr(n.initialValues.value,Et(e),Et(r)):Et(r)}function s(h){if(!n){r.value=h;return}n.setFieldInitialValue(Et(e),h,!0)}const a=He(i);if(!n)return{value:ot(i()),initialValue:a,setInitialValue:s};const l=Dj(t,n,a,e);return n.stageInitialValue(Et(e),l,!0),{value:He({get(){return Tr(n.values,Et(e))},set(h){n.setFieldValue(Et(e),h,!1)}}),initialValue:a,setInitialValue:s}}function Dj(e,t,n,r){return zt(e)?Et(e):e!==void 0?e:Tr(t.values,Et(r),Et(n))}function Mj(e,t,n,r){var i,s;const a=(s=(i=r==null?void 0:r.describe)===null||i===void 0?void 0:i.call(r).required)!==null&&s!==void 0?s:!1,l=_o({touched:!1,pending:!1,valid:!0,required:a,validated:!!Et(n).length,initialValue:He(()=>Et(t)),dirty:He(()=>!hr(Et(e),Et(t)))});return Kn(n,c=>{l.valid=!c.length},{immediate:!0,flush:"sync"}),l}function Fj(){const e=ot([]);return{errors:e,setErrors:t=>{e.value=ub(t)}}}function Uj(e,t,n){return Af(n==null?void 0:n.type)?$j(e,t,n):FC(e,t,n)}function FC(e,t,n){const{initialValue:r,validateOnMount:i,bails:s,type:a,checkedValue:l,label:c,validateOnValueUpdate:h,uncheckedValue:p,controlled:f,keepValueOnUnmount:m,syncVModel:v,form:y}=Vj(n),_=f?OC(zp):void 0,w=y||_,E=He(()=>Ec(It(e))),k=He(()=>{if(It(w==null?void 0:w.schema))return;const Ne=Et(t);return zd(Ne)||bi(Ne)||Dn(Ne)||Array.isArray(Ne)?Ne:LC(Ne)}),{id:I,value:C,initialValue:M,meta:A,setState:j,errors:U,flags:P}=Lj(E,{modelValue:r,form:w,bails:s,label:c,type:a,validate:k.value?xe:void 0,schema:bi(t)?t:void 0}),z=He(()=>U.value[0]);v&&jj({value:C,prop:v,handleChange:ie,shouldValidate:()=>h&&!P.pendingReset});const L=(Se,Ne=!1)=>{A.touched=!0,Ne&&ee()};async function q(Se){var Ne,W;if(w!=null&&w.validateSchema){const{results:le}=await w.validateSchema(Se);return(Ne=le[It(E)])!==null&&Ne!==void 0?Ne:{valid:!0,errors:[]}}return k.value?RC(C.value,k.value,{name:It(E),label:It(c),values:(W=w==null?void 0:w.values)!==null&&W!==void 0?W:{},bails:s}):{valid:!0,errors:[]}}const ee=ab(async()=>(A.pending=!0,A.validated=!0,q("validated-only")),Se=>(P.pendingUnmount[pt.id]||(j({errors:Se.errors}),A.pending=!1,A.valid=Se.valid),Se)),Te=ab(async()=>q("silent"),Se=>(A.valid=Se.valid,Se));function xe(Se){return(Se==null?void 0:Se.mode)==="silent"?Te():ee()}function ie(Se,Ne=!0){const W=qd(Se);xt(W,Ne)}Fa(()=>{if(i)return ee();(!w||!w.validateSchema)&&Te()});function Re(Se){A.touched=Se}function Me(Se){var Ne;const W=Se&&"value"in Se?Se.value:M.value;j({value:Dt(W),initialValue:Dt(W),touched:(Ne=Se==null?void 0:Se.touched)!==null&&Ne!==void 0?Ne:!1,errors:(Se==null?void 0:Se.errors)||[]}),A.pending=!1,A.validated=!1,Te()}const Xe=Wi();function xt(Se,Ne=!0){C.value=Xe&&v?gj(Se,Xe.props.modelModifiers):Se,(Ne?ee:Te)()}function it(Se){j({errors:Array.isArray(Se)?Se:[Se]})}const dt=He({get(){return C.value},set(Se){xt(Se,h)}}),pt={id:I,name:E,label:c,value:dt,meta:A,errors:U,errorMessage:z,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:m,resetField:Me,handleReset:()=>Me(),validate:xe,handleChange:ie,handleBlur:L,setState:j,setTouched:Re,setErrors:it,setValue:xt};if(cs(lj,pt),zt(t)&&typeof Et(t)!="function"&&Kn(t,(Se,Ne)=>{hr(Se,Ne)||(A.validated?ee():Te())},{deep:!0}),!w)return pt;const en=He(()=>{const Se=k.value;return!Se||Dn(Se)||zd(Se)||bi(Se)||Array.isArray(Se)?{}:Object.keys(Se).reduce((Ne,W)=>{const le=Ej(Se[W]).map(re=>re.__locatorRef).reduce((re,Ee)=>{const Ge=Tr(w.values,Ee)||w.values[Ee];return Ge!==void 0&&(re[Ee]=Ge),re},{});return Object.assign(Ne,le),Ne},{})});return Kn(en,(Se,Ne)=>{if(!Object.keys(Se).length)return;!hr(Se,Ne)&&(A.validated?ee():Te())}),Tf(()=>{var Se;const Ne=(Se=It(pt.keepValueOnUnmount))!==null&&Se!==void 0?Se:It(w.keepValuesOnUnmount),W=It(E);if(Ne||!w||P.pendingUnmount[pt.id]){w==null||w.removePathState(W,I);return}P.pendingUnmount[pt.id]=!0;const le=w.getPathState(W);if(Array.isArray(le==null?void 0:le.id)&&(le!=null&&le.multiple)?le!=null&&le.id.includes(pt.id):(le==null?void 0:le.id)===pt.id){if(le!=null&&le.multiple&&Array.isArray(le.value)){const Ee=le.value.findIndex(Ge=>hr(Ge,It(pt.checkedValue)));if(Ee>-1){const Ge=[...le.value];Ge.splice(Ee,1),w.setFieldValue(W,Ge)}Array.isArray(le.id)&&le.id.splice(le.id.indexOf(pt.id),1)}else w.unsetPathValue(It(E));w.removePathState(W,I)}}),pt}function Vj(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",i=n&&!("initialValue"in(e||{}))?cb(Wi(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:i});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:i,controlled:a??!0,checkedValue:s,syncVModel:l})}function $j(e,t,n){const r=n!=null&&n.standalone?void 0:OC(zp),i=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const c=l.handleChange,h=He(()=>{const f=It(l.value),m=It(i);return Array.isArray(f)?f.findIndex(v=>hr(v,m))>=0:hr(m,f)});function p(f,m=!0){var v,y;if(h.value===((v=f==null?void 0:f.target)===null||v===void 0?void 0:v.checked)){m&&l.validate();return}const _=It(e),w=r==null?void 0:r.getPathState(_),E=qd(f);let k=(y=It(i))!==null&&y!==void 0?y:E;r&&(w!=null&&w.multiple)&&w.type==="checkbox"?k=fI(Tr(r.values,_)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=fI(It(l.value),k,It(s))),c(k,m)}return Object.assign(Object.assign({},l),{checked:h,checkedValue:i,uncheckedValue:s,handleChange:p})}return a(FC(e,t,n))}function jj({prop:e,value:t,handleChange:n,shouldValidate:r}){const i=Wi();if(!i||!e)return;const s=typeof e=="string"?e:"modelValue",a=`update:${s}`;s in i.props&&(Kn(t,l=>{hr(l,cb(i,s))||i.emit(a,l)}),Kn(()=>cb(i,s),l=>{if(l===Gd&&t.value===void 0)return;const c=l===Gd?void 0:l;hr(c,t.value)||n(c,r())}))}function cb(e,t){if(e)return e.props[t]}const Bj=Ss({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>pa().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Gd},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=la(e,"rules"),r=la(e,"name"),i=la(e,"label"),s=la(e,"uncheckedValue"),a=la(e,"keepValue"),{errors:l,value:c,errorMessage:h,validate:p,handleChange:f,handleBlur:m,setTouched:v,resetField:y,handleReset:_,meta:w,checked:E,setErrors:k}=Uj(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Gj(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:i,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),I=function(P,z=!0){f(P,z)},C=He(()=>{const{validateOnInput:U,validateOnChange:P,validateOnBlur:z,validateOnModelUpdate:L}=Hj(e);function q(ie){m(ie,z),Dn(t.attrs.onBlur)&&t.attrs.onBlur(ie)}function ee(ie){I(ie,U),Dn(t.attrs.onInput)&&t.attrs.onInput(ie)}function Te(ie){I(ie,P),Dn(t.attrs.onChange)&&t.attrs.onChange(ie)}const xe={name:e.name,onBlur:q,onInput:ee,onChange:Te};return xe["onUpdate:modelValue"]=ie=>I(ie,L),xe}),M=He(()=>{const U=Object.assign({},C.value);Af(t.attrs.type)&&E&&(U.checked=E.value);const P=mI(e,t);return mj(P,t.attrs)&&(U.value=c.value),U}),A=He(()=>Object.assign(Object.assign({},C.value),{modelValue:c.value}));function j(){return{field:M.value,componentField:A.value,value:c.value,meta:w,errors:l.value,errorMessage:h.value,validate:p,resetField:y,handleChange:I,handleInput:U=>I(U,!1),handleReset:_,handleBlur:C.value.onBlur,setTouched:v,setErrors:k}}return t.expose({value:c,meta:w,errors:l,errorMessage:h,setErrors:k,setTouched:v,reset:y,validate:p,handleChange:f}),()=>{const U=Up(mI(e,t)),P=W_(U,t,j);return U?mn(U,Object.assign(Object.assign({},t.attrs),M.value),P):P}}});function mI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function Hj(e){var t,n,r,i;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:c}=pa();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(i=e.validateOnModelUpdate)!==null&&i!==void 0?i:c}}function Gj(e,t){return Af(t.attrs.type)?uI(e,"modelValue")?e.modelValue:void 0:uI(e,"modelValue")?e.modelValue:t.attrs.value}const zj=Bj;let qj=0;const ed=["bails","fieldsCount","id","multiple","type","validate"];function UC(e){const t=Object.assign({},It((e==null?void 0:e.initialValues)||{})),n=Et(e==null?void 0:e.validationSchema);return n&&bi(n)&&Dn(n.cast)?Dt(n.cast(t)||{}):Dt(t)}function Wj(e){var t;const n=qj++;let r=0;const i=ot(!1),s=ot(!1),a=ot(0),l=[],c=_o(UC(e)),h=ot([]),p=ot({}),f=ot({}),m=vj(()=>{f.value=h.value.reduce((V,B)=>(V[Ec(It(B.path))]=B,V),{})});function v(V,B){const ne=ie(V);if(!ne){typeof V=="string"&&(p.value[Ec(V)]=ub(B));return}if(typeof V=="string"){const ve=Ec(V);p.value[ve]&&delete p.value[ve]}ne.errors=ub(B),ne.valid=!ne.errors.length}function y(V){Lr(V).forEach(B=>{v(B,V[B])})}e!=null&&e.initialErrors&&y(e.initialErrors);const _=He(()=>{const V=h.value.reduce((B,ne)=>(ne.errors.length&&(B[ne.path]=ne.errors),B),{});return Object.assign(Object.assign({},p.value),V)}),w=He(()=>Lr(_.value).reduce((V,B)=>{const ne=_.value[B];return ne!=null&&ne.length&&(V[B]=ne[0]),V},{})),E=He(()=>h.value.reduce((V,B)=>(V[B.path]={name:B.path||"",label:B.label||""},V),{})),k=He(()=>h.value.reduce((V,B)=>{var ne;return V[B.path]=(ne=B.bails)!==null&&ne!==void 0?ne:!0,V},{})),I=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:M,originalInitialValues:A,setInitialValues:j}=Yj(h,c,e),U=Kj(h,c,A,w),P=He(()=>h.value.reduce((V,B)=>{const ne=Tr(c,B.path);return zo(V,B.path,ne),V},{})),z=e==null?void 0:e.validationSchema;function L(V,B){var ne,ve;const Ie=He(()=>Tr(M.value,It(V))),Pe=f.value[It(V)],Ze=(B==null?void 0:B.type)==="checkbox"||(B==null?void 0:B.type)==="radio";if(Pe&&Ze){Pe.multiple=!0;const pr=r++;return Array.isArray(Pe.id)?Pe.id.push(pr):Pe.id=[Pe.id,pr],Pe.fieldsCount++,Pe.__flags.pendingUnmount[pr]=!1,Pe}const et=He(()=>Tr(c,It(V))),mt=It(V),_t=Me.findIndex(pr=>pr===mt);_t!==-1&&Me.splice(_t,1);const Lt=He(()=>{var pr,xi,Ao,xl,ki,Ka;return bi(z)?(Ao=(xi=(pr=z).describe)===null||xi===void 0?void 0:xi.call(pr,It(V)).required)!==null&&Ao!==void 0?Ao:!1:bi(B==null?void 0:B.schema)&&(Ka=(ki=(xl=B==null?void 0:B.schema).describe)===null||ki===void 0?void 0:ki.call(xl).required)!==null&&Ka!==void 0?Ka:!1}),Vt=r++,An=_o({id:Vt,path:V,touched:!1,pending:!1,valid:!0,validated:!!(!((ne=I[mt])===null||ne===void 0)&&ne.length),required:Lt,initialValue:Ie,errors:Rp([]),bails:(ve=B==null?void 0:B.bails)!==null&&ve!==void 0?ve:!1,label:B==null?void 0:B.label,type:(B==null?void 0:B.type)||"default",value:et,multiple:!1,__flags:{pendingUnmount:{[Vt]:!1},pendingReset:!1},fieldsCount:1,validate:B==null?void 0:B.validate,dirty:He(()=>!hr(Et(et),Et(Ie)))});return h.value.push(An),f.value[mt]=An,m(),w.value[mt]&&!I[mt]&&or(()=>{pe(mt,{mode:"silent"})}),zt(V)&&Kn(V,pr=>{m();const xi=Dt(et.value);f.value[pr]=An,or(()=>{zo(c,pr,xi)})}),An}const q=hI(Z,5),ee=hI(Z,5),Te=ab(async V=>await(V==="silent"?q():ee()),(V,[B])=>{const ne=Lr(Ne.errorBag.value),Ie=[...new Set([...Lr(V.results),...h.value.map(Pe=>Pe.path),...ne])].sort().reduce((Pe,Ze)=>{var et;const mt=Ze,_t=ie(mt)||Re(mt),Lt=((et=V.results[mt])===null||et===void 0?void 0:et.errors)||[],Vt=It(_t==null?void 0:_t.path)||mt,An=Xj({errors:Lt,valid:!Lt.length},Pe.results[Vt]);return Pe.results[Vt]=An,An.valid||(Pe.errors[Vt]=An.errors[0]),_t&&p.value[Vt]&&delete p.value[Vt],_t?(_t.valid=An.valid,B==="silent"||B==="validated-only"&&!_t.validated||v(_t,An.errors),Pe):(v(Vt,Lt),Pe)},{valid:V.valid,results:{},errors:{}});return V.values&&(Ie.values=V.values),Lr(Ie.results).forEach(Pe=>{var Ze;const et=ie(Pe);et&&B!=="silent"&&(B==="validated-only"&&!et.validated||v(et,(Ze=Ie.results[Pe])===null||Ze===void 0?void 0:Ze.errors))}),Ie});function xe(V){h.value.forEach(V)}function ie(V){const B=typeof V=="string"?Ec(V):V;return typeof B=="string"?f.value[B]:B}function Re(V){return h.value.filter(ne=>V.startsWith(ne.path)).reduce((ne,ve)=>ne?ve.path.length>ne.path.length?ve:ne:ve,void 0)}let Me=[],Xe;function xt(V){return Me.push(V),Xe||(Xe=or(()=>{[...Me].sort().reverse().forEach(ne=>{cI(c,ne)}),Me=[],Xe=null})),Xe}function it(V){return function(ne,ve){return function(Pe){return Pe instanceof Event&&(Pe.preventDefault(),Pe.stopPropagation()),xe(Ze=>Ze.touched=!0),i.value=!0,a.value++,fe().then(Ze=>{const et=Dt(c);if(Ze.valid&&typeof ne=="function"){const mt=Dt(P.value);let _t=V?mt:et;return Ze.values&&(_t=Ze.values),ne(_t,{evt:Pe,controlledValues:mt,setErrors:y,setFieldError:v,setTouched:H,setFieldTouched:Ge,setValues:re,setFieldValue:W,resetForm:X,resetField:te})}!Ze.valid&&typeof ve=="function"&&ve({values:et,evt:Pe,errors:Ze.errors,results:Ze.results})}).then(Ze=>(i.value=!1,Ze),Ze=>{throw i.value=!1,Ze})}}}const pt=it(!1);pt.withControlled=it(!0);function en(V,B){const ne=h.value.findIndex(Ie=>Ie.path===V&&(Array.isArray(Ie.id)?Ie.id.includes(B):Ie.id===B)),ve=h.value[ne];if(!(ne===-1||!ve)){if(or(()=>{pe(V,{mode:"silent",warn:!1})}),ve.multiple&&ve.fieldsCount&&ve.fieldsCount--,Array.isArray(ve.id)){const Ie=ve.id.indexOf(B);Ie>=0&&ve.id.splice(Ie,1),delete ve.__flags.pendingUnmount[B]}(!ve.multiple||ve.fieldsCount<=0)&&(h.value.splice(ne,1),N(V),m(),delete f.value[V])}}function Se(V){Lr(f.value).forEach(B=>{B.startsWith(V)&&delete f.value[B]}),h.value=h.value.filter(B=>!B.path.startsWith(V)),or(()=>{m()})}const Ne={formId:n,values:c,controlledValues:P,errorBag:_,errors:w,schema:z,submitCount:a,meta:U,isSubmitting:i,isValidating:s,fieldArrays:l,keepValuesOnUnmount:C,validateSchema:Et(z)?Te:void 0,validate:fe,setFieldError:v,validateField:pe,setFieldValue:W,setValues:re,setErrors:y,setFieldTouched:Ge,setTouched:H,resetForm:X,resetField:te,handleSubmit:pt,useFieldModel:G,defineInputBinds:J,defineComponentBinds:ge,defineField:oe,stageInitialValue:R,unsetInitialValue:N,setFieldInitialValue:$,createPathState:L,getPathState:ie,unsetPathValue:xt,removePathState:en,initialValues:M,getAllPathStates:()=>h.value,destroyPath:Se,isFieldTouched:at,isFieldDirty:D,isFieldValid:O};function W(V,B,ne=!0){const ve=Dt(B),Ie=typeof V=="string"?V:V.path;ie(Ie)||L(Ie),zo(c,Ie,ve),ne&&pe(Ie)}function le(V,B=!0){Lr(c).forEach(ne=>{delete c[ne]}),Lr(V).forEach(ne=>{W(ne,V[ne],!1)}),B&&fe()}function re(V,B=!0){qc(c,V),l.forEach(ne=>ne&&ne.reset()),B&&fe()}function Ee(V,B){const ne=ie(It(V))||L(V);return He({get(){return ne.value},set(ve){var Ie;const Pe=It(V);W(Pe,ve,(Ie=It(B))!==null&&Ie!==void 0?Ie:!1)}})}function Ge(V,B){const ne=ie(V);ne&&(ne.touched=B)}function at(V){const B=ie(V);return B?B.touched:h.value.filter(ne=>ne.path.startsWith(V)).some(ne=>ne.touched)}function D(V){const B=ie(V);return B?B.dirty:h.value.filter(ne=>ne.path.startsWith(V)).some(ne=>ne.dirty)}function O(V){const B=ie(V);return B?B.valid:h.value.filter(ne=>ne.path.startsWith(V)).every(ne=>ne.valid)}function H(V){if(typeof V=="boolean"){xe(B=>{B.touched=V});return}Lr(V).forEach(B=>{Ge(B,!!V[B])})}function te(V,B){var ne;const ve=B&&"value"in B?B.value:Tr(M.value,V),Ie=ie(V);Ie&&(Ie.__flags.pendingReset=!0),$(V,Dt(ve),!0),W(V,ve,!1),Ge(V,(ne=B==null?void 0:B.touched)!==null&&ne!==void 0?ne:!1),v(V,(B==null?void 0:B.errors)||[]),or(()=>{Ie&&(Ie.__flags.pendingReset=!1)})}function X(V,B){let ne=Dt(V!=null&&V.values?V.values:A.value);ne=B!=null&&B.force?ne:qc(A.value,ne),ne=bi(z)&&Dn(z.cast)?z.cast(ne):ne,j(ne),xe(ve=>{var Ie;ve.__flags.pendingReset=!0,ve.validated=!1,ve.touched=((Ie=V==null?void 0:V.touched)===null||Ie===void 0?void 0:Ie[ve.path])||!1,W(ve.path,Tr(ne,ve.path),!1),v(ve.path,void 0)}),B!=null&&B.force?le(ne,!1):re(ne,!1),y((V==null?void 0:V.errors)||{}),a.value=(V==null?void 0:V.submitCount)||0,or(()=>{fe({mode:"silent"}),xe(ve=>{ve.__flags.pendingReset=!1})})}async function fe(V){const B=(V==null?void 0:V.mode)||"force";if(B==="force"&&xe(Pe=>Pe.validated=!0),Ne.validateSchema)return Ne.validateSchema(B);s.value=!0;const ne=await Promise.all(h.value.map(Pe=>Pe.validate?Pe.validate(V).then(Ze=>({key:Pe.path,valid:Ze.valid,errors:Ze.errors})):Promise.resolve({key:Pe.path,valid:!0,errors:[]})));s.value=!1;const ve={},Ie={};for(const Pe of ne)ve[Pe.key]={valid:Pe.valid,errors:Pe.errors},Pe.errors.length&&(Ie[Pe.key]=Pe.errors[0]);return{valid:ne.every(Pe=>Pe.valid),results:ve,errors:Ie}}async function pe(V,B){var ne;const ve=ie(V);if(ve&&(B==null?void 0:B.mode)!=="silent"&&(ve.validated=!0),z){const{results:Ie}=await Te((B==null?void 0:B.mode)||"validated-only");return Ie[V]||{errors:[],valid:!0}}return ve!=null&&ve.validate?ve.validate(B):(!ve&&(ne=B==null?void 0:B.warn),Promise.resolve({errors:[],valid:!0}))}function N(V){cI(M.value,V)}function R(V,B,ne=!1){$(V,B),zo(c,V,B),ne&&!(e!=null&&e.initialValues)&&zo(A.value,V,Dt(B))}function $(V,B,ne=!1){zo(M.value,V,Dt(B)),ne&&zo(A.value,V,Dt(B))}async function Z(){const V=Et(z);if(!V)return{valid:!0,results:{},errors:{}};s.value=!0;const B=zd(V)||bi(V)?await Oj(V,c):await Pj(V,c,{names:E.value,bailsMap:k.value});return s.value=!1,B}const we=pt((V,{evt:B})=>{NC(B)&&B.target.submit()});Fa(()=>{if(e!=null&&e.initialErrors&&y(e.initialErrors),e!=null&&e.initialTouched&&H(e.initialTouched),e!=null&&e.validateOnMount){fe();return}Ne.validateSchema&&Ne.validateSchema("silent")}),zt(z)&&Kn(z,()=>{var V;(V=Ne.validateSchema)===null||V===void 0||V.call(Ne,"validated-only")}),cs(zp,Ne);function oe(V,B){const ne=Dn(B)||B==null?void 0:B.label,ve=ie(It(V))||L(V,{label:ne}),Ie=()=>Dn(B)?B(Zh(ve,ed)):B||{};function Pe(){var Lt;ve.touched=!0,((Lt=Ie().validateOnBlur)!==null&&Lt!==void 0?Lt:pa().validateOnBlur)&&pe(ve.path)}function Ze(){var Lt;((Lt=Ie().validateOnInput)!==null&&Lt!==void 0?Lt:pa().validateOnInput)&&or(()=>{pe(ve.path)})}function et(){var Lt;((Lt=Ie().validateOnChange)!==null&&Lt!==void 0?Lt:pa().validateOnChange)&&or(()=>{pe(ve.path)})}const mt=He(()=>{const Lt={onChange:et,onInput:Ze,onBlur:Pe};return Dn(B)?Object.assign(Object.assign({},Lt),B(Zh(ve,ed)).props||{}):B!=null&&B.props?Object.assign(Object.assign({},Lt),B.props(Zh(ve,ed))):Lt});return[Ee(V,()=>{var Lt,Vt,An;return(An=(Lt=Ie().validateOnModelUpdate)!==null&&Lt!==void 0?Lt:(Vt=pa())===null||Vt===void 0?void 0:Vt.validateOnModelUpdate)!==null&&An!==void 0?An:!0}),mt]}function G(V){return Array.isArray(V)?V.map(B=>Ee(B,!0)):Ee(V)}function J(V,B){const[ne,ve]=oe(V,B);function Ie(){ve.value.onBlur()}function Pe(et){const mt=qd(et);W(It(V),mt,!1),ve.value.onInput()}function Ze(et){const mt=qd(et);W(It(V),mt,!1),ve.value.onChange()}return He(()=>Object.assign(Object.assign({},ve.value),{onBlur:Ie,onInput:Pe,onChange:Ze,value:ne.value}))}function ge(V,B){const[ne,ve]=oe(V,B),Ie=ie(It(V));function Pe(Ze){ne.value=Ze}return He(()=>{const Ze=Dn(B)?B(Zh(Ie,ed)):B||{};return Object.assign({[Ze.model||"modelValue"]:ne.value,[`onUpdate:${Ze.model||"modelValue"}`]:Pe},ve.value)})}return Object.assign(Object.assign({},Ne),{values:C_(c),handleReset:()=>X(),submitForm:we})}function Kj(e,t,n,r){const i={touched:"some",pending:"some",valid:"every"},s=He(()=>!hr(t,Et(n)));function a(){const c=e.value;return Lr(i).reduce((h,p)=>{const f=i[p];return h[p]=c[f](m=>m[p]),h},{})}const l=_o(a());return Qk(()=>{const c=a();l.touched=c.touched,l.valid=c.valid,l.pending=c.pending}),He(()=>Object.assign(Object.assign({initialValues:Et(n)},l),{valid:l.valid&&!Lr(r.value).length,dirty:s.value}))}function Yj(e,t,n){const r=UC(n),i=ot(r),s=ot(Dt(r));function a(l,c=!1){i.value=qc(Dt(i.value)||{},Dt(l)),s.value=qc(Dt(s.value)||{},Dt(l)),c&&e.value.forEach(h=>{if(h.touched)return;const f=Tr(i.value,h.path);zo(t,h.path,Dt(f))})}return{initialValues:i,originalInitialValues:s,setInitialValues:a}}function Xj(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const Jj=Ss({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=la(e,"validationSchema"),r=la(e,"keepValues"),{errors:i,errorBag:s,values:a,meta:l,isSubmitting:c,isValidating:h,submitCount:p,controlledValues:f,validate:m,validateField:v,handleReset:y,resetForm:_,handleSubmit:w,setErrors:E,setFieldError:k,setFieldValue:I,setValues:C,setFieldTouched:M,setTouched:A,resetField:j}=Wj({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:r}),U=w((ie,{evt:Re})=>{NC(Re)&&Re.target.submit()},e.onInvalidSubmit),P=e.onSubmit?w(e.onSubmit,e.onInvalidSubmit):U;function z(ie){z_(ie)&&ie.preventDefault(),y(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function L(ie,Re){return w(typeof ie=="function"&&!Re?ie:Re,e.onInvalidSubmit)(ie)}function q(){return Dt(a)}function ee(){return Dt(l.value)}function Te(){return Dt(i.value)}function xe(){return{meta:l.value,errors:i.value,errorBag:s.value,values:a,isSubmitting:c.value,isValidating:h.value,submitCount:p.value,controlledValues:f.value,validate:m,validateField:v,handleSubmit:L,handleReset:y,submitForm:U,setErrors:E,setFieldError:k,setFieldValue:I,setValues:C,setFieldTouched:M,setTouched:A,resetForm:_,resetField:j,getValues:q,getMeta:ee,getErrors:Te}}return t.expose({setFieldError:k,setErrors:E,setFieldValue:I,setValues:C,setFieldTouched:M,setTouched:A,resetForm:_,validate:m,validateField:v,resetField:j,getValues:q,getMeta:ee,getErrors:Te,values:a,meta:l,errors:i}),function(){const Re=e.as==="form"?e.as:e.as?Up(e.as):null,Me=W_(Re,t,xe);return Re?mn(Re,Object.assign(Object.assign(Object.assign({},Re==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:P,onReset:z}),Me):Me}}}),Qj=Jj,Zj=Ss({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=Br(zp,void 0),r=He(()=>n==null?void 0:n.errors.value[e.name]);function i(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Up(e.as):e.as,a=W_(s,t,i),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?mn(s||"span",l,r.value):mn(s,l,a)}}}),eB=Zj;/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const td={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},tB=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function xf(e,t){return Array.isArray(e)?e[0]:e[t]}function Is(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const VC=(e,t)=>{if(Is(e))return!0;const n=tB(t);if(Array.isArray(e))return e.every(i=>VC(i,{locale:n}));const r=String(e);return n?(td[n]||td.en).test(r):Object.keys(td).some(i=>td[i].test(r))},nB=(e,t)=>{const n=xf(t,"target");return String(e)===String(n)},gI=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rB=e=>Is(e)?!0:Array.isArray(e)?e.every(t=>gI.test(String(t))):gI.test(String(e)),$C=(e,t)=>{if(Is(e))return!0;const n=xf(t,"length");return Array.isArray(e)?e.every(r=>$C(r,{length:n})):[...String(e)].length<=Number(n)},jC=(e,t)=>{if(Is(e))return!0;const n=xf(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>jC(r,{max:n})):Number(e)<=Number(n)},BC=(e,t)=>{if(Is(e))return!0;const n=xf(t,"length");return Array.isArray(e)?e.every(r=>BC(r,{length:n})):[...String(e)].length>=Number(n)},HC=(e,t)=>{if(Is(e))return!0;const n=xf(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>HC(r,{min:n})):Number(e)>=Number(n)},GC=(e,t)=>Is(e)?!0:Array.isArray(e)?e.every(n=>GC(n,t)):Array.from(t).some(n=>n==e),vI=(e,t)=>Is(e)?!0:!GC(e,t);function iB(e){return e==null}function oB(e){return Array.isArray(e)&&e.length===0}const yI=e=>iB(e)||oB(e)||e===!1?!1:!!String(e).trim().length,Jn=Ua("common",{state:()=>({language:"",isMoblieScreen:window.matchMedia("(max-width: 768px)").matches}),actions:{setLanguage(e){this.language=e},setMoblieScreen(e){this.isMoblieScreen=e}}}),zu={"Maroon 5":{name:"Maroon 5",desc:"Maroon 5 is an American pop rock band from Los Angeles, California.[3][4] It consists of lead vocalist and guitarist Adam Levine, rhythm guitarist and keyboardist Jesse Carmichael, lead guitarist James Valentine, drummer Matt Flynn, keyboardist PJ Morton and multi-instrumentalist and bassist Sam Farrar. Original members Levine, Carmichael, bassist Mickey Madden, and drummer Ryan Dusick first came together as Kara's Flowers in 1994, while they were in high school."},"Charlie Puth":{name:"Charlie Puth",desc:"Charles Otto Puth Jr. (/puːθ/; born December 2, 1991) is an American singer-songwriter. His initial exposure came through the viral success of his song covers uploaded to YouTube. Puth signed with the record label eleveneleven in 2011 after performing on The Ellen DeGeneres Show, during which he contributed songwriting and production work for other artists."},"Carly Rae Jepsen":{name:"Carly Rae Jepsen",desc:"Carly Rae Jepsen (born November 21, 1985)[2][3] is a Canadian singer and songwriter. After studying musical theatre for most of her school life and while in university, Jepsen garnered mainstream attention after placing third on the fifth season of Canadian Idol in 2007. In 2008, Jepsen released her folk-influenced debut studio album Tug of War in Canada before it was internationally released in 2011."},Echosmith:{name:"Echosmith",desc:`Echosmith is an American all-sibling alternative pop band formed in Toluca Lake, Los Angeles, in February 2009. The group is best known for their song Cool Kids, which reached number 13 on the Billboard Hot 100 and was certified double platinum in the United States and Australia. The band's debut album, Talking Dreams, was released on October 8, 2013. Their second album "Lonely Generation" was released on January 10, 2020.`},"Taylor Swift":{name:"Taylor Swift",desc:"Taylor Alison Swift (born December 13, 1989) is an American singer-songwriter. Recognized for her genre-spanning discography, songwriting, and artistic reinventions, Swift is a prominent cultural figure who has been cited as an influence on a generation of music artists."},Madonna:{name:"Madonna",desc:"Madonna Louise Ciccone (born August 16, 1958) is an American singer-songwriter, dancer, actress, author, director, philanthropist, businesswoman, record producer, film director, and humanitarian. Madonna was born in Bay City, Michigan, but she moved to New York City in 1977 to pursue a career in modern dance."},"Meghan Trainor":{name:"Meghan Trainor",desc:'Meghan Elizabeth Trainor (born December 22, 1993) is an American singer-songwriter and television personality. She rose to prominence after signing with Epic Records in 2014 and releasing her debut single "All About That Bass", which reached number one on the U.S. Billboard Hot 100 chart and sold 11 million copies worldwide. Trainor has released six studio albums with the label and has received various accolades, including the 2016 Grammy Award for Best New Artist.'},"Freya Lim":{name:"Freya Lim",desc:"Freya Lim (Chinese: 林凡; pinyin: Lin Fan; Pe̍h-ōe-jī: Lîm Hoân; born 20 November 1979), also known as Freya Lin, is a Malaysian Mandopop singer and radio deejay based in Taiwan. She is a Taiwanese PR. Her father is a Chinese Malaysian and her mother is a Taiwanese."},SISTAR:{name:"SISTAR",desc:'Sistar (Korean: 씨스타; stylized in all caps) was a South Korean girl group formed in 2010 by Starship Entertainment. The group consisted of Hyolyn, Bora, Soyou and Dasom. They made their official debut with the song "Push Push" on 3 June 2010.Their debut studio album So Cool was released on 9 August 2011.'},防彈少年團:{name:"BTS",desc:"BTS (Korean: 방탄소년단; RR: Bangtan Sonyeondan; lit. Bulletproof Boy Scouts), also known as the Bangtan Boys, is a South Korean boy band formed in 2010. The band consists of Jin, Suga, J-Hope, RM, Jimin, V, and Jungkook, who co-write or co-produce much of their material."},Lovelyz:{name:"Lovelyz",desc:"Lovelyz (Korean: 러블리즈) is a South Korean girl group formed in 2014 by Woollim Entertainment and is the company's first girl group. The group consists of eight members: Baby Soul, Jiae, Jisoo, Mijoo, Kei, Jin, Sujeong and Yein. Their debut album, Girls' Invasion, was released on November 17, 2014."},Apink:{name:"Apink",desc:"Apink (Korean: 에이핑크; RR: Eipingkeu; Japanese: エーピンク) is a South Korean girl group formed by IST Entertainment, (formerly Play M Entertainment, A Cube Entertainment, and Plan A Entertainment) and managed by Choi Creative Lab as of April, 2024."},徐英真:{name:"Suh Young-Eun",desc:'Suh Young-Eun, born in Seoul, South Korea in 1973, is a renowned South Korean singer. A graduate of Biology from Catholic University of Korea, she made her debut in the Korean music industry in 1998 with her first full-length album, "Softly whispering "I Love U"". Her unique voice, characterized by its sincere sorrow and crystal-clear clarity, has earned her immense popularity. Additionally, Seo has contributed to numerous popular Korean drama soundtracks.'},CNBLUE:{name:"CNBLUE",desc:"CNBLUE (씨엔블루) is a three-member pop rock boy band under FNC Entertainment. They began as an indie band in Japan, releasing their first mini-album Now or Never on August 18, 2009 and later debuted in Korea on January 14, 2010 with the mini-album Bluetory."},KARA:{name:"KARA",desc:"Kara (Korean: 카라; Japanese: カラ; often stylized in all caps) /ˈkɑːrə/ is a South Korean girl group formed by DSP Media in 2007. The group's current lineup is Gyuri, Seungyeon, Nicole, Jiyoung, and Youngji."},TWICE:{name:"TWICE",desc:"Twice (Korean: 트와이스; RR: Teuwaiseu; Japanese: トゥワイス, Hepburn: Tuwaisu; commonly stylized in all caps) is a South Korean girl group formed by JYP Entertainment."},宇多田光:{name:"Hikaru Utada",desc:"Hikaru Utada (宇多田 ヒカル, Utada Hikaru, born January 19, 1983), also known by the mononym Utada,[2] is an American and Japanese singer, songwriter and producer. Utada is one of the most influential, bestselling musical artists in Japan."},"B'z":{name:"B'z",desc:`B'z (Japanese: ビーズ, Hepburn: Bīzu) is a Japanese rock duo consisting of guitarist, composer and producer Takahiro "Tak" Matsumoto and vocalist and lyricist Koshi Inaba, known for their energetic hard rock tracks and pop rock ballads.`},生物股長:{name:"Ikimonogakari",desc:'Ikimonogakari (いきものがかり) is a musical group founded on February 1, 1999, by Mizuno Yoshiki and Yamashita Hotaka, who had attended the same primary, junior high, and high schools. The name "Ikimonogakari" comes from the fact that they were both first-year elementary school students who worked together as "students in charge of feeding animals".'},靈魂出竅:{name:"Soul'd Out",desc:`Soul'd Out (usually styled as SOUL'd OUT) was a Japanese hip-hop trio, consisting of Diggy-MO' (MC), Bro.Hi (MC/Beatboxer), and Shinnosuke (DJ). Their name is a portmanteau of "soul" and "sold out", and the group is sometimes referred to by their initials, S.O. On 30 January 2014, the group announced on Facebook that they would disband after their final album, To From, was released on 9 April 2014.`},"Every Little Thing":{name:"Every Little Thing",desc:'Every Little Thing (also known as ELT by their fans) is a pop/soft rock duo from Japan who debuted in August 1996 with the release of their first single called "Feel My Heart". Their name is usually written in English, and only rarely in katakana.'},西村由紀江:{name:"Yukie Nishimura",desc:"Yukie Nishimura (西村 由紀江, Nishimura Yukie, born May 8, 1967 in Toyonaka, Osaka) is a prolific Japanese pianist and compos"},海淪珍尼:{name:"Helen Chen",desc:""},西斯派瑟:{name:"Cissy Spicer",desc:""},伊莉莎白卡蜜拉:{name:"Elizabeth Camilla",desc:""},"Dua  LaLa":{name:"Dua LaLa",desc:""},"珍妮 伯孜":{name:"Jenny Bozzi",desc:""},雅各利亞:{name:"Jacob Ria",desc:""},派特少年:{name:"Pat Boy",desc:""}},Wc={V:{name:"V",desc:"2013-2014; Conway Studios, Hollywood Kingston Sound, Los Angeles Luke's in the Boo, Malibu Matzah Ball, New York City MXM Studios, Stockholm Patriot Studios, Denver Record Plant, Los Angeles"},Voicenotes:{name:"Voicenotes",desc:"Voicenotes is Charlie Puth's second studio album that was released on May 11, 2018 by Artist Partners and Atlantic Records."},Curiosity:{name:"Curiosity",desc:"Curiosity was the intended sophomore studio album from Carly Rae Jepsen, set to be released on February 14th 2012 through 604 Records, exclusively in Canada."},"Talking Dreams":{name:"Talking Dreams",desc:"Talking Dreams is the debut studio album by American indie pop band Echosmith. The album was released on October 1, 2013, through Warner Bros. Records.[5] All songs on the album were co-written by the four Sierota siblings and their father, Jeffery David."},Red:{name:"Red",desc:"Red (occasionally stylized as RED) is the fourth studio album by American singer and songwriter Taylor Swift, released on October 22, 2012, through Big Machine Records. The title is the color to which Swift associated the tumultuous emotions she was experiencing from lost love while conceiving the album."},"Hard Candy":{name:"Hard Candy",desc:"Hard Candy is Madonna's 12th studio album that was released on April 19, 2006 by Warner Bros. Records."},Tilite:{name:"Tilite",desc:'Title is the fourth studio album and debut major-label studio album by Meghan Trainor. The album released on January 9, 2015, by record label Epic. The album comes after the success of her debut single "All About That Bass" which had peaked atop of the Billboard Hot 100.'},非愛不可:{name:"Freya's Love Songs",desc:"Freya's Love Songs (Chinese: 非愛不可。心林凡) is the third studio album of Taiwan-born Malaysian Mandopop artist Freya Lim (Chinese: 林凡). It was released on 3 August 2007 by Linfair Records."},"SHAKE IT":{name:"SHAKE IT",desc:"Shake It is the third extended play by South Korean girl group Sistar. It was released on June 22, 2015, by Starship Entertainment and distributed by LOEN Entertainment."},"Permission to Dance":{name:"Permission to Dance",desc:'"Permission to Dance" is a song by South Korean boy band BTS. It was released through Big Hit Music and Sony Music on July 9, 2021, as a stand-alone single.'},lovelyz8:{name:"lovelyz8",desc:'Lovelyz8 is the first extended play by South Korean girl group Lovelyz. It was released on October 1, 2015.The EP contains seven tracks with the title track "Ah-Choo" and pre-release single "Shooting Star".'},"Pink MEMORY":{name:"Pink MEMORY",desc:'Pink Memory (stylized as Pink MEMORY) is the second full-length studio album by South Korean girl group Apink. It was released on July 16, 2015. The title track, "Remember", was used to promote the album.'},"서진영 - The Best ":{name:"서진영 - The Best ",desc:'In 2004, Suh Young-Eun delighted fans with a compilation album featuring a curated selection of her most memorable tracks. The album includes soundtracks from beloved Korean dramas like "Nine-Tailed Fox" and "Summer Scent."'},Bluetory:{name:"Bluetory",desc:"Bluetory is the Korean debut mini-album by South Korean pop-rock idol band CNBLUE. It was released on January 14, 2010, under FNC Music and distributed by Mnet Media. After being signed to the record label, the quartet was sent to Japan, where it independently released two mini-albums."},Revolution:{name:"Revolution",desc:"Revolution is the second studio album and second Korean material release by South Korean girl group Kara, released on July 30, 2009, by DSP Media."},"TWICEcoaster: LANE 1":{name:"TWICEcoaster: LANE 1",desc:"Twicecoaster: Lane 1 is the third extended play (EP) by South Korean girl group Twice. The EP was released digitally and physically on October 24, 2016, by JYP Entertainment and distributed by KT Music."},"First Love":{name:"First Love",desc:'"First Love" is a song by the Japanese-American singer-songwriter Hikaru Utada. It was released on April 28, 1999, as the third Japanese language single from her second studio album, First Love, which was issued a month previously. It was certified double platinum for 800,000 copies shipped to stores in Japan.'},"The Best ULTRA Pleasure":{name:"The Best ULTRA Pleasure",desc:`B'z The Best "Ultra Pleasure" is a compilation double-album by the Japanese hard rock duo B'z. It was released on June 18, 2008, and it is part of their 20th anniversary celebration. It peaked at #1 at Oricon charts and Billboard Japan Top Albums`},啟程之歌:{name:"Hajimari no Uta",desc:'Hajimari no Uta (ハジマリノウタ, First Song) is the fourth studio album by Ikimonogakari, released in Japan on December 23, 2009. A limited edition version included a bonus DVD with footage from their concert "Ikimono Gakari no Minasan, Konni Tour!! 2009 - My song Your song -" performance on May 25, 2009 at Shibuya C.C. Lemon Hall, plus special booklet, and ikimono card 017.'},"Flip Side Collection":{name:"Flip Side Collection",desc:"This compilation album is a chronological collection of B-sides, including previously released singles and unreleased tracks from the artist's discography."},COMPLETE:{name:"COMPLETE",desc:'Every Little Thing has unveiled their most comprehensive collection of singles to date, titled "Every Best Single ~COMPLETE~".'},看見幸福:{name:"Seeing Happiness",desc:`Yukie Nishimura's 2002 compilation album, "Seeing Happiness," featuring her greatest hits.`},"Indie-Rock":{name:"Indie-Rock",desc:"Hot Sketch, a band that expertly blends alternative, folk, and rock, consistently delivers new songs that paint a delightful picture of a leisurely afternoon in the city."},深夜安眠曲:{name:"Midnight Serenade",desc:"If you've ever dreamed of a highway escape, then you need to listen to Shark Psychedelic. Their live performances create an urgent sense that they could drop their guitars and hit the road at any moment. With their new sound, they're offering a fresh take on what it means to be a band. Their cinematic journey is just beginning."},"Where's my Moustache":{name:"Where's my Moustache",desc:"As a street musician, Elizabeth Camilla has evolved from folk to a blend of jazz and blues, transforming inner demons into playful musical creatures. She's also challenged the boundaries of street music, exploring more diverse and open-minded themes. Her unique perspective is making waves in the independent music scene."},"Dua  Lipa":{name:"Dua LaLa",desc:"Pop has never been so dangerous, and it's never been so sweet. Dua Lipa, the global pop sensation, has rewritten the rules of the UK music industry, winning the MTV Europe Music Award for Best New Act. Her ability to capture the feelings of a generation has made her a style icon and a role model for young women worldwide."},"Thank You":{name:"Thank You",desc:"In the grimy corners of the city, it's rare to find a band as raw and engaging as Seal Police. Their music is full of imperfections that somehow make it all the more charming. Seeing them live is never a dull experience."},鯊魚二世:{name:"Shark II",desc:"Album Description: If you've ever dreamed of a highway escape, then you need to listen to Shark Psychedelic. Their live performances create an urgent sense that they could drop their guitars and hit the road at any moment. With their new sound, they're offering a fresh take on what it means to be a band. Their cinematic journey is just beginning."},龐貝城中沒人:{name:"No One in Pompeii",desc:`This album is a more polished effort compared to their previous works, but don't let that fool you. This chaotic band still packs a punch with their raw punk energy and noisy undertones. Tracks like "Fake Rock Star" show their disregard for outside opinions and their commitment to staying true to themselves.`}},K_=e=>({albumSinger:"歌手名稱",albumName:"專輯名稱",albumCoverImgUrl:"專輯封面",email:"email",password:"密碼",albumGenre:"專輯類型",albumDesc:"專輯描述"})[e]||e,sB=e=>{const{language:t}=Jn();return t==="zh"?`*${K_(e)}欄位不可為空白`:`The field ${e} is required.`},aB=e=>{const{language:t}=Jn();return t==="zh"?`*${K_(e)}欄位所輸入文字長度太短`:`The field ${e} is too short`},uB=e=>{const{language:t}=Jn();return t==="zh"?`*${K_(e)}欄位所輸入文字長度太長`:`The field ${e} is too long`},Y_=e=>{if(!e)return;const{language:t}=Jn();return t==="zh"?e:zu[e]&&zu[e].name},lB=(e,t)=>{if(!e)return;const{language:n}=Jn();return n==="zh"?t:zu[e]&&zu[e].desc},zC=e=>{if(!e)return;const{language:t}=Jn();return t==="zh"?e:Wc[e]&&Wc[e].name},cB=(e,t)=>{if(!e)return;const{language:n}=Jn();return n==="zh"?t:Wc[e].desc},qC=(e,t,n)=>{const{language:r}=Jn();if(e){if(t==="member_fundraising"&&n===!0&&r==="en")return zu[e].name;if(t==="member_fundraising")return e}},fB=(e,t,n,r)=>{const{language:i}=Jn();if(e){if(n==="member_fundraising"&&r===!0&&i==="en")return zu[e].desc;if(n==="member_fundraising")return t}},WC=(e,t,n)=>{const{language:r}=Jn();if(e){if(t==="member_fundraising"&&n===!0&&r==="en")return Wc[e].name;if(t==="member_fundraising")return e}},hB=(e,t,n,r)=>{const{language:i}=Jn();if(e){if(n==="member_fundraising"&&r===!0&&i==="en")return Wc[e].desc;if(n==="member_fundraising")return t}},dB={install(e){e.component("VeeForm",Qj),e.component("VeeField",zj),e.component("ErrorMessage",eB),pi("required",yI),pi("tos",yI),pi("min",BC),pi("max",$C),pi("alpha_spaces",VC),pi("email",rB),pi("min_value",HC),pi("max_value",jC),pi("passwords_mismatch",nB),pi("excluded",vI),pi("contry_excluded",vI),Ij({generateMessage:t=>{const n={required:sB(t.field),min:aB(t.field),max:uB(t.field),alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`請使用有效的${t.field}格式`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,contry_excluded:"Due to restrictions, we do not accept users from this laction",passwords_mismatch:"與所輸入的密碼不符合",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wd=function(){return Wd=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Wd.apply(this,arguments)};function KC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fb=function(e,t){return fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fb(e,t)};function pB(e,t){fb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(e){return Kc(void 0,e)}function Kc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!gB(r)||(e[r]=Kc(e[r],t[r]));return e}function gB(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vB=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Aa())}function bB(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _B(){return typeof self=="object"&&self.self===self}function wB(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TB(){return Aa().indexOf("Electron/")>=0}function SB(){var e=Aa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function IB(){return Aa().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AB="FirebaseError",YC=function(e){pB(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=AB,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,X_.prototype.create),s}return t}(Error),X_=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?xB(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new YC(s,c,i);return h},e}();function xB(e,t){return e.replace(kB,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var kB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function CB(e,t){var n=new NB(e,t);return n.subscribe.bind(n)}var NB=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OB(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=dy),s.error===void 0&&(s.error=dy),s.complete===void 0&&(s.complete=dy);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function OB(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function dy(){}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hb=function(){return hb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hb.apply(this,arguments)};function PB(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(f){a(f)}}function c(p){try{h(r.throw(p))}catch(f){a(f)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function LB(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function RB(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function XC(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function DB(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(XC(arguments[t]));return e}var kf=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MB=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Tu);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new vB;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=hb({identifier:Tu,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(l){if(i)return null;throw l}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,UB(t))try{this.getOrInitializeService(Tu)}catch{}try{for(var i=RB(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=XC(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService(h);c.resolve(p)}catch{}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Tu),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return PB(this,void 0,void 0,function(){var t;return LB(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(DB(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.getOrInitializeService=function(t){var n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,FB(t)),this.instances.set(t,n)),n||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Tu:t},e}();function FB(e){return e===Tu?void 0:e}function UB(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VB=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new MB(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function vi(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra,J_=[],St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));var JC={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},$B=St.INFO,jB=(ra={},ra[St.DEBUG]="log",ra[St.VERBOSE]="log",ra[St.INFO]="info",ra[St.WARN]="warn",ra[St.ERROR]="error",ra),BB=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=jB[t];if(s)console[s].apply(console,vi(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},QC=function(){function e(t){this.name=t,this._logLevel=$B,this._logHandler=BB,this._userLogHandler=null,J_.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in St))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?JC[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.DEBUG],t)),this._logHandler.apply(this,vi([this,St.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.VERBOSE],t)),this._logHandler.apply(this,vi([this,St.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.INFO],t)),this._logHandler.apply(this,vi([this,St.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.WARN],t)),this._logHandler.apply(this,vi([this,St.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.ERROR],t)),this._logHandler.apply(this,vi([this,St.ERROR],t))},e}();function HB(e){J_.forEach(function(t){t.setLogLevel(e)})}function GB(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=JC[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],f=2;f<arguments.length;f++)p[f-2]=arguments[f];var m=p.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");h>=(l??c.logLevel)&&e({level:St[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=J_;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo,zB=(Uo={},Uo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Uo["bad-app-name"]="Illegal App name: '{$appName}",Uo["duplicate-app"]="Firebase App named '{$appName}' already exists",Uo["app-deleted"]="Firebase App named '{$appName}' already deleted",Uo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Uo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Uo),Su=new X_("app","Firebase",zB),ZC="@firebase/app",qB="0.6.14",WB="@firebase/analytics",KB="@firebase/auth",YB="@firebase/database",XB="@firebase/functions",JB="@firebase/installations",QB="@firebase/messaging",ZB="@firebase/performance",eH="@firebase/remote-config",tH="@firebase/storage",nH="@firebase/firestore",rH="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Kd="[DEFAULT]",iH=(tr={},tr[ZC]="fire-core",tr[WB]="fire-analytics",tr[KB]="fire-auth",tr[YB]="fire-rtdb",tr[XB]="fire-fn",tr[JB]="fire-iid",tr[QB]="fire-fcm",tr[ZB]="fire-perf",tr[eH]="fire-rc",tr[tH]="fire-gcs",tr[nH]="fire-fst",tr["fire-js"]="fire-js",tr[rH]="fire-js-all",tr);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qu=new QC("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Id=function(){function e(t,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=mB(t),this.container=new VB(n.name),this._addComponent(new kf("app",function(){return a},"PUBLIC"));try{for(var l=KC(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var h=c.value;this._addComponent(h)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Kd),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Kd),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){qu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Su.create("app-deleted",{appName:this.name_})},e}();Id.prototype.name&&Id.prototype.options||Id.prototype.delete||console.log("dc");var oH="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:HB,onLog:p,apps:null,SDK_VERSION:oH,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||Kd,!bI(t,m))throw Su.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var y=v;v={name:y}}var _=v;_.name===void 0&&(_.name=Kd);var w=_.name;if(typeof w!="string"||!w)throw Su.create("bad-app-name",{appName:String(w)});if(bI(t,w))throw Su.create("duplicate-app",{appName:w});var E=new e(m,_,r);return t[w]=E,E}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var v,y,_=m.name;if(n.has(_))return qu.debug("There were multiple attempts to register component "+_+"."),m.type==="PUBLIC"?r[_]:null;if(n.set(_,m),m.type==="PUBLIC"){var w=function(C){if(C===void 0&&(C=s()),typeof C[_]!="function")throw Su.create("invalid-app-argument",{appName:_});return C[_]()};m.serviceProps!==void 0&&Kc(w,m.serviceProps),r[_]=w,e.prototype[_]=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];var A=this._getService.bind(this,_);return A.apply(this,m.multipleInstances?C:[])}}try{for(var E=KC(Object.keys(t)),k=E.next();!k.done;k=E.next()){var I=k.value;t[I]._addComponent(m)}}catch(C){v={error:C}}finally{try{k&&!k.done&&(y=E.return)&&y.call(E)}finally{if(v)throw v.error}}return m.type==="PUBLIC"?r[_]:null}function h(m,v,y){var _,w=(_=iH[m])!==null&&_!==void 0?_:m;y&&(w+="-"+y);var E=w.match(/\s|\//),k=v.match(/\s|\//);if(E||k){var I=['Unable to register library "'+w+'" with version "'+v+'":'];E&&I.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),E&&k&&I.push("and"),k&&I.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),qu.warn(I.join(" "));return}c(new kf(w+"-version",function(){return{library:w,version:v}},"VERSION"))}function p(m,v){if(m!==null&&typeof m!="function")throw Su.create("invalid-log-argument",{appName:name});GB(m,v)}function f(m,v){if(v==="serverAuth")return null;var y=v;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){var e=sH(Id);e.INTERNAL=Wd(Wd({},e.INTERNAL),{createFirebaseNamespace:eN,extendNamespace:t,createSubscribe:CB,ErrorFactory:X_,deepExtend:Kc});function t(n){Kc(e,n)}return e}var Q_=eN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aH=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(uH(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function uH(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(e,t){e.INTERNAL.registerComponent(new kf("platform-logger",function(n){return new aH(n)},"PRIVATE")),e.registerVersion(ZC,qB,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(_B()&&self.firebase!==void 0){qu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var _I=self.firebase.SDK_VERSION;_I&&_I.indexOf("LITE")>=0&&qu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var cH=Q_.initializeApp;Q_.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bB()&&qu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),cH.apply(void 0,e)};var Fe=Q_;lH(Fe);var fH="firebase",hH="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe.registerVersion(fH,hH,"app");(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){o!=Array.prototype&&o!=Object.prototype&&(o[u]=d.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}return globalThis}var r=n(this);function i(o,u){if(u){var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var b=o[g];b in d||(d[b]={}),d=d[b]}o=o[o.length-1],g=d[o],u=u(g),u!=g&&u!=null&&t(d,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(x){this.b=0,this.c=void 0,this.a=[];var F=this.f();try{x(F.resolve,F.reject)}catch(Q){F.reject(Q)}}function d(){this.a=null}function g(x){return x instanceof u?x:new u(function(F){F(x)})}if(o)return o;d.prototype.b=function(x){if(this.a==null){this.a=[];var F=this;this.c(function(){F.g()})}this.a.push(x)};var b=r.setTimeout;d.prototype.c=function(x){b(x,0)},d.prototype.g=function(){for(;this.a&&this.a.length;){var x=this.a;this.a=[];for(var F=0;F<x.length;++F){var Q=x[F];x[F]=null;try{Q()}catch(se){this.f(se)}}}this.a=null},d.prototype.f=function(x){this.c(function(){throw x})},u.prototype.f=function(){function x(se){return function(Ye){Q||(Q=!0,se.call(F,Ye))}}var F=this,Q=!1;return{resolve:x(this.m),reject:x(this.g)}},u.prototype.m=function(x){if(x===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(x instanceof u)this.s(x);else{e:switch(typeof x){case"object":var F=x!=null;break e;case"function":F=!0;break e;default:F=!1}F?this.v(x):this.h(x)}},u.prototype.v=function(x){var F=void 0;try{F=x.then}catch(Q){this.g(Q);return}typeof F=="function"?this.u(F,x):this.h(x)},u.prototype.g=function(x){this.i(2,x)},u.prototype.h=function(x){this.i(1,x)},u.prototype.i=function(x,F){if(this.b!=0)throw Error("Cannot settle("+x+", "+F+"): Promise already settled in state"+this.b);this.b=x,this.c=F,this.l()},u.prototype.l=function(){if(this.a!=null){for(var x=0;x<this.a.length;++x)T.b(this.a[x]);this.a=null}};var T=new d;return u.prototype.s=function(x){var F=this.f();x.Qa(F.resolve,F.reject)},u.prototype.u=function(x,F){var Q=this.f();try{x.call(F,Q.resolve,Q.reject)}catch(se){Q.reject(se)}},u.prototype.then=function(x,F){function Q(Tt,xn){return typeof Tt=="function"?function(io){try{se(Tt(io))}catch(ty){Ye(ty)}}:xn}var se,Ye,Ot=new u(function(Tt,xn){se=Tt,Ye=xn});return this.Qa(Q(x,se),Q(F,Ye)),Ot},u.prototype.catch=function(x){return this.then(void 0,x)},u.prototype.Qa=function(x,F){function Q(){switch(se.b){case 1:x(se.c);break;case 2:F(se.c);break;default:throw Error("Unexpected state: "+se.b)}}var se=this;this.a==null?T.b(Q):this.a.push(Q)},u.resolve=g,u.reject=function(x){return new u(function(F,Q){Q(x)})},u.race=function(x){return new u(function(F,Q){for(var se=a(x),Ye=se.next();!Ye.done;Ye=se.next())g(Ye.value).Qa(F,Q)})},u.all=function(x){var F=a(x),Q=F.next();return Q.done?g([]):new u(function(se,Ye){function Ot(io){return function(ty){Tt[io]=ty,xn--,xn==0&&se(Tt)}}var Tt=[],xn=0;do Tt.push(void 0),xn++,g(Q.value).Qa(Ot(Tt.length-1),Ye),Q=F.next();while(!Q.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function f(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function v(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function y(o){var u=v(o);return u=="array"||u=="object"&&typeof o.length=="number"}function _(o){return v(o)=="function"}function w(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function E(o){return Object.prototype.hasOwnProperty.call(o,k)&&o[k]||(o[k]=++I)}var k="closure_uid_"+(1e9*Math.random()>>>0),I=0;function C(o,u,d){return o.call.apply(o.bind,arguments)}function M(o,u,d){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function A(o,u,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A=C:A=M,A.apply(null,arguments)}function j(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}var U=Date.now;function P(o,u){function d(){}d.prototype=u.prototype,o.ab=u.prototype,o.prototype=new d,o.prototype.constructor=o}function z(o){return o}function L(o,u,d){this.code=ee+o,this.message=u||Te[o]||"",this.a=d||null}P(L,Error),L.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},L.prototype.toJSON=function(){return this.w()};function q(o){var u=o&&o.code;return u?new L(u.substring(ee.length),o.message,o.serverResponse):null}var ee="auth/",Te={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},xe={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ie(o){for(var u in xe)if(xe[u].id===o)return o=xe[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Re;Re=ie("__EID__")?"__EID__":void 0;function Me(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Xe(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Xe);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}P(Xe,Error),Xe.prototype.name="CustomError";function xt(o,u){o=o.split("%s");for(var d="",g=o.length-1,b=0;b<g;b++)d+=o[b]+(b<u.length?u[b]:"%s");Xe.call(this,d+o[g])}P(xt,Xe),xt.prototype.name="AssertionError";function it(o,u){throw new xt("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function dt(o,u){this.c=o,this.f=u,this.b=0,this.a=null}dt.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function pt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function en(){this.b=this.a=null}var Se=new dt(function(){return new W},function(o){o.reset()});en.prototype.add=function(o,u){var d=Se.get();d.set(o,u),this.b?this.b.next=d:this.a=d,this.b=d};function Ne(){var o=tE,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function W(){this.next=this.b=this.a=null}W.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var le=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var d=0;d<o.length;d++)if(d in o&&o[d]===u)return d;return-1},re=Array.prototype.forEach?function(o,u,d){Array.prototype.forEach.call(o,u,d)}:function(o,u,d){for(var g=o.length,b=typeof o=="string"?o.split(""):o,T=0;T<g;T++)T in b&&u.call(d,b[T],T,o)};function Ee(o,u){for(var d=typeof o=="string"?o.split(""):o,g=o.length-1;0<=g;--g)g in d&&u.call(void 0,d[g],g,o)}var Ge=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var d=o.length,g=[],b=0,T=typeof o=="string"?o.split(""):o,x=0;x<d;x++)if(x in T){var F=T[x];u.call(void 0,F,x,o)&&(g[b++]=F)}return g},at=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var d=o.length,g=Array(d),b=typeof o=="string"?o.split(""):o,T=0;T<d;T++)T in b&&(g[T]=u.call(void 0,b[T],T,o));return g},D=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var d=o.length,g=typeof o=="string"?o.split(""):o,b=0;b<d;b++)if(b in g&&u.call(void 0,g[b],b,o))return!0;return!1};function O(o){e:{for(var u=iM,d=o.length,g=typeof o=="string"?o.split(""):o,b=0;b<d;b++)if(b in g&&u.call(void 0,g[b],b,o)){u=b;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function H(o,u){return 0<=le(o,u)}function te(o,u){u=le(o,u);var d;return(d=0<=u)&&Array.prototype.splice.call(o,u,1),d}function X(o,u){var d=0;Ee(o,function(g,b){u.call(void 0,g,b,o)&&Array.prototype.splice.call(o,b,1).length==1&&d++})}function fe(o){return Array.prototype.concat.apply([],arguments)}function pe(o){var u=o.length;if(0<u){for(var d=Array(u),g=0;g<u;g++)d[g]=o[g];return d}return[]}var N=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},R=/&/g,$=/</g,Z=/>/g,we=/"/g,oe=/'/g,G=/\x00/g,J=/[\x00&<>"']/;function ge(o,u){return o.indexOf(u)!=-1}function V(o,u){return o<u?-1:o>u?1:0}var B;e:{var ne=c.navigator;if(ne){var ve=ne.userAgent;if(ve){B=ve;break e}}B=""}function Ie(o){return ge(B,o)}function Pe(o,u){for(var d in o)u.call(void 0,o[d],d,o)}function Ze(o){for(var u in o)return!1;return!0}function et(o){var u={},d;for(d in o)u[d]=o[d];return u}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(o,u){for(var d,g,b=1;b<arguments.length;b++){g=arguments[b];for(d in g)o[d]=g[d];for(var T=0;T<mt.length;T++)d=mt[T],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function Lt(o,u){e:{try{var d=o&&o.ownerDocument,g=d&&(d.defaultView||d.parentWindow);if(g=g||c,g.Element&&g.Location){var b=g;break e}}catch{}b=null}if(b&&typeof b[u]<"u"&&(!o||!(o instanceof b[u])&&(o instanceof b.Location||o instanceof b.Element))){if(w(o))try{var T=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{T="<object could not be stringified>"}else T=o===void 0?"undefined":o===null?"null":typeof o;it("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,T)}}function Vt(o,u){this.a=o===xi&&u||"",this.b=pr}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a},Vt.prototype.toString=function(){return"Const{"+this.a+"}"};function An(o){return o instanceof Vt&&o.constructor===Vt&&o.b===pr?o.a:(it("expected object of type Const, got '"+o+"'"),"type_error:Const")}var pr={},xi={},Ao;function xl(){if(Ao===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:z,createScript:z,createScriptURL:z})}catch(d){c.console&&c.console.error(d.message)}Ao=o}else Ao=o}return Ao}function ki(o,u){this.a=u===Vw?o:""}ki.prototype.sa=!0,ki.prototype.ra=function(){return this.a.toString()},ki.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Ka(o){return o instanceof ki&&o.constructor===ki?o.a:(it("expected object of type TrustedResourceUrl, got '"+o+"' of type "+v(o)),"type_error:TrustedResourceUrl")}function Om(o,u){var d=An(o);if(!RR.test(d))throw Error("Invalid TrustedResourceUrl format: "+d);return o=d.replace(LR,function(g,b){if(!Object.prototype.hasOwnProperty.call(u,b))throw Error('Found marker, "'+b+'", in format string, "'+d+'", but no valid label mapping found in args: '+JSON.stringify(u));return g=u[b],g instanceof Vt?An(g):encodeURIComponent(String(g))}),DR(o)}var LR=/%{(\w+)}/g,RR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Vw={};function DR(o){var u=xl();return o=u?u.createScriptURL(o):o,new ki(o,Vw)}function mr(o,u){this.a=u===kl?o:""}mr.prototype.sa=!0,mr.prototype.ra=function(){return this.a.toString()},mr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Yf(o){return o instanceof mr&&o.constructor===mr?o.a:(it("expected object of type SafeUrl, got '"+o+"' of type "+v(o)),"type_error:SafeUrl")}var MR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,FR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,$w=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jw(o){if(o instanceof mr)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),$w.test(o))o=new mr(o,kl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(FR);o=u&&MR.test(u[1])?new mr(o,kl):null}return o}function Bw(o){return o instanceof mr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),$w.test(o)||(o="about:invalid#zClosurez"),new mr(o,kl))}var kl={},Hw=new mr("about:invalid#zClosurez",kl);function Ya(o,u,d){this.a=d===Gw?o:""}Ya.prototype.sa=!0,Ya.prototype.ra=function(){return this.a.toString()},Ya.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function UR(o){return o instanceof Ya&&o.constructor===Ya?o.a:(it("expected object of type SafeHtml, got '"+o+"' of type "+v(o)),"type_error:SafeHtml")}var Gw={};function VR(o,u){Lt(o,"HTMLScriptElement"),o.src=Ka(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=f(u.document):(p===null&&(p=f(c.document)),u=p),u&&o.setAttribute("nonce",u)}function zw(o,u,d,g){return o=o instanceof mr?o:Bw(o),u=u||c,d=d instanceof Vt?An(d):d||"",u.open(Yf(o),d,g,void 0)}function qw(o,u){for(var d=o.split("%s"),g="",b=Array.prototype.slice.call(arguments,1);b.length&&1<d.length;)g+=d.shift()+b.shift();return g+d.join("%s")}function Pm(o){return J.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(R,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace($,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(Z,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(we,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(oe,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(G,"&#0;"))),o}function Lm(o){return Lm[" "](o),o}Lm[" "]=m;function $R(o,u){var d=GR;return Object.prototype.hasOwnProperty.call(d,o)?d[o]:d[o]=u(o)}var jR=Ie("Opera"),ui=Ie("Trident")||Ie("MSIE"),Ww=Ie("Edge"),BR=Ww||ui,Kw=Ie("Gecko")&&!(ge(B.toLowerCase(),"webkit")&&!Ie("Edge"))&&!(Ie("Trident")||Ie("MSIE"))&&!Ie("Edge"),HR=ge(B.toLowerCase(),"webkit")&&!Ie("Edge");function Yw(){var o=c.document;return o?o.documentMode:void 0}var Xf;e:{var Rm="",Dm=function(){var o=B;if(Kw)return/rv:([^\);]+)(\)|;)/.exec(o);if(Ww)return/Edge\/([\d\.]+)/.exec(o);if(ui)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(HR)return/WebKit\/(\S+)/.exec(o);if(jR)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Dm&&(Rm=Dm?Dm[1]:""),ui){var Mm=Yw();if(Mm!=null&&Mm>parseFloat(Rm)){Xf=String(Mm);break e}}Xf=Rm}var GR={};function Xw(o){return $R(o,function(){for(var u=0,d=N(String(Xf)).split("."),g=N(String(o)).split("."),b=Math.max(d.length,g.length),T=0;u==0&&T<b;T++){var x=d[T]||"",F=g[T]||"";do{if(x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],F=/(\d*)(\D*)(.*)/.exec(F)||["","","",""],x[0].length==0&&F[0].length==0)break;u=V(x[1].length==0?0:parseInt(x[1],10),F[1].length==0?0:parseInt(F[1],10))||V(x[2].length==0,F[2].length==0)||V(x[2],F[2]),x=x[3],F=F[3]}while(u==0)}return 0<=u})}var Fm;if(c.document&&ui){var Jw=Yw();Fm=Jw||parseInt(Xf,10)||void 0}else Fm=void 0;var xo=Fm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var zR=!ui||9<=Number(xo);function Cl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function Qw(o,u){Pe(u,function(d,g){d&&typeof d=="object"&&d.sa&&(d=d.ra()),g=="style"?o.style.cssText=d:g=="class"?o.className=d:g=="for"?o.htmlFor=d:Zw.hasOwnProperty(g)?o.setAttribute(Zw[g],d):g.lastIndexOf("aria-",0)==0||g.lastIndexOf("data-",0)==0?o.setAttribute(g,d):o[g]=d})}var Zw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function qR(o,u,d){var g=arguments,b=document,T=String(g[0]),x=g[1];if(!zR&&x&&(x.name||x.type)){if(T=["<",T],x.name&&T.push(' name="',Pm(x.name),'"'),x.type){T.push(' type="',Pm(x.type),'"');var F={};_t(F,x),delete F.type,x=F}T.push(">"),T=T.join("")}return T=Jf(b,T),x&&(typeof x=="string"?T.className=x:Array.isArray(x)?T.className=x.join(" "):Qw(T,x)),2<g.length&&WR(b,T,g),T}function WR(o,u,d){function g(F){F&&u.appendChild(typeof F=="string"?o.createTextNode(F):F)}for(var b=2;b<d.length;b++){var T=d[b];if(!y(T)||w(T)&&0<T.nodeType)g(T);else{e:{if(T&&typeof T.length=="number"){if(w(T)){var x=typeof T.item=="function"||typeof T.item=="string";break e}if(_(T)){x=typeof T.item=="function";break e}}x=!1}re(x?pe(T):T,g)}}}function Jf(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function eE(o){c.setTimeout(function(){throw o},0)}var Um;function KR(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ie("Presto")&&(o=function(){var b=Jf(document,"IFRAME");b.style.display="none",document.documentElement.appendChild(b);var T=b.contentWindow;b=T.document,b.open(),b.close();var x="callImmediate"+Math.random(),F=T.location.protocol=="file:"?"*":T.location.protocol+"//"+T.location.host;b=A(function(Q){(F=="*"||Q.origin==F)&&Q.data==x&&this.port1.onmessage()},this),T.addEventListener("message",b,!1),this.port1={},this.port2={postMessage:function(){T.postMessage(x,F)}}}),typeof o<"u"&&!Ie("Trident")&&!Ie("MSIE")){var u=new o,d={},g=d;return u.port1.onmessage=function(){if(d.next!==void 0){d=d.next;var b=d.Gb;d.Gb=null,b()}},function(b){g.next={Gb:b},g=g.next,u.port2.postMessage(0)}}return function(b){c.setTimeout(b,0)}}function Qf(o,u){Zf||YR(),Vm||(Zf(),Vm=!0),tE.add(o,u)}var Zf;function YR(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Zf=function(){o.then(nE)}}else Zf=function(){var u=nE;!_(c.setImmediate)||c.Window&&c.Window.prototype&&!Ie("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Um||(Um=KR()),Um(u)):c.setImmediate(u)}}var Vm=!1,tE=new en;function nE(){for(var o;o=Ne();){try{o.a.call(o.b)}catch(u){eE(u)}pt(Se,o)}Vm=!1}function ut(o,u){if(this.a=Rs,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var d=this;o.call(u,function(g){Ds(d,Nl,g)},function(g){if(!(g instanceof Xa))try{throw g instanceof Error?g:Error("Promise rejected.")}catch{}Ds(d,eo,g)})}catch(g){Ds(this,eo,g)}}var Rs=0,Nl=2,eo=3;function rE(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}rE.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var iE=new dt(function(){return new rE},function(o){o.reset()});function $m(o,u,d){var g=iE.get();return g.g=o,g.b=u,g.f=d,g}function je(o){if(o instanceof ut)return o;var u=new ut(m);return Ds(u,Nl,o),u}function qt(o){return new ut(function(u,d){d(o)})}function oE(o,u,d){lE(o,u,d,null)||Qf(j(u,o))}function XR(o){return new ut(function(u,d){var g=o.length,b=[];if(g)for(var T=function(se,Ye){g--,b[se]=Ye,g==0&&u(b)},x=function(se){d(se)},F=0,Q;F<o.length;F++)Q=o[F],oE(Q,j(T,F),x);else u(b)})}function sE(o){return new ut(function(u){var d=o.length,g=[];if(d)for(var b=function(F,Q,se){d--,g[F]=Q?{Pb:!0,value:se}:{Pb:!1,reason:se},d==0&&u(g)},T=0,x;T<o.length;T++)x=o[T],oE(x,j(b,T,!0),j(b,T,!1));else u(g)})}ut.prototype.then=function(o,u,d){return uE(this,_(o)?o:null,_(u)?u:null,d)},ut.prototype.$goog_Thenable=!0,e=ut.prototype,e.oa=function(o,u){return o=$m(o,o,u),o.c=!0,jm(this,o),this},e.o=function(o,u){return uE(this,null,o,u)},e.cancel=function(o){if(this.a==Rs){var u=new Xa(o);Qf(function(){aE(this,u)},this)}};function aE(o,u){if(o.a==Rs)if(o.c){var d=o.c;if(d.b){for(var g=0,b=null,T=null,x=d.b;x&&(x.c||(g++,x.a==o&&(b=x),!(b&&1<g)));x=x.next)b||(T=x);b&&(d.a==Rs&&g==1?aE(d,u):(T?(g=T,g.next==d.f&&(d.f=g),g.next=g.next.next):fE(d),hE(d,b,eo,u)))}o.c=null}else Ds(o,eo,u)}function jm(o,u){o.b||o.a!=Nl&&o.a!=eo||cE(o),o.f?o.f.next=u:o.b=u,o.f=u}function uE(o,u,d,g){var b=$m(null,null,null);return b.a=new ut(function(T,x){b.g=u?function(F){try{var Q=u.call(g,F);T(Q)}catch(se){x(se)}}:T,b.b=d?function(F){try{var Q=d.call(g,F);Q===void 0&&F instanceof Xa?x(F):T(Q)}catch(se){x(se)}}:x}),b.a.c=o,jm(o,b),b.a}e.$c=function(o){this.a=Rs,Ds(this,Nl,o)},e.ad=function(o){this.a=Rs,Ds(this,eo,o)};function Ds(o,u,d){o.a==Rs&&(o===d&&(u=eo,d=new TypeError("Promise cannot resolve to itself")),o.a=1,lE(d,o.$c,o.ad,o)||(o.i=d,o.a=u,o.c=null,cE(o),u!=eo||d instanceof Xa||QR(o,d)))}function lE(o,u,d,g){if(o instanceof ut)return jm(o,$m(u||m,d||null,g)),!0;if(Me(o))return o.then(u,d,g),!0;if(w(o))try{var b=o.then;if(_(b))return JR(o,b,u,d,g),!0}catch(T){return d.call(g,T),!0}return!1}function JR(o,u,d,g,b){function T(Q){F||(F=!0,g.call(b,Q))}function x(Q){F||(F=!0,d.call(b,Q))}var F=!1;try{u.call(o,x,T)}catch(Q){T(Q)}}function cE(o){o.h||(o.h=!0,Qf(o.gc,o))}function fE(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=fE(this);)hE(this,o,this.a,this.i);this.h=!1};function hE(o,u,d,g){if(d==eo&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,dE(u,d,g);else try{u.c?u.g.call(u.f):dE(u,d,g)}catch(b){pE.call(null,b)}pt(iE,u)}function dE(o,u,d){u==Nl?o.g.call(o.f,d):o.b&&o.b.call(o.f,d)}function QR(o,u){o.g=!0,Qf(function(){o.g&&pE.call(null,u)})}var pE=eE;function Xa(o){Xe.call(this,o)}P(Xa,Xe),Xa.prototype.name="cancel";function eh(){this.xa=this.xa,this.pa=this.pa}var ZR=0;eh.prototype.xa=!1;function mE(o){!o.xa&&(o.xa=!0,o.Da(),ZR!=0)&&E(o)}eh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eD=Object.freeze||function(o){return o},gE=!ui||9<=Number(xo),tD=ui&&!Xw("9"),nD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function gr(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}gr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ms(o,u){if(gr.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(Kw){e:{try{Lm(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:rD[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}P(Ms,gr);var rD=eD({2:"touch",3:"pen",4:"mouse"});Ms.prototype.preventDefault=function(){Ms.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,tD)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ms.prototype.g=function(){return this.a};var Ol="closure_listenable_"+(1e6*Math.random()|0),iD=0;function oD(o,u,d,g,b){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.Va=b,this.key=++iD,this.va=this.Pa=!1}function th(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function nh(o){this.src=o,this.a={},this.b=0}nh.prototype.add=function(o,u,d,g,b){var T=o.toString();o=this.a[T],o||(o=this.a[T]=[],this.b++);var x=Hm(o,u,g,b);return-1<x?(u=o[x],d||(u.Pa=!1)):(u=new oD(u,this.src,T,!!g,b),u.Pa=d,o.push(u)),u};function Bm(o,u){var d=u.type;d in o.a&&te(o.a[d],u)&&(th(u),o.a[d].length==0&&(delete o.a[d],o.b--))}function Hm(o,u,d,g){for(var b=0;b<o.length;++b){var T=o[b];if(!T.va&&T.listener==u&&T.capture==!!d&&T.Va==g)return b}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),zm={};function Xr(o,u,d,g,b){if(g&&g.once)qm(o,u,d,g,b);else if(Array.isArray(u))for(var T=0;T<u.length;T++)Xr(o,u[T],d,g,b);else d=Km(d),o&&o[Ol]?EE(o,u,d,w(g)?!!g.capture:!!g,b):vE(o,u,d,!1,g,b)}function vE(o,u,d,g,b,T){if(!u)throw Error("Invalid event type");var x=w(b)?!!b.capture:!!b,F=rh(o);if(F||(o[Gm]=F=new nh(o)),d=F.add(u,d,g,x,T),!d.proxy)if(g=sD(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)nD||(b=x),b===void 0&&(b=!1),o.addEventListener(u.toString(),g,b);else if(o.attachEvent)o.attachEvent(bE(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.")}function sD(){var o=aD,u=gE?function(d){return o.call(u.src,u.listener,d)}:function(d){if(d=o.call(u.src,u.listener,d),!d)return d};return u}function qm(o,u,d,g,b){if(Array.isArray(u))for(var T=0;T<u.length;T++)qm(o,u[T],d,g,b);else d=Km(d),o&&o[Ol]?Ym(o,u,d,w(g)?!!g.capture:!!g,b):vE(o,u,d,!0,g,b)}function Cr(o,u,d,g,b){if(Array.isArray(u))for(var T=0;T<u.length;T++)Cr(o,u[T],d,g,b);else g=w(g)?!!g.capture:!!g,d=Km(d),o&&o[Ol]?(o=o.v,u=String(u).toString(),u in o.a&&(T=o.a[u],d=Hm(T,d,g,b),-1<d&&(th(T[d]),Array.prototype.splice.call(T,d,1),T.length==0&&(delete o.a[u],o.b--)))):o&&(o=rh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Hm(u,d,g,b)),(d=-1<o?u[o]:null)&&yE(d))}function yE(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[Ol])Bm(u.v,o);else{var d=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(d,g,o.capture):u.detachEvent?u.detachEvent(bE(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=rh(u))?(Bm(d,o),d.b==0&&(d.src=null,u[Gm]=null)):th(o)}}}function bE(o){return o in zm?zm[o]:zm[o]="on"+o}function _E(o,u,d,g){var b=!0;if((o=rh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var T=u[o];T&&T.capture==d&&!T.va&&(T=wE(T,g),b=b&&T!==!1)}return b}function wE(o,u){var d=o.listener,g=o.Va||o.src;return o.Pa&&yE(o),d.call(g,u)}function aD(o,u){if(o.va)return!0;if(!gE){if(!u)e:{u=["window","event"];for(var d=c,g=0;g<u.length;g++)if(d=d[u[g]],d==null){u=null;break e}u=d}if(g=u,u=new Ms(g,this),d=!0,!(0>g.keyCode||g.returnValue!=null)){e:{var b=!1;if(g.keyCode==0)try{g.keyCode=-1;break e}catch{b=!0}(b||g.returnValue==null)&&(g.returnValue=!0)}for(g=[],b=u.b;b;b=b.parentNode)g.push(b);for(o=o.type,b=g.length-1;0<=b;b--){u.b=g[b];var T=_E(g[b],o,!0,u);d=d&&T}for(b=0;b<g.length;b++)u.b=g[b],T=_E(g[b],o,!1,u),d=d&&T}return d}return wE(o,new Ms(u,this))}function rh(o){return o=o[Gm],o instanceof nh?o:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(o){return _(o)?o:(o[Wm]||(o[Wm]=function(u){return o.handleEvent(u)}),o[Wm])}function Zn(){eh.call(this),this.v=new nh(this),this.ac=this,this.gb=null}P(Zn,eh),Zn.prototype[Ol]=!0,Zn.prototype.addEventListener=function(o,u,d,g){Xr(this,o,u,d,g)},Zn.prototype.removeEventListener=function(o,u,d,g){Cr(this,o,u,d,g)},Zn.prototype.dispatchEvent=function(o){var u,d=this.gb;if(d)for(u=[];d;d=d.gb)u.push(d);d=this.ac;var g=o.type||o;if(typeof o=="string")o=new gr(o,d);else if(o instanceof gr)o.target=o.target||d;else{var b=o;o=new gr(g,d),_t(o,b)}if(b=!0,u)for(var T=u.length-1;0<=T;T--){var x=o.b=u[T];b=ih(x,g,!0,o)&&b}if(x=o.b=d,b=ih(x,g,!0,o)&&b,b=ih(x,g,!1,o)&&b,u)for(T=0;T<u.length;T++)x=o.b=u[T],b=ih(x,g,!1,o)&&b;return b},Zn.prototype.Da=function(){if(Zn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var d=o.a[u],g=0;g<d.length;g++)th(d[g]);delete o.a[u],o.b--}}this.gb=null};function EE(o,u,d,g,b){o.v.add(String(u),d,!1,g,b)}function Ym(o,u,d,g,b){o.v.add(String(u),d,!0,g,b)}function ih(o,u,d,g){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var b=!0,T=0;T<u.length;++T){var x=u[T];if(x&&!x.va&&x.capture==d){var F=x.listener,Q=x.Va||x.src;x.Pa&&Bm(o.v,x),b=F.call(Q,g)!==!1&&b}}return b&&!g.defaultPrevented}function Xm(o,u,d){if(_(o))d&&(o=A(o,d));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Ja(o){var u=null;return new ut(function(d,g){u=Xm(function(){d(void 0)},o),u==-1&&g(Error("Failed to schedule timer."))}).o(function(d){throw c.clearTimeout(u),d})}function TE(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(y(o)){for(var u=[],d=o.length,g=0;g<d;g++)u.push(o[g]);return u}u=[],d=0;for(g in o)u[d++]=o[g];return u}function SE(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(y(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(var g in o)u[d++]=g;return u}}function uD(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(y(o)||typeof o=="string")re(o,u,void 0);else for(var d=SE(o),g=TE(o),b=g.length,T=0;T<b;T++)u.call(void 0,g[T],d&&d[T],o)}function Qa(o,u){this.b={},this.a=[],this.c=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var g=0;g<d;g+=2)this.set(arguments[g],arguments[g+1])}else if(o)if(o instanceof Qa)for(d=o.Y(),g=0;g<d.length;g++)this.set(d[g],o.get(d[g]));else for(g in o)this.set(g,o[g])}e=Qa.prototype,e.W=function(){Jm(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Jm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Jm(o){if(o.c!=o.a.length){for(var u=0,d=0;u<o.a.length;){var g=o.a[u];Fs(o.b,g)&&(o.a[d++]=g),u++}o.a.length=d}if(o.c!=o.a.length){var b={};for(d=u=0;u<o.a.length;)g=o.a[u],Fs(b,g)||(o.a[d++]=g,b[g]=1),u++;o.a.length=d}}e.get=function(o,u){return Fs(this.b,o)?this.b[o]:u},e.set=function(o,u){Fs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var d=this.Y(),g=0;g<d.length;g++){var b=d[g],T=this.get(b);o.call(u,T,b,this)}};function Fs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var IE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lD(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var g=o[d].indexOf("="),b=null;if(0<=g){var T=o[d].substring(0,g);b=o[d].substring(g+1)}else T=o[d];u(T,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ko(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var d;o instanceof ko?(this.i=u!==void 0?u:o.i,Pl(this,o.c),this.l=o.l,this.a=o.a,Ll(this,o.g),this.f=o.f,Qm(this,CE(o.b)),this.h=o.h):o&&(d=String(o).match(IE))?(this.i=!!u,Pl(this,d[1]||"",!0),this.l=Rl(d[2]||""),this.a=Rl(d[3]||"",!0),Ll(this,d[4]),this.f=Rl(d[5]||"",!0),Qm(this,d[6]||"",!0),this.h=Rl(d[7]||"")):(this.i=!!u,this.b=new Us(null,this.i))}ko.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Dl(u,AE,!0),":");var d=this.a;return(d||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Dl(u,AE,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.g,d!=null&&o.push(":",String(d))),(d=this.f)&&(this.a&&d.charAt(0)!="/"&&o.push("/"),o.push(Dl(d,d.charAt(0)=="/"?hD:fD,!0))),(d=this.b.toString())&&o.push("?",d),(d=this.h)&&o.push("#",Dl(d,pD)),o.join("")},ko.prototype.resolve=function(o){var u=new ko(this),d=!!o.c;d?Pl(u,o.c):d=!!o.l,d?u.l=o.l:d=!!o.a,d?u.a=o.a:d=o.g!=null;var g=o.f;if(d)Ll(u,o.g);else if(d=!!o.f){if(g.charAt(0)!="/")if(this.a&&!this.f)g="/"+g;else{var b=u.f.lastIndexOf("/");b!=-1&&(g=u.f.substr(0,b+1)+g)}if(b=g,b==".."||b==".")g="";else if(ge(b,"./")||ge(b,"/.")){g=b.lastIndexOf("/",0)==0,b=b.split("/");for(var T=[],x=0;x<b.length;){var F=b[x++];F=="."?g&&x==b.length&&T.push(""):F==".."?((1<T.length||T.length==1&&T[0]!="")&&T.pop(),g&&x==b.length&&T.push("")):(T.push(F),g=!0)}g=T.join("/")}else g=b}return d?u.f=g:d=o.b.toString()!=="",d?Qm(u,CE(o.b)):d=!!o.h,d&&(u.h=o.h),u};function Pl(o,u,d){o.c=d?Rl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Ll(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Qm(o,u,d){u instanceof Us?(o.b=u,mD(o.b,o.i)):(d||(u=Dl(u,dD)),o.b=new Us(u,o.i))}function rn(o,u,d){o.b.set(u,d)}function Jr(o,u){return o.b.get(u)}function vr(o){return o instanceof ko?new ko(o):new ko(o,void 0)}function oh(o,u,d,g){var b=new ko(null,void 0);return o&&Pl(b,o),u&&(b.a=u),d&&Ll(b,d),g&&(b.f=g),b}function Rl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Dl(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,cD),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function cD(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var AE=/[#\/\?@]/g,fD=/[#\?:]/g,hD=/[#\?]/g,dD=/[#\?@]/g,pD=/#/g;function Us(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Co(o){o.a||(o.a=new Qa,o.b=0,o.c&&lD(o.c,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}function xE(o){var u=SE(o);if(typeof u>"u")throw Error("Keys are undefined");var d=new Us(null,void 0);o=TE(o);for(var g=0;g<u.length;g++){var b=u[g],T=o[g];Array.isArray(T)?kE(d,b,T):d.add(b,T)}return d}e=Us.prototype,e.add=function(o,u){Co(this),this.c=null,o=Za(this,o);var d=this.a.get(o);return d||this.a.set(o,d=[]),d.push(u),this.b+=1,this};function Ci(o,u){Co(o),u=Za(o,u),Fs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Fs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Jm(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Zm(o,u){return Co(o),u=Za(o,u),Fs(o.a.b,u)}e.forEach=function(o,u){Co(this),this.a.forEach(function(d,g){re(d,function(b){o.call(u,b,g,this)},this)},this)},e.Y=function(){Co(this);for(var o=this.a.W(),u=this.a.Y(),d=[],g=0;g<u.length;g++)for(var b=o[g],T=0;T<b.length;T++)d.push(u[g]);return d},e.W=function(o){Co(this);var u=[];if(typeof o=="string")Zm(this,o)&&(u=fe(u,this.a.get(Za(this,o))));else{o=this.a.W();for(var d=0;d<o.length;d++)u=fe(u,o[d])}return u},e.set=function(o,u){return Co(this),this.c=null,o=Za(this,o),Zm(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function kE(o,u,d){Ci(o,u),0<d.length&&(o.c=null,o.a.set(Za(o,u),pe(d)),o.b+=d.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),d=0;d<u.length;d++){var g=u[d],b=encodeURIComponent(String(g));g=this.W(g);for(var T=0;T<g.length;T++){var x=b;g[T]!==""&&(x+="="+encodeURIComponent(String(g[T]))),o.push(x)}}return this.c=o.join("&")};function CE(o){var u=new Us;return u.c=o.c,o.a&&(u.a=new Qa(o.a),u.b=o.b),u}function Za(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function mD(o,u){u&&!o.f&&(Co(o),o.c=null,o.a.forEach(function(d,g){var b=g.toLowerCase();g!=b&&(Ci(this,g),kE(this,b,d))},o)),o.f=u}function NE(o){var u=[];return eg(new gD,o,u),u.join("")}function gD(){}function eg(o,u,d){if(u==null)d.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var g=u;u=g.length,d.push("[");for(var b="",T=0;T<u;T++)d.push(b),eg(o,g[T],d),b=",";d.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{d.push("{"),b="";for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&(T=u[g],typeof T!="function"&&(d.push(b),PE(g,d),d.push(":"),eg(o,T,d),b=","));d.push("}");return}}switch(typeof u){case"string":PE(u,d);break;case"number":d.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":d.push(String(u));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var OE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},vD=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function PE(o,u){u.push('"',o.replace(vD,function(d){var g=OE[d];return g||(g="\\u"+(d.charCodeAt(0)|65536).toString(16).substr(1),OE[d]=g),g}),'"')}function tg(){var o=Rn();return ui&&!!xo&&xo==11||/Edge\/\d+/.test(o)}function Ml(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function LE(o,u){u=u||c.window;var d="about:blank";o&&(d=Yf(jw(o)||Hw)),u.location.href=d}function RE(o,u){var d=[],g;for(g in o)g in u?typeof o[g]!=typeof u[g]?d.push(g):typeof o[g]=="object"&&o[g]!=null&&u[g]!=null?0<RE(o[g],u[g]).length&&d.push(g):o[g]!==u[g]&&d.push(g):d.push(g);for(g in u)g in o||d.push(g);return d}function yD(){var o=Rn();return o=eu(o)!=UE?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!ui||!xo||9<xo}function DE(o){return o=(o||Rn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Vs(o){o=o||c.window;try{o.close()}catch{}}function ME(o,u,d){var g=Math.floor(1e9*Math.random()).toString();u=u||500,d=d||600;var b=(window.screen.availHeight-d)/2,T=(window.screen.availWidth-u)/2;u={width:u,height:d,top:0<b?b:0,left:0<T?T:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d=Rn().toLowerCase(),g&&(u.target=g,ge(d,"crios/")&&(u.target="_blank")),eu(Rn())==ig&&(o=o||"http://localhost",u.scrollbars=!0),d=o||"",(o=u)||(o={}),g=window,u=d instanceof mr?d:jw(typeof d.href<"u"?d.href:String(d))||Hw,d=o.target||d.target,b=[];for(x in o)switch(x){case"width":case"height":case"top":case"left":b.push(x+"="+o[x]);break;case"target":case"noopener":case"noreferrer":break;default:b.push(x+"="+(o[x]?1:0))}var x=b.join(",");if((Ie("iPhone")&&!Ie("iPod")&&!Ie("iPad")||Ie("iPad")||Ie("iPod"))&&g.navigator&&g.navigator.standalone&&d&&d!="_self"?(x=Jf(document,"A"),Lt(x,"HTMLAnchorElement"),u=u instanceof mr?u:Bw(u),x.href=Yf(u),x.setAttribute("target",d),o.noreferrer&&x.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,g,1),x.dispatchEvent(o),x={}):o.noreferrer?(x=zw("",g,d,x),o=Yf(u),x&&(BR&&ge(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),x.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Pm(o)+'">',o=(g=xl())?g.createHTML(o):o,o=new Ya(o,null,Gw),g=x.document)&&(g.write(UR(o)),g.close())):(x=zw(u,g,d,x))&&o.noopener&&(x.opener=null),x)try{x.focus()}catch{}return x}function bD(o){return new ut(function(u){function d(){Ja(2e3).then(function(){if(!o||o.closed)u();else return d()})}return d()})}var _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wD=/^[^@]+@[^@]+$/;function sh(){var o=null;return new ut(function(u){c.document.readyState=="complete"?u():(o=function(){u()},qm(window,"load",o))}).o(function(u){throw Cr(window,"load",o),u})}function ED(){return ng(void 0)?sh().then(function(){return new ut(function(o,u){var d=c.document,g=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);d.addEventListener("deviceready",function(){clearTimeout(g),o()},!1)})}):qt(Error("Cordova must run in an Android or iOS file scheme."))}function ng(o){return o=o||Rn(),!(nu()!=="file:"&&nu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function rg(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function li(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Ni(){return Fe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fe.INTERNAL.hasOwnProperty("node")?"Node":li()?"Worker":"Browser"}function FE(){var o=Ni();return o==="ReactNative"||o==="Node"}function TD(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var ig="Firefox",UE="Chrome";function eu(o){var u=o.toLowerCase();if(ge(u,"opera/")||ge(u,"opr/")||ge(u,"opios/"))return"Opera";if(ge(u,"iemobile"))return"IEMobile";if(ge(u,"msie")||ge(u,"trident/"))return"IE";if(ge(u,"edge/"))return"Edge";if(ge(u,"firefox/"))return ig;if(ge(u,"silk/"))return"Silk";if(ge(u,"blackberry"))return"Blackberry";if(ge(u,"webos"))return"Webos";if(!ge(u,"safari/")||ge(u,"chrome/")||ge(u,"crios/")||ge(u,"android"))if(!ge(u,"chrome/")&&!ge(u,"crios/")||ge(u,"edge/")){if(ge(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return UE;else return"Safari";return"Other"}var VE={md:"FirebaseCore-web",od:"FirebaseUI-web"};function tu(o,u){u=u||[];var d=[],g={},b;for(b in VE)g[VE[b]]=!0;for(b=0;b<u.length;b++)typeof g[u[b]]<"u"&&(delete g[u[b]],d.push(u[b]));return d.sort(),u=d,u.length||(u=["FirebaseCore-web"]),d=Ni(),d==="Browser"?(g=Rn(),d=eu(g)):d==="Worker"&&(g=Rn(),d=eu(g)+"-"+d),d+"/JsCore/"+o+"/"+u.join(",")}function Rn(){return c.navigator&&c.navigator.userAgent||""}function Wt(o,u){o=o.split("."),u=u||c;for(var d=0;d<o.length&&typeof u=="object"&&u!=null;d++)u=u[o[d]];return d!=o.length&&(u=void 0),u}function og(){try{var o=c.localStorage,u=js();if(o)return o.setItem(u,"1"),o.removeItem(u),tg()?!!c.indexedDB:!0}catch{return li()&&!!c.indexedDB}return!1}function $s(){return(ah()||nu()==="chrome-extension:"||ng())&&!FE()&&og()&&!li()}function ah(){return nu()==="http:"||nu()==="https:"}function nu(){return c.location&&c.location.protocol||null}function Fl(o){return o=o||Rn(),!(DE(o)||eu(o)==ig)}function Ul(o){return typeof o>"u"?null:NE(o)}function $E(o){var u={},d;for(d in o)o.hasOwnProperty(d)&&o[d]!==null&&o[d]!==void 0&&(u[d]=o[d]);return u}function ru(o){if(o!==null)return JSON.parse(o)}function js(o){return o||Math.floor(1e9*Math.random()).toString()}function jE(o){return o=o||Rn(),!(eu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function BE(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var d=0;d<o.CP.length;d++)o.CP[d]=null}}function No(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Rn(),u=Ni(),this.b=DE(o)||u==="ReactNative"}No.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(ah()||nu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function sg(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function SD(){var o=c.document,u=null;return sg()||!o?je():new ut(function(d){u=function(){sg()&&(o.removeEventListener("visibilitychange",u,!1),d())},o.addEventListener("visibilitychange",u,!1)}).o(function(d){throw o.removeEventListener("visibilitychange",u,!1),d})}function Vl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function HE(){return!(!Wt("fireauth.oauthhelper",c)&&!Wt("fireauth.iframe",c))}function ID(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function AD(){var o=c.navigator;return o&&o.serviceWorker?je().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):je(null)}var GE={};function ag(o){GE[o]||(GE[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var ug;try{var lg={};Object.defineProperty(lg,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(lg,"abcd",{configurable:!0,enumerable:!0,value:2}),ug=lg.abcd==2}catch{ug=!1}function Le(o,u,d){ug?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:d}):o[u]=d}function er(o,u){if(u)for(var d in u)u.hasOwnProperty(d)&&Le(o,d,u[d])}function Oi(o){var u={};return er(u,o),u}function xD(o){var u={},d;for(d in o)o.hasOwnProperty(d)&&(u[d]=o[d]);return u}function kD(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var d=0;d<u.length;d++){var g=o[u[d]];if(g==null||g==="")return!1}return!0}function cg(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var d in o)Le(u,d,cg(o[d]))}return u}function fg(o){var u=o&&(o[mg]?"phone":null);if(u&&o&&o[pg]){Le(this,"uid",o[pg]),Le(this,"displayName",o[zE]||null);var d=null;o[dg]&&(d=new Date(o[dg]).toUTCString()),Le(this,"enrollmentTime",d),Le(this,"factorId",u)}else throw new L("internal-error","Internal assert: invalid MultiFactorInfo object")}fg.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function hg(o){try{var u=new $l(o)}catch{u=null}return u}var zE="displayName",dg="enrolledAt",pg="mfaEnrollmentId",mg="phoneInfo";function $l(o){fg.call(this,o),Le(this,"phoneNumber",o[mg])}P($l,fg),$l.prototype.w=function(){var o=$l.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function CD(o){var u={},d=o[ND],g=o[PD],b=o[LD];if(o=hg(o[OD]),!b||b!=uh&&b!=jl&&!d||b==jl&&!g||b==gg&&!o)throw Error("Invalid checkActionCode response!");b==jl?(u[WE]=d||null,u[KE]=d||null,u[qE]=g):(u[WE]=g||null,u[KE]=g||null,u[qE]=d||null),u[RD]=o||null,Le(this,MD,b),Le(this,DD,cg(u))}var gg="REVERT_SECOND_FACTOR_ADDITION",uh="EMAIL_SIGNIN",jl="VERIFY_AND_CHANGE_EMAIL",ND="email",OD="mfaInfo",PD="newEmail",LD="requestType",qE="email",WE="fromEmail",RD="multiFactorInfo",KE="previousEmail",DD="data",MD="operation";function vg(o){o=vr(o);var u=Jr(o,YE)||null,d=Jr(o,XE)||null,g=Jr(o,JE)||null;if(g=g&&$D[g]||null,!u||!d||!g)throw new L("argument-error",YE+", "+XE+"and "+JE+" are required in a valid action code URL.");er(this,{apiKey:u,operation:g,code:d,continueUrl:Jr(o,FD)||null,languageCode:Jr(o,UD)||null,tenantId:Jr(o,VD)||null})}var YE="apiKey",XE="oobCode",FD="continueUrl",UD="languageCode",JE="mode",VD="tenantId",$D={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:gg,signIn:uh,verifyAndChangeEmail:jl,verifyEmail:"VERIFY_EMAIL"};function QE(o){try{return new vg(o)}catch{return null}}function lh(o){var u=o[jD];if(typeof u>"u")throw new L("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new L("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var d=o[ZE];if(d&&typeof d=="object"){u=d[i1];var g=d[n1];if(d=d[r1],typeof u=="string"&&u.length){if(this.a=u,typeof g<"u"&&typeof g!="boolean")throw new L("argument-error",n1+" property must be a boolean when specified.");if(this.g=!!g,typeof d<"u"&&(typeof d!="string"||typeof d=="string"&&!d.length))throw new L("argument-error",r1+" property must be a non empty string when specified.");this.b=d||null}else{if(typeof u<"u")throw new L("argument-error",i1+" property must be a non empty string when specified.");if(typeof g<"u"||typeof d<"u")throw new L("missing-android-pkg-name")}}else if(typeof d<"u")throw new L("argument-error",ZE+" property must be a non null object when specified.");if(this.f=null,(u=o[t1])&&typeof u=="object"){if(u=u[o1],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new L("argument-error",o1+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new L("argument-error",t1+" property must be a non null object when specified.");if(u=o[yg],typeof u<"u"&&typeof u!="boolean")throw new L("argument-error",yg+" property must be a boolean when specified.");if(this.c=!!u,o=o[e1],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new L("argument-error",e1+" property must be a non empty string when specified.");this.i=o||null}var ZE="android",e1="dynamicLinkDomain",yg="handleCodeInApp",t1="iOS",jD="url",n1="installApp",r1="minimumVersion",i1="packageName",o1="bundleId";function ch(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var d in u)u[d]===null&&delete u[d];return u}function BD(o){return at(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Bl=null;function HD(o){var u=[];return GD(o,function(d){u.push(d)}),u}function GD(o,u){function d(Q){for(;g<o.length;){var se=o.charAt(g++),Ye=Bl[se];if(Ye!=null)return Ye;if(!/^[\s\xa0]*$/.test(se))throw Error("Unknown base64 encoding at char: "+se)}return Q}zD();for(var g=0;;){var b=d(-1),T=d(0),x=d(64),F=d(64);if(F===64&&b===-1)break;u(b<<2|T>>4),x!=64&&(u(T<<4&240|x>>2),F!=64&&u(x<<6&192|F))}}function zD(){if(!Bl){Bl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++)for(var g=o.concat(u[d].split("")),b=0;b<g.length;b++){var T=g[b];Bl[T]===void 0&&(Bl[T]=b)}}}function fh(o){var u=s1(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}fh.prototype.T=function(){return this.f},fh.prototype.l=function(){return this.c},fh.prototype.toString=function(){return this.h};function hh(o){try{return new fh(o)}catch{return null}}function s1(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,d=0;d<u;d++)o+=".";try{var g=HD(o);for(o=[],d=u=0;u<g.length;){var b=g[u++];if(128>b)o[d++]=String.fromCharCode(b);else if(191<b&&224>b){var T=g[u++];o[d++]=String.fromCharCode((b&31)<<6|T&63)}else if(239<b&&365>b){T=g[u++];var x=g[u++],F=g[u++],Q=((b&7)<<18|(T&63)<<12|(x&63)<<6|F&63)-65536;o[d++]=String.fromCharCode(55296+(Q>>10)),o[d++]=String.fromCharCode(56320+(Q&1023))}else T=g[u++],x=g[u++],o[d++]=String.fromCharCode((b&15)<<12|(T&63)<<6|x&63)}return JSON.parse(o.join(""))}catch{}return null}var a1="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),dh=["client_id","response_type","scope","redirect_uri","state"],bg={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:dh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:dh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:dh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:a1},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function _g(o){for(var u in bg)if(bg[u].fa==o)return bg[u];return null}function u1(o){var u={};u["facebook.com"]=c1,u["google.com"]=h1,u["github.com"]=f1,u["twitter.com"]=d1;var d=o&&o[l1];try{if(d)return u[d]?new u[d](o):new Pi(o);if(typeof o[wg]<"u")return new Eg(o)}catch{}return null}var wg="idToken",l1="providerId";function Eg(o){var u=o[l1];if(!u&&o[wg]){var d=hh(o[wg]);d&&d.b&&(u=d.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),d=!1,typeof o.isNewUser<"u"?d=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(d=!0),Le(this,"providerId",u),Le(this,"isNewUser",d)}function Pi(o){Eg.call(this,o),o=ru(o.rawUserInfo||"{}"),Le(this,"profile",cg(o||{}))}P(Pi,Eg);function c1(o){if(Pi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}P(c1,Pi);function f1(o){if(Pi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Le(this,"username",this.profile&&this.profile.login||null)}P(f1,Pi);function h1(o){if(Pi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}P(h1,Pi);function d1(o){if(Pi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Le(this,"username",o.screenName||null)}P(d1,Pi);function p1(o){var u=vr(o),d=Jr(u,"link"),g=Jr(vr(d),"link");return u=Jr(u,"deep_link_id"),Jr(vr(u),"link")||u||g||d||o}function ph(o,u){if(!o&&!u)throw new L("internal-error","Internal assert: no raw session string available");if(o&&u)throw new L("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Hl:mh}var Hl="enroll",mh="signin";ph.prototype.Ha=function(){return this.a?je(this.a):je(this.b)},ph.prototype.w=function(){return this.type==Hl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function iu(){}iu.prototype.ka=function(){},iu.prototype.b=function(){},iu.prototype.c=function(){},iu.prototype.w=function(){};function ou(o,u){return o.then(function(d){if(d[hi]){var g=hh(d[hi]);if(!g||u!=g.i)throw new L("user-mismatch");return d}throw new L("user-mismatch")}).o(function(d){throw d&&d.code&&d.code==ee+"user-not-found"?new L("user-mismatch"):d})}function Bs(o,u){if(u)this.a=u;else throw new L("internal-error","failed to construct a credential");Le(this,"providerId",o),Le(this,"signInMethod",o)}Bs.prototype.ka=function(o){return qg(o,Tg(this))},Bs.prototype.b=function(o,u){var d=Tg(this);return d.idToken=u,Wg(o,d)},Bs.prototype.c=function(o,u){return ou(Kg(o,Tg(this)),u)};function Tg(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Bs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function qD(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Bs(o.providerId,o.pendingToken)}catch{}return null}function to(o,u,d){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Le(this,"idToken",u.idToken),u.accessToken&&Le(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Le(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)Le(this,"accessToken",u.oauthToken),Le(this,"secret",u.oauthTokenSecret);else throw new L("internal-error","failed to construct a credential");Le(this,"providerId",o),Le(this,"signInMethod",d)}to.prototype.ka=function(o){return qg(o,Sg(this))},to.prototype.b=function(o,u){var d=Sg(this);return d.idToken=u,Wg(o,d)},to.prototype.c=function(o,u){var d=Sg(this);return ou(Kg(o,d),u)};function Sg(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:xE(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}to.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function WD(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new to(o.providerId,u,o.signInMethod)}catch{}}return null}function Hs(o,u){this.Qc=u||[],er(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(_g(o)||{}).Ja||null,this.ob=null}Hs.prototype.Ka=function(o){return this.Ib=et(o),this};function m1(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new L("argument-error",'SAML provider IDs must be prefixed with "saml."');Hs.call(this,o,[])}P(m1,Hs);function Nr(o){Hs.call(this,o,dh),this.a=[]}P(Nr,Hs),Nr.prototype.Ca=function(o){return H(this.a,o)||this.a.push(o),this},Nr.prototype.Qb=function(){return pe(this.a)},Nr.prototype.credential=function(o,u){var d;if(w(o)?d={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:d={idToken:o||null,accessToken:u||null},!d.idToken&&!d.accessToken)throw new L("argument-error","credential failed: must provide the ID token and/or the access token.");return new to(this.providerId,d,this.providerId)};function Gs(){Nr.call(this,"facebook.com")}P(Gs,Nr),Le(Gs,"PROVIDER_ID","facebook.com"),Le(Gs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function g1(o){if(!o)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new Gs().credential({accessToken:u})}function zs(){Nr.call(this,"github.com")}P(zs,Nr),Le(zs,"PROVIDER_ID","github.com"),Le(zs,"GITHUB_SIGN_IN_METHOD","github.com");function v1(o){if(!o)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new zs().credential({accessToken:u})}function qs(){Nr.call(this,"google.com"),this.Ca("profile")}P(qs,Nr),Le(qs,"PROVIDER_ID","google.com"),Le(qs,"GOOGLE_SIGN_IN_METHOD","google.com");function y1(o,u){var d=o;return w(o)&&(d=o.idToken,u=o.accessToken),new qs().credential({idToken:d,accessToken:u})}function su(){Hs.call(this,"twitter.com",a1)}P(su,Hs),Le(su,"PROVIDER_ID","twitter.com"),Le(su,"TWITTER_SIGN_IN_METHOD","twitter.com");function b1(o,u){var d=o;if(w(d)||(d={oauthToken:o,oauthTokenSecret:u}),!d.oauthToken||!d.oauthTokenSecret)throw new L("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new to("twitter.com",d,"twitter.com")}function Oo(o,u,d){this.a=o,this.f=u,Le(this,"providerId","password"),Le(this,"signInMethod",d===Qr.EMAIL_LINK_SIGN_IN_METHOD?Qr.EMAIL_LINK_SIGN_IN_METHOD:Qr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Oo.prototype.ka=function(o){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?ct(o,OM,{email:this.a,oobCode:this.f}):ct(o,W1,{email:this.a,password:this.f})},Oo.prototype.b=function(o,u){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?ct(o,PM,{idToken:u,email:this.a,oobCode:this.f}):ct(o,q1,{idToken:u,email:this.a,password:this.f})},Oo.prototype.c=function(o,u){return ou(this.ka(o),u)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function KD(o){return o&&o.email&&o.password?new Oo(o.email,o.password,o.signInMethod):null}function Qr(){er(this,{providerId:"password",isOAuthProvider:!1})}function _1(o,u){if(u=Ig(u),!u)throw new L("argument-error","Invalid email link!");return new Oo(o,u.code,Qr.EMAIL_LINK_SIGN_IN_METHOD)}function Ig(o){return o=p1(o),(o=QE(o))&&o.operation===uh?o:null}er(Qr,{PROVIDER_ID:"password"}),er(Qr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(Qr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Po(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new L("internal-error");this.a=o,Le(this,"providerId","phone"),this.fa="phone",Le(this,"signInMethod","phone")}Po.prototype.ka=function(o){return o.fb(Gl(this))},Po.prototype.b=function(o,u){var d=Gl(this);return d.idToken=u,ct(o,QM,d)},Po.prototype.c=function(o,u){var d=Gl(this);return d.operation="REAUTH",o=ct(o,ZM,d),ou(o,u)},Po.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function YD(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return re(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(d){o[d]&&(u[d]=o[d])}),new Po(u)}return null}function Gl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function no(o){try{this.a=o||Fe.auth()}catch{throw new L("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}no.prototype.fb=function(o,u){var d=this.a.a;return je(u.verify()).then(function(g){if(typeof g!="string")throw new L("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var b=w(o)?o.session:null,T=w(o)?o.phoneNumber:o,x;return b&&b.type==Hl?x=b.Ha().then(function(F){return EM(d,{idToken:F,phoneEnrollmentInfo:{phoneNumber:T,recaptchaToken:g}})}):b&&b.type==mh?x=b.Ha().then(function(F){return TM(d,{mfaPendingCredential:F,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:g}})}):x=wM(d,{phoneNumber:T,recaptchaToken:g}),x.then(function(F){return typeof u.reset=="function"&&u.reset(),F},function(F){throw typeof u.reset=="function"&&u.reset(),F});default:throw new L("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function w1(o,u){if(!o)throw new L("missing-verification-id");if(!u)throw new L("missing-verification-code");return new Po({eb:o,cb:u})}er(no,{PROVIDER_ID:"phone"}),er(no,{PHONE_SIGN_IN_METHOD:"phone"});function Ag(o){if(o.temporaryProof&&o.phoneNumber)return new Po({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var d=o&&o.oauthAccessToken,g=o&&o.oauthTokenSecret,b=o&&o.nonce,T=o&&o.oauthIdToken,x=o&&o.pendingToken;try{switch(u){case"google.com":return y1(T,d);case"facebook.com":return g1(d);case"github.com":return v1(d);case"twitter.com":return b1(d,g);default:return d||g||T||x?x?u.indexOf("saml.")==0?new Bs(u,x):new to(u,{pendingToken:x,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Nr(u).credential({idToken:T,accessToken:d,rawNonce:b}):null}}catch{return null}}function xg(o){if(!o.isOAuthProvider)throw new L("invalid-oauth-provider")}function ci(o,u,d,g,b,T,x){if(this.c=o,this.b=u||null,this.g=d||null,this.f=g||null,this.i=T||null,this.h=x||null,this.a=b||null,this.g||this.a){if(this.g&&this.a)throw new L("invalid-auth-event");if(this.g&&!this.f)throw new L("invalid-auth-event")}else throw new L("invalid-auth-event")}ci.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},ci.prototype.T=function(){return this.h},ci.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function E1(o){return o=o||{},o.type?new ci(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&q(o.error),o.postBody,o.tenantId):null}function XD(){this.b=null,this.a=[]}var kg=null;function JD(o){var u=kg;u.a.push(o),u.b||(u.b=function(d){for(var g=0;g<u.a.length;g++)u.a[g](d)},o=Wt("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Cg(o){var u="unauthorized-domain",d=void 0,g=vr(o);o=g.a,g=g.c,g=="chrome-extension"?d=qw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):g=="http"||g=="https"?d=qw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",L.call(this,u,d)}P(Cg,L);function zl(o,u,d){L.call(this,o,d),o=u||{},o.Jb&&Le(this,"email",o.Jb),o.ea&&Le(this,"phoneNumber",o.ea),o.credential&&Le(this,"credential",o.credential),o.Zb&&Le(this,"tenantId",o.Zb)}P(zl,L),zl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&_t(o,u),o},zl.prototype.toJSON=function(){return this.w()};function gh(o){if(o.code){var u=o.code||"";u.indexOf(ee)==0&&(u=u.substring(ee.length));var d={credential:Ag(o),Zb:o.tenantId};if(o.email)d.Jb=o.email;else if(o.phoneNumber)d.ea=o.phoneNumber;else if(!d.credential)return new L(u,o.message||void 0);return new zl(u,d,o.message)}return null}function ql(){}ql.prototype.c=null;function T1(o){return o.c||(o.c=o.b())}var Ng;function vh(){}P(vh,ql),vh.prototype.a=function(){var o=S1(this);return o?new ActiveXObject(o):new XMLHttpRequest},vh.prototype.b=function(){var o={};return S1(this)&&(o[0]=!0,o[1]=!0),o};function S1(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<u.length;d++){var g=u[d];try{return new ActiveXObject(g),o.f=g}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Ng=new vh;function yh(){}P(yh,ql),yh.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new I1;throw Error("Unsupported browser")},yh.prototype.b=function(){return{}};function I1(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=A(this.qc,this),this.a.onerror=A(this.Sb,this),this.a.onprogress=A(this.rc,this),this.a.ontimeout=A(this.vc,this)}e=I1.prototype,e.open=function(o,u,d){if(d!=null&&!d)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Og(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Og(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Og(this,1)};function Og(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Pg(o,u,d){this.reset(o,u,d,void 0,void 0)}Pg.prototype.a=null,Pg.prototype.reset=function(o,u,d,g,b){delete this.a};function Lg(o){this.f=o,this.b=this.c=this.a=null}function Wl(o,u){this.name=o,this.value=u}Wl.prototype.toString=function(){return this.name};var A1=new Wl("SEVERE",1e3),Rg=new Wl("WARNING",900),QD=new Wl("CONFIG",700),ZD=new Wl("FINE",500);function x1(o){return o.c?o.c:o.a?x1(o.a):(it("Root logger has no level set."),null)}Lg.prototype.log=function(o,u,d){if(o.value>=x1(this).value)for(_(u)&&(u=u()),o=new Pg(o,String(u),this.f),d&&(o.a=d),d=this;d;)d=d.a};var Dg={},bh=null;function Mg(o){bh||(bh=new Lg(""),Dg[""]=bh,bh.c=QD);var u;if(!(u=Dg[o])){u=new Lg(o);var d=o.lastIndexOf("."),g=o.substr(d+1);d=Mg(o.substr(0,d)),d.b||(d.b={}),d.b[g]=u,u.a=d,Dg[o]=u}return u}function Zr(o,u){o&&o.log(ZD,u,void 0)}function _h(o){this.f=o}P(_h,ql),_h.prototype.a=function(){return new wh(this.f)},_h.prototype.b=function(o){return function(){return o}}({});function wh(o){Zn.call(this),this.u=o,this.h=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Mg("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(wh,Zn);var Fg=0;e=wh.prototype,e.open=function(o,u){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Yl(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Kl(this)),this.readyState=Fg},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Yl(this)),this.a&&(this.readyState=3,Yl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,k1(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function k1(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Kl(this):Yl(this),this.readyState==3&&k1(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Kl(this))},e.sc=function(o){this.a&&(this.response=o,Kl(this))},e.Ua=function(o){var u=this.i;u&&u.log(Rg,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Kl(this)};function Kl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Yl(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Rg,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Rg,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Yl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(wh.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Xl(o){Zn.call(this),this.headers=new Qa,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=C1,this.u=this.S=!1}P(Xl,Zn);var C1="";Xl.prototype.b=Mg("goog.net.XhrIo");var eM=/^https?$/i,tM=["POST","PUT"];function nM(o,u,d,g,b){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);d=d?d.toUpperCase():"GET",o.l=u,o.h="",o.R=d,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Ng.a(),o.C=o.D?T1(o.D):T1(Ng),o.a.onreadystatechange=A(o.Vb,o);try{Zr(o.b,ro(o,"Opening Xhr")),o.O=!0,o.a.open(d,String(u),!0),o.O=!1}catch(x){Zr(o.b,ro(o,"Error opening Xhr: "+x.message)),N1(o,x);return}u=g||"";var T=new Qa(o.headers);b&&uD(b,function(x,F){T.set(F,x)}),b=O(T.Y()),g=c.FormData&&u instanceof c.FormData,!H(tM,d)||b||g||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),T.forEach(function(x,F){this.a.setRequestHeader(F,x)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{L1(o),0<o.g&&(o.u=rM(o.a),Zr(o.b,ro(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=A(o.Ma,o)):o.s=Xm(o.Ma,o.g,o)),Zr(o.b,ro(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(x){Zr(o.b,ro(o,"Send error: "+x.message)),N1(o,x)}}function rM(o){return ui&&Xw(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function iM(o){return o.toLowerCase()=="content-type"}e=Xl.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Zr(this.b,ro(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function N1(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,O1(o),Eh(o)}function O1(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Zr(this.b,ro(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Eh(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Eh(this,!0)),Xl.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?P1(this):this.Jc())},e.Jc=function(){P1(this)};function P1(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Jl(o)==4&&Th(o)==2)Zr(o.b,ro(o,"Local request error detected and ignored"));else if(o.i&&Jl(o)==4)Xm(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),Jl(o)==4){Zr(o.b,ro(o,"Request complete")),o.c=!1;try{var u=Th(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var b;if(b=u===0){var T=String(o.l).match(IE)[1]||null;if(!T&&c.self&&c.self.location){var x=c.self.location.protocol;T=x.substr(0,x.length-1)}b=!eM.test(T?T.toLowerCase():"")}g=b}if(g)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var F=2<Jl(o)?o.a.statusText:""}catch(Q){Zr(o.b,"Can not get status: "+Q.message),F=""}o.h=F+" ["+Th(o)+"]",O1(o)}}finally{Eh(o)}}}}function Eh(o,u){if(o.a){L1(o);var d=o.a,g=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{d.onreadystatechange=g}catch(b){(o=o.b)&&o.log(A1,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}}function L1(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Jl(o){return o.a?o.a.readyState:0}function Th(o){try{return 2<Jl(o)?o.a.status:-1}catch{return-1}}function oM(o){try{return o.a?o.a.responseText:""}catch(u){return Zr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case C1:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(A1,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Zr(this.b,"Can not get response: "+u.message),null}};function ro(o,u){return u+" ["+o.R+" "+o.l+" "+Th(o)+"]"}function Ws(o){var u=uM;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ws.prototype.cancel=function(o){if(this.a)this.c instanceof Ws&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Zl,Sh(this),Ql(this,!1,o))}},Ws.prototype.m=function(o,u){this.i=!1,Ql(this,o,u)};function Ql(o,u,d){o.a=!0,o.c=d,o.f=!u,D1(o)}function Sh(o){if(o.a){if(!o.v)throw new Ih;o.v=!1}}function sM(o,u){Ug(o,null,u,void 0)}function Ug(o,u,d,g){o.g.push([u,d,g]),o.a&&D1(o)}Ws.prototype.then=function(o,u,d){var g,b,T=new ut(function(x,F){g=x,b=F});return Ug(this,g,function(x){x instanceof Zl?T.cancel():b(x)}),T.then(o,u,d)},Ws.prototype.$goog_Thenable=!0;function R1(o){return D(o.g,function(u){return _(u[1])})}function D1(o){if(o.h&&o.a&&R1(o)){var u=o.h,d=Ah[u];d&&(c.clearTimeout(d.a),delete Ah[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var g=d=!1;o.g.length&&!o.i;){var b=o.g.shift(),T=b[0],x=b[1];if(b=b[2],T=o.f?x:T)try{var F=T.call(b||o.s,u);F!==void 0&&(o.f=o.f&&(F==u||F instanceof Error),o.c=u=F),(Me(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(g=!0,o.i=!0)}catch(Q){u=Q,o.f=!0,R1(o)||(d=!0)}}o.c=u,g&&(F=A(o.m,o,!0),g=A(o.m,o,!1),u instanceof Ws?(Ug(u,F,g),u.C=!0):u.then(F,g)),d&&(u=new M1(u),Ah[u.a]=u,o.h=u.a)}function Ih(){Xe.call(this)}P(Ih,Xe),Ih.prototype.message="Deferred has already fired",Ih.prototype.name="AlreadyCalledError";function Zl(){Xe.call(this)}P(Zl,Xe),Zl.prototype.message="Deferred was canceled",Zl.prototype.name="CanceledError";function M1(o){this.a=c.setTimeout(A(this.c,this),0),this.b=o}M1.prototype.c=function(){throw delete Ah[this.a],this.b};var Ah={};function Vg(o){var u={},d=u.document||document,g=Ka(o).toString(),b=Jf(document,"SCRIPT"),T={Wb:b,Ma:void 0},x=new Ws(T),F=null,Q=u.timeout!=null?u.timeout:5e3;return 0<Q&&(F=window.setTimeout(function(){xh(b,!0);var se=new $g(cM,"Timeout reached for loading script "+g);Sh(x),Ql(x,!1,se)},Q),T.Ma=F),b.onload=b.onreadystatechange=function(){b.readyState&&b.readyState!="loaded"&&b.readyState!="complete"||(xh(b,u.xd||!1,F),Sh(x),Ql(x,!0,null))},b.onerror=function(){xh(b,!0,F);var se=new $g(lM,"Error while loading script "+g);Sh(x),Ql(x,!1,se)},T=u.attributes||{},_t(T,{type:"text/javascript",charset:"UTF-8"}),Qw(b,T),VR(b,o),aM(d).appendChild(b),x}function aM(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function uM(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&xh(o,!0,this.Ma)}}function xh(o,u,d){d!=null&&c.clearTimeout(d),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var lM=0,cM=1;function $g(o,u){var d="Jsloader error (code #"+o+")";u&&(d+=": "+u),Xe.call(this,d),this.code=o}P($g,Xe);function kh(o){this.f=o}P(kh,ql),kh.prototype.a=function(){return new this.f},kh.prototype.b=function(){return{}};function fi(o,u,d){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||fM,this.g=et(o.secureTokenHeaders||hM),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||dM,this.a=et(o.firebaseHeaders||pM),d&&(this.a["X-Client-Version"]=d,this.g["X-Client-Version"]=d),d=Ni()=="Node",d=c.XMLHttpRequest||d&&Fe.INTERNAL.node&&Fe.INTERNAL.node.XMLHttpRequest,!d&&!li())throw new L("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,li()?this.f=new _h(self):FE()?this.f=new kh(d):this.f=new yh,this.b=null}var jg,hi="idToken",fM=new No(3e4,6e4),hM={"Content-Type":"application/x-www-form-urlencoded"},dM=new No(3e4,6e4),pM={"Content-Type":"application/json"};function F1(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function au(o,u){u&&(o.l=Bg("https://securetoken.googleapis.com/v1/token",u),o.h=Bg("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Bg("https://identitytoolkit.googleapis.com/v2/",u))}function Bg(o,u){return o=vr(o),u=vr(u.url),o.f=o.a+o.f,Pl(o,u.c),o.a=u.a,Ll(o,u.g),o.toString()}function U1(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}fi.prototype.T=function(){return this.b};function V1(o,u,d,g,b,T,x){yD()||li()?o=A(o.u,o):(jg||(jg=new ut(function(F,Q){gM(F,Q)})),o=A(o.s,o)),o(u,d,g,b,T,x)}fi.prototype.u=function(o,u,d,g,b,T){if(li()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new L("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var x=new Xl(this.f);if(T){x.g=Math.max(0,T);var F=setTimeout(function(){x.dispatchEvent("timeout")},T)}EE(x,"complete",function(){F&&clearTimeout(F);var Q=null;try{Q=JSON.parse(oM(this))||null}catch{Q=null}u&&u(Q)}),Ym(x,"ready",function(){F&&clearTimeout(F),mE(this)}),Ym(x,"timeout",function(){F&&clearTimeout(F),mE(this),u&&u(null)}),nM(x,o,d,g,b)};var mM=new Vt(xi,"https://apis.google.com/js/client.js?onload=%{onload}"),$1="__fcb"+Math.floor(1e6*Math.random()).toString();function gM(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[$1]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var d=Om(mM,{onload:$1});sM(Vg(d),function(){u(Error("CORS_UNSUPPORTED"))})}}fi.prototype.s=function(o,u,d,g,b){var T=this;jg.then(function(){window.gapi.client.setApiKey(T.c);var x=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:d,body:g,headers:b,authType:"none",callback:function(F){window.gapi.auth.setToken(x),u&&u(F)}})}).o(function(x){u&&u({error:{message:x&&x.message||"CORS_UNSUPPORTED"}})})};function vM(o,u){return new ut(function(d,g){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?V1(o,o.l+"?key="+encodeURIComponent(o.c),function(b){b?b.error?g(Xg(b)):b.access_token&&b.refresh_token?d(b):g(new L("internal-error")):g(new L("network-request-failed"))},"POST",xE(u).toString(),o.g,o.m.get()):g(new L("internal-error"))})}function j1(o,u,d,g,b,T,x){var F=vr(u+d);rn(F,"key",o.c),x&&rn(F,"cb",U().toString());var Q=g=="GET";if(Q)for(var se in b)b.hasOwnProperty(se)&&rn(F,se,b[se]);return new ut(function(Ye,Ot){V1(o,F.toString(),function(Tt){Tt?Tt.error?Ot(Xg(Tt,T||{})):Ye(Tt):Ot(new L("network-request-failed"))},g,Q?void 0:NE($E(b)),o.a,o.v.get())})}function Ks(o){if(o=o.email,typeof o!="string"||!wD.test(o))throw new L("invalid-email")}function B1(o){"email"in o&&Ks(o)}function yM(o,u){return ct(o,kM,{identifier:u,continueUri:ah()?Ml():"http://localhost"}).then(function(d){return d.signinMethods||[]})}function bM(o){return ct(o,$M,{}).then(function(u){return u.authorizedDomains||[]})}function yr(o){if(!o[hi])throw o.mfaPendingCredential?new L("multi-factor-auth-required",null,et(o)):new L("internal-error")}function Hg(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new L("internal-error")}else{if(!o.sessionInfo)throw new L("missing-verification-id");if(!o.code)throw new L("missing-verification-code")}}fi.prototype.zb=function(){return ct(this,GM,{})},fi.prototype.Bb=function(o,u){return ct(this,z1,{idToken:o,email:u})},fi.prototype.Cb=function(o,u){return ct(this,q1,{idToken:o,password:u})};var _M={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=fi.prototype,e.Db=function(o,u){var d={idToken:o},g=[];return Pe(_M,function(b,T){var x=u[T];x===null?g.push(b):T in u&&(d[T]=x)}),g.length&&(d.deleteAttribute=g),ct(this,z1,d)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},_t(o,u),ct(this,VM,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},_t(o,u),ct(this,MM,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},_t(o,u),ct(this,FM,o)},e.Eb=function(o,u,d){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},_t(o,d),ct(this,UM,o)};function wM(o,u){return ct(o,HM,u)}e.fb=function(o){return ct(this,JM,o)};function EM(o,u){return ct(o,zM,u).then(function(d){return d.phoneSessionInfo.sessionInfo})}function H1(o){if(!o.phoneVerificationInfo)throw new L("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new L("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new L("missing-verification-code")}function TM(o,u){return ct(o,qM,u).then(function(d){return d.phoneResponseInfo.sessionInfo})}function SM(o,u,d){return ct(o,NM,{idToken:u,deleteProvider:d})}function Gg(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new L("internal-error")}function zg(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Us(o.postBody),Zm(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function G1(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=gh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=gh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=gh(o)):o.errorMessage&&(u=K1(o.errorMessage)),u)throw u;yr(o)}function qg(o,u){return u.returnIdpCredential=!0,ct(o,WM,u)}function Wg(o,u){return u.returnIdpCredential=!0,ct(o,YM,u)}function Kg(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,ct(o,KM,u)}function Yg(o){if(!o.oobCode)throw new L("invalid-action-code")}e.nb=function(o,u){return ct(this,BM,{oobCode:o,newPassword:u})},e.Ra=function(o){return ct(this,AM,{oobCode:o})},e.jb=function(o){return ct(this,IM,{oobCode:o})};var IM={endpoint:"setAccountInfo",A:Yg,Z:"email",B:!0},AM={endpoint:"resetPassword",A:Yg,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},B:!0},xM={endpoint:"signupNewUser",A:function(o){if(Ks(o),!o.password)throw new L("weak-password")},G:yr,V:!0,B:!0},kM={endpoint:"createAuthUri",B:!0},CM={endpoint:"deleteAccount",N:["idToken"]},NM={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new L("internal-error")}},OM={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ks,G:yr,V:!0,B:!0},PM={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ks,G:yr,V:!0},LM={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:H1,G:yr,B:!0,Na:!0},RM={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:H1,G:yr,B:!0,Na:!0},DM={endpoint:"getAccountInfo"},MM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new L("internal-error");Ks(o)},Z:"email",B:!0},FM={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new L("internal-error")},Z:"email",B:!0},UM={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},Z:"email",B:!0},VM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new L("internal-error");Ks(o)},Z:"email",B:!0},$M={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},jM={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new L("internal-error")}},BM={endpoint:"resetPassword",A:Yg,Z:"email",B:!0},HM={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},z1={endpoint:"setAccountInfo",N:["idToken"],A:B1,V:!0},q1={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(B1(o),!o.password)throw new L("weak-password")},G:yr,V:!0},GM={endpoint:"signupNewUser",G:yr,V:!0,B:!0},zM={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new L("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new L("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},qM={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},WM={endpoint:"verifyAssertion",A:Gg,Ya:zg,G:G1,V:!0,B:!0},KM={endpoint:"verifyAssertion",A:Gg,Ya:zg,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new L("user-not-found");if(o.errorMessage)throw K1(o.errorMessage);yr(o)},V:!0,B:!0},YM={endpoint:"verifyAssertion",A:function(o){if(Gg(o),!o.idToken)throw new L("internal-error")},Ya:zg,G:G1,V:!0},XM={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new L("invalid-custom-token")},G:yr,V:!0,B:!0},W1={endpoint:"verifyPassword",A:function(o){if(Ks(o),!o.password)throw new L("wrong-password")},G:yr,V:!0,B:!0},JM={endpoint:"verifyPhoneNumber",A:Hg,G:yr,B:!0},QM={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new L("internal-error");Hg(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",gh(o);yr(o)}},ZM={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Hg,G:yr,B:!0},eF={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[hi]^!!o.refreshToken)throw new L("internal-error")},B:!0,Na:!0};function ct(o,u,d){if(!kD(d,u.N))return qt(new L("internal-error"));var g=!!u.Na,b=u.Ub||"POST",T;return je(d).then(u.A).then(function(){return u.V&&(d.returnSecureToken=!0),u.B&&o.b&&typeof d.tenantId>"u"&&(d.tenantId=o.b),g?j1(o,o.i,u.endpoint,b,d,u.Hb,u.lb||!1):j1(o,o.h,u.endpoint,b,d,u.Hb,u.lb||!1)}).then(function(x){return T=x,u.Ya?u.Ya(d,T):T}).then(u.G).then(function(){if(!u.Z)return T;if(!(u.Z in T))throw new L("internal-error");return T[u.Z]})}function K1(o){return Xg({error:{errors:[{message:o}],code:400,message:o}})}function Xg(o,u){var d=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",g={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(d=g[d]?new L(g[d]):null)return d;d=o.error&&o.error.message||"",g={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},_t(g,u||{}),u=(u=d.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var b in g)if(d.indexOf(b)===0)return new L(g[b],u);return!u&&o&&(u=Ul(o)),new L("internal-error",u)}function tF(o){this.b=o,this.a=null,this.rb=nF(this)}function nF(o){return uF().then(function(){return new ut(function(u,d){Wt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(g){function b(){clearTimeout(T),u()}o.a=g,o.a.restyle({setHideOnLeave:!1});var T=setTimeout(function(){d(Error("Network Error"))},aF.get());g.ping(b).then(b,function(){d(Error("Network Error"))})})})})}function rF(o,u){return o.rb.then(function(){return new ut(function(d){o.a.send(u.type,u,d,Wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function iF(o,u){o.rb.then(function(){o.a.register("authEvent",u,Wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var oF=new Vt(xi,"https://apis.google.com/js/api.js?onload=%{onload}"),sF=new No(3e4,6e4),aF=new No(5e3,15e3),Ch=null;function uF(){return Ch||(Ch=new ut(function(o,u){function d(){BE(),Wt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){BE(),u(Error("Network Error"))},timeout:sF.get()})}if(Wt("gapi.iframes.Iframe"))o();else if(Wt("gapi.load"))d();else{var g="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[g]=function(){Wt("gapi.load")?d():u(Error("Network Error"))},g=Om(oF,{onload:g}),je(Vg(g)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Ch=null,o}))}function Y1(o,u,d,g){this.l=o,this.h=u,this.i=d,this.g=g,this.f=null,this.g?(o=vr(this.g.url),o=oh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=oh("https",this.l,null,"/__/auth/iframe"),this.a=o,rn(this.a,"apiKey",this.h),rn(this.a,"appName",this.i),this.b=null,this.c=[]}Y1.prototype.toString=function(){return this.f?rn(this.a,"v",this.f):Ci(this.a.b,"v"),this.b?rn(this.a,"eid",this.b):Ci(this.a.b,"eid"),this.c.length?rn(this.a,"fw",this.c.join(",")):Ci(this.a.b,"fw"),this.a.toString()};function Jg(o,u,d,g,b,T){this.u=o,this.s=u,this.c=d,this.m=g,this.v=T,this.i=this.g=this.l=null,this.a=b,this.h=this.f=null}Jg.prototype.yb=function(o){return this.h=o,this},Jg.prototype.toString=function(){if(this.v){var o=vr(this.v.url);o=oh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=oh("https",this.u,null,"/__/auth/handler");if(rn(o,"apiKey",this.s),rn(o,"appName",this.c),rn(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var d=Fe.app(this.c).auth().la()}catch{d=null}u.ob=d,rn(o,"providerId",this.a.providerId),d=this.a,u=$E(d.Ib);for(var g in u)u[g]=u[g].toString();g=d.Qc,u=et(u);for(var b=0;b<g.length;b++){var T=g[b];T in u&&delete u[T]}d.pb&&d.ob&&!u[d.pb]&&(u[d.pb]=d.ob),Ze(u)||rn(o,"customParameters",Ul(u))}if(typeof this.a.Qb=="function"&&(d=this.a.Qb(),d.length&&rn(o,"scopes",d.join(","))),this.l?rn(o,"redirectUrl",this.l):Ci(o.b,"redirectUrl"),this.g?rn(o,"eventId",this.g):Ci(o.b,"eventId"),this.i?rn(o,"v",this.i):Ci(o.b,"v"),this.b)for(var x in this.b)this.b.hasOwnProperty(x)&&!Jr(o,x)&&rn(o,x,this.b[x]);return this.h?rn(o,"tid",this.h):Ci(o.b,"tid"),this.f?rn(o,"eid",this.f):Ci(o.b,"eid"),x=Qg(this.c),x.length&&rn(o,"fw",x.join(",")),o.toString()};function Qg(o){try{return Fe.app(o).auth().Ga()}catch{return[]}}function X1(o,u,d,g,b,T){this.s=o,this.g=u,this.b=d,this.f=T,this.c=g||null,this.i=b||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function J1(o){var u=Ml();return bM(o).then(function(d){e:{var g=vr(u),b=g.c;g=g.a;for(var T=0;T<d.length;T++){var x=d[T],F=g,Q=b;if(x.indexOf("chrome-extension://")==0?F=vr(x).a==F&&Q=="chrome-extension":Q!="http"&&Q!="https"?F=!1:_D.test(x)?F=F==x:(x=x.split(".").join("\\."),F=new RegExp("^(.+\\."+x+"|"+x+")$","i").test(F)),F){d=!0;break e}}d=!1}if(!d)throw new Cg(Ml())})}function Q1(o){return o.m||(o.m=sh().then(function(){if(!o.u){var u=o.c,d=o.i,g=Qg(o.b),b=new Y1(o.s,o.g,o.b,o.f);b.f=u,b.b=d,b.c=pe(g||[]),o.u=b.toString()}o.v=new tF(o.u),lF(o)})),o.m}e=X1.prototype,e.Ob=function(o,u,d){var g=new L("popup-closed-by-user"),b=new L("web-storage-unsupported"),T=this,x=!1;return this.ma().then(function(){cF(T).then(function(F){F||(o&&Vs(o),u(b),x=!0)})}).o(function(){}).then(function(){if(!x)return bD(o)}).then(function(){if(!x)return Ja(d).then(function(){u(g)})})},e.Xb=function(){var o=Rn();return!Fl(o)&&!jE(o)},e.Tb=function(){return!1},e.Mb=function(o,u,d,g,b,T,x,F){if(!o)return qt(new L("popup-blocked"));if(x&&!Fl())return this.ma().o(function(se){Vs(o),b(se)}),g(),je();this.a||(this.a=J1(Z1(this)));var Q=this;return this.a.then(function(){var se=Q.ma().o(function(Ye){throw Vs(o),b(Ye),Ye});return g(),se}).then(function(){if(xg(d),!x){var se=ec(Q.s,Q.g,Q.b,u,d,null,T,Q.c,void 0,Q.i,F,Q.f);LE(se,o)}}).o(function(se){throw se.code=="auth/network-request-failed"&&(Q.a=null),se})};function Z1(o){return o.l||(o.C=o.c?tu(o.c,Qg(o.b)):null,o.l=new fi(o.g,ie(o.i),o.C),o.f&&au(o.l,o.f)),o.l}e.Nb=function(o,u,d,g){this.a||(this.a=J1(Z1(this)));var b=this;return this.a.then(function(){xg(u);var T=ec(b.s,b.g,b.b,o,u,Ml(),d,b.c,void 0,b.i,g,b.f);LE(T)}).o(function(T){throw T.code=="auth/network-request-failed"&&(b.a=null),T})},e.ma=function(){var o=this;return Q1(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new L("network-request-failed")})},e.$b=function(){return!0};function ec(o,u,d,g,b,T,x,F,Q,se,Ye,Ot){return o=new Jg(o,u,d,g,b,Ot),o.l=T,o.g=x,o.i=F,o.b=et(Q||null),o.f=se,o.yb(Ye).toString()}function lF(o){if(!o.v)throw Error("IfcHandler must be initialized!");iF(o.v,function(u){var d={};if(u&&u.authEvent){var g=!1;for(u=E1(u.authEvent),d=0;d<o.h.length;d++)g=o.h[d](u)||g;return d={},d.status=g?"ACK":"ERROR",je(d)}return d.status="ERROR",je(d)})}function cF(o){var u={type:"webStorageSupport"};return Q1(o).then(function(){return rF(o.v,u)}).then(function(d){if(d&&d.length&&typeof d[0].webStorageSupport<"u")return d[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){X(this.h,function(u){return u==o})};function eT(o){if(this.a=o||Fe.INTERNAL.reactNative&&Fe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new L("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=eT.prototype,e.get=function(o){return je(this.a.getItem(o)).then(function(u){return u&&ru(u)})},e.set=function(o,u){return je(this.a.setItem(o,Ul(u)))},e.U=function(o){return je(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function tT(o){this.b=o,this.a={},this.f=A(this.c,this)}var nT=[];function fF(){var o=li()?self:null;if(re(nT,function(d){d.b==o&&(u=d)}),!u){var u=new tT(o);nT.push(u)}return u}tT.prototype.c=function(o){var u=o.data.eventType,d=o.data.eventId,g=this.a[u];if(g&&0<g.length){o.ports[0].postMessage({status:"ack",eventId:d,eventType:u,response:null});var b=[];re(g,function(T){b.push(je().then(function(){return T(o.origin,o.data.data)}))}),sE(b).then(function(T){var x=[];re(T,function(F){x.push({fulfilled:F.Pb,value:F.value,reason:F.reason?F.reason.message:void 0})}),re(x,function(F){for(var Q in F)typeof F[Q]>"u"&&delete F[Q]}),o.ports[0].postMessage({status:"done",eventId:d,eventType:u,response:x})})}};function rT(o,u,d){Ze(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(d)}function iT(o){this.a=o}iT.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function oT(o){this.c=o,this.b=!1,this.a=[]}function sT(o,u,d,g){var b,T=d||{},x,F,Q,se=null;if(o.b)return qt(Error("connection_unavailable"));var Ye=g?800:50,Ot=typeof MessageChannel<"u"?new MessageChannel:null;return new ut(function(Tt,xn){Ot?(b=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ot.port1.start(),F=setTimeout(function(){xn(Error("unsupported_event"))},Ye),x=function(io){io.data.eventId===b&&(io.data.status==="ack"?(clearTimeout(F),Q=setTimeout(function(){xn(Error("timeout"))},3e3)):io.data.status==="done"?(clearTimeout(Q),typeof io.data.response<"u"?Tt(io.data.response):xn(Error("unknown_error"))):(clearTimeout(F),clearTimeout(Q),xn(Error("invalid_response"))))},se={messageChannel:Ot,onMessage:x},o.a.push(se),Ot.port1.addEventListener("message",x),o.c.postMessage({eventType:u,eventId:b,data:T},[Ot.port2])):xn(Error("connection_unavailable"))}).then(function(Tt){return Zg(o,se),Tt}).o(function(Tt){throw Zg(o,se),Tt})}function Zg(o,u){if(u){var d=u.messageChannel,g=u.onMessage;d&&(d.port1.removeEventListener("message",g),d.port1.close()),X(o.a,function(b){return b==u})}}oT.prototype.close=function(){for(;0<this.a.length;)Zg(this,this.a[0]);this.b=!0};function aT(){if(!nv())throw new L("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;li()&&self?(this.v=fF(),rT(this.v,"keyChanged",function(u,d){return cT(o).then(function(g){return 0<g.length&&re(o.a,function(b){b(g)}),{keyProcessed:H(g,d.key)}})}),rT(this.v,"ping",function(){return je(["keyChanged"])})):AD().then(function(u){(o.h=u)&&(o.g=new oT(new iT(u)),sT(o.g,"ping",null,!0).then(function(d){d[0].fulfilled&&H(d[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var ev;function hF(o){return new ut(function(u,d){var g=o.m.deleteDatabase("firebaseLocalStorageDb");g.onsuccess=function(){u()},g.onerror=function(b){d(Error(b.target.error))}})}function uT(o){return new ut(function(u,d){var g=o.m.open("firebaseLocalStorageDb",1);g.onerror=function(b){try{b.preventDefault()}catch{}d(Error(b.target.error))},g.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(T){d(T)}},g.onsuccess=function(b){b=b.target.result,b.objectStoreNames.contains("firebaseLocalStorage")?u(b):hF(o).then(function(){return uT(o)}).then(function(T){u(T)}).o(function(T){d(T)})}})}function tv(o){return o.i||(o.i=uT(o)),o.i}function Nh(o,u){function d(b,T){tv(o).then(u).then(b).o(function(x){if(3<++g)T(x);else return tv(o).then(function(F){return F.close(),o.i=void 0,d(b,T)}).o(function(F){T(F)})})}var g=0;return new ut(d)}function nv(){try{return!!c.indexedDB}catch{return!1}}function tc(o){return o.objectStore("firebaseLocalStorage")}function nc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function uu(o){return new ut(function(u,d){o.onsuccess=function(g){g&&g.target?u(g.target.result):u()},o.onerror=function(g){d(g.target.error)}})}e=aT.prototype,e.set=function(o,u){var d=this,g=!1;return Nh(this,function(b){return b=tc(nc(b,!0)),uu(b.get(o))}).then(function(b){return Nh(d,function(T){if(T=tc(nc(T,!0)),b)return b.value=u,uu(T.put(b));d.b++,g=!0;var x={};return x.fbase_key=o,x.value=u,uu(T.add(x))})}).then(function(){return d.c[o]=u,lT(d,o)}).oa(function(){g&&d.b--})};function lT(o,u){return o.g&&o.h&&ID()===o.h?sT(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):je()}e.get=function(o){return Nh(this,function(u){return uu(tc(nc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,d=!1;return Nh(this,function(g){return d=!0,u.b++,uu(tc(nc(g,!0)).delete(o))}).then(function(){return delete u.c[o],lT(u,o)}).oa(function(){d&&u.b--})};function cT(o){return tv(o).then(function(u){var d=tc(nc(u,!1));return d.getAll?uu(d.getAll()):new ut(function(g,b){var T=[],x=d.openCursor();x.onsuccess=function(F){(F=F.target.result)?(T.push(F.value),F.continue()):g(T)},x.onerror=function(F){b(F.target.error)}})}).then(function(u){var d={},g=[];if(o.b==0){for(g=0;g<u.length;g++)d[u[g].fbase_key]=u[g].value;g=RE(o.c,d),o.c=d}return g})}e.ca=function(o){this.a.length==0&&dF(this),this.a.push(o)},e.ia=function(o){X(this.a,function(u){return u==o}),this.a.length==0&&fT(this)};function dF(o){function u(){o.f=setTimeout(function(){o.l=cT(o).then(function(d){0<d.length&&re(o.a,function(g){g(d)})}).then(function(){u()}).o(function(d){d.message!="STOP_EVENT"&&u()})},800)}fT(o),u()}function fT(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function hT(o){var u=this,d=null;this.a=[],this.type="indexedDB",this.c=o,this.b=je().then(function(){if(nv()){var g=js(),b="__sak"+g;return ev||(ev=new aT),d=ev,d.set(b,g).then(function(){return d.get(b)}).then(function(T){if(T!==g)throw Error("indexedDB not supported!");return d.U(b)}).then(function(){return d}).o(function(){return u.c})}return u.c}).then(function(g){return u.type=g.type,g.ca(function(b){re(u.a,function(T){T(b)})}),g})}e=hT.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(d){return d.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){X(this.a,function(u){return u==o})};function rc(){this.a={},this.type="inMemory"}e=rc.prototype,e.get=function(o){return je(this.a[o])},e.set=function(o,u){return this.a[o]=u,je()},e.U=function(o){return delete this.a[o],je()},e.ca=function(){},e.ia=function(){};function Oh(){if(!pF())throw Ni()=="Node"?new L("internal-error","The LocalStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=dT()||Fe.INTERNAL.node.localStorage,this.type="localStorage"}function dT(){try{var o=c.localStorage,u=js();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function pF(){var o=Ni()=="Node";if(o=dT()||o&&Fe.INTERNAL.node&&Fe.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Oh.prototype,e.get=function(o){var u=this;return je().then(function(){var d=u.a.getItem(o);return ru(d)})},e.set=function(o,u){var d=this;return je().then(function(){var g=Ul(u);g===null?d.U(o):d.a.setItem(o,g)})},e.U=function(o){var u=this;return je().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&Xr(c.window,"storage",o)},e.ia=function(o){c.window&&Cr(c.window,"storage",o)};function rv(){this.type="nullStorage"}e=rv.prototype,e.get=function(){return je(null)},e.set=function(){return je()},e.U=function(){return je()},e.ca=function(){},e.ia=function(){};function iv(){if(!mF())throw Ni()=="Node"?new L("internal-error","The SessionStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=pT()||Fe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function pT(){try{var o=c.sessionStorage,u=js();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function mF(){var o=Ni()=="Node";if(o=pT()||o&&Fe.INTERNAL.node&&Fe.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=iv.prototype,e.get=function(o){var u=this;return je().then(function(){var d=u.a.getItem(o);return ru(d)})},e.set=function(o,u){var d=this;return je().then(function(){var g=Ul(u);g===null?d.U(o):d.a.setItem(o,g)})},e.U=function(o){var u=this;return je().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function gF(){var o={};o.Browser=vF,o.Node=yF,o.ReactNative=bF,o.Worker=_F,this.a=o[Ni()]}var ov,vF={F:Oh,bb:iv},yF={F:Oh,bb:iv},bF={F:eT,bb:rv},_F={F:Oh,bb:rv},lu={rd:"local",NONE:"none",td:"session"};function wF(o){var u=new L("invalid-persistence-type"),d=new L("unsupported-persistence-type");e:{for(g in lu)if(lu[g]==o){var g=!0;break e}g=!1}if(!g||typeof o!="string")throw u;switch(Ni()){case"ReactNative":if(o==="session")throw d;break;case"Node":if(o!=="none")throw d;break;case"Worker":if(o==="session"||!nv()&&o!=="none")throw d;break;default:if(!og()&&o!=="none")throw d}}function mT(){var o=!!(!jE(Rn())&&rg()),u=Fl(),d=og();this.m=o,this.h=u,this.l=d,this.a={},ov||(ov=new gF),o=ov;try{this.g=!tg()&&HE()||!c.indexedDB?new o.a.F:new hT(li()?new rc:new o.a.F)}catch{this.g=new rc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new rc}this.v=new rc,this.f=A(this.Yb,this),this.b={}}var sv;function ic(){return sv||(sv=new mT),sv}function Ys(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function cu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function EF(o,u,d){var g=cu(u,d),b=Ys(o,u.F);return o.get(u,d).then(function(T){var x=null;try{x=ru(c.localStorage.getItem(g))}catch{}if(x&&!T)return c.localStorage.removeItem(g),o.set(u,x,d);x&&T&&b.type!="localStorage"&&c.localStorage.removeItem(g)})}e=mT.prototype,e.get=function(o,u){return Ys(this,o.F).get(cu(o,u))};function fu(o,u,d){return d=cu(u,d),u.F=="local"&&(o.b[d]=null),Ys(o,u.F).U(d)}e.set=function(o,u,d){var g=cu(o,d),b=this,T=Ys(this,o.F);return T.set(g,u).then(function(){return T.get(g)}).then(function(x){o.F=="local"&&(b.b[g]=x)})},e.addListener=function(o,u,d){o=cu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),Ze(this.a)&&(Ys(this,"local").ca(this.f),this.h||(tg()||!HE())&&c.indexedDB||!this.l||TF(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(d)},e.removeListener=function(o,u,d){o=cu(o,u),this.a[o]&&(X(this.a[o],function(g){return g==d}),this.a[o].length==0&&delete this.a[o]),Ze(this.a)&&(Ys(this,"local").ia(this.f),av(this))};function TF(o){av(o),o.c=setInterval(function(){for(var u in o.a){var d=c.localStorage.getItem(u),g=o.b[u];d!=g&&(o.b[u]=d,d=new Ms({type:"storage",key:u,target:window,oldValue:g,newValue:d,a:!0}),o.Yb(d))}},1e3)}function av(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var d in this.a){var g=this.b[d];typeof g>"u"&&(g=null);var b=c.localStorage.getItem(d);b!==g&&(this.b[d]=b,this.mb(d))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ys(this,"local").ia(this.f):av(this),this.m){if(d=c.localStorage.getItem(u),g=o.a.newValue,g!==d)g!==null?c.localStorage.setItem(u,g):c.localStorage.removeItem(u);else if(this.b[u]===g&&typeof o.a.a>"u")return}var T=this;d=function(){(typeof o.a.a<"u"||T.b[u]!==c.localStorage.getItem(u))&&(T.b[u]=c.localStorage.getItem(u),T.mb(u))},ui&&xo&&xo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(d,10):d()}}else re(o,A(this.mb,this))},e.mb=function(o){this.a[o]&&re(this.a[o],function(u){u()})};function SF(o){this.a=o,this.b=ic()}var uv={name:"authEvent",F:"local"};function IF(o){return o.b.get(uv,o.a).then(function(u){return E1(u)})}function AF(){this.a=ic()}function xF(){this.b=-1}function Ph(o,u){this.b=gT,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Lh===void 0&&(c.Int32Array?Lh=new Int32Array(bT):Lh=bT),this.reset()}var Lh;P(Ph,xF);for(var gT=64,kF=gT-1,vT=[],lv=0;lv<kF;lv++)vT[lv]=0;var yT=fe(128,vT);Ph.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):pe(this.h)};function cv(o){for(var u=o.f,d=o.l,g=0,b=0;b<u.length;)d[g++]=u[b]<<24|u[b+1]<<16|u[b+2]<<8|u[b+3],b=4*g;for(u=16;64>u;u++){b=d[u-15]|0,g=d[u-2]|0;var T=(d[u-16]|0)+((b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3)|0,x=(d[u-7]|0)+((g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)|0;d[u]=T+x|0}g=o.a[0]|0,b=o.a[1]|0;var F=o.a[2]|0,Q=o.a[3]|0,se=o.a[4]|0,Ye=o.a[5]|0,Ot=o.a[6]|0;for(T=o.a[7]|0,u=0;64>u;u++){var Tt=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&b^g&F^b&F)|0;x=se&Ye^~se&Ot,T=T+((se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7))|0,x=x+(Lh[u]|0)|0,x=T+(x+(d[u]|0)|0)|0,T=Ot,Ot=Ye,Ye=se,se=Q+x|0,Q=F,F=b,b=g,g=x+Tt|0}o.a[0]=o.a[0]+g|0,o.a[1]=o.a[1]+b|0,o.a[2]=o.a[2]+F|0,o.a[3]=o.a[3]+Q|0,o.a[4]=o.a[4]+se|0,o.a[5]=o.a[5]+Ye|0,o.a[6]=o.a[6]+Ot|0,o.a[7]=o.a[7]+T|0}function fv(o,u,d){d===void 0&&(d=u.length);var g=0,b=o.c;if(typeof u=="string")for(;g<d;)o.f[b++]=u.charCodeAt(g++),b==o.b&&(cv(o),b=0);else if(y(u))for(;g<d;){var T=u[g++];if(!(typeof T=="number"&&0<=T&&255>=T&&T==(T|0)))throw Error("message must be a byte array");o.f[b++]=T,b==o.b&&(cv(o),b=0)}else throw Error("message must be string or array");o.c=b,o.g+=d}var bT=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _T(){Ph.call(this,8,CF)}P(_T,Ph);var CF=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wT(o,u,d,g,b,T){this.v=o,this.i=u,this.l=d,this.m=g||null,this.u=b||null,this.s=T,this.h=u+":"+d,this.C=new AF,this.g=new SF(this.h),this.f=null,this.b=[],this.a=this.c=null}function Rh(o){return new L("invalid-cordova-configuration",o)}e=wT.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=ED().then(function(){if(typeof Wt("universalLinks.subscribe",c)!="function")throw Rh("cordova-universal-links-plugin-fix is not installed");if(typeof Wt("BuildInfo.packageName",c)>"u")throw Rh("cordova-plugin-buildinfo is not installed");if(typeof Wt("cordova.plugins.browsertab.openUrl",c)!="function")throw Rh("cordova-plugin-browsertab is not installed");if(typeof Wt("cordova.InAppBrowser.open",c)!="function")throw Rh("cordova-plugin-inappbrowser is not installed")},function(){throw new L("cordova-not-ready")})};function NF(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function OF(o){var u=new _T;fv(u,o),o=[];var d=8*u.g;56>u.c?fv(u,yT,56-u.c):fv(u,yT,u.b-(u.c-56));for(var g=63;56<=g;g--)u.f[g]=d&255,d/=256;for(cv(u),g=d=0;g<u.i;g++)for(var b=24;0<=b;b-=8)o[d++]=u.a[g]>>b&255;return BD(o)}e.Ob=function(o,u){return u(new L("operation-not-supported-in-this-environment")),je()},e.Mb=function(){return qt(new L("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,d,g){if(this.c)return qt(new L("redirect-operation-pending"));var b=this,T=c.document,x=null,F=null,Q=null,se=null;return this.c=je().then(function(){return xg(u),TT(b)}).then(function(){return PF(b,o,u,d,g)}).then(function(){return new ut(function(Ye,Ot){F=function(){var Tt=Wt("cordova.plugins.browsertab.close",c);return Ye(),typeof Tt=="function"&&Tt(),b.a&&typeof b.a.close=="function"&&(b.a.close(),b.a=null),!1},b.Ea(F),Q=function(){x||(x=Ja(2e3).then(function(){Ot(new L("redirect-cancelled-by-user"))}))},se=function(){sg()&&Q()},T.addEventListener("resume",Q,!1),Rn().toLowerCase().match(/android/)||T.addEventListener("visibilitychange",se,!1)}).o(function(Ye){return hv(b).then(function(){throw Ye})})}).oa(function(){Q&&T.removeEventListener("resume",Q,!1),se&&T.removeEventListener("visibilitychange",se,!1),x&&x.cancel(),F&&b.Sa(F),b.c=null})};function PF(o,u,d,g,b){var T=NF(),x=new ci(u,g,null,T,new L("no-auth-event"),null,b),F=Wt("BuildInfo.packageName",c);if(typeof F!="string")throw new L("invalid-cordova-configuration");var Q=Wt("BuildInfo.displayName",c),se={};if(Rn().toLowerCase().match(/iphone|ipad|ipod/))se.ibi=F;else if(Rn().toLowerCase().match(/android/))se.apn=F;else return qt(new L("operation-not-supported-in-this-environment"));Q&&(se.appDisplayName=Q),T=OF(T),se.sessionId=T;var Ye=ec(o.v,o.i,o.l,u,d,null,g,o.m,se,o.u,b,o.s);return o.ma().then(function(){var Ot=o.h;return o.C.a.set(uv,x.w(),Ot)}).then(function(){var Ot=Wt("cordova.plugins.browsertab.isAvailable",c);if(typeof Ot!="function")throw new L("invalid-cordova-configuration");var Tt=null;Ot(function(xn){if(xn){if(Tt=Wt("cordova.plugins.browsertab.openUrl",c),typeof Tt!="function")throw new L("invalid-cordova-configuration");Tt(Ye)}else{if(Tt=Wt("cordova.InAppBrowser.open",c),typeof Tt!="function")throw new L("invalid-cordova-configuration");xn=Rn(),o.a=Tt(Ye,xn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||xn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function ET(o,u){for(var d=0;d<o.b.length;d++)try{o.b[d](u)}catch{}}function TT(o){return o.f||(o.f=o.ma().then(function(){return new ut(function(u){function d(g){return u(g),o.Sa(d),!1}o.Ea(d),LF(o)})})),o.f}function hv(o){var u=null;return IF(o.g).then(function(d){return u=d,d=o.g,fu(d.b,uv,d.a)}).then(function(){return u})}function LF(o){function u(x){g=!0,b&&b.cancel(),hv(o).then(function(F){var Q=d;if(F&&x&&x.url){var se=null;Q=p1(x.url),Q.indexOf("/__/auth/callback")!=-1&&(se=vr(Q),se=ru(Jr(se,"firebaseError")||null),se=(se=typeof se=="object"?q(se):null)?new ci(F.c,F.b,null,null,se,null,F.T()):new ci(F.c,F.b,Q,F.f,null,null,F.T())),Q=se||d}ET(o,Q)})}var d=new ci("unknown",null,null,null,new L("no-auth-event")),g=!1,b=Ja(500).then(function(){return hv(o).then(function(){g||ET(o,d)})}),T=c.handleOpenURL;c.handleOpenURL=function(x){if(x.toLowerCase().indexOf(Wt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:x}),typeof T=="function")try{T(x)}catch(F){console.error(F)}},kg||(kg=new XD),JD(u)}e.Ea=function(o){this.b.push(o),TT(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new ci("unknown",null,null,null,new L("no-auth-event")),o(u))})},e.Sa=function(o){X(this.b,function(u){return u==o})};function RF(o){this.a=o,this.b=ic()}var dv={name:"pendingRedirect",F:"session"};function DF(o){return o.b.set(dv,"pending",o.a)}function pv(o){return fu(o.b,dv,o.a)}function MF(o){return o.b.get(dv,o.a).then(function(u){return u=="pending"})}function Dh(o,u,d,g){this.i={},this.u=0,this.D=o,this.v=u,this.m=d,this.J=g,this.h=[],this.f=!1,this.l=A(this.s,this),this.b=new Mh,this.C=new DT,this.g=new RF(OT(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ST(this.D,this.v,this.m,Re,this.J)}function ST(o,u,d,g,b){var T=Fe.SDK_VERSION||null;return ng()?new wT(o,u,d,T,g,b):new X1(o,u,d,T,g,b)}Dh.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=ST(this.D,this.v,this.m,null,this.J),this.i={}};function IT(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(d){throw o.a==u&&o.reset(),d})}function AT(o){o.a.Xb()&&IT(o).o(function(u){var d=new ci("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));gv(u)&&o.s(d)}),o.a.Tb()||LT(o.b)}function mv(o,u){H(o.h,u)||o.h.push(u),o.f||MF(o.g).then(function(d){d?pv(o.g).then(function(){IT(o).o(function(g){var b=new ci("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));gv(g)&&o.s(b)})}):AT(o)}).o(function(){AT(o)})}function xT(o,u){X(o.h,function(d){return d==u})}Dh.prototype.s=function(o){if(!o)throw new L("invalid-auth-event");if(6e5<=U()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,d=0;d<this.h.length;d++){var g=this.h[d];if(g.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,g),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=U())),u=!0;break}}return LT(this.b),u};var FF=new No(2e3,1e4),UF=new No(3e4,6e4);Dh.prototype.qa=function(){return this.b.qa()};function kT(o,u,d,g,b,T,x){return o.a.Mb(u,d,g,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},b,T,x)}function gv(o){return!!(o&&o.code=="auth/cordova-not-ready")}function CT(o,u,d,g,b){var T;return DF(o.g).then(function(){return o.a.Nb(u,d,g,b).o(function(x){if(gv(x))throw new L("operation-not-supported-in-this-environment");return T=x,pv(o.g).then(function(){throw T})}).then(function(){return o.a.$b()?new ut(function(){}):pv(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function NT(o,u,d,g,b){return o.a.Ob(g,function(T){u.na(d,null,T,b)},FF.get())}var vv={};function OT(o,u,d){return o=o+":"+u,d&&(o=o+":"+d.url),o}function PT(o,u,d,g){var b=OT(u,d,g);return vv[b]||(vv[b]=new Dh(o,u,d,g)),vv[b]}function Mh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Mh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mh.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var d=o.c,g=o.b,b=o.a&&o.a.code=="auth/web-storage-unsupported",T=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!b&&!T),d!="unknown"||b||T?o.a?(Xs(this,!0,null,o.a),je()):u.Fa(d,g)?VF(this,o,u):qt(new L("invalid-auth-event")):(Xs(this,!1,null,null),je())}else qt(new L("invalid-auth-event"))};function LT(o){o.g||(o.g=!0,Xs(o,!1,null,null))}function Fh(o){o.g&&!o.i&&Xs(o,!1,null,null)}function VF(o,u,d){d=d.Fa(u.c,u.b);var g=u.g,b=u.f,T=u.i,x=u.T(),F=!!u.c.match(/Redirect$/);d(g,b,x,T).then(function(Q){Xs(o,F,Q,null)}).o(function(Q){Xs(o,F,null,Q)})}function $F(o,u){if(o.b=function(){return qt(u)},o.c.length)for(var d=0;d<o.c.length;d++)o.c[d](u)}function RT(o,u){if(o.b=function(){return je(u)},o.f.length)for(var d=0;d<o.f.length;d++)o.f[d](u)}function Xs(o,u,d,g){u?g?$F(o,g):RT(o,d):RT(o,{user:null}),o.f=[],o.c=[]}Mh.prototype.qa=function(){var o=this;return new ut(function(u,d){o.b?o.b().then(u,d):(o.f.push(u),o.c.push(d),jF(o))})};function jF(o){var u=new L("timeout");o.a&&o.a.cancel(),o.a=Ja(UF.get()).then(function(){o.b||(o.g=!0,Xs(o,!0,null,u))})}function DT(){}DT.prototype.h=function(o,u){if(o){var d=o.c,g=o.b;o.a?(u.na(o.c,null,o.a,o.b),je()):u.Fa(d,g)?BF(o,u):qt(new L("invalid-auth-event"))}else qt(new L("invalid-auth-event"))};function BF(o,u){var d=o.b,g=o.c;u.Fa(g,d)(o.g,o.f,o.T(),o.i).then(function(b){u.na(g,b,null,d)}).o(function(b){u.na(g,null,b,d)})}function MT(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function yv(o,u){this.a=u,Le(this,"verificationId",o)}yv.prototype.confirm=function(o){return o=w1(this.verificationId,o),this.a(o)};function bv(o,u,d,g){return new no(o).fb(u,d).then(function(b){return new yv(b,g)})}function HF(o){var u=s1(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new L("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:o,expirationTime:Vl(1e3*u.exp),authTime:Vl(1e3*u.auth_time),issuedAtTime:Vl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function _v(o,u,d){var g=u&&u[UT];if(!g)throw new L("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=et(u),this.g=d,this.c=new ph(null,g),this.b=[];var b=this;re(u[FT]||[],function(T){(T=hg(T))&&b.b.push(T)}),Le(this,"auth",this.a),Le(this,"session",this.c),Le(this,"hints",this.b)}var FT="mfaInfo",UT="mfaPendingCredential";_v.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(d){var g=et(u.f);return delete g[FT],delete g[UT],_t(g,d),u.g(g)})};function wv(o,u,d,g){L.call(this,"multi-factor-auth-required",g,u),this.b=new _v(o,u,d),Le(this,"resolver",this.b)}P(wv,L);function VT(o,u,d){if(o&&w(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new wv(u,o.serverResponse,d,o.message)}catch{}return null}function $T(){}$T.prototype.sb=function(o,u,d){return u.type==Hl?GF(this,o,u,d):zF(this,o,u)};function GF(o,u,d,g){return d.Ha().then(function(b){return b={idToken:b},typeof g<"u"&&(b.displayName=g),_t(b,{phoneVerificationInfo:Gl(o.a)}),ct(u,LM,b)})}function zF(o,u,d){return d.Ha().then(function(g){return g={mfaPendingCredential:g},_t(g,{phoneVerificationInfo:Gl(o.a)}),ct(u,RM,g)})}function Ev(o){Le(this,"factorId",o.fa),this.a=o}P(Ev,$T);function jT(o){if(Ev.call(this,o),this.a.fa!=no.PROVIDER_ID)throw new L("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}P(jT,Ev);function hu(o,u){gr.call(this,o);for(var d in u)this[d]=u[d]}P(hu,gr);function Tv(o,u){this.a=o,this.b=[],this.c=A(this.yc,this),Xr(this.a,"userReloaded",this.c);var d=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&re(u.multiFactor.enrolledFactors,function(g){var b=null,T={};if(g){g.uid&&(T[pg]=g.uid),g.displayName&&(T[zE]=g.displayName),g.enrollmentTime&&(T[dg]=new Date(g.enrollmentTime).toISOString()),g.phoneNumber&&(T[mg]=g.phoneNumber);try{b=new $l(T)}catch{}g=b}else g=null;g&&d.push(g)}),Uh(this,d)}function qF(o){var u=[];return re(o.mfaInfo||[],function(d){(d=hg(d))&&u.push(d)}),u}e=Tv.prototype,e.yc=function(o){Uh(this,qF(o.hd))};function Uh(o,u){o.b=u,Le(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new ph(o,null)})},e.fc=function(o,u){var d=this,g=this.a.a;return this.Rb().then(function(b){return o.sb(g,b,u)}).then(function(b){return Li(d.a,b),d.a.reload()})},e.bd=function(o){var u=this,d=typeof o=="string"?o:o.uid,g=this.a.a;return this.a.I().then(function(b){return ct(g,eF,{idToken:b,mfaEnrollmentId:d})}).then(function(b){var T=Ge(u.b,function(x){return x.uid!=d});return Uh(u,T),Li(u.a,b),u.a.reload().o(function(x){if(x.code!="auth/user-token-expired")throw x})})},e.w=function(){return{multiFactor:{enrolledFactors:at(this.b,function(o){return o.w()})}}};function Sv(o,u,d){if(this.h=o,this.i=u,this.g=d,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Sv.prototype.start=function(){this.a=this.c,Iv(this,!0)};function WF(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Iv(o,u){o.stop(),o.b=Ja(WF(o,u)).then(function(){return SD()}).then(function(){return o.h()}).then(function(){Iv(o,!0)}).o(function(d){o.i(d)&&Iv(o,!1)})}Sv.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Av(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Av.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function BT(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function HT(o,u){o.b=hh(u[hi]||""),o.a=u.refreshToken,u=u.expiresIn,BT(o,typeof u<"u"?Number(u):void 0)}function KF(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function YF(o,u){return vM(o.f,u).then(function(d){return o.b=hh(d.access_token),o.a=d.refresh_token,BT(o,d.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(d){throw d.code=="auth/user-token-expired"&&(o.a=null),d})}Av.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?qt(new L("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?YF(this,{grant_type:"refresh_token",refresh_token:this.a}):je(null):je({accessToken:this.b.toString(),refreshToken:this.a})};function Vh(o,u){this.a=o||null,this.b=u||null,er(this,{lastSignInTime:Vl(u||null),creationTime:Vl(o||null)})}function XF(o){return new Vh(o.a,o.b)}Vh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function JF(o,u,d,g,b,T){er(this,{uid:o,displayName:g||null,photoURL:b||null,email:d||null,phoneNumber:T||null,providerId:u})}function Or(o,u,d){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var g=Fe.SDK_VERSION?tu(Fe.SDK_VERSION):null;this.a=new fi(this.l,ie(Re),g),o.emulatorConfig&&au(this.a,o.emulatorConfig),this.b=new Av(this.a),Pv(this,u[hi]),HT(this.b,u),Le(this,"refreshToken",this.b.a),zT(this,d||{}),Zn.call(this),this.R=!1,this.s&&$s()&&(this.i=PT(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=QF(this),this.aa=A(this.hb,this);var b=this;this.ya=null,this.Oa=function(T){b.wa(T.h)},this.ja=null,this.Aa=function(T){au(b.a,T.c)},this.X=null,this.$=[],this.Ba=function(T){oc(b,T.f)},this.ba=null,this.O=new Tv(this,d),Le(this,"multiFactor",this.O)}P(Or,Zn),Or.prototype.wa=function(o){this.ya=o,F1(this.a,o)},Or.prototype.la=function(){return this.ya};function xv(o,u){o.ja&&Cr(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Xr(u,"languageCodeChanged",o.Oa)}function kv(o,u){o.X&&Cr(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Xr(u,"emulatorConfigChanged",o.Aa)}function oc(o,u){o.$=u,U1(o.a,Fe.SDK_VERSION?tu(Fe.SDK_VERSION,o.$):null)}Or.prototype.Ga=function(){return pe(this.$)};function Cv(o,u){o.ba&&Cr(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Xr(u,"frameworkChanged",o.Ba)}Or.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Nv(o){try{return Fe.app(o.m).auth()}catch{throw new L("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function QF(o){return new Sv(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function GT(o){o.D||o.u.b||(o.u.start(),Cr(o,"tokenChanged",o.aa),Xr(o,"tokenChanged",o.aa))}function Ov(o){Cr(o,"tokenChanged",o.aa),o.u.stop()}function Pv(o,u){o.za=u,Le(o,"_lat",u)}function ZF(o,u){X(o.S,function(d){return d==u})}function Js(o){for(var u=[],d=0;d<o.S.length;d++)u.push(o.S[d](o));return sE(u).then(function(){return o})}function sc(o){o.i&&!o.R&&(o.R=!0,mv(o.i,o))}function zT(o,u){er(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Vh(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Le(Or.prototype,"providerId","firebase");function qT(){}function Lv(o){return je().then(function(){if(o.D)throw new L("app-deleted")})}function Rv(o){return at(o.providerData,function(u){return u.providerId})}function Dv(o,u){u&&(WT(o,u.providerId),o.providerData.push(u))}function WT(o,u){X(o.providerData,function(d){return d.providerId==u})}function Lo(o,u,d){(u!="uid"||d)&&o.hasOwnProperty(u)&&Le(o,u,d)}function $h(o,u){o!=u&&(er(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?Le(o,"metadata",XF(u.metadata)):Le(o,"metadata",new Vh),re(u.providerData,function(d){Dv(o,d)}),KF(o.b,u.b),Le(o,"refreshToken",o.b.a),Uh(o.O,u.O.b))}e=Or.prototype,e.reload=function(){var o=this;return bn(this,Lv(this).then(function(){return Mv(o).then(function(){return Js(o)}).then(qT)}))};function Mv(o){return o.I().then(function(u){var d=o.isAnonymous;return eU(o,u).then(function(){return d||Lo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new HF(u)})},e.I=function(o){var u=this;return bn(this,Lv(this).then(function(){return u.b.getToken(o)}).then(function(d){if(!d)throw new L("internal-error");return d.accessToken!=u.za&&(Pv(u,d.accessToken),u.dispatchEvent(new hu("tokenChanged"))),Lo(u,"refreshToken",d.refreshToken),d.accessToken}))};function Li(o,u){u[hi]&&o.za!=u[hi]&&(HT(o.b,u),o.dispatchEvent(new hu("tokenChanged")),Pv(o,u[hi]),Lo(o,"refreshToken",o.b.a))}function eU(o,u){return ct(o.a,DM,{idToken:u}).then(A(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new L("internal-error");o=o[0],zT(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=tU(o),d=0;d<u.length;d++)Dv(this,u[d]);Lo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new hu("userReloaded",{hd:o}))};function tU(o){return(o=o.providerUserInfo)&&o.length?at(o,function(u){return new JF(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return ag("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,d=null;return bn(this,o.c(this.a,this.uid).then(function(g){return Li(u,g),d=ac(u,g,"reauthenticate"),u.h=null,u.reload()}).then(function(){return d}),!0)};function jh(o,u){return Mv(o).then(function(){if(H(Rv(o),u))return Js(o).then(function(){throw new L("provider-already-linked")})})}e.Cc=function(o){return ag("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,d=null;return bn(this,jh(this,o.providerId).then(function(){return u.I()}).then(function(g){return o.b(u.a,g)}).then(function(g){return d=ac(u,g,"link"),KT(u,g)}).then(function(){return d}))},e.Dc=function(o,u){var d=this;return bn(this,jh(this,"phone").then(function(){return bv(Nv(d),o,u,A(d.qb,d))}))},e.Mc=function(o,u){var d=this;return bn(this,je().then(function(){return bv(Nv(d),o,u,A(d.tb,d))}),!0)};function ac(o,u,d){var g=Ag(u);return u=u1(u),Oi({user:o,credential:g,additionalUserInfo:u,operationType:d})}function KT(o,u){return Li(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return bn(this,this.I().then(function(d){return u.a.Bb(d,o)}).then(function(d){return Li(u,d),u.reload()}))},e.ed=function(o){var u=this;return bn(this,this.I().then(function(d){return o.b(u.a,d)}).then(function(d){return Li(u,d),u.reload()}))},e.Cb=function(o){var u=this;return bn(this,this.I().then(function(d){return u.a.Cb(d,o)}).then(function(d){return Li(u,d),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Lv(this);var u=this;return bn(this,this.I().then(function(d){return u.a.Db(d,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(d){return Li(u,d),Lo(u,"displayName",d.displayName||null),Lo(u,"photoURL",d.photoUrl||null),re(u.providerData,function(g){g.providerId==="password"&&(Le(g,"displayName",u.displayName),Le(g,"photoURL",u.photoURL))}),Js(u)}).then(qT))},e.cd=function(o){var u=this;return bn(this,Mv(this).then(function(d){return H(Rv(u),o)?SM(u.a,d,[o]).then(function(g){var b={};return re(g.providerUserInfo||[],function(T){b[T.providerId]=!0}),re(Rv(u),function(T){b[T]||WT(u,T)}),b[no.PROVIDER_ID]||Le(u,"phoneNumber",null),Js(u)}):Js(u).then(function(){throw new L("no-such-provider")})}))},e.delete=function(){var o=this;return bn(this,this.I().then(function(u){return ct(o.a,CM,{idToken:u})}).then(function(){o.dispatchEvent(new hu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");xv(o,null),kv(o,null),Cv(o,null),o.J=[],o.D=!0,Ov(o),Le(o,"refreshToken",null),o.i&&xT(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,d,g){o!="linkViaPopup"&&o!="reauthViaPopup"||g!=(this.g||null)||(d&&this.C?this.C(d):u&&!d&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?A(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?A(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?A(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?A(this.Lb,this):null},e.Ec=function(o){var u=this;return YT(this,"linkViaPopup",o,function(){return jh(u,o.providerId).then(function(){return Js(u)})},!1)},e.Nc=function(o){return YT(this,"reauthViaPopup",o,function(){return je()},!0)};function YT(o,u,d,g,b){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));if(o.h&&!b)return qt(o.h);var T=_g(d.providerId),x=js(o.uid+":::"),F=null;(!Fl()||rg())&&o.s&&d.isOAuthProvider&&(F=ec(o.s,o.l,o.m,u,d,null,x,Fe.SDK_VERSION||null,null,null,o.tenantId));var Q=ME(F,T&&T.ua,T&&T.ta);return g=g().then(function(){if(JT(o),!b)return o.I().then(function(){})}).then(function(){return kT(o.i,Q,u,d,x,!!F,o.tenantId)}).then(function(){return new ut(function(se,Ye){o.na(u,null,new L("cancelled-popup-request"),o.g||null),o.f=se,o.C=Ye,o.g=x,o.c=NT(o.i,o,u,Q,x)})}).then(function(se){return Q&&Vs(Q),se?Oi(se):null}).o(function(se){throw Q&&Vs(Q),se}),bn(o,g,b)}e.Fc=function(o){var u=this;return XT(this,"linkViaRedirect",o,function(){return jh(u,o.providerId)},!1)},e.Oc=function(o){return XT(this,"reauthViaRedirect",o,function(){return je()},!0)};function XT(o,u,d,g,b){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));if(o.h&&!b)return qt(o.h);var T=null,x=js(o.uid+":::");return g=g().then(function(){if(JT(o),!b)return o.I().then(function(){})}).then(function(){return o.ga=x,Js(o)}).then(function(F){return o.ha&&(F=o.ha,F=F.b.set(Fv,o.w(),F.a)),F}).then(function(){return CT(o.i,u,d,x,o.tenantId)}).o(function(F){if(T=F,o.ha)return ZT(o.ha);throw T}).then(function(){if(T)throw T}),bn(o,g,b)}function JT(o){if(!o.i||!o.R)throw o.i&&!o.R?new L("internal-error"):new L("auth-domain-config-required")}e.Kb=function(o,u,d,g){var b=this;this.c&&(this.c.cancel(),this.c=null);var T=null;return d=this.I().then(function(x){return Wg(b.a,{requestUri:o,postBody:g,sessionId:u,idToken:x})}).then(function(x){return T=ac(b,x,"link"),KT(b,x)}).then(function(){return T}),bn(this,d)},e.Lb=function(o,u,d,g){var b=this;this.c&&(this.c.cancel(),this.c=null);var T=null,x=je().then(function(){return ou(Kg(b.a,{requestUri:o,sessionId:u,postBody:g,tenantId:d}),b.uid)}).then(function(F){return T=ac(b,F,"reauthenticate"),Li(b,F),b.h=null,b.reload()}).then(function(){return T});return bn(this,x,!0)},e.ub=function(o){var u=this,d=null;return bn(this,this.I().then(function(g){return d=g,typeof o>"u"||Ze(o)?{}:ch(new lh(o))}).then(function(g){return u.a.ub(d,g)}).then(function(g){if(u.email!=g)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var d=this,g=null;return bn(this,this.I().then(function(b){return g=b,typeof u>"u"||Ze(u)?{}:ch(new lh(u))}).then(function(b){return d.a.Eb(g,o,b)}).then(function(b){if(d.email!=b)return d.reload()}).then(function(){}))};function bn(o,u,d){var g=nU(o,u,d);return o.J.push(g),g.oa(function(){te(o.J,g)}),g.o(function(b){var T=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(T=VT(b.w(),Nv(o),A(o.jc,o))),T||b})}e.jc=function(o){var u=null,d=this;return o=ou(je(o),d.uid).then(function(g){return u=ac(d,g,"reauthenticate"),Li(d,g),d.h=null,d.reload()}).then(function(){return u}),bn(this,o,!0)};function nU(o,u,d){return o.h&&!d?(u.cancel(),qt(o.h)):u.o(function(g){throw!g||g.code!="auth/user-disabled"&&g.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new hu("userInvalidated")),o.h=g),g})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&_t(o,this.metadata.w()),re(this.providerData,function(u){o.providerData.push(xD(u))}),_t(o,this.O.w()),o};function QT(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},d={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){d[hi]=o.stsTokenManager.accessToken,d.refreshToken=o.stsTokenManager.refreshToken||null;var g=o.stsTokenManager.expirationTime;g&&(d.expiresIn=(g-Date.now())/1e3)}else return null;var b=new Or(u,d,o);return o.providerData&&re(o.providerData,function(T){T&&Dv(b,Oi(T))}),o.redirectEventId&&(b.ga=o.redirectEventId),b}function rU(o,u,d,g){var b=new Or(o,u);return d&&(b.ha=d),g&&oc(b,g),b.reload().then(function(){return b})}function iU(o,u,d,g){var b=o.b,T={};return T[hi]=b.b&&b.b.toString(),T.refreshToken=b.a,u=new Or(u||{apiKey:o.l,authDomain:o.s,appName:o.m},T),d&&(u.ha=d),g&&oc(u,g),$h(u,o),u}function oU(o){this.a=o,this.b=ic()}var Fv={name:"redirectUser",F:"session"};function ZT(o){return fu(o.b,Fv,o.a)}function sU(o,u){return o.b.get(Fv,o.a).then(function(d){return d&&u&&(d.authDomain=u),QT(d||{})})}function Uv(o){this.a=o,this.b=ic(),this.c=null,this.f=aU(this),this.b.addListener(Ri("local"),this.a,A(this.g,this))}Uv.prototype.g=function(){var o=this,u=Ri("local");du(this,function(){return je().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(d){if(d)return Vv(o,"local").then(function(){o.c=u})})})};function Vv(o,u){var d=[],g;for(g in lu)lu[g]!==u&&d.push(fu(o.b,Ri(lu[g]),o.a));return d.push(fu(o.b,$v,o.a)),XR(d)}function aU(o){var u=Ri("local"),d=Ri("session"),g=Ri("none");return EF(o.b,u,o.a).then(function(){return o.b.get(d,o.a)}).then(function(b){return b?d:o.b.get(g,o.a).then(function(T){return T?g:o.b.get(u,o.a).then(function(x){return x?u:o.b.get($v,o.a).then(function(F){return F?Ri(F):u})})})}).then(function(b){return o.c=b,Vv(o,b.F)}).o(function(){o.c||(o.c=u)})}var $v={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}Uv.prototype.xb=function(o){var u=null,d=this;return wF(o),du(this,function(){return o!=d.c.F?d.b.get(d.c,d.a).then(function(g){return u=g,Vv(d,o)}).then(function(){if(d.c=Ri(o),u)return d.b.set(d.c,u,d.a)}):je()})};function uU(o){return du(o,function(){return o.b.set($v,o.c.F,o.a)})}function eS(o,u){return du(o,function(){return o.b.set(o.c,u.w(),o.a)})}function tS(o){return du(o,function(){return fu(o.b,o.c,o.a)})}function nS(o,u,d){return du(o,function(){return o.b.get(o.c,o.a).then(function(g){return g&&u&&(g.authDomain=u),g&&d&&(g.emulatorConfig=d),QT(g||{})})})}function du(o,u){return o.f=o.f.then(u,u),o.f}function di(o){if(this.l=!1,Le(this,"settings",new MT),Le(this,"app",o),Rt(this).options&&Rt(this).options.apiKey)o=Fe.SDK_VERSION?tu(Fe.SDK_VERSION):null,this.a=new fi(Rt(this).options&&Rt(this).options.apiKey,ie(Re),o);else throw new L("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=Fe.INTERNAL.createSubscribe(A(this.zc,this)),this.X=void 0,this.bc=Fe.INTERNAL.createSubscribe(A(this.Ac,this)),pu(this,null),this.i=new Uv(Rt(this).options.apiKey+":"+Rt(this).name),this.D=new oU(Rt(this).options.apiKey+":"+Rt(this).name),this.$=tn(this,pU(this)),this.h=tn(this,mU(this)),this.ba=!1,this.ja=A(this.Zc,this),this.Ba=A(this.da,this),this.ya=A(this.mc,this),this.za=A(this.wc,this),this.Aa=A(this.xc,this),this.b=null,fU(this),this.INTERNAL={},this.INTERNAL.delete=A(this.delete,this),this.INTERNAL.logFramework=A(this.Gc,this),this.u=0,Zn.call(this),cU(this),this.J=[],this.P=null}P(di,Zn);function rS(o){gr.call(this,"languageCodeChanged"),this.h=o}P(rS,gr);function iS(o){gr.call(this,"emulatorConfigChanged"),this.c=o}P(iS,gr);function oS(o){gr.call(this,"frameworkChanged"),this.f=o}P(oS,gr),e=di.prototype,e.xb=function(o){return o=this.i.xb(o),tn(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,F1(this.a,this.aa),this.dispatchEvent(new rS(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new L("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,lU(u),this.P={url:o,ec:u},this.settings.ib=!0,au(this.a,this.P),this.dispatchEvent(new iS(this.P))}};function lU(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&sh().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),U1(this.a,Fe.SDK_VERSION?tu(Fe.SDK_VERSION,this.J):null),this.dispatchEvent(new oS(this.J))},e.Ga=function(){return pe(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function cU(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=vr(this.P.url);u=Oi({protocol:u.c,host:u.a,port:u.g,options:Oi({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Rt(this).options.apiKey,authDomain:Rt(this).options.authDomain,appName:Rt(this).name,currentUser:nt(this)&&nt(this).w()}};function jv(o){return o.Oa||qt(new L("auth-domain-config-required"))}function fU(o){var u=Rt(o).options.authDomain,d=Rt(o).options.apiKey;u&&$s()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=PT(u,d,Rt(o).name,o.P),mv(o.b,o),nt(o)&&sc(nt(o)),o.m){sc(o.m);var g=o.m;g.wa(o.la()),xv(g,o),g=o.m,oc(g,o.J),Cv(g,o),g=o.m,au(g.a,o.P),kv(g,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,d,g){o=="signInViaPopup"&&this.g==g&&(d&&this.C?this.C(d):u&&!d&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?A(this.ic,this):null},e.ic=function(o,u,d,g){var b=this,T={requestUri:o,postBody:g,sessionId:u,tenantId:d};return this.c&&(this.c.cancel(),this.c=null),b.$.then(function(){return Qs(b,qg(b.a,T))})},e.Xc=function(o){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));var u=this,d=_g(o.providerId),g=js(),b=null;(!Fl()||rg())&&Rt(this).options.authDomain&&o.isOAuthProvider&&(b=ec(Rt(this).options.authDomain,Rt(this).options.apiKey,Rt(this).name,"signInViaPopup",o,null,g,Fe.SDK_VERSION||null,null,null,this.T(),this.P));var T=ME(b,d&&d.ua,d&&d.ta);return d=jv(this).then(function(x){return kT(x,T,"signInViaPopup",o,g,!!b,u.T())}).then(function(){return new ut(function(x,F){u.na("signInViaPopup",null,new L("cancelled-popup-request"),u.g),u.f=x,u.C=F,u.g=g,u.c=NT(u.b,u,"signInViaPopup",T,g)})}).then(function(x){return T&&Vs(T),x?Oi(x):null}).o(function(x){throw T&&Vs(T),x}),tn(this,d)},e.Yc=function(o){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));var u=this,d=jv(this).then(function(){return uU(u.i)}).then(function(){return CT(u.b,"signInViaRedirect",o,void 0,u.T())});return tn(this,d)};function sS(o){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));var u=jv(o).then(function(){return o.b.qa()}).then(function(d){return d?Oi(d):null});return tn(o,u)}e.qa=function(){var o=this;return sS(this).then(function(u){return o.b&&Fh(o.b.b),u}).o(function(u){throw o.b&&Fh(o.b.b),u})},e.dd=function(o){if(!o)return qt(new L("null-user"));if(this.S!=o.tenantId)return qt(new L("tenant-id-mismatch"));var u=this,d={};d.apiKey=Rt(this).options.apiKey,d.authDomain=Rt(this).options.authDomain,d.appName=Rt(this).name;var g=iU(o,d,u.D,u.Ga());return tn(this,this.h.then(function(){if(Rt(u).options.apiKey!=o.l)return g.reload()}).then(function(){return nt(u)&&o.uid==nt(u).uid?($h(nt(u),o),u.da(o)):(pu(u,g),sc(g),u.da(g))}).then(function(){uc(u)}))};function hU(o,u){var d={};return d.apiKey=Rt(o).options.apiKey,d.authDomain=Rt(o).options.authDomain,d.appName=Rt(o).name,o.P&&(d.emulatorConfig=o.P),o.$.then(function(){return rU(d,u,o.D,o.Ga())}).then(function(g){return nt(o)&&g.uid==nt(o).uid?($h(nt(o),g),o.da(g)):(pu(o,g),sc(g),o.da(g))}).then(function(){uc(o)})}function pu(o,u){nt(o)&&(ZF(nt(o),o.Ba),Cr(nt(o),"tokenChanged",o.ya),Cr(nt(o),"userDeleted",o.za),Cr(nt(o),"userInvalidated",o.Aa),Ov(nt(o))),u&&(u.S.push(o.Ba),Xr(u,"tokenChanged",o.ya),Xr(u,"userDeleted",o.za),Xr(u,"userInvalidated",o.Aa),0<o.u&&GT(u)),Le(o,"currentUser",u),u&&(u.wa(o.la()),xv(u,o),oc(u,o.J),Cv(u,o),au(u.a,o.P),kv(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Fh(o.b.b),nt(o)?(pu(o,null),tS(o.i).then(function(){uc(o)})):je()});return tn(this,u)};function dU(o){var u=sU(o.D,Rt(o).options.authDomain).then(function(d){return(o.m=d)&&(d.ha=o.D),ZT(o.D)});return tn(o,u)}function pU(o){var u=Rt(o).options.authDomain,d=dU(o).then(function(){return nS(o.i,u,o.P)}).then(function(g){return g?(g.ha=o.D,o.m&&(o.m.ga||null)==(g.ga||null)?g:g.reload().then(function(){return eS(o.i,g).then(function(){return g})}).o(function(b){return b.code=="auth/network-request-failed"?g:tS(o.i)})):null}).then(function(g){pu(o,g||null)});return tn(o,d)}function mU(o){return o.$.then(function(){return sS(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return nS(this.i,Rt(this).options.authDomain).then(function(u){if(!o.l){var d;if(d=nt(o)&&u){d=nt(o).uid;var g=u.uid;d=d==null||d===""||g===void 0||g===null||g===""?!1:d==g}if(d)return $h(nt(o),u),nt(o).I();(nt(o)||u)&&(pu(o,u),u&&(sc(u),u.ha=o.D),o.b&&mv(o.b,o),uc(o))}})},e.da=function(o){return eS(this.i,o)},e.mc=function(){uc(this),this.da(nt(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Qs(o,u){var d=null,g=null;return tn(o,u.then(function(b){return d=Ag(b),g=u1(b),hU(o,b)},function(b){var T=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(T=VT(b.w(),o,A(o.kc,o))),T||b}).then(function(){return Oi({user:nt(o),credential:d,additionalUserInfo:g,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Qs(u,je(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(nt(u))})},e.Ac=function(o){var u=this;gU(this,function(){o.next(nt(u))})},e.Ic=function(o,u,d){var g=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(nt(g)):typeof o.next=="function"&&o.next(nt(g))}),this.hb(o,u,d)},e.Hc=function(o,u,d){var g=this;return this.ba&&Promise.resolve().then(function(){g.X=g.getUid(),typeof o=="function"?o(nt(g)):typeof o.next=="function"&&o.next(nt(g))}),this.bc(o,u,d)},e.nc=function(o){var u=this,d=this.h.then(function(){return nt(u)?nt(u).I(o).then(function(g){return{accessToken:g}}):null});return tn(this,d)},e.Tc=function(o){var u=this;return this.h.then(function(){return Qs(u,ct(u.a,XM,{token:o}))}).then(function(d){var g=d.user;return Lo(g,"isAnonymous",!1),u.da(g),d})},e.Uc=function(o,u){var d=this;return this.h.then(function(){return Qs(d,ct(d.a,W1,{email:o,password:u}))})},e.dc=function(o,u){var d=this;return this.h.then(function(){return Qs(d,ct(d.a,xM,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Qs(u,o.ka(u.a))})},e.Sc=function(o){return ag("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=nt(o);if(u&&u.isAnonymous){var d=Oi({providerId:null,isNewUser:!1});return Oi({user:u,credential:null,additionalUserInfo:d,operationType:"signIn"})}return Qs(o,o.a.zb()).then(function(g){var b=g.user;return Lo(b,"isAnonymous",!0),o.da(b),g})})};function Rt(o){return o.app}function nt(o){return o.currentUser}e.getUid=function(){return nt(this)&&nt(this).uid||null};function Bh(o){return nt(o)&&nt(o)._lat||null}function uc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Bh(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Bh(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&nt(this)&&GT(nt(this))},e.Pc=function(o){var u=this;re(this.s,function(d){d==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&nt(this)&&Ov(nt(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),tn(this,this.h.then(function(){u.l||H(u.s,o)&&o(Bh(u))}))},e.removeAuthTokenListener=function(o){X(this.s,function(u){return u==o})};function gU(o,u){o.O.push(u),tn(o,o.h.then(function(){!o.l&&H(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Bh(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(xT(this.b,this),Fh(this.b.b)),Promise.resolve()};function tn(o,u){return o.R.push(u),u.oa(function(){te(o.R,u)}),u}e.hc=function(o){return tn(this,yM(this.a,o))},e.Bc=function(o){return!!Ig(o)},e.wb=function(o,u){var d=this;return tn(this,je().then(function(){var g=new lh(u);if(!g.c)throw new L("argument-error",yg+" must be true when sending sign in link to email");return ch(g)}).then(function(g){return d.a.wb(o,g)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return tn(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return tn(this,this.a.Ra(o).then(function(u){return new CD(u)}))},e.jb=function(o){return tn(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var d=this;return tn(this,je().then(function(){return typeof u>"u"||Ze(u)?{}:ch(new lh(u))}).then(function(g){return d.a.vb(o,g)}).then(function(){}))},e.Wc=function(o,u){return tn(this,bv(this,o,u,A(this.$a,this)))},e.Vc=function(o,u){var d=this;return tn(this,je().then(function(){var g=u||Ml(),b=_1(o,g);if(g=Ig(g),!g)throw new L("argument-error","Invalid email link!");if(g.tenantId!==d.T())throw new L("tenant-id-mismatch");return d.$a(b)}))};function lc(){}lc.prototype.render=function(){},lc.prototype.reset=function(){},lc.prototype.getResponse=function(){},lc.prototype.execute=function(){};function mu(){this.a={},this.b=1e12}var Bv=null;mu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Hh(o,u),this.b++},mu.prototype.reset=function(o){var u=Hv(this,o);o=aS(o),u&&o&&(u.delete(),delete this.a[o])},mu.prototype.getResponse=function(o){return(o=Hv(this,o))?o.getResponse():null},mu.prototype.execute=function(o){(o=Hv(this,o))&&o.execute()};function Hv(o,u){return(u=aS(u))&&o.a[u]||null}function aS(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Hh(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Cl(o);var d=this;this.i=function(){d.execute()},this.h?this.execute():Xr(this.f,"click",this.i)}Hh.prototype.getResponse=function(){return Gv(this),this.b},Hh.prototype.execute=function(){Gv(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=TD();var u=o.c.callback,d=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,d)try{d()}catch{}o.h&&o.execute()},6e4)},500))},Hh.prototype.delete=function(){Gv(this),this.g=!0,clearTimeout(this.a),this.a=null,Cr(this.f,"click",this.i)};function Gv(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function zv(){}Le(zv,"FACTOR_ID","phone");function qv(){}qv.prototype.g=function(){return Bv||(Bv=new mu),je(Bv)},qv.prototype.c=function(){};var Wv=null;function Kv(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var vU=new Vt(xi,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yU=new No(3e4,6e4);Kv.prototype.g=function(o){var u=this;return new ut(function(d,g){var b=setTimeout(function(){g(new L("network-request-failed"))},yU.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var x=c.grecaptcha.render;c.grecaptcha.render=function(F,Q){return F=x(F,Q),u.b++,F},clearTimeout(b),d(c.grecaptcha)}else clearTimeout(b),g(new L("internal-error"));delete c[u.a]};var T=Om(vU,{onload:u.a,hl:o||""});je(Vg(T)).o(function(){clearTimeout(b),g(new L("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(b),d(c.grecaptcha)})},Kv.prototype.c=function(){this.b--};var Yv=null;function Xv(o,u,d,g,b,T,x){if(Le(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,x?(Wv||(Wv=new qv),x=Wv):(Yv||(Yv=new Kv),x=Yv),this.m=x,this.a=d||{theme:"light",type:"image"},this.h=[],this.a[cS])throw new L("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[bU]==="invisible",!c.document)throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Cl(u)||!this.i&&Cl(u).hasChildNodes())throw new L("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new fi(o,T||null,b||null),this.u=g||function(){return null};var F=this;this.l=[];var Q=this.a[uS];this.a[uS]=function(Ye){if(fS(F,Ye),typeof Q=="function")Q(Ye);else if(typeof Q=="string"){var Ot=Wt(Q,c);typeof Ot=="function"&&Ot(Ye)}};var se=this.a[lS];this.a[lS]=function(){if(fS(F,null),typeof se=="function")se();else if(typeof se=="string"){var Ye=Wt(se,c);typeof Ye=="function"&&Ye()}}}var uS="callback",lS="expired-callback",cS="sitekey",bU="size";function fS(o,u){for(var d=0;d<o.l.length;d++)try{o.l[d](u)}catch{}}function _U(o,u){X(o.l,function(d){return d==u})}function Jv(o,u){return o.h.push(u),u.oa(function(){te(o.h,u)}),u}e=Xv.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Jv(this,je().then(function(){if(ah()&&!li())return sh();throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,ct(o.s,jM,{})}).then(function(u){o.a[cS]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Gh(this);var o=this;return Jv(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var d=Cl(u);u=qR("DIV"),d.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Gh(this);var o=this;return Jv(this,this.render().then(function(u){return new ut(function(d){var g=o.g.getResponse(u);if(g)d(g);else{var b=function(T){T&&(_U(o,b),d(T))};o.l.push(b),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Gh(this),this.c!==null&&this.g.reset(this.c)};function Gh(o){if(o.D)throw new L("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Gh(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Cl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Qv(o,u,d){var g=!1;try{this.b=d||Fe.app()}catch{throw new L("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)d=this.b.options.apiKey;else throw new L("invalid-api-key");var b=this,T=null;try{T=this.b.auth().Ga()}catch{}try{g=this.b.auth().settings.appVerificationDisabledForTesting}catch{}T=Fe.SDK_VERSION?tu(Fe.SDK_VERSION,T):null,Xv.call(this,d,o,u,function(){try{var x=b.b.auth().la()}catch{x=null}return x},T,ie(Re),g)}P(Qv,Xv);function hS(o,u,d,g){e:{d=Array.prototype.slice.call(d);for(var b=0,T=!1,x=0;x<u.length;x++)if(u[x].optional)T=!0;else{if(T)throw new L("internal-error","Argument validator encountered a required argument after an optional argument.");b++}if(T=u.length,d.length<b||T<d.length)g="Expected "+(b==T?b==1?"1 argument":b+" arguments":b+"-"+T+" arguments")+" but got "+d.length+".";else{for(b=0;b<d.length;b++)if(T=u[b].optional&&d[b]===void 0,!u[b].M(d[b])&&!T){if(u=u[b],0>b||b>=dS.length)throw new L("internal-error","Argument validator received an unsupported number of arguments.");d=dS[b],g=(g?"":d+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}g=null}}if(g)throw new L("argument-error",o+" failed: "+g)}var dS="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Oe(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(d){return typeof d=="string"}}}function Zv(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(d){return typeof d=="boolean"}}}function fn(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:w}}function gu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(d){return typeof d=="function"}}}function Di(o,u){return{name:o||"",K:"null",optional:!!u,M:function(d){return d===null}}}function wU(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function EU(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof di)}}}function TU(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof Fe.app.App)}}}function Ro(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var d=!o||u.providerId===o;return!(!u.ka||!d)}}}function pS(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function vu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function ey(o,u){return w(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function mS(o){return w(o)&&typeof o.uid=="string"}function zh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function on(o,u,d,g){return{name:d||"",K:o.K+" or "+u.K,optional:!!g,M:function(b){return o.M(b)||u.M(b)}}}function Jt(o,u){for(var d in u){var g=u[d].name;o[g]=vS(g,o[d],u[d].j)}}function gS(o,u){for(var d in u){var g=u[d].name;g!==d&&Object.defineProperty(o,g,{get:j(function(b){return this[b]},d),set:j(function(b,T,x,F){hS(b,[x],[F],!0),this[T]=F},g,d,u[d].kb),enumerable:!0})}}function sn(o,u,d,g){o[u]=vS(u,d,g)}function vS(o,u,d){function g(){var x=Array.prototype.slice.call(arguments);return hS(b,d,x),u.apply(this,x)}if(!d)return u;var b=SU(o),T;for(T in u)g[T]=u[T];for(T in u.prototype)g.prototype[T]=u.prototype[T];return g}function SU(o){return o=o.split("."),o[o.length-1]}Jt(di.prototype,{jb:{name:"applyActionCode",j:[Oe("code")]},Ra:{name:"checkActionCode",j:[Oe("code")]},nb:{name:"confirmPasswordReset",j:[Oe("code"),Oe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Oe("email"),Oe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Oe("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Oe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[on(fn(),gu(),"nextOrObserver"),gu("opt_error",!0),gu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[on(fn(),gu(),"nextOrObserver"),gu("opt_error",!0),gu("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Oe("email"),on(fn("opt_actionCodeSettings",!0),Di(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Oe("email"),fn("actionCodeSettings")]},xb:{name:"setPersistence",j:[Oe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ro()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ro()]},Tc:{name:"signInWithCustomToken",j:[Oe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Oe("email"),Oe("password")]},Vc:{name:"signInWithEmailLink",j:[Oe("email"),Oe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Oe("phoneNumber"),zh()]},Xc:{name:"signInWithPopup",j:[vu()]},Yc:{name:"signInWithRedirect",j:[vu()]},dd:{name:"updateCurrentUser",j:[on(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Or)}}}(),Di(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Oe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Oe("url"),fn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Oe("code")]}}),gS(di.prototype,{lc:{name:"languageCode",kb:on(Oe(),Di(),"languageCode")},ti:{name:"tenantId",kb:on(Oe(),Di(),"tenantId")}}),di.Persistence=lu,di.Persistence.LOCAL="local",di.Persistence.SESSION="session",di.Persistence.NONE="none",Jt(Or.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zv("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zv("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ro()]},qb:{name:"linkWithCredential",j:[Ro()]},Dc:{name:"linkWithPhoneNumber",j:[Oe("phoneNumber"),zh()]},Ec:{name:"linkWithPopup",j:[vu()]},Fc:{name:"linkWithRedirect",j:[vu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ro()]},tb:{name:"reauthenticateWithCredential",j:[Ro()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Oe("phoneNumber"),zh()]},Nc:{name:"reauthenticateWithPopup",j:[vu()]},Oc:{name:"reauthenticateWithRedirect",j:[vu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[on(fn("opt_actionCodeSettings",!0),Di(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Oe(null,!0)]},cd:{name:"unlink",j:[Oe("provider")]},Bb:{name:"updateEmail",j:[Oe("email")]},Cb:{name:"updatePassword",j:[Oe("password")]},ed:{name:"updatePhoneNumber",j:[Ro("phone")]},Db:{name:"updateProfile",j:[fn("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Oe("email"),on(fn("opt_actionCodeSettings",!0),Di(null,!0),"opt_actionCodeSettings",!0)]}}),Jt(mu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jt(lc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jt(ut.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),gS(MT.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Zv("appVerificationDisabledForTesting")}}),Jt(yv.prototype,{confirm:{name:"confirm",j:[Oe("verificationCode")]}}),sn(iu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,d=[WD,KD,YD,qD],g=0;g<d.length;g++)if(u=d[g](o))return u;return null},[on(Oe(),fn(),"json")]),sn(Qr,"credential",function(o,u){return new Oo(o,u)},[Oe("email"),Oe("password")]),Jt(Oo.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(Gs.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(Gs,"credential",g1,[on(Oe(),fn(),"token")]),sn(Qr,"credentialWithLink",_1,[Oe("email"),Oe("emailLink")]),Jt(zs.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(zs,"credential",v1,[on(Oe(),fn(),"token")]),Jt(qs.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(qs,"credential",y1,[on(Oe(),on(fn(),Di()),"idToken"),on(Oe(),Di(),"accessToken",!0)]),Jt(su.prototype,{Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(su,"credential",b1,[on(Oe(),fn(),"token"),Oe("secret",!0)]),Jt(Nr.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},credential:{name:"credential",j:[on(Oe(),on(fn(),Di()),"optionsOrIdToken"),on(Oe(),Di(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),Jt(to.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(Bs.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),sn(no,"credential",w1,[Oe("verificationId"),Oe("verificationCode")]),Jt(no.prototype,{fb:{name:"verifyPhoneNumber",j:[on(Oe(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(d){return d?d.session&&d.phoneNumber?ey(d.session,Hl)&&typeof d.phoneNumber=="string":d.session&&d.multiFactorHint?ey(d.session,mh)&&mS(d.multiFactorHint):d.session&&d.multiFactorUid?ey(d.session,mh)&&typeof d.multiFactorUid=="string":d.phoneNumber?typeof d.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),zh()]}}),Jt(Po.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(L.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(zl.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(Cg.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(wv.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(_v.prototype,{Rc:{name:"resolveSignIn",j:[pS()]}}),Jt(Tv.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[pS(),Oe("displayName",!0)]},bd:{name:"unenroll",j:[on({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:mS},Oe(),"multiFactorInfoIdentifier")]}}),Jt(Qv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sn(vg,"parseLink",QE,[Oe("link")]),sn(zv,"assertion",function(o){return new jT(o)},[Ro("phone")]),function(){if(typeof Fe<"u"&&Fe.INTERNAL&&Fe.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:gg,VERIFY_AND_CHANGE_EMAIL:jl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:di,AuthCredential:iu,Error:L};sn(o,"EmailAuthProvider",Qr,[]),sn(o,"FacebookAuthProvider",Gs,[]),sn(o,"GithubAuthProvider",zs,[]),sn(o,"GoogleAuthProvider",qs,[]),sn(o,"TwitterAuthProvider",su,[]),sn(o,"OAuthProvider",Nr,[Oe("providerId")]),sn(o,"SAMLAuthProvider",m1,[Oe("providerId")]),sn(o,"PhoneAuthProvider",no,[EU()]),sn(o,"RecaptchaVerifier",Qv,[on(Oe(),wU(),"recaptchaContainer"),fn("recaptchaParameters",!0),TU()]),sn(o,"ActionCodeURL",vg,[]),sn(o,"PhoneMultiFactorGenerator",zv,[]),Fe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new di(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),Fe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:A(u.getUid,u),getToken:A(u.nc,u),addAuthTokenListener:A(u.cc,u),removeAuthTokenListener:A(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fe.registerVersion("@firebase/auth","0.16.3"),Fe.INTERNAL.extendNamespace({User:Or})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var db=function(e,t){return db=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},db(e,t)};function dH(e,t){db(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function tN(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var pH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve,Z_=Z_||{},tt=pH||self;function Yd(){}function pb(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Cf(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function mH(e){return Object.prototype.hasOwnProperty.call(e,py)&&e[py]||(e[py]=++gH)}var py="closure_uid_"+(1e9*Math.random()>>>0),gH=0;function vH(e,t,n){return e.call.apply(e.bind,arguments)}function yH(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Yn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yn=vH:Yn=yH,Yn.apply(null,arguments)}function nd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Qi(){return Date.now()}function dr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function As(){this.j=this.j,this.i=this.i}var bH=0;As.prototype.j=!1;As.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),bH!=0)&&mH(this)};As.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var nN=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},rN=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function _H(e){e:{for(var t=l4,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function wI(e){return Array.prototype.concat.apply([],arguments)}function e0(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xd(e){return/^[\s\xa0]*$/.test(e)}var EI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ur(e,t){return e.indexOf(t)!=-1}function my(e,t){return e<t?-1:e>t?1:0}var lr;e:{var TI=tt.navigator;if(TI){var SI=TI.userAgent;if(SI){lr=SI;break e}}lr=""}function t0(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function iN(e){var t={};for(var n in e)t[n]=e[n];return t}var II="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oN(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<II.length;s++)n=II[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function n0(e){return n0[" "](e),e}n0[" "]=Yd;function wH(e,t){var n=SH;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var EH=ur(lr,"Opera"),vs=ur(lr,"Trident")||ur(lr,"MSIE"),sN=ur(lr,"Edge"),mb=sN||vs,aN=ur(lr,"Gecko")&&!(ur(lr.toLowerCase(),"webkit")&&!ur(lr,"Edge"))&&!(ur(lr,"Trident")||ur(lr,"MSIE"))&&!ur(lr,"Edge"),TH=ur(lr.toLowerCase(),"webkit")&&!ur(lr,"Edge");function uN(){var e=tt.document;return e?e.documentMode:void 0}var Jd;e:{var gy="",vy=function(){var e=lr;if(aN)return/rv:([^\);]+)(\)|;)/.exec(e);if(sN)return/Edge\/([\d\.]+)/.exec(e);if(vs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(TH)return/WebKit\/(\S+)/.exec(e);if(EH)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(vy&&(gy=vy?vy[1]:""),vs){var yy=uN();if(yy!=null&&yy>parseFloat(gy)){Jd=String(yy);break e}}Jd=gy}var SH={};function lN(e){return wH(e,function(){for(var t=0,n=EI(String(Jd)).split("."),r=EI(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=my(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||my(a[2].length==0,l[2].length==0)||my(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var gb;if(tt.document&&vs){var AI=uN();gb=AI||parseInt(Jd,10)||void 0}else gb=void 0;var cN=gb,r0=!vs||9<=Number(cN),IH=vs&&!lN("9"),AH=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tt.addEventListener("test",Yd,t),tt.removeEventListener("test",Yd,t)}catch{}return e}();function Xn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Xn.prototype.b=function(){this.defaultPrevented=!0};function Yc(e,t){if(Xn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(aN){e:{try{n0(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:xH[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}dr(Yc,Xn);var xH={2:"touch",3:"pen",4:"mouse"};Yc.prototype.b=function(){Yc.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,IH)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Nf="closure_listenable_"+(1e6*Math.random()|0),kH=0;function CH(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++kH,this.Y=this.Z=!1}function Wp(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Kp(e){this.src=e,this.a={},this.b=0}Kp.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=yb(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new CH(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function vb(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=nN(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wp(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function yb(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var i0="closure_lm_"+(1e6*Math.random()|0),by={};function o0(e,t,n,r,i){if(r&&r.once)return hN(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)o0(e,t[s],n,r,i);return null}return n=u0(n),e&&e[Nf]?e.va(t,n,Cf(r)?!!r.capture:!!r,i):fN(e,t,n,!1,r,i)}function fN(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Cf(i)?!!i.capture:!!i;if(a&&!r0)return null;var l=a0(e);if(l||(e[i0]=l=new Kp(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=NH(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)AH||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pN(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function NH(){var e=OH,t=r0?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function hN(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)hN(e,t[s],n,r,i);return null}return n=u0(n),e&&e[Nf]?e.wa(t,n,Cf(r)?!!r.capture:!!r,i):fN(e,t,n,!0,r,i)}function dN(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)dN(e,t[s],n,r,i);else r=Cf(r)?!!r.capture:!!r,n=u0(n),e&&e[Nf]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=yb(s,n,r,i),-1<n&&(Wp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=a0(e))&&(t=e.a[t.toString()],e=-1,t&&(e=yb(t,n,r,i)),(n=-1<e?t[e]:null)&&s0(n))}function s0(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Nf])vb(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pN(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=a0(t))?(vb(n,e),n.b==0&&(n.src=null,t[i0]=null)):Wp(e)}}}function pN(e){return e in by?by[e]:by[e]="on"+e}function xI(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&s0(e),n.call(r,t)}function OH(e,t){if(e.Y)return!0;if(!r0){if(!t)e:{t=["window","event"];for(var n=tt,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new Yc(t,this),xI(e,t)}return xI(e,new Yc(t,this))}function a0(e){return e=e[i0],e instanceof Kp?e:null}var _y="__closure_events_fn_"+(1e9*Math.random()>>>0);function u0(e){return typeof e=="function"?e:(e[_y]||(e[_y]=function(t){return e.handleEvent(t)}),e[_y])}function qr(){As.call(this),this.c=new Kp(this),this.J=this,this.C=null}dr(qr,As);qr.prototype[Nf]=!0;Ve=qr.prototype;Ve.addEventListener=function(e,t,n,r){o0(this,e,t,n,r)};Ve.removeEventListener=function(e,t,n,r){dN(this,e,t,n,r)};function Fn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Xn(t,e);else if(t instanceof Xn)t.target=t.target||e;else{var i=t;t=new Xn(r,e),oN(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=rd(a,r,!0,t)&&i}if(a=t.a=e,i=rd(a,r,!0,t)&&i,i=rd(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=rd(a,r,!1,t)&&i}Ve.G=function(){if(qr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Wp(n[r]);delete e.a[t],e.b--}}this.C=null};Ve.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};Ve.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function rd(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&vb(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var l0=tt.JSON.stringify;function mN(){this.b=this.a=null}var gN=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new c0},function(e){e.reset()});mN.prototype.add=function(e,t){var n=gN.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function PH(){var e=yN,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function c0(){this.next=this.b=this.a=null}c0.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};c0.prototype.reset=function(){this.next=this.b=this.a=null};function LH(e){tt.setTimeout(function(){throw e},0)}function vN(e,t){bb||RH(),_b||(bb(),_b=!0),yN.add(e,t)}var bb;function RH(){var e=tt.Promise.resolve(void 0);bb=function(){e.then(DH)}}var _b=!1,yN=new mN;function DH(){for(var e;e=PH();){try{e.a.call(e.b)}catch(n){LH(n)}var t=gN;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}_b=!1}function Yp(e,t){qr.call(this),this.b=e||1,this.a=t||tt,this.f=Yn(this.Za,this),this.g=Qi()}dr(Yp,qr);Ve=Yp.prototype;Ve.aa=!1;Ve.M=null;Ve.Za=function(){if(this.aa){var e=Qi()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Fn(this,"tick"),this.aa&&(f0(this),this.start()))}};Ve.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Qi())};function f0(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}Ve.G=function(){Yp.X.G.call(this),f0(this),delete this.a};function h0(e,t,n){if(typeof e=="function")n&&(e=Yn(e,n));else if(e&&typeof e.handleEvent=="function")e=Yn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:tt.setTimeout(e,t||0)}function bN(e){e.a=h0(function(){e.a=null,e.c&&(e.c=!1,bN(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var MH=function(e){dH(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:bN(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(tt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(As);function Xc(e){As.call(this),this.b=e,this.a={}}dr(Xc,As);var kI=[];function _N(e,t,n,r){Array.isArray(n)||(n&&(kI[0]=n.toString()),n=kI);for(var i=0;i<n.length;i++){var s=o0(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function wN(e){t0(e.a,function(t,n){this.a.hasOwnProperty(n)&&s0(t)},e),e.a={}}Xc.prototype.G=function(){Xc.X.G.call(this),wN(this)};Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function d0(){this.a=!0}function FH(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var f=p.split("_");a=2<=f.length&&f[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function UH(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Cu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$H(e,n)+(r?" "+r:"")})}function VH(e,t){e.info(function(){return"TIMEOUT: "+t})}d0.prototype.info=function(){};function $H(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return l0(n)}catch{return t}}var Va={},CI=null;function Xp(){return CI=CI||new qr}Va.Fa="serverreachability";function EN(e){Xn.call(this,Va.Fa,e)}dr(EN,Xn);function Jc(e){var t=Xp();Fn(t,new EN(t))}Va.STAT_EVENT="statevent";function TN(e,t){Xn.call(this,Va.STAT_EVENT,e),this.stat=t}dr(TN,Xn);function cr(e){var t=Xp();Fn(t,new TN(t,e))}Va.Ga="timingevent";function SN(e){Xn.call(this,Va.Ga,e)}dr(SN,Xn);function Of(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){e()},t)}var Jp={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},IN={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function AN(){}AN.prototype.a=null;function NI(e){var t;return(t=e.a)||(t=e.a={}),t}function xN(){}var Pf={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function p0(){Xn.call(this,"d")}dr(p0,Xn);function m0(){Xn.call(this,"c")}dr(m0,Xn);var kN;function CN(){}dr(CN,AN);kN=new CN;function Lf(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Xc(this),this.P=jH,e=mb?125:void 0,this.R=new Yp(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var jH=45e3,NN={},wb={};Ve=Lf.prototype;Ve.setTimeout=function(e){this.P=e};function Eb(e,t,n){e.H=1,e.i=Zp(wo(t)),e.j=n,e.I=!0,ON(e,null)}function ON(e,t){e.u=Qi(),Rf(e),e.l=wo(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),FN(n.b,"t",r),e.D=0,e.a=tO(e.g,e.g.C?t:null),0<e.O&&(e.F=new MH(Yn(e.Ca,e,e.a),e.O)),_N(e.J,e.a,"readystatechange",e.Xa),t=e.B?iN(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Jc(),FH(e.c,e.m,e.l,e.f,e.S,e.j)}Ve.Xa=function(e){e=e.target;var t=this.F;t&&rs(e)==3?t.f():this.Ca(e)};Ve.Ca=function(e){try{if(e==this.a)e:{var t=rs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!mb&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Jc(3):Jc(2)),Qp(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,UH(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xd(a)){var c=a;break t}}c=null}if(c)Cu(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tb(this,c);else{this.b=!1,this.h=3,cr(12),Uu(this),Qd(this);break e}}this.I?(PN(this,t,s),mb&&this.b&&t==3&&(_N(this.J,this.R,"tick",this.Wa),this.R.start())):(Cu(this.c,this.f,s,null),Tb(this,s)),t==4&&Uu(this),this.b&&!this.A&&(t==4?JN(this.g,this):(this.b=!1,Rf(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,cr(12)):(this.h=0,cr(13)),Uu(this),Qd(this)}}}catch{}finally{}};function PN(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=BH(e,n);if(i==wb){t==4&&(e.h=4,cr(14),r=!1),Cu(e.c,e.f,null,"[Incomplete Response]");break}else if(i==NN){e.h=4,cr(15),Cu(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Cu(e.c,e.f,i,null),Tb(e,i)}t==4&&n.length==0&&(e.h=1,cr(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),T0(t),t.F=!0,cr(11))):(Cu(e.c,e.f,n,"[Invalid Chunked Response]"),Uu(e),Qd(e))}Ve.Wa=function(){if(this.a){var e=rs(this.a),t=this.a.$();this.D<t.length&&(Qp(this),PN(this,e,t),this.b&&e!=4&&Rf(this))}};function BH(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?wb:(n=Number(t.substring(n,r)),isNaN(n)?NN:(r+=1,r+n>t.length?wb:(t=t.substr(r,n),e.D=r+n,t)))}Ve.cancel=function(){this.A=!0,Uu(this)};function Rf(e){e.T=Qi()+e.P,LN(e,e.P)}function LN(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Of(Yn(e.Va,e),t)}function Qp(e){e.o&&(tt.clearTimeout(e.o),e.o=null)}Ve.Va=function(){this.o=null;var e=Qi();0<=e-this.T?(VH(this.c,this.l),this.H!=2&&(Jc(),cr(17)),Uu(this),this.h=2,Qd(this)):LN(this,this.T-e)};function Qd(e){e.g.v==0||e.A||JN(e.g,e)}function Uu(e){Qp(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,f0(e.R),wN(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Tb(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||Sb(n.b,e))){if(n.I=e.N,!e.C&&Sb(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)np(n),tm(n);else break e;E0(n),cr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Of(Yn(n.Sa,n),6e3));if(1>=$N(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ma(n,11)}else if((e.C||n.a==e)&&np(n),!Xd(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var p=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var f=c.b;!f.a&&(ur(p,"spdy")||ur(p,"quic")||ur(p,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(y0(f,f.b),f.b=null))}if(c.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,Xt(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Qi()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var v=e;if(c.la=eO(c,c.C?c.ga:null,c.fa),v.C){jN(c.b,v);var y=v,_=c.D;_&&y.setTimeout(_),y.o&&(Qp(y),Rf(y)),c.a=v}else YN(c);0<n.g.length&&nm(n)}else i[0]!="stop"&&i[0]!="close"||ma(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ma(n,7):w0(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Jc(4)}catch{}}function HH(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(pb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function g0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pb(e)||typeof e=="string")rN(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(pb(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=HH(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function gl(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof gl)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Ve=gl.prototype;Ve.K=function(){v0(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};Ve.L=function(){return v0(this),this.a.concat()};function v0(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];xa(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],xa(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}Ve.get=function(e,t){return xa(this.b,e)?this.b[e]:t};Ve.set=function(e,t){xa(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};Ve.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function xa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var RN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function GH(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ka(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof ka){this.a=t!==void 0?t:e.a,Zd(this,e.f),this.j=e.j,ep(this,e.c),tp(this,e.h),this.g=e.g,t=e.b;var n=new Qc;n.c=t.c,t.a&&(n.a=new gl(t.a),n.b=t.b),OI(this,n),this.i=e.i}else e&&(n=String(e).match(RN))?(this.a=!!t,Zd(this,n[1]||"",!0),this.j=Cc(n[2]||""),ep(this,n[3]||"",!0),tp(this,n[4]),this.g=Cc(n[5]||"",!0),OI(this,n[6]||"",!0),this.i=Cc(n[7]||"")):(this.a=!!t,this.b=new Qc(null,this.a))}ka.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Tc(t,PI,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Tc(t,PI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Tc(n,n.charAt(0)=="/"?YH:KH,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Tc(n,JH)),e.join("")};function wo(e){return new ka(e)}function Zd(e,t,n){e.f=n?Cc(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function ep(e,t,n){e.c=n?Cc(t,!0):t}function tp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function OI(e,t,n){t instanceof Qc?(e.b=t,QH(e.b,e.a)):(n||(t=Tc(t,XH)),e.b=new Qc(t,e.a))}function Xt(e,t,n){e.b.set(t,n)}function Zp(e){return Xt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Qi()).toString(36)),e}function zH(e){return e instanceof ka?wo(e):new ka(e,void 0)}function qH(e,t,n,r){var i=new ka(null,void 0);return e&&Zd(i,e),t&&ep(i,t),n&&tp(i,n),r&&(i.g=r),i}function Cc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WH),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WH(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var PI=/[#\/\?@]/g,KH=/[#\?:]/g,YH=/[#\?]/g,XH=/[#\?@]/g,JH=/#/g;function Qc(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function xs(e){e.a||(e.a=new gl,e.b=0,e.c&&GH(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ve=Qc.prototype;Ve.add=function(e,t){xs(this),this.c=null,e=vl(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function DN(e,t){xs(e),t=vl(e,t),xa(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,xa(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&v0(e)))}function MN(e,t){return xs(e),t=vl(e,t),xa(e.a.b,t)}Ve.forEach=function(e,t){xs(this),this.a.forEach(function(n,r){rN(n,function(i){e.call(t,i,r,this)},this)},this)};Ve.L=function(){xs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Ve.K=function(e){xs(this);var t=[];if(typeof e=="string")MN(this,e)&&(t=wI(t,this.a.get(vl(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=wI(t,e[n])}return t};Ve.set=function(e,t){return xs(this),this.c=null,e=vl(this,e),MN(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};Ve.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function FN(e,t,n){DN(e,t),0<n.length&&(e.c=null,e.a.set(vl(e,t),e0(n)),e.b+=n.length)}Ve.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function vl(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function QH(e,t){t&&!e.f&&(xs(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(DN(this,r),FN(this,i,n))},e)),e.f=t}var ZH=function(){function e(t,n){this.b=t,this.a=n}return e}();function UN(e){this.g=e||e4,tt.PerformanceNavigationTiming?(e=tt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(tt.ia&&tt.ia.ya&&tt.ia.ya()&&tt.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var e4=10;function VN(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function $N(e){return e.b?1:e.a?e.a.size:0}function Sb(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function y0(e,t){e.a?e.a.add(t):e.b=t}function jN(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}UN.prototype.cancel=function(){var e,t;if(this.c=BN(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=tN(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function BN(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=tN(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return e0(e.c)}function b0(){}b0.prototype.stringify=function(e){return tt.JSON.stringify(e,void 0)};b0.prototype.parse=function(e){return tt.JSON.parse(e,void 0)};function t4(){this.a=new b0}function n4(e,t,n){var r=n||"";try{g0(e,function(i,s){var a=i;Cf(i)&&(a=l0(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function r4(e,t){var n=new d0;if(tt.Image){var r=new Image;r.onload=nd(id,n,r,"TestLoadImage: loaded",!0,t),r.onerror=nd(id,n,r,"TestLoadImage: error",!1,t),r.onabort=nd(id,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=nd(id,n,r,"TestLoadImage: timeout",!1,t),tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function id(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var i4=tt.JSON.parse;function In(e){qr.call(this),this.headers=new gl,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=o4,this.D=this.F=!1}dr(In,qr);var o4="",s4=/^https?$/i,a4=["POST","PUT"];Ve=In.prototype;Ve.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?NI(this.H):NI(kN),this.a.onreadystatechange=Yn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){LI(this,s);return}e=n||"";var i=new gl(this.headers);r&&g0(r,function(s,a){i.set(a,s)}),r=_H(i.L()),n=tt.FormData&&e instanceof tt.FormData,!(0<=nN(a4,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{zN(this),0<this.o&&((this.D=u4(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Yn(this.xa,this)):this.m=h0(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){LI(this,s)}};function u4(e){return vs&&lN(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function l4(e){return e.toLowerCase()=="content-type"}Ve.xa=function(){typeof Z_<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Fn(this,"timeout"),this.abort(8))};function LI(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,HN(e),em(e)}function HN(e){e.u||(e.u=!0,Fn(e,"complete"),Fn(e,"error"))}Ve.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Fn(this,"complete"),Fn(this,"abort"),em(this))};Ve.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),em(this,!0)),In.X.G.call(this)};Ve.za=function(){this.j||(this.A||this.l||this.g?GN(this):this.Ua())};Ve.Ua=function(){GN(this)};function GN(e){if(e.b&&typeof Z_<"u"&&(!e.s[1]||rs(e)!=4||e.W()!=2)){if(e.l&&rs(e)==4)h0(e.za,0,e);else if(Fn(e,"readystatechange"),rs(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(RN)[1]||null;if(!s&&tt.self&&tt.self.location){var a=tt.self.location.protocol;s=a.substr(0,a.length-1)}i=!s4.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)Fn(e,"complete"),Fn(e,"success");else{e.h=6;try{var c=2<rs(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",HN(e)}}finally{em(e)}}}}function em(e,t){if(e.a){zN(e);var n=e.a,r=e.s[0]?Yd:null;e.a=null,e.s=null,t||Fn(e,"ready");try{n.onreadystatechange=r}catch{}}}function zN(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(tt.clearTimeout(e.m),e.m=null)}function rs(e){return e.a?e.a.readyState:0}Ve.W=function(){try{return 2<rs(this)?this.a.status:-1}catch{return-1}};Ve.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};Ve.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),i4(t)}};Ve.ua=function(){return this.h};Ve.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function c4(e){var t="";return t0(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function _0(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=c4(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Xt(e,t,n))}function hc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qN(e){this.pa=0,this.g=[],this.c=new d0,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=hc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=hc("baseRetryDelayMs",5e3,e),this.Ra=hc("retryDelaySeedMs",1e4,e),this.Ma=hc("forwardChannelMaxRetries",2,e),this.ma=hc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new UN(e&&e.concurrentRequestLimit),this.ka=new t4,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}Ve=qN.prototype;Ve.ha=8;Ve.v=1;function w0(e){if(WN(e),e.v==3){var t=e.R++,n=wo(e.B);Xt(n,"SID",e.J),Xt(n,"RID",t),Xt(n,"TYPE","terminate"),Df(e,n),t=new Lf(e,e.c,t,void 0),t.H=2,t.i=Zp(wo(n)),n=!1,tt.navigator&&tt.navigator.sendBeacon&&(n=tt.navigator.sendBeacon(t.i.toString(),"")),!n&&tt.Image&&(new Image().src=t.i,n=!0),n||(t.a=tO(t.g,null),t.a.ba(t.i)),t.u=Qi(),Rf(t)}ZN(e)}function tm(e){e.a&&(T0(e),e.a.cancel(),e.a=null)}function WN(e){tm(e),e.j&&(tt.clearTimeout(e.j),e.j=null),np(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&tt.clearTimeout(e.h),e.h=null)}function wy(e,t){e.g.push(new ZH(e.Oa++,t)),e.v==3&&nm(e)}function nm(e){VN(e.b)||e.h||(e.h=!0,vN(e.Ba,e),e.u=0)}function f4(e,t){return $N(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Of(Yn(e.Ba,e,t),QN(e,e.u)),e.u++,!0)}Ve.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Lf(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=iN(n),oN(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=KN(this,t,r),i=wo(this.B),Xt(i,"RID",e),Xt(i,"CVER",22),this.A&&Xt(i,"X-HTTP-Session-Id",this.A),Df(this,i),this.i&&n&&_0(i,this.i,n),y0(this.b,t),this.Ia&&Xt(i,"TYPE","init"),this.da?(Xt(i,"$req",r),Xt(i,"SID","null"),t.U=!0,Eb(t,i,null)):Eb(t,i,r),this.v=2}}else this.v==3&&(e?RI(this,e):this.g.length==0||VN(this.b)||RI(this))};function RI(e,t){var n;t?n=t.f:n=e.R++;var r=wo(e.B);Xt(r,"SID",e.J),Xt(r,"RID",n),Xt(r,"AID",e.P),Df(e,r),e.i&&e.l&&_0(r,e.i,e.l),n=new Lf(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=KN(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),y0(e.b,n),Eb(n,r,t)}function Df(e,t){e.f&&g0({},function(n,r){Xt(t,r,n)})}function KN(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Yn(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,p=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{n4(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function YN(e){e.a||e.j||(e.T=1,vN(e.Aa,e),e.o=0)}function E0(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Of(Yn(e.Aa,e),QN(e,e.o)),e.o++,!0)}Ve.Aa=function(){if(this.j=null,XN(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Of(Yn(this.Ta,this),e)}};Ve.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,cr(10),tm(this),XN(this))};function T0(e){e.s!=null&&(tt.clearTimeout(e.s),e.s=null)}function XN(e){e.a=new Lf(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=wo(e.la);Xt(t,"RID","rpc"),Xt(t,"SID",e.J),Xt(t,"CI",e.H?"0":"1"),Xt(t,"AID",e.P),Df(e,t),Xt(t,"TYPE","xmlhttp"),e.i&&e.l&&_0(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Zp(wo(t)),n.j=null,n.I=!0,ON(n,e)}Ve.Sa=function(){this.m!=null&&(this.m=null,tm(this),E0(this),cr(19))};function np(e){e.m!=null&&(tt.clearTimeout(e.m),e.m=null)}function JN(e,t){var n=null;if(e.a==t){np(e),T0(e),e.a=null;var r=2}else if(Sb(e.b,t))n=t.s,jN(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Qi()-t.u;var i=e.u;r=Xp(),Fn(r,new SN(r)),nm(e)}else YN(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&f4(e,t)||r==2&&E0(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ma(e,5);break;case 4:ma(e,10);break;case 3:ma(e,6);break;default:ma(e,2)}}}function QN(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ma(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Yn(e.Ya,e);n||(n=new ka("//www.google.com/images/cleardot.gif"),tt.location&&tt.location.protocol=="http"||Zd(n,"https"),Zp(n)),r4(n.toString(),r)}else cr(2);e.v=0,e.f&&e.f.ra(t),ZN(e),WN(e)}Ve.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),cr(2)):(this.c.info("Failed to ping google.com"),cr(1))};function ZN(e){e.v=0,e.I=-1,e.f&&((BN(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,e0(e.g),e.g.length=0),e.f.qa())}function eO(e,t,n){var r=zH(n);if(r.c!="")t&&ep(r,t+"."+r.c),tp(r,r.h);else{var i=tt.location;r=qH(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&t0(e.V,function(s,a){Xt(r,a,s)}),t=e.A,n=e.na,t&&n&&Xt(r,t,n),Xt(r,"VER",e.ha),Df(e,r),r}function tO(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new In(e.Na),t.F=e.C,t}function nO(){}Ve=nO.prototype;Ve.ta=function(){};Ve.sa=function(){};Ve.ra=function(){};Ve.qa=function(){};Ve.Ja=function(){};function rp(){if(vs&&!(10<=Number(cN)))throw Error("Environmental error: no available transport.")}rp.prototype.a=function(e,t){return new Wr(e,t)};function Wr(e,t){qr.call(this),this.a=new qN(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xd(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xd(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new yl(this)}dr(Wr,qr);Wr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;cr(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=eO(e,null,e.fa),nm(e)};Wr.prototype.close=function(){w0(this.a)};Wr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,wy(this.a,t)}else this.l?(t={},t.__data__=l0(e),wy(this.a,t)):wy(this.a,e)};Wr.prototype.G=function(){this.a.f=null,delete this.f,w0(this.a),delete this.a,Wr.X.G.call(this)};function rO(e){p0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}dr(rO,p0);function iO(){m0.call(this),this.status=1}dr(iO,m0);function yl(e){this.a=e}dr(yl,nO);yl.prototype.ta=function(){Fn(this.a,"a")};yl.prototype.sa=function(e){Fn(this.a,new rO(e))};yl.prototype.ra=function(e){Fn(this.a,new iO)};yl.prototype.qa=function(){Fn(this.a,"b")};rp.prototype.createWebChannel=rp.prototype.a;Wr.prototype.send=Wr.prototype.h;Wr.prototype.open=Wr.prototype.g;Wr.prototype.close=Wr.prototype.close;Jp.NO_ERROR=0;Jp.TIMEOUT=8;Jp.HTTP_ERROR=6;IN.COMPLETE="complete";xN.EventType=Pf;Pf.OPEN="a";Pf.CLOSE="b";Pf.ERROR="c";Pf.MESSAGE="d";qr.prototype.listen=qr.prototype.va;In.prototype.listenOnce=In.prototype.wa;In.prototype.getLastError=In.prototype.Qa;In.prototype.getLastErrorCode=In.prototype.ua;In.prototype.getStatus=In.prototype.W;In.prototype.getResponseJson=In.prototype.Pa;In.prototype.getResponseText=In.prototype.$;In.prototype.send=In.prototype.ba;var h4=function(){return new rp},d4=function(){return Xp()},Ey=Jp,p4=IN,m4=Va,DI={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},od=xN,g4=In;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ib=function(e,t){return Ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ib(e,t)};function Ce(e,t){Ib(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ce(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(f){a(f)}}function c(p){try{h(r.throw(p))}catch(f){a(f)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function ue(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function zn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}var v4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y4=function(e,t,n,r,i,s){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},ip=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Ti=new QC("@firebase/firestore");function Ab(){return Ti.logLevel}function be(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=St.DEBUG){var r=t.map(S0);Ti.debug.apply(Ti,zn(["Firestore (8.2.7): "+e],r))}}function gn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=St.ERROR){var r=t.map(S0);Ti.error.apply(Ti,zn(["Firestore (8.2.7): "+e],r))}}function xb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=St.WARN){var r=t.map(S0);Ti.warn.apply(Ti,zn(["Firestore (8.2.7): "+e],r))}}function S0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+e;throw gn(t),new Error(t)}function Ke(e,t){e||Ue()}function ke(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oO=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=b4(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function ht(e,t){return e<t?-1:e>t?1:0}function Wu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function sO(e){return e+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=function(){function e(t){this.h=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.h,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.h)},e.prototype.l=function(){return 2*this.h.length},e.prototype._=function(t){return ht(this.h,t.h)},e.prototype.isEqual=function(t){return this.h===t.h},e}();xr.T=new xr("");var Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},he=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Ce(t,e),t}(Error),Ca=function(){function e(t){this.I=t}return e.fromBase64String=function(t){try{return new e(xr.fromBase64String(t))}catch(n){throw new he(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(xr.fromUint8Array(t))},e.prototype.toBase64=function(){return this.I.toBase64()},e.prototype.toUint8Array=function(){return this.I.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this.I.isEqual(t.I)},e}(),Mr=function(){function e(t){this.uid=t}return e.prototype.m=function(){return this.uid!=null},e.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Mr.UNAUTHENTICATED=new Mr(null),Mr.R=new Mr("google-credentials-uid"),Mr.P=new Mr("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _4=function(e,t){this.user=t,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+e},MI=function(){function e(){this.V=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.p=function(){},e.prototype.v=function(t){this.V=t,t(Mr.UNAUTHENTICATED)},e.prototype.S=function(){this.V=null},e}(),w4=function(){function e(t){var n=this;this.D=null,this.currentUser=Mr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.N!==n?(be("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(Ke(typeof i.accessToken=="string"),new _4(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.p=function(){this.forceRefresh=!0},e.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},e.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},e.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Ke(t===null||typeof t=="string"),new Mr(t)},e}(),E4=function(){function e(t,n){this.F=t,this.O=n,this.type="FirstParty",this.user=Mr.P}return Object.defineProperty(e.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),t},enumerable:!1,configurable:!0}),e}(),T4=function(){function e(t,n){this.F=t,this.O=n}return e.prototype.getToken=function(){return Promise.resolve(new E4(this.F,this.O))},e.prototype.v=function(t){t(Mr.P)},e.prototype.S=function(){},e.prototype.p=function(){},e}(),Ur=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return e.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},e}();Ur.q=-1;var Ir=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.U=function(t){return this.seconds===t.seconds?ht(this.nanoseconds,t.nanoseconds):ht(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),lt=function(){function e(t){this.timestamp=t}return e.K=function(t){return new e(t)},e.min=function(){return new e(new Ir(0,0))},e.prototype._=function(t){return this.timestamp.U(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.j=function(){return this.timestamp},e}(),aO=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Ue(),r===void 0?r=t.length-n:r>t.length-n&&Ue(),this.segments=t,this.offset=n,this.G=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.H(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.J(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.Y=function(t){return t=t===void 0?1:t,this.J(this.segments,this.offset+t,this.length-t)},e.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},e.prototype.Z=function(){return this.segments[this.offset]},e.prototype.tt=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.et=function(){return this.length===0},e.prototype.nt=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},e.H=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),At=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.prototype.rt=function(){return this.it().join("/")},t.prototype.toString=function(){return this.rt()},t.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new he(Y.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.ct=function(){return new t([])},t}(aO),S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ii=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.at=function(n){return S4.test(n)},t.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.at(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.rt()},t.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},t.ht=function(){return new t(["__name__"])},t.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new he(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new he(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new he(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.ct=function(){return new t([])},t}(aO),$e=function(){function e(t){this.path=t}return e._t=function(t){return new e(At.ot(t))},e.ft=function(t){return new e(At.ot(t).Y(5))},e.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&At.H(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.H=function(t,n){return At.H(t.path,n.path)},e.wt=function(t){return t.length%2==0},e.Et=function(t){return new e(new At(t.slice()))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uO(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ku=function(){function e(t){this.fields=t,t.sort(Ii.H)}return e.prototype.Tt=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(t))return!0;return!1},e.prototype.isEqual=function(t){return Wu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),I4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){if(Ke(!!e),typeof e=="string"){var t=0,n=I4.exec(e);if(Ke(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pn(e.seconds),nanos:pn(e.nanos)}}function pn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Yu(e){return typeof e=="string"?xr.fromBase64String(e):xr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lO(e){var t=e.mapValue.fields.__previous_value__;return I0(t)?lO(t):t}function Zc(e){var t=ys(e.mapValue.fields.__local_write_time__.timestampValue);return new Ir(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e){return e==null}function op(e){return e===0&&1/e==-1/0}function cO(e){return typeof e=="number"&&Number.isInteger(e)&&!op(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?I0(e)?4:10:Ue()}function Ki(e,t){var n=bs(e);if(n!==bs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zc(e).isEqual(Zc(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ys(r.timestampValue),a=ys(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Yu(r.bytesValue).isEqual(Yu(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return pn(r.geoPointValue.latitude)===pn(i.geoPointValue.latitude)&&pn(r.geoPointValue.longitude)===pn(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pn(r.integerValue)===pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=pn(r.doubleValue),a=pn(i.doubleValue);return s===a?op(s)===op(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Wu(e.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(FI(s)!==FI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ki(s[l],a[l])))return!1;return!0}(e,t);default:return Ue()}}function ef(e,t){return(e.values||[]).find(function(n){return Ki(n,t)})!==void 0}function Xu(e,t){var n=bs(e),r=bs(t);if(n!==r)return ht(n,r);switch(n){case 0:return 0;case 1:return ht(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=pn(i.integerValue||i.doubleValue),l=pn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return UI(e.timestampValue,t.timestampValue);case 4:return UI(Zc(e),Zc(t));case 5:return ht(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Yu(i),l=Yu(s);return a._(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=ht(a[c],l[c]);if(h!==0)return h}return ht(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=ht(pn(i.latitude),pn(s.latitude));return a!==0?a:ht(pn(i.longitude),pn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=Xu(a[c],l[c]);if(h)return h}return ht(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var f=ht(l[p],h[p]);if(f!==0)return f;var m=Xu(a[l[p]],c[h[p]]);if(m!==0)return m}return ht(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Ue()}}function UI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ht(e,t);var n=ys(e),r=ys(t),i=ht(n.seconds,r.seconds);return i!==0?i:ht(n.nanos,r.nanos)}function A0(e){return kb(e)}function kb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ys(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Yu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$e.ft(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=kb(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+kb(r.fields[c])}return i+"}"}(e.mapValue):Ue();var t,n}function sp(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.rt()}}function Cb(e){return!!e&&"integerValue"in e}function x0(e){return!!e&&"arrayValue"in e}function VI(e){return!!e&&"nullValue"in e}function $I(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function k0(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s=function(){function e(t){this.proto=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.et())return this.proto;for(var n=this.proto,r=0;r<t.length-1;++r)if(!n.mapValue.fields||!k0(n=n.mapValue.fields[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.tt()])||null},e.prototype.isEqual=function(t){return Ki(this.proto,t.proto)},e}(),Ff=function(){function e(t){t===void 0&&(t=_s.empty()),this.It=t,this.At=new Map}return e.prototype.set=function(t,n){return this.Rt(t,n),this},e.prototype.delete=function(t){return this.Rt(t,null),this},e.prototype.Rt=function(t,n){for(var r=this.At,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&bs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.tt(),n)},e.prototype.Pt=function(){var t=this.yt(Ii.ct(),this.At);return t!=null?new _s(t):this.It},e.prototype.yt=function(t,n){var r=this,i=!1,s=this.It.field(t),a=k0(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.yt(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e}();function fO(e){var t=[];return Mf(e.fields||{},function(n,r){var i=new Ii([n]);if(k0(r)){var s=fO(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new Ku(t)}var C0=function(e,t){this.key=e,this.version=t},Ft=function(e){function t(n,r,i,s){var a=this;return(a=e.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return Ce(t,e),t.prototype.field=function(n){return this.gt.field(n)},t.prototype.data=function(){return this.gt},t.prototype.bt=function(){return this.gt.proto},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(C0),On=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return Ce(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(C0),N0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(C0),A4=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function jI(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new A4(e,t,n,r,i,s,a)}function Uf(e){var t=ke(e);if(t.vt===null){var n=t.path.rt();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+A0(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),$a(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=up(t.startAt)),t.endAt&&(n+="|ub:",n+=up(t.endAt)),t.vt=n}return t.vt}function rm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!R4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Ki(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!HI(e.startAt,t.startAt)&&HI(e.endAt,t.endAt)}function ap(e){return $e.wt(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Vr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return Ce(t,e),t.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new x4(n,r,i):r==="array-contains"?new N4(n,i):r==="in"?new O4(n,i):r==="not-in"?new P4(n,i):r==="array-contains-any"?new L4(n,i):new t(n,r,i)},t.St=function(n,r,i){return r==="in"?new k4(n,i):new C4(n,i)},t.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(Xu(r,this.value)):r!==null&&bs(this.value)===bs(r)&&this.Dt(Xu(r,this.value))},t.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ue()}},t.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),x4=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=$e.ft(i.referenceValue),s}return Ce(t,e),t.prototype.matches=function(n){var r=$e.H(n.key,this.key);return this.Dt(r)},t}(Vr),k4=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=hO("in",r),i}return Ce(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Vr),C4=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=hO("not-in",r),i}return Ce(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Vr);function hO(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return $e.ft(r.referenceValue)})}var N4=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return x0(r)&&ef(r.arrayValue,this.value)},t}(Vr),O4=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&ef(this.value.arrayValue,r)},t}(Vr),P4=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ce(t,e),t.prototype.matches=function(n){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!ef(this.value.arrayValue,r)},t}(Vr),L4=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!x0(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return ef(r.value.arrayValue,s)})},t}(Vr),tf=function(e,t){this.position=e,this.before=t};function up(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return A0(t)}).join(",")}var Vu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function R4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function BI(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.ut()?$e.H($e.ft(a.referenceValue),n.key):Xu(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function HI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.Nt=null,this.$t=null,this.startAt,this.endAt};function dO(e,t,n,r,i,s,a,l){return new To(e,t,n,r,i,s,a,l)}function Vf(e){return new To(e)}function Ad(e){return!$a(e.limit)&&e.limitType==="F"}function lp(e){return!$a(e.limit)&&e.limitType==="L"}function O0(e){return e.xt.length>0?e.xt[0].field:null}function P0(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.Ct())return r.field}return null}function L0(e){return e.collectionGroup!==null}function Ju(e){var t=ke(e);if(t.Nt===null){t.Nt=[];var n=P0(t),r=O0(t);if(n!==null&&r===null)n.ut()||t.Nt.push(new Vu(n)),t.Nt.push(new Vu(Ii.ht(),"asc"));else{for(var i=!1,s=0,a=t.xt;s<a.length;s++){var l=a[s];t.Nt.push(l),l.field.ut()&&(i=!0)}if(!i){var c=t.xt.length>0?t.xt[t.xt.length-1].dir:"asc";t.Nt.push(new Vu(Ii.ht(),c))}}}return t.Nt}function Yi(e){var t=ke(e);if(!t.$t)if(t.limitType==="F")t.$t=jI(t.path,t.collectionGroup,Ju(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ju(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Vu(s.field,a))}var l=t.endAt?new tf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new tf(t.startAt.position,!t.startAt.before):null;t.$t=jI(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.$t}function pO(e,t,n){return new To(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $f(e,t){return rm(Yi(e),Yi(t))&&e.limitType===t.limitType}function mO(e){return Uf(Yi(e))+"|lt:"+e.limitType}function Nb(e){return"Query(target="+function(t){var n=t.path.rt();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+A0(i.value);var i}).join(", ")+"]"),$a(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+up(t.startAt)),t.endAt&&(n+=", endAt: "+up(t.endAt)),"Target("+n+")"}(Yi(e))+"; limitType="+e.limitType+")"}function jf(e,t){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):$e.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(e,t)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!BI(n.startAt,Ju(n),r))&&(!n.endAt||!BI(n.endAt,Ju(n),r))}(e,t)}function gO(e){return function(t,n){for(var r=!1,i=0,s=Ju(e);i<s.length;i++){var a=s[i],l=D4(a,t,n);if(l!==0)return l;r=r||a.field.ut()}return 0}}function D4(e,t,n){var r=e.field.ut()?$e.H(t.key,n.key):function(i,s,a){var l=s.field(i),c=a.field(i);return l!==null&&c!==null?Xu(l,c):Ue()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var im=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=lt.min()),a===void 0&&(a=lt.min()),l===void 0&&(l=xr.T),this.target=t,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.kt=function(t){return new e(this.target,this.targetId,this.Ft,t,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Mt=function(t,n){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Lt=function(t){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,t,this.resumeToken)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e,t){if(e.Bt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(t)?"-0":t}}function yO(e){return{integerValue:""+e}}function bO(e,t){return cO(t)?yO(t):vO(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var om=function(){this.qt=void 0};function M4(e,t,n){return e instanceof Qu?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Na?wO(e,t):e instanceof Oa?EO(e,t):function(r,i){var s=_O(r,i),a=GI(s)+GI(r.Ut);return Cb(s)&&Cb(r.Ut)?yO(a):vO(r.Qt,a)}(e,t)}function F4(e,t,n){return e instanceof Na?wO(e,t):e instanceof Oa?EO(e,t):n}function _O(e,t){return e instanceof Zu?Cb(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Qu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t}(om),Na=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(om);function wO(e,t){for(var n=TO(t),r=function(a){n.some(function(l){return Ki(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Oa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(om);function EO(e,t){for(var n=TO(t),r=function(a){n=n.filter(function(l){return!Ki(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Zu=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qt=n,i.Ut=r,i}return Ce(t,e),t}(om);function GI(e){return pn(e.integerValue||e.doubleValue)}function TO(e){return x0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(e,t){this.field=e,this.transform=t},U4=function(e,t){this.version=e,this.transformResults=t},qn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.Kt=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function xd(e,t){return e.updateTime!==void 0?t instanceof Ft&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t instanceof Ft}var sm=function(){};function V4(e,t,n){return e instanceof Hf?function(r,i,s){var a=r.value;if(s.transformResults){var l=WI(r.fieldTransforms,i,s.transformResults);a=R0(r.fieldTransforms,a,l)}return new Ft(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):e instanceof ks?function(r,i,s){if(!xd(r.jt,i))return new N0(r.key,s.version);var a=SO(r,i,s.transformResults?WI(r.fieldTransforms,i,s.transformResults):[]);return new Ft(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):function(r,i,s){return new On(r.key,s.version,{hasCommittedMutations:!0})}(e,0,n)}function Ob(e,t,n){return e instanceof Hf?function(r,i,s){if(!xd(r.jt,i))return i;var a=r.value,l=KI(r.fieldTransforms,s,i);a=R0(r.fieldTransforms,a,l);var c=qI(i);return new Ft(r.key,c,a,{Vt:!0})}(e,t,n):e instanceof ks?function(r,i,s){if(!xd(r.jt,i))return i;var a=qI(i),l=SO(r,i,KI(r.fieldTransforms,s,i));return new Ft(r.key,a,l,{Vt:!0})}(e,t,n):function(r,i){return xd(r.jt,i)?new On(r.key,lt.min()):i}(e,t)}function $4(e,t){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var l=a[s],c=r instanceof Ft?r.field(l.field):void 0,h=_O(l.transform,c||null);h!=null&&(i=i==null?new Ff().set(l.field,h):i.set(l.field,h))}return i?i.Pt():null}(e.fieldTransforms,t)}function zI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.jt.isEqual(t.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Wu(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof Na&&h instanceof Na||c instanceof Oa&&h instanceof Oa?Wu(c.elements,h.elements,Ki):c instanceof Zu&&h instanceof Zu?Ki(c.Ut,h.Ut):c instanceof Qu&&h instanceof Qu}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.Gt.isEqual(t.Gt))}function qI(e){return e instanceof Ft?e.version:lt.min()}var Hf=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return Ce(t,e),t}(sm),ks=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.Gt=i,l.jt=s,l.fieldTransforms=a,l.type=1,l}return Ce(t,e),t}(sm);function SO(e,t,n){var r;return r=function(i,s){var a=new Ff(s);return i.Gt.fields.forEach(function(l){if(!l.et()){var c=i.data.field(l);c!==null?a.set(l,c):a.delete(l)}}),a.Pt()}(e,r=t instanceof Ft?t.data():_s.empty()),r=R0(e.fieldTransforms,r,n)}function WI(e,t,n){var r=[];Ke(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=null;t instanceof Ft&&(l=t.field(s.field)),r.push(F4(a,l,n[i]))}return r}function KI(e,t,n){for(var r=[],i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=null;n instanceof Ft&&(c=n.field(a.field)),r.push(M4(l,c,t))}return r}function R0(e,t,n){for(var r=new Ff(t),i=0;i<e.length;i++){var s=e[i];r.set(s.field,n[i])}return r.Pt()}var hn,gt,Gf=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return Ce(t,e),t}(sm),D0=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return Ce(t,e),t}(sm),j4=function(e){this.count=e};function IO(e){switch(e){case Y.OK:return Ue();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ue()}}function AO(e){if(e===void 0)return gn("GRPC error has no .code"),Y.UNKNOWN;switch(e){case hn.OK:return Y.OK;case hn.CANCELLED:return Y.CANCELLED;case hn.UNKNOWN:return Y.UNKNOWN;case hn.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case hn.INTERNAL:return Y.INTERNAL;case hn.UNAVAILABLE:return Y.UNAVAILABLE;case hn.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case hn.NOT_FOUND:return Y.NOT_FOUND;case hn.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case hn.ABORTED:return Y.ABORTED;case hn.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case hn.DATA_LOSS:return Y.DATA_LOSS;default:return Ue()}}(gt=hn||(hn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t,n){this.H=t,this.root=n||Zo.EMPTY}return e.prototype.zt=function(t,n){return new e(this.H,this.root.zt(t,n,this.H).copy(null,null,Zo.Ht,null,null))},e.prototype.remove=function(t){return new e(this.H,this.root.remove(t,this.H).copy(null,null,Zo.Ht,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.et();){var r=this.H(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.et();){var i=this.H(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.et=function(){return this.root.et()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.Jt=function(){return this.root.Jt()},e.prototype.Yt=function(){return this.root.Yt()},e.prototype.Xt=function(t){return this.root.Xt(t)},e.prototype.forEach=function(t){this.Xt(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.Xt(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.Zt=function(t){return this.root.Zt(t)},e.prototype.te=function(){return new sd(this.root,null,this.H,!1)},e.prototype.ee=function(t){return new sd(this.root,t,this.H,!1)},e.prototype.ne=function(){return new sd(this.root,null,this.H,!0)},e.prototype.se=function(t){return new sd(this.root,t,this.H,!0)},e}(),sd=function(){function e(t,n,r,i){this.ie=i,this.re=[];for(var s=1;!t.et();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.ie?t.left:t.right;else{if(s===0){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return e.prototype.oe=function(){var t=this.re.pop(),n={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return n},e.prototype.ce=function(){return this.re.length>0},e.prototype.ae=function(){if(this.re.length===0)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},e}(),Zo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.et=function(){return!1},e.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},e.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},e.prototype.min=function(){return this.left.et()?this:this.left.min()},e.prototype.Jt=function(){return this.min().key},e.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},e.prototype.zt=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(t,n,r))).ue()},e.prototype.he=function(){if(this.left.et())return e.EMPTY;var t=this;return t.left.le()||t.left.left.le()||(t=t._e()),(t=t.copy(null,null,null,t.left.he(),null)).ue()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(t,i.key)===0){if(i.right.et())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.ue()},e.prototype.le=function(){return this.color},e.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},e.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},e.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},e.prototype.we=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.fe=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},e.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw Ue();var t=this.left.Ie();if(t!==this.right.Ie())throw Ue();return t+(this.le()?0:1)},e}();Zo.EMPTY=null,Zo.RED=!0,Zo.Ht=!1,Zo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.zt=function(t,n,r){return new Zo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.et=function(){return!0},e.prototype.Xt=function(t){return!1},e.prototype.Zt=function(t){return!1},e.prototype.Jt=function(){return null},e.prototype.Yt=function(){return null},e.prototype.le=function(){return!1},e.prototype.Te=function(){return!0},e.prototype.Ie=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En=function(){function e(t){this.H=t,this.data=new Qn(this.H)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.Jt()},e.prototype.last=function(){return this.data.Yt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.Xt(function(n,r){return t(n),!1})},e.prototype.me=function(t,n){for(var r=this.data.ee(t[0]);r.ce();){var i=r.oe();if(this.H(i.key,t[1])>=0)return;n(i.key)}},e.prototype.Ae=function(t,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!t(r.oe().key))return},e.prototype.Re=function(t){var n=this.data.ee(t);return n.ce()?n.oe().key:null},e.prototype.te=function(){return new YI(this.data.te())},e.prototype.ee=function(t){return new YI(this.data.ee(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.et=function(){return this.data.et()},e.prototype.Pe=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.te(),r=t.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},e.prototype.it=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.H);return n.data=t,n},e}(),YI=function(){function e(t){this.ye=t}return e.prototype.oe=function(){return this.ye.oe().key},e.prototype.ce=function(){return this.ye.ce()},e}(),B4=new Qn($e.H);function ws(){return B4}function cp(){return ws()}var H4=new Qn($e.H);function nf(){return H4}var G4=new Qn($e.H);function z4(){return G4}var q4=new En($e.H);function jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=q4,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var W4=new En(ht);function am(){return W4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xO=function(){function e(t){this.H=t?function(n,r){return t(n,r)||$e.H(n.key,r.key)}:function(n,r){return $e.H(n.key,r.key)},this.ge=nf(),this.Ve=new Qn(this.H)}return e.pe=function(t){return new e(t.H)},e.prototype.has=function(t){return this.ge.get(t)!=null},e.prototype.get=function(t){return this.ge.get(t)},e.prototype.first=function(){return this.Ve.Jt()},e.prototype.last=function(){return this.Ve.Yt()},e.prototype.et=function(){return this.Ve.et()},e.prototype.indexOf=function(t){var n=this.ge.get(t);return n?this.Ve.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.Ve.Xt(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.ge.zt(t.key,t),n.Ve.zt(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.ge.remove(t),this.Ve.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.Ve.te(),r=t.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.H=this.H,r.ge=t,r.Ve=n,r},e}(),XI=function(){function e(){this.be=new Qn($e.H)}return e.prototype.track=function(t){var n=t.doc.key,r=this.be.get(n);r?t.type!==0&&r.type===3?this.be=this.be.zt(n,t):t.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.be=this.be.remove(n):t.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:t.doc}):Ue():this.be=this.be.zt(n,t)},e.prototype.ve=function(){var t=[];return this.be.Xt(function(n,r){t.push(r)}),t},e}(),fp=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=l,this.xe=c}return e.Ne=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,xO.pe(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&$f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),M0=function(){function e(t,n,r,i,s){this.Ot=t,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return e.Me=function(t,n){var r=new Map;return r.set(t,F0.Le(t,n)),new e(lt.min(),r,am(),ws(),jt())},e}(),F0=function(){function e(t,n,r,i,s){this.resumeToken=t,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return e.Le=function(t,n){return new e(xr.T,n,jt(),jt(),jt())},e}(),kd=function(e,t,n,r){this.Ke=e,this.removedTargetIds=t,this.key=n,this.We=r},kO=function(e,t){this.targetId=e,this.je=t},CO=function(e,t,n,r){n===void 0&&(n=xr.T),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},JI=function(){function e(){this.Ge=0,this.ze=ZI(),this.He=xr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(e.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),e.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},e.prototype.en=function(){var t=jt(),n=jt(),r=jt();return this.ze.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new F0(this.He,this.Je,t,n,r)},e.prototype.nn=function(){this.Ye=!1,this.ze=ZI()},e.prototype.sn=function(t,n){this.Ye=!0,this.ze=this.ze.zt(t,n)},e.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},e.prototype.on=function(){this.Ge+=1},e.prototype.cn=function(){this.Ge-=1},e.prototype.an=function(){this.Ye=!0,this.Je=!0},e}(),K4=function(){function e(t){this.un=t,this.hn=new Map,this.ln=ws(),this._n=QI(),this.fn=new En(ht)}return e.prototype.dn=function(t){for(var n=0,r=t.Ke;n<r.length;n++){var i=r[n];t.We instanceof Ft?this.wn(i,t.We):t.We instanceof On&&this.En(i,t.key,t.We)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,t.key,t.We)},e.prototype.Tn=function(t){var n=this;this.In(t,function(r){var i=n.mn(r);switch(t.state){case 0:n.An(r)&&i.tn(t.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(t.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(t.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(t.resumeToken));break;default:Ue()}})},e.prototype.In=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},e.prototype.Pn=function(t){var n=t.targetId,r=t.je.count,i=this.yn(n);if(i){var s=i.target;if(ap(s))if(r===0){var a=new $e(s.path);this.En(n,a,new On(a,lt.min()))}else Ke(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},e.prototype.Vn=function(t){var n=this,r=new Map;this.hn.forEach(function(a,l){var c=n.yn(l);if(c){if(a.Be&&ap(c.target)){var h=new $e(c.target.path);n.ln.get(h)!==null||n.pn(l,h)||n.En(l,h,new On(h,t))}a.Ze&&(r.set(l,a.en()),a.nn())}});var i=jt();this._n.forEach(function(a,l){var c=!0;l.Ae(function(h){var p=n.yn(h);return!p||p.Ft===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new M0(t,r,this.fn,this.ln,i);return this.ln=ws(),this._n=QI(),this.fn=new En(ht),s},e.prototype.wn=function(t,n){if(this.An(t)){var r=this.pn(t,n.key)?2:0;this.mn(t).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(t))}},e.prototype.En=function(t,n,r){if(this.An(t)){var i=this.mn(t);this.pn(t,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(t)),r&&(this.ln=this.ln.zt(n,r))}},e.prototype.removeTarget=function(t){this.hn.delete(t)},e.prototype.gn=function(t){var n=this.mn(t).en();return this.un.vn(t).size+n.qe.size-n.Qe.size},e.prototype.on=function(t){this.mn(t).on()},e.prototype.mn=function(t){var n=this.hn.get(t);return n||(n=new JI,this.hn.set(t,n)),n},e.prototype.bn=function(t){var n=this._n.get(t);return n||(n=new En(ht),this._n=this._n.zt(t,n)),n},e.prototype.An=function(t){var n=this.yn(t)!==null;return n||be("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.yn=function(t){var n=this.hn.get(t);return n&&n.Xe?null:this.un.Sn(t)},e.prototype.Rn=function(t){var n=this;this.hn.set(t,new JI),this.un.vn(t).forEach(function(r){n.En(t,r,null)})},e.prototype.pn=function(t,n){return this.un.vn(t).has(n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return new Qn($e.H)}function ZI(){return new Qn($e.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y4={asc:"ASCENDING",desc:"DESCENDING"},X4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J4=function(e,t){this.t=e,this.Bt=t};function rf(e,t){return e.Bt?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function NO(e,t){return e.Bt?t.toBase64():t.toUint8Array()}function Q4(e,t){return rf(e,t.j())}function fr(e){return Ke(!!e),lt.K(function(t){var n=ys(t);return new Ir(n.seconds,n.nanos)}(e))}function U0(e,t){return function(n){return new At(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).rt()}function OO(e){var t=At.ot(e);return Ke(UO(t)),t}function of(e,t){return U0(e.t,t.path)}function mo(e,t){var n=OO(t);if(n.get(1)!==e.t.projectId)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new he(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new $e(LO(n))}function Pb(e,t){return U0(e.t,t)}function PO(e){var t=OO(e);return t.length===4?At.ct():LO(t)}function sf(e){return new At(["projects",e.t.projectId,"databases",e.t.database]).rt()}function LO(e){return Ke(e.length>4&&e.get(4)==="documents"),e.Y(5)}function eA(e,t,n){return{name:of(e,t),fields:n.proto.mapValue.fields}}function Z4(e,t,n){var r=mo(e,t.name),i=fr(t.updateTime),s=new _s({mapValue:{fields:t.fields}});return new Ft(r,i,s,{hasCommittedMutations:!!n})}function hp(e,t){var n;if(t instanceof Hf)n={update:eA(e,t.key,t.value)};else if(t instanceof Gf)n={delete:of(e,t.key)};else if(t instanceof ks)n={update:eA(e,t.key,t.data),updateMask:iG(t.Gt)};else{if(!(t instanceof D0))return Ue();n={verify:of(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Qu)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof Oa)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof Zu)return{fieldPath:s.field.rt(),increment:a.Ut};throw Ue()}(0,r)})),t.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Q4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ue()}(e,t.jt)),n}function tA(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?qn.updateTime(fr(h.updateTime)):h.exists!==void 0?qn.exists(h.exists):qn.Kt()}(t.currentDocument):qn.Kt(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,f){var m=null;if("setToServerValue"in f)Ke(f.setToServerValue==="REQUEST_TIME"),m=new Qu;else if("appendMissingElements"in f){var v=f.appendMissingElements.values||[];m=new Na(v)}else if("removeAllFromArray"in f){var y=f.removeAllFromArray.values||[];m=new Oa(y)}else"increment"in f?m=new Zu(p,f.increment):Ue();var _=Ii.lt(f.fieldPath);return new Bf(_,m)}(e,h)}):[];if(t.update){t.update.name;var i=mo(e,t.update.name),s=new _s({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new Ku(p.map(function(f){return Ii.lt(f)}))}(t.updateMask);return new ks(i,s,a,n,r)}return new Hf(i,s,n,r)}if(t.delete){var l=mo(e,t.delete);return new Gf(l,n)}if(t.verify){var c=mo(e,t.verify);return new D0(c,n)}return Ue()}function RO(e,t){return{documents:[Pb(e,t.path)]}}function DO(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Pb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pb(e,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if($I(p.value))return{unaryFilter:{field:bu(p.field),op:"IS_NAN"}};if(VI(p.value))return{unaryFilter:{field:bu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if($I(p.value))return{unaryFilter:{field:bu(p.field),op:"IS_NOT_NAN"}};if(VI(p.value))return{unaryFilter:{field:bu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(p.field),op:tG(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:bu(h.field),direction:eG(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.Bt||$a(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=nA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=nA(t.endAt)),n}function MO(e){var t=PO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ke(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=FO(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(f){return function(m){return new Vu(Nu(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)}));var c=null;n.limit&&(c=function(f){var m;return $a(m=typeof f=="object"?f.value:f)?null:m}(n.limit));var h=null;n.startAt&&(h=rA(n.startAt));var p=null;return n.endAt&&(p=rA(n.endAt)),dO(t,i,l,a,c,"F",h,p)}function FO(e){return e?e.unaryFilter!==void 0?[rG(e)]:e.fieldFilter!==void 0?[nG(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return FO(t)}).reduce(function(t,n){return t.concat(n)}):Ue():[]}function nA(e){return{before:e.before,values:e.position}}function rA(e){var t=!!e.before,n=e.values||[];return new tf(n,t)}function eG(e){return Y4[e]}function tG(e){return X4[e]}function bu(e){return{fieldPath:e.rt()}}function Nu(e){return Ii.lt(e.fieldPath)}function nG(e){return Vr.create(Nu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ue()}}(e.fieldFilter.op),e.fieldFilter.value)}function rG(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Nu(e.unaryFilter.field);return Vr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Nu(e.unaryFilter.field);return Vr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Nu(e.unaryFilter.field);return Vr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Nu(e.unaryFilter.field);return Vr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ue()}}function iG(e){var t=[];return e.fields.forEach(function(n){return t.push(n.rt())}),{fieldPaths:t}}function UO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},de=function(){function e(t){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.Nn&&Ue(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(t,this.result):new e(function(i,s){r.Dn=function(a){r.Fn(t,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},e.prototype.On=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.kn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.Fn=function(t,n){return t?this.kn(function(){return t(n)}):e.resolve(n)},e.prototype.$n=function(t,n){return t?this.kn(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.Mn=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.Ln=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},e}(),VO=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.Bn=new Kr,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new Nc(t,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=V0(i.target.error);r.Bn.reject(new Nc(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Nc(n,s)}},Object.defineProperty(e.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new sG(n)},e}(),el=function(){function e(t,n,r){this.name=t,this.version=n,this.Un=r,e.Qn(Aa())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return be("SimpleDb","Removing database:",t),ha(window.indexedDB.deleteDatabase(t)).On()},e.Kn=function(){if(typeof indexedDB>"u")return!1;if(e.Wn())return!0;var t=Aa(),n=e.Qn(t),r=0<n&&n<10,i=e.jn(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Wn=function(){var t;return typeof process<"u"&&((t=v4)===null||t===void 0?void 0:t.Gn)==="YES"},e.zn=function(t,n){return t.store(n)},e.Qn=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.jn=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.Hn=function(t){return ce(this,void 0,void 0,function(){var n,r=this;return ue(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(be("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Nc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new he(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Nc(t,h))},l.onupgradeneeded=function(c){be("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.Un.Jn(h,l.transaction,c.oldVersion,r.version).next(function(){be("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},e.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return ce(this,void 0,void 0,function(){var s,a,l,c,h;return ue(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var f,m,v,y,_;return ue(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,c.Hn(t)];case 2:return c.db=w.sent(),f=VO.open(c.db,t,s?"readonly":"readwrite",r),m=i(f).catch(function(E){return f.abort(E),de.reject(E)}).On(),v={},m.catch(function(){}),[4,f.qn];case 3:return[2,(v.value=(w.sent(),m),v)];case 4:return y=w.sent(),_=y.name!=="FirebaseError"&&a<3,be("SimpleDb","Transaction failed with error:",y.message,"Retrying:",_),c.close(),_?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),oG=function(){function e(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(e.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.ts=!0},e.prototype.ss=function(t){this.es=t},e.prototype.delete=function(){return ha(this.Zn.delete())},e}(),Nc=function(e){function t(n,r){var i=this;return(i=e.call(this,Y.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Ce(t,e),t}(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){return e.name==="IndexedDbTransactionError"}var sG=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(be("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ha(r)},e.prototype.add=function(t){return be("SimpleDb","ADD",this.store.name,t,t),ha(this.store.add(t))},e.prototype.get=function(t){var n=this;return ha(this.store.get(t)).next(function(r){return r===void 0&&(r=null),be("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return be("SimpleDb","DELETE",this.store.name,t),ha(this.store.delete(t))},e.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),ha(this.store.count())},e.prototype.rs=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.cs=function(t,n){be("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,l){return l.delete()})},e.prototype.hs=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.os(i,n)},e.prototype.ls=function(t){var n=this.cursor({});return new de(function(r,i){n.onerror=function(s){var a=V0(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.os=function(t,n){var r=[];return new de(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new oG(l),h=n(l.primaryKey,l.value,c);if(h instanceof de){var p=h.catch(function(f){return c.done(),de.reject(f)});r.push(p)}c.xn?i():c.ns===null?l.continue():l.continue(c.ns)}else i()}}).next(function(){return de.Mn(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.us?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ha(e){return new de(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=V0(r.target.error);n(i)}})}var iA=!1;function V0(e){var t=el.Qn(Aa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new he("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return iA||(iA=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aG=function(){function e(t,n,r,i,s){this._s=t,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new Kr,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return e.Ts=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.Is=setTimeout(function(){return n.As()},t)},e.prototype.Rs=function(){return this.As()},e.prototype.cancel=function(t){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new he(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.As=function(){var t=this;this._s.Ps(function(){return t.Is!==null?(t.clearTimeout(),t.op().then(function(n){return t.Es.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},e}();function bl(e,t){if(gn("AsyncQueue",t+": "+e),ja(e))return new he(Y.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jO=function(){function e(){this.ys=[]}return e.prototype.gs=function(t){this.ys.push(t)},e.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oA(t)),t=uG(e.get(n),t);return oA(t)}function uG(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function oA(e){return e+""}function fo(e){var t=e.length;if(Ke(t>=2),t===2)return Ke(e.charAt(0)===""&&e.charAt(1)===""),At.ct();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Ue(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:Ue()}s=a+2}return new At(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lG=function(e,t){this.seconds=e,this.nanoseconds=t},Rr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Rr.store="owner",Rr.key="owner";var fs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};fs.store="mutationQueues",fs.keyPath="userId";var Bt=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bt.store="mutations",Bt.keyPath="batchId",Bt.userMutationsIndex="userMutationsIndex",Bt.userMutationsKeyPath=["userId","batchId"];var jn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Si(n)]},e.key=function(t,n,r){return[t,Si(n),r]},e}();jn.store="documentMutations",jn.PLACEHOLDER=new jn;var cG=function(e,t){this.path=e,this.readTime=t},fG=function(e,t){this.path=e,this.version=t},nn=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};nn.store="remoteDocuments",nn.readTimeIndex="readTimeIndex",nn.readTimeIndexPath="readTime",nn.collectionReadTimeIndex="collectionReadTimeIndex",nn.collectionReadTimeIndexPath=["parentPath","readTime"];var $i=function(e){this.byteSize=e};$i.store="remoteDocumentGlobal",$i.key="remoteDocumentGlobalKey";var Sr=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Sr.store="targets",Sr.keyPath="targetId",Sr.queryTargetsIndexName="queryTargetsIndex",Sr.queryTargetsKeyPath=["canonicalId","targetId"];var Mn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Mn.store="targetDocuments",Mn.keyPath=["targetId","path"],Mn.documentTargetsIndex="documentTargetsIndex",Mn.documentTargetsKeyPath=["path","targetId"];var Fr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fr.key="targetGlobalKey",Fr.store="targetGlobal";var _a=function(e,t){this.collectionId=e,this.parent=t};_a.store="collectionParents",_a.keyPath=["collectionId","parent"];var go=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};go.store="clientMetadata",go.keyPath="clientId";var tl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};tl.store="bundles",tl.keyPath="bundleId";var nl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};nl.store="namedQueries",nl.keyPath="name";var hG=zn(zn(zn(zn([fs.store,Bt.store,jn.store,nn.store,Sr.store,Rr.store,Fr.store,Mn.store],[go.store]),[$i.store]),[_a.store]),[tl.store,nl.store]),sA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ps=n,i.bs=r,i}return Ce(t,e),t}(jO);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e,t){var n=ke(e);return el.zn(n.ps,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $0=function(){function e(t,n,r,i){this.batchId=t,this.vs=n,this.baseMutations=r,this.mutations=i}return e.prototype.Ss=function(t,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(t)&&(n=V4(a,n,i[s]))}return n},e.prototype.Cs=function(t,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(l=i[r]).key.isEqual(t)&&(n=Ob(l,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var l;(l=a[s]).key.isEqual(t)&&(n=Ob(l,n,this.vs))}return n},e.prototype.xs=function(t){var n=this,r=t;return this.mutations.forEach(function(i){var s=n.Cs(i.key,t.get(i.key));s&&(r=r.zt(i.key,s))}),r},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},jt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Wu(this.mutations,t.mutations,function(n,r){return zI(n,r)})&&Wu(this.baseMutations,t.baseMutations,function(n,r){return zI(n,r)})},e}(),dG=function(){function e(t,n,r,i){this.batch=t,this.Ns=n,this.Ds=r,this.$s=i}return e.from=function(t,n,r){Ke(t.mutations.length===r.length);for(var i=z4(),s=t.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),BO=function(e){this.Fs=e};function Lb(e,t){if(t.document)return Z4(e.Fs,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=$e.Et(t.noDocument.path),r=il(t.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=$e.Et(t.unknownDocument.path);return r=il(t.unknownDocument.version),new N0(i,r)}return Ue()}function aA(e,t,n){var r=j0(n),i=t.key.path.X().it();if(t instanceof Ft){var s=function(f,m){return{name:of(f,m.key),fields:m.bt().mapValue.fields,updateTime:rf(f,m.version.j())}}(e.Fs,t),a=t.hasCommittedMutations;return new nn(null,null,s,a,r,i)}if(t instanceof On){var l=t.key.path.it(),c=rl(t.version);return a=t.hasCommittedMutations,new nn(null,new cG(l,c),null,a,r,i)}if(t instanceof N0){var h=t.key.path.it(),p=rl(t.version);return new nn(new fG(h,p),null,null,!0,r,i)}return Ue()}function j0(e){var t=e.j();return[t.seconds,t.nanoseconds]}function HO(e){var t=new Ir(e[0],e[1]);return lt.K(t)}function rl(e){var t=e.j();return new lG(t.seconds,t.nanoseconds)}function il(e){var t=new Ir(e.seconds,e.nanoseconds);return lt.K(t)}function Iu(e,t){for(var n=(t.baseMutations||[]).map(function(c){return tA(e.Fs,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return tA(e.Fs,c)}),l=Ir.fromMillis(t.localWriteTimeMs);return new $0(t.batchId,l,n,a)}function Sc(e){var t,n,r=il(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?il(e.lastLimboFreeSnapshotVersion):lt.min();return e.query.documents!==void 0?(Ke((n=e.query).documents.length===1),t=Yi(Vf(PO(n.documents[0])))):t=function(s){return Yi(MO(s))}(e.query),new im(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xr.fromBase64String(e.resumeToken))}function GO(e,t){var n,r=rl(t.Ot),i=rl(t.lastLimboFreeSnapshotVersion);n=ap(t.target)?RO(e.Fs,t.target):DO(e.Fs,t.target);var s=t.resumeToken.toBase64();return new Sr(t.targetId,Uf(t.target),r,s,t.sequenceNumber,i,n)}function zO(e){var t=MO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?pO(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pG=function(){function e(){}return e.prototype.Os=function(t,n){return uA(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:il(i.createTime),version:i.version};var i})},e.prototype.ks=function(t,n){return uA(t).put({bundleId:(r=n).id,createTime:rl(fr(r.createTime)),version:r.version});var r},e.prototype.Ms=function(t,n){return lA(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:zO(i.bundledQuery),readTime:il(i.readTime)};var i})},e.prototype.Ls=function(t,n){return lA(t).put(function(r){return{name:r.name,readTime:rl(fr(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function uA(e){return kr(e,tl.store)}function lA(e){return kr(e,nl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mG=function(){function e(){this.Bs=new B0}return e.prototype.qs=function(t,n){return this.Bs.add(n),de.resolve()},e.prototype.Us=function(t,n){return de.resolve(this.Bs.getEntries(n))},e}(),B0=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.tt(),r=t.X(),i=this.index[n]||new En(At.H),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.tt(),r=t.X(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new En(At.H)).it()},e}(),gG=function(){function e(){this.Qs=new B0}return e.prototype.qs=function(t,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();t.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:Si(s)};return cA(t).put(a)}return de.resolve()},e.prototype.Us=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[sO(n),""],!1,!0);return cA(t).rs(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(fo(c.parent))}return r})},e}();function cA(e){return kr(e,_a.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fA={Ks:!1,Ws:0,js:0,Gs:0},Fi=function(){function e(t,n,r){this.zs=t,this.Hs=n,this.Js=r}return e.Ys=function(t){return new e(t,e.Xs,e.Zs)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){if(e.code!==Y.FAILED_PRECONDITION||e.message!==$O)throw e;return be("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi.Xs=10,Fi.Zs=1e3,Fi.ti=new Fi(41943040,Fi.Xs,Fi.Zs),Fi.ei=new Fi(-1,0,0);var _l=function(){function e(t,n){this.ni=t,this.si=n,this.ii={}}return e.prototype.get=function(t){var n=this.ni(t),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.si(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.ni(t),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.ii[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.ni(t),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Mf(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.et=function(){return uO(this.ii)},e}(),qO=function(){function e(){this.ri=new _l(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.oi=!1}return e.prototype.ci=function(t){var n=this.ri.get(t);return n?n.readTime:lt.min()},e.prototype.ai=function(t,n){this.ui(),this.ri.set(t.key,{hi:t,readTime:n})},e.prototype.li=function(t,n){n===void 0&&(n=null),this.ui(),this.ri.set(t,{hi:null,readTime:n})},e.prototype._i=function(t,n){this.ui();var r=this.ri.get(n);return r!==void 0?de.resolve(r.hi):this.fi(t,n)},e.prototype.getEntries=function(t,n){return this.di(t,n)},e.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},e.prototype.ui=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e,t,n){var r=e.store(Bt.store),i=e.store(jn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.hs({range:a},function(y,_,w){return l++,w.delete()});s.push(c.next(function(){Ke(l===1)}));for(var h=[],p=0,f=n.mutations;p<f.length;p++){var m=f[p],v=jn.key(t,m.key.path,n.batchId);s.push(i.delete(v)),h.push(m.key)}return de.Mn(s).next(function(){return h})}function dp(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ue();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vG=function(){function e(t,n,r,i){this.userId=t,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return e.mi=function(t,n,r,i){return Ke(t.uid!==""),new e(t.m()?t.uid:"",n,r,i)},e.prototype.Ai=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).hs({index:Bt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.Ri=function(t,n,r,i){var s=this,a=Au(t),l=Vo(t);return l.add({}).next(function(c){Ke(typeof c=="number");for(var h=new $0(c,n,r,i),p=function(E,k,I){var C=I.baseMutations.map(function(A){return hp(E.Fs,A)}),M=I.mutations.map(function(A){return hp(E.Fs,A)});return new Bt(k,I.batchId,I.vs.toMillis(),C,M)}(s.Qt,s.userId,h),f=[],m=new En(function(E,k){return ht(E.rt(),k.rt())}),v=0,y=i;v<y.length;v++){var _=y[v],w=jn.key(s.userId,_.key.path,c);m=m.add(_.key.path.X()),f.push(l.put(p)),f.push(a.put(w,jn.PLACEHOLDER))}return m.forEach(function(E){f.push(s.Ei.qs(t,E))}),t.gs(function(){s.Ii[c]=h.keys()}),de.Mn(f).next(function(){return h})})},e.prototype.Pi=function(t,n){var r=this;return Vo(t).get(n).next(function(i){return i?(Ke(i.userId===r.userId),Iu(r.Qt,i)):null})},e.prototype.yi=function(t,n){var r=this;return this.Ii[n]?de.resolve(this.Ii[n]):this.Pi(t,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},e.prototype.gi=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Vo(t).hs({index:Bt.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(Ke(c.batchId>=i),a=Iu(r.Qt,c)),h.done()}).next(function(){return a})},e.prototype.Vi=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Vo(t).hs({index:Bt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.pi=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).rs(Bt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Iu(n.Qt,s)})})},e.prototype.bi=function(t,n){var r=this,i=jn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Au(t).hs({range:s},function(l,c,h){var p=l[0],f=l[1],m=l[2],v=fo(f);if(p===r.userId&&n.path.isEqual(v))return Vo(t).get(m).next(function(y){if(!y)throw Ue();Ke(y.userId===r.userId),a.push(Iu(r.Qt,y))});h.done()}).next(function(){return a})},e.prototype.vi=function(t,n){var r=this,i=new En(ht),s=[];return n.forEach(function(a){var l=jn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Au(t).hs({range:c},function(p,f,m){var v=p[0],y=p[1],_=p[2],w=fo(y);v===r.userId&&a.path.isEqual(w)?i=i.add(_):m.done()});s.push(h)}),de.Mn(s).next(function(){return r.Si(t,i)})},e.prototype.Di=function(t,n){var r=this,i=n.path,s=i.length+1,a=jn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new En(ht);return Au(t).hs({range:l},function(h,p,f){var m=h[0],v=h[1],y=h[2],_=fo(v);m===r.userId&&i.nt(_)?_.length===s&&(c=c.add(y)):f.done()}).next(function(){return r.Si(t,c)})},e.prototype.Si=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Vo(t).get(a).next(function(l){if(l===null)throw Ue();Ke(l.userId===r.userId),i.push(Iu(r.Qt,l))}))}),de.Mn(s).next(function(){return i})},e.prototype.Ci=function(t,n){var r=this;return WO(t.ps,this.userId,n).next(function(i){return t.gs(function(){r.xi(n.batchId)}),de.forEach(i,function(s){return r.Ti.Ni(t,s)})})},e.prototype.xi=function(t){delete this.Ii[t]},e.prototype.$i=function(t){var n=this;return this.Ai(t).next(function(r){if(!r)return de.resolve();var i=IDBKeyRange.lowerBound(jn.prefixForUser(n.userId)),s=[];return Au(t).hs({range:i},function(a,l,c){if(a[0]===n.userId){var h=fo(a[1]);s.push(h)}else c.done()}).next(function(){Ke(s.length===0)})})},e.prototype.Fi=function(t,n){return KO(t,this.userId,n)},e.prototype.Oi=function(t){var n=this;return YO(t).get(this.userId).next(function(r){return r||new fs(n.userId,-1,"")})},e}();function KO(e,t,n){var r=jn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Au(e).hs({range:s,us:!0},function(l,c,h){var p=l[0],f=l[1];l[2],p===t&&f===i&&(a=!0),h.done()}).next(function(){return a})}function Vo(e){return kr(e,Bt.store)}function Au(e){return kr(e,jn.store)}function YO(e){return kr(e,fs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pp=function(){function e(t){this.ki=t}return e.prototype.next=function(){return this.ki+=2,this.ki},e.Mi=function(){return new e(0)},e.Li=function(){return new e(-1)},e}(),yG=function(){function e(t,n){this.Ti=t,this.Qt=n}return e.prototype.Bi=function(t){var n=this;return this.qi(t).next(function(r){var i=new pp(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(t,r).next(function(){return r.highestTargetId})})},e.prototype.Qi=function(t){return this.qi(t).next(function(n){return lt.K(new Ir(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.Ki=function(t){return this.qi(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.Wi=function(t,n,r){var i=this;return this.qi(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(t,s)})},e.prototype.ji=function(t,n){var r=this;return this.Gi(t,n).next(function(){return r.qi(t).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(t,i)})})},e.prototype.Hi=function(t,n){return this.Gi(t,n)},e.prototype.Ji=function(t,n){var r=this;return this.Yi(t,n.targetId).next(function(){return _u(t).delete(n.targetId)}).next(function(){return r.qi(t)}).next(function(i){return Ke(i.targetCount>0),i.targetCount-=1,r.Ui(t,i)})},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return _u(t).hs(function(l,c){var h=Sc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(t,h)))}).next(function(){return de.Mn(a)}).next(function(){return s})},e.prototype.In=function(t,n){return _u(t).hs(function(r,i){var s=Sc(i);n(s)})},e.prototype.qi=function(t){return hA(t).get(Fr.key).next(function(n){return Ke(n!==null),n})},e.prototype.Ui=function(t,n){return hA(t).put(Fr.key,n)},e.prototype.Gi=function(t,n){return _u(t).put(GO(this.Qt,n))},e.prototype.zi=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.Zi=function(t){return this.qi(t).next(function(n){return n.targetCount})},e.prototype.tr=function(t,n){var r=Uf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return _u(t).hs({range:i,index:Sr.queryTargetsIndexName},function(a,l,c){var h=Sc(l);rm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.er=function(t,n,r){var i=this,s=[],a=es(t);return n.forEach(function(l){var c=Si(l.path);s.push(a.put(new Mn(r,c))),s.push(i.Ti.nr(t,r,l))}),de.Mn(s)},e.prototype.sr=function(t,n,r){var i=this,s=es(t);return de.forEach(n,function(a){var l=Si(a.path);return de.Mn([s.delete([r,l]),i.Ti.ir(t,r,a)])})},e.prototype.Yi=function(t,n){var r=es(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.rr=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=es(t),s=jt();return i.hs({range:r,us:!0},function(a,l,c){var h=fo(a[1]),p=new $e(h);s=s.add(p)}).next(function(){return s})},e.prototype.Fi=function(t,n){var r=Si(n.path),i=IDBKeyRange.bound([r],[sO(r)],!1,!0),s=0;return es(t).hs({index:Mn.documentTargetsIndex,us:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.Sn=function(t,n){return _u(t).get(n).next(function(r){return r?Sc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e){return kr(e,Sr.store)}function hA(e){return kr(e,Fr.store)}function es(e){return kr(e,Mn.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=ht(n,i);return a===0?ht(r,s):a}var bG=function(){function e(t){this.cr=t,this.buffer=new En(dA),this.ar=0}return e.prototype.ur=function(){return++this.ar},e.prototype.hr=function(t){var n=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();dA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),_G=function(){function e(t,n){this.lr=t,this._s=n,this._r=!1,this.dr=null}return e.prototype.start=function(t){this.lr.params.zs!==-1&&this.wr(t)},e.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(e.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),e.prototype.wr=function(t){var n=this,r=this._r?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return ce(n,void 0,void 0,function(){var i;return ue(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return ja(i=s.sent())?(be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ba(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return s.sent(),[2]}})})})},e}(),wG=function(){function e(t,n){this.mr=t,this.params=n}return e.prototype.Ar=function(t,n){return this.mr.Rr(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.Pr=function(t,n){var r=this;if(n===0)return de.resolve(Ur.q);var i=new bG(n);return this.mr.In(t,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(t,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},e.prototype.Xi=function(t,n,r){return this.mr.Xi(t,n,r)},e.prototype.gr=function(t,n){return this.mr.gr(t,n)},e.prototype.Vr=function(t,n){var r=this;return this.params.zs===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(fA)):this.pr(t).next(function(i){return i<r.params.zs?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),fA):r.br(t,n)})},e.prototype.pr=function(t){return this.mr.pr(t)},e.prototype.br=function(t,n){var r,i,s,a,l,c,h,p=this,f=Date.now();return this.Ar(t,this.params.Hs).next(function(m){return m>p.params.Js?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.Js+" from "+m),i=p.params.Js):i=m,a=Date.now(),p.Pr(t,i)}).next(function(m){return r=m,l=Date.now(),p.Xi(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.gr(t,r)}).next(function(m){return h=Date.now(),Ab()<=St.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-f)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-f)+"ms"),de.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},e}(),EG=function(){function e(t,n){this.db=t,this.lr=function(r,i){return new wG(r,i)}(this,n)}return e.prototype.Rr=function(t){var n=this.vr(t);return this.db.Sr().Zi(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.vr=function(t){var n=0;return this.yr(t,function(r){n++}).next(function(){return n})},e.prototype.In=function(t,n){return this.db.Sr().In(t,n)},e.prototype.yr=function(t,n){return this.Dr(t,function(r,i){return n(i)})},e.prototype.nr=function(t,n,r){return ad(t,r)},e.prototype.ir=function(t,n,r){return ad(t,r)},e.prototype.Xi=function(t,n,r){return this.db.Sr().Xi(t,n,r)},e.prototype.Ni=function(t,n){return ad(t,n)},e.prototype.Cr=function(t,n){return function(r,i){var s=!1;return YO(r).ls(function(a){return KO(r,a,i).next(function(l){return l&&(s=!0),de.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.gr=function(t,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(t,function(l,c){if(c<=n){var h=r.Cr(t,l).next(function(p){if(!p)return a++,i._i(t,l).next(function(){return i.li(l),es(t).delete([0,Si(l.path)])})});s.push(h)}}).next(function(){return de.Mn(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.kt(t.bs);return this.db.Sr().Hi(t,r)},e.prototype.Fr=function(t,n){return ad(t,n)},e.prototype.Dr=function(t,n){var r,i=es(t),s=Ur.q;return i.hs({index:Mn.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),p=l.sequenceNumber;c===0?(s!==Ur.q&&n(new $e(fo(r)),s),s=p,r=h):s=Ur.q}).next(function(){s!==Ur.q&&n(new $e(fo(r)),s)})},e.prototype.pr=function(t){return this.db.$r().Or(t)},e}();function ad(e,t){return es(e).put(function(n,r){return new Mn(0,Si(n.path),r)}(t,e.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TG=function(){function e(t,n){this.Qt=t,this.Ei=n}return e.prototype.ai=function(t,n,r){return Xo(t).put(ud(n),r)},e.prototype.li=function(t,n){var r=Xo(t),i=ud(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.kr(t,i)})},e.prototype._i=function(t,n){var r=this;return Xo(t).get(ud(n)).next(function(i){return r.Mr(i)})},e.prototype.Lr=function(t,n){var r=this;return Xo(t).get(ud(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:dp(i)}:null})},e.prototype.getEntries=function(t,n){var r=this,i=cp();return this.Br(t,n,function(s,a){var l=r.Mr(a);i=i.zt(s,l)}).next(function(){return i})},e.prototype.qr=function(t,n){var r=this,i=cp(),s=new Qn($e.H);return this.Br(t,n,function(a,l){var c=r.Mr(l);c?(i=i.zt(a,c),s=s.zt(a,dp(l))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},e.prototype.Br=function(t,n,r){if(n.et())return de.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return Xo(t).hs({range:i},function(l,c,h){for(var p=$e.Et(l);a&&$e.H(a,p)<0;)r(a,null),a=s.oe();a&&a.isEqual(p)&&(r(a,c),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},e.prototype.Kr=function(t,n,r){var i=this,s=nf(),a=n.path.length+1,l={};if(r.isEqual(lt.min())){var c=n.path.it();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.it(),p=j0(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=nn.collectionReadTimeIndex}return Xo(t).hs(l,function(f,m,v){if(f.length===a){var y=Lb(i.Qt,m);n.path.nt(y.key.path)?y instanceof Ft&&jf(n,y)&&(s=s.zt(y.key,y)):v.done()}}).next(function(){return s})},e.prototype.Nr=function(t){return new SG(this,!!t&&t.Wr)},e.prototype.Or=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return pA(t).get($i.key).next(function(n){return Ke(!!n),n})},e.prototype.kr=function(t,n){return pA(t).put($i.key,n)},e.prototype.Mr=function(t){if(t){var n=Lb(this.Qt,t);return n instanceof On&&n.version.isEqual(lt.min())?null:n}return null},e}(),SG=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jr=n,i.Wr=r,i.Gr=new _l(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return Ce(t,e),t.prototype.wi=function(n){var r=this,i=[],s=0,a=new En(function(l,c){return ht(l.rt(),c.rt())});return this.ri.forEach(function(l,c){var h=r.Gr.get(l);if(c.hi){var p=aA(r.jr.Qt,c.hi,r.ci(l));a=a.add(l.path.X());var f=dp(p);s+=f-h,i.push(r.jr.ai(n,l,p))}else if(s-=h,r.Wr){var m=aA(r.jr.Qt,new On(l,lt.min()),r.ci(l));i.push(r.jr.ai(n,l,m))}else i.push(r.jr.li(n,l))}),a.forEach(function(l){i.push(r.jr.Ei.qs(n,l))}),i.push(this.jr.updateMetadata(n,s)),de.Mn(i)},t.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},t.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(l,c){i.Gr.set(l,c)}),a})},t}(qO);function pA(e){return kr(e,$i.store)}function Xo(e){return kr(e,nn.store)}function ud(e){return e.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IG=function(){function e(t){this.Qt=t}return e.prototype.Jn=function(t,n,r,i){var s=this;Ke(r<i&&r>=0&&i<=11);var a=new VO("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Rr.store)}(t),function(c){c.createObjectStore(fs.store,{keyPath:fs.keyPath}),c.createObjectStore(Bt.store,{keyPath:Bt.keyPath,autoIncrement:!0}).createIndex(Bt.userMutationsIndex,Bt.userMutationsKeyPath,{unique:!0}),c.createObjectStore(jn.store)}(t),mA(t),function(c){c.createObjectStore(nn.store)}(t));var l=de.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Mn.store),c.deleteObjectStore(Sr.store),c.deleteObjectStore(Fr.store)}(t),mA(t)),l=l.next(function(){return function(c){var h=c.store(Fr.store),p=new Fr(0,0,lt.min().j(),0);return h.put(Fr.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Bt.store).rs().next(function(p){c.deleteObjectStore(Bt.store),c.createObjectStore(Bt.store,{keyPath:Bt.keyPath,autoIncrement:!0}).createIndex(Bt.userMutationsIndex,Bt.userMutationsKeyPath,{unique:!0});var f=h.store(Bt.store),m=p.map(function(v){return f.put(v)});return de.Mn(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(go.store,{keyPath:go.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.zr(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore($i.store)}(t),s.Hr(a)})),r<7&&i>=7&&(l=l.next(function(){return s.Jr(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Yr(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(nn.store);h.createIndex(nn.readTimeIndex,nn.readTimeIndexPath,{unique:!1}),h.createIndex(nn.collectionReadTimeIndex,nn.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Xr(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(tl.store,{keyPath:tl.keyPath})})(t),function(c){c.createObjectStore(nl.store,{keyPath:nl.keyPath})}(t)})),l},e.prototype.Hr=function(t){var n=0;return t.store(nn.store).hs(function(r,i){n+=dp(i)}).next(function(){var r=new $i(n);return t.store($i.store).put($i.key,r)})},e.prototype.zr=function(t){var n=this,r=t.store(fs.store),i=t.store(Bt.store);return r.rs().next(function(s){return de.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(Bt.userMutationsIndex,l).next(function(c){return de.forEach(c,function(h){Ke(h.userId===a.userId);var p=Iu(n.Qt,h);return WO(t,a.userId,p).next(function(){})})})})})},e.prototype.Jr=function(t){var n=t.store(Mn.store),r=t.store(nn.store);return t.store(Fr.store).get(Fr.key).next(function(i){var s=[];return r.hs(function(a,l){var c=new At(a),h=function(p){return[0,Si(p)]}(c);s.push(n.get(h).next(function(p){return p?de.resolve():function(f){return n.put(new Mn(0,Si(f),i.highestListenSequenceNumber))}(c)}))}).next(function(){return de.Mn(s)})})},e.prototype.Yr=function(t,n){t.createObjectStore(_a.store,{keyPath:_a.keyPath});var r=n.store(_a.store),i=new B0,s=function(a){if(i.add(a)){var l=a.tt(),c=a.X();return r.put({collectionId:l,parent:Si(c)})}};return n.store(nn.store).hs({us:!0},function(a,l){var c=new At(a);return s(c.X())}).next(function(){return n.store(jn.store).hs({us:!0},function(a,l){a[0];var c=a[1],h=(a[2],fo(c));return s(h.X())})})},e.prototype.Xr=function(t){var n=this,r=t.store(Sr.store);return r.hs(function(i,s){var a=Sc(s),l=GO(n.Qt,a);return r.put(l)})},e}();function mA(e){e.createObjectStore(Mn.store,{keyPath:Mn.keyPath}).createIndex(Mn.documentTargetsIndex,Mn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Sr.store,{keyPath:Sr.keyPath}).createIndex(Sr.queryTargetsIndexName,Sr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fr.store)}var Ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",AG=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=l,this.eo=h,this.no=p,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(f){return Promise.resolve()},!e.Kn())throw new he(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new EG(this,i),this.ho=n+"main",this.Qt=new BO(c),this.lo=new el(this.ho,11,new IG(this.Qt)),this._o=new yG(this.Ti,this.Qt),this.Ei=new gG,this.fo=function(f,m){return new TG(f,m)}(this.Qt,this.Ei),this.wo=new pG,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,p===!1&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new he(Y.FAILED_PRECONDITION,Ty);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t._o.Ki(n)})}).then(function(n){t.so=new Ur(n,t.eo)}).then(function(){t.io=!0}).catch(function(n){return t.lo&&t.lo.close(),Promise.reject(n)})},e.prototype.Ro=function(t){var n=this;return this.uo=function(r){return ce(n,void 0,void 0,function(){return ue(this,function(i){return this.Er?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.Po=function(t){var n=this;this.lo.Xn(function(r){return ce(n,void 0,void 0,function(){return ue(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.yo=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return ce(n,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return ld(n).put(new go(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(n).next(function(r){r||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(n)}).next(function(r){return t.isPrimary&&!r?t.vo(n).next(function(){return!1}):!!r&&t.So(n).next(function(){return!0})})}).catch(function(n){if(ja(n))return be("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Zr.po(function(){return t.uo(n)}),t.isPrimary=n})},e.prototype.Vo=function(t){var n=this;return dc(t).get(Rr.key).next(function(r){return de.resolve(n.Do(r))})},e.prototype.Co=function(t){return ld(t).delete(this.clientId)},e.prototype.xo=function(){return ce(this,void 0,void 0,function(){var t,n,r,i,s=this;return ue(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=kr(l,go.store);return c.rs().next(function(h){var p=s.$o(h,18e5),f=h.filter(function(m){return p.indexOf(m)===-1});return de.forEach(f,function(m){return c.delete(m.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Eo)for(n=0,r=t;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},e.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.bo=function(t){var n=this;return this.no?de.resolve(!0):dc(t).get(Rr.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new he(Y.FAILED_PRECONDITION,Ty);return!1}}return!(!n.networkEnabled||!n.inForeground)||ld(t).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&be("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.ko=function(){return ce(this,void 0,void 0,function(){var t=this;return ue(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Rr.store,go.store],function(r){var i=new sA(r,Ur.q);return t.vo(i).next(function(){return t.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},e.prototype.$o=function(t,n){var r=this;return t.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},e.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return ld(n).rs().next(function(r){return t.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Qo=function(t){return vG.mi(t,this.Qt,this.Ei,this.Ti)},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Ko=function(){return this.Ei},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;be("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(t,a,hG,function(l){return s=new sA(l,i.so?i.so.next():Ur.q),n==="readwrite-primary"?i.Vo(s).next(function(c){return!!c||i.bo(s)}).next(function(c){if(!c)throw gn("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new he(Y.FAILED_PRECONDITION,$O);return r(s)}).next(function(c){return i.So(s).next(function(){return c})}):i.jo(s).next(function(){return r(s)})}).then(function(l){return s.Vs(),l})},e.prototype.jo=function(t){var n=this;return dc(t).get(Rr.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new he(Y.FAILED_PRECONDITION,Ty)})},e.prototype.So=function(t){var n=new Rr(this.clientId,this.allowTabSynchronization,Date.now());return dc(t).put(Rr.key,n)},e.Kn=function(){return el.Kn()},e.prototype.vo=function(t){var n=this,r=dc(t);return r.get(Rr.key).next(function(i){return n.Do(i)?(be("IndexedDbPersistence","Releasing primary lease."),r.delete(Rr.key)):de.resolve()})},e.prototype.No=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(gn("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.Io=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground=t.document.visibilityState==="visible",t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},e.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},e.prototype.mo=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},e.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},e.prototype.Oo=function(t){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(t)))!==null;return be("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return gn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){gn("Failed to set zombie client id.",t)}},e.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},e.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function dc(e){return kr(e,Rr.store)}function ld(e){return kr(e,go.store)}function H0(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var XO=function(){function e(t,n,r){this.fo=t,this.zo=n,this.Ei=r}return e.prototype.Ho=function(t,n){var r=this;return this.zo.bi(t,n).next(function(i){return r.Jo(t,n,i)})},e.prototype.Jo=function(t,n,r){return this.fo._i(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},e.prototype.Yo=function(t,n,r){var i=cp();return n.forEach(function(s,a){for(var l=0,c=r;l<c.length;l++)a=c[l].Cs(s,a);i=i.zt(s,a)}),i},e.prototype.Xo=function(t,n){var r=this;return this.fo.getEntries(t,n).next(function(i){return r.Zo(t,i)})},e.prototype.Zo=function(t,n){var r=this;return this.zo.vi(t,n).next(function(i){var s=r.Yo(t,n,i),a=ws();return s.forEach(function(l,c){c||(c=new On(l,lt.min())),a=a.zt(l,c)}),a})},e.prototype.Kr=function(t,n,r){return function(i){return $e.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(t,n.path):L0(n)?this.ec(t,n,r):this.nc(t,n,r)},e.prototype.tc=function(t,n){return this.Ho(t,new $e(n)).next(function(r){var i=nf();return r instanceof Ft&&(i=i.zt(r.key,r)),i})},e.prototype.ec=function(t,n,r){var i=this,s=n.collectionGroup,a=nf();return this.Ei.Us(t,s).next(function(l){return de.forEach(l,function(c){var h=function(p,f){return new To(f,null,p.xt.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.nc(t,h,r).next(function(p){p.forEach(function(f,m){a=a.zt(f,m)})})}).next(function(){return a})})},e.prototype.nc=function(t,n,r){var i,s,a=this;return this.fo.Kr(t,n,r).next(function(l){return i=l,a.zo.Di(t,n)}).next(function(l){return s=l,a.sc(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var f=p[h],m=0,v=f.mutations;m<v.length;m++){var y=v[m],_=y.key,w=Ob(y,i.get(_),f.vs);i=w instanceof Ft?i.zt(_,w):i.remove(_)}})}).next(function(){return i.forEach(function(l,c){jf(n,c)||(i=i.remove(l))}),i})},e.prototype.sc=function(t,n,r){for(var i=jt(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof ks&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.fo.getEntries(t,i).next(function(f){return f.forEach(function(m,v){v!==null&&v instanceof Ft&&(p=p.zt(m,v))}),p})},e}(),xG=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.ic=r,this.rc=i}return e.oc=function(t,n){for(var r=jt(),i=jt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),JO=function(){function e(){}return e.prototype.cc=function(t){this.ac=t},e.prototype.Kr=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(lt.min())?this.uc(t,n):this.ac.Xo(t,i).next(function(a){var l=s.hc(n,a);return(Ad(n)||lp(n))&&s.lc(n.limitType,l,i,r)?s.uc(t,n):(Ab()<=St.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nb(n)),s.ac.Kr(t,n,r).next(function(c){return l.forEach(function(h){c=c.zt(h.key,h)}),c}))})},e.prototype.hc=function(t,n){var r=new En(gO(t));return n.forEach(function(i,s){s instanceof Ft&&jf(t,s)&&(r=r.add(s))}),r},e.prototype.lc=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},e.prototype.uc=function(t,n){return Ab()<=St.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Nb(n)),this.ac.Kr(t,n,lt.min())},e}(),kG=function(){function e(t,n,r,i){this.persistence=t,this._c=n,this.Qt=i,this.fc=new Qn(ht),this.dc=new _l(function(s){return Uf(s)},rm),this.wc=lt.min(),this.zo=t.Qo(r),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new XO(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return e.prototype.Ir=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.Vr(r,n.fc)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t,n,r){return new kG(e,t,n,r)}function ZO(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s;return ue(this,function(a){switch(a.label){case 0:return n=ke(e),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n.zo.pi(l).next(function(h){return c=h,r=n.persistence.Qo(t),i=new XO(n.Ec,r,n.persistence.Ko()),r.pi(l)}).next(function(h){for(var p=[],f=[],m=jt(),v=0,y=c;v<y.length;v++){var _=y[v];p.push(_.batchId);for(var w=0,E=_.mutations;w<E.length;w++){var k=E[w];m=m.add(k.key)}}for(var I=0,C=h;I<C.length;I++){var M=C[I];f.push(M.batchId);for(var A=0,j=M.mutations;A<j.length;A++){var U=j[A];m=m.add(U.key)}}return i.Xo(l,m).next(function(P){return{Ic:P,mc:p,Ac:f}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function CG(e,t){var n=ke(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,l,c,h){var p=c.batch,f=p.keys(),m=de.resolve();return f.forEach(function(v){m=m.next(function(){return h._i(l,v)}).next(function(y){var _=y,w=c.$s.get(v);Ke(w!==null),(!_||_.version._(w)<0)&&(_=p.Ss(v,_,c))&&h.ai(_,c.Ns)})}),m.next(function(){return a.zo.Ci(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function eP(e){var t=ke(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t._o.Qi(n)})}function NG(e,t){var n=ke(e),r=t.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var l=[];t.$e.forEach(function(p,f){var m=i.get(f);if(m){l.push(n._o.sr(s,p.Qe,f).next(function(){return n._o.er(s,p.qe,f)}));var v=p.resumeToken;if(v.l()>0){var y=m.Mt(v,r).kt(s.bs);i=i.zt(f,y),function(_,w,E){return Ke(w.resumeToken.l()>0),_.resumeToken.l()===0||w.Ot.W()-_.Ot.W()>=3e8||E.qe.size+E.Ue.size+E.Qe.size>0}(m,y,p)&&l.push(n._o.Hi(s,y))}}});var c=ws();if(t.Oe.forEach(function(p,f){t.ke.has(p)&&l.push(n.persistence.Ti.Fr(s,p))}),l.push(OG(s,a,t.Oe,r,void 0).next(function(p){c=p})),!r.isEqual(lt.min())){var h=n._o.Qi(s).next(function(p){return n._o.Wi(s,s.bs,r)});l.push(h)}return de.Mn(l).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,c)})}).then(function(s){return n.fc=i,s})}function OG(e,t,n,r,i){var s=jt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=ws();return n.forEach(function(c,h){var p=a.get(c),f=(i==null?void 0:i.get(c))||r;h instanceof On&&h.version.isEqual(lt.min())?(t.li(c,f),l=l.zt(c,h)):p==null||h.version._(p.version)>0||h.version._(p.version)===0&&p.hasPendingWrites?(t.ai(h,f),l=l.zt(c,h)):be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function PG(e,t){var n=ke(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n.zo.gi(r,t)})}function mp(e,t){var n=ke(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,t).next(function(s){return s?(i=s,de.resolve(i)):n._o.Bi(r).next(function(a){return i=new im(t,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(t,r.targetId)),r})}function ol(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a;return ue(this,function(l){switch(l.label){case 0:r=ke(e),i=r.fc.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.Ti.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ja(a=l.sent()))throw a;return be("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.fc=r.fc.remove(t),r.dc.delete(i.target),[2]}})})}function gp(e,t,n){var r=ke(e),i=lt.min(),s=jt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=ke(l),f=p.dc.get(h);return f!==void 0?de.resolve(p.fc.get(f)):p._o.tr(c,h)}(r,a,Yi(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r._o.rr(a,l.targetId).next(function(c){s=c})}).next(function(){return r._c.Kr(a,t,n?i:lt.min(),n?s:jt())}).next(function(l){return{documents:l,Rc:s}})})}function tP(e,t){var n=ke(e),r=ke(n._o),i=n.fc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,t).next(function(a){return a?a.target:null})})}function nP(e){var t=ke(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=ke(r),l=ws(),c=j0(s),h=Xo(i),p=IDBKeyRange.lowerBound(c,!0);return h.hs({index:nn.readTimeIndex,range:p},function(f,m){var v=Lb(a.Qt,m);l=l.zt(v.key,v),c=m.readTime}).next(function(){return{Go:l,readTime:HO(c)}})}(t.Ec,n,t.wc)}).then(function(n){var r=n.Go,i=n.readTime;return t.wc=i,r})}function LG(e){return ce(this,void 0,void 0,function(){var t;return ue(this,function(n){return[2,(t=ke(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Xo(i),a=lt.min();return s.hs({index:nn.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=HO(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.wc=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RG=function(){function e(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return e.prototype.Os=function(t,n){return de.resolve(this.Vc.get(n))},e.prototype.ks=function(t,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:fr(r.createTime)}),de.resolve()},e.prototype.Ms=function(t,n){return de.resolve(this.bc.get(n))},e.prototype.Ls=function(t,n){return this.bc.set(n.name,function(r){return{name:r.name,query:zO(r.bundledQuery),readTime:fr(r.readTime)}}(n)),de.resolve()},e}(),G0=function(){function e(){this.vc=new En(Cn.Sc),this.Dc=new En(Cn.Cc)}return e.prototype.et=function(){return this.vc.et()},e.prototype.nr=function(t,n){var r=new Cn(t,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},e.prototype.xc=function(t,n){var r=this;t.forEach(function(i){return r.nr(i,n)})},e.prototype.ir=function(t,n){this.Nc(new Cn(t,n))},e.prototype.$c=function(t,n){var r=this;t.forEach(function(i){return r.ir(i,n)})},e.prototype.Fc=function(t){var n=this,r=new $e(new At([])),i=new Cn(r,t),s=new Cn(r,t+1),a=[];return this.Dc.me([i,s],function(l){n.Nc(l),a.push(l.key)}),a},e.prototype.Oc=function(){var t=this;this.vc.forEach(function(n){return t.Nc(n)})},e.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},e.prototype.kc=function(t){var n=new $e(new At([])),r=new Cn(n,t),i=new Cn(n,t+1),s=jt();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},e.prototype.Fi=function(t){var n=new Cn(t,0),r=this.vc.Re(n);return r!==null&&t.isEqual(r.key)},e}(),Cn=function(){function e(t,n){this.key=t,this.Mc=n}return e.Sc=function(t,n){return $e.H(t.key,n.key)||ht(t.Mc,n.Mc)},e.Cc=function(t,n){return ht(t.Mc,n.Mc)||$e.H(t.key,n.key)},e}(),DG=function(){function e(t,n){this.Ei=t,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new En(Cn.Sc)}return e.prototype.Ai=function(t){return de.resolve(this.zo.length===0)},e.prototype.Ri=function(t,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new $0(s,n,r,i);this.zo.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.Bc=this.Bc.add(new Cn(h.key,s)),this.Ei.qs(t,h.key.path.X())}return de.resolve(a)},e.prototype.Pi=function(t,n){return de.resolve(this.qc(n))},e.prototype.gi=function(t,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return de.resolve(this.zo.length>s?this.zo[s]:null)},e.prototype.Vi=function(){return de.resolve(this.zo.length===0?-1:this.Lc-1)},e.prototype.pi=function(t){return de.resolve(this.zo.slice())},e.prototype.bi=function(t,n){var r=this,i=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(l){var c=r.qc(l.Mc);a.push(c)}),de.resolve(a)},e.prototype.vi=function(t,n){var r=this,i=new En(ht);return n.forEach(function(s){var a=new Cn(s,0),l=new Cn(s,Number.POSITIVE_INFINITY);r.Bc.me([a,l],function(c){i=i.add(c.Mc)})}),de.resolve(this.Qc(i))},e.prototype.Di=function(t,n){var r=n.path,i=r.length+1,s=r;$e.wt(s)||(s=s.child(""));var a=new Cn(new $e(s),0),l=new En(ht);return this.Bc.Ae(function(c){var h=c.key.path;return!!r.nt(h)&&(h.length===i&&(l=l.add(c.Mc)),!0)},a),de.resolve(this.Qc(l))},e.prototype.Qc=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},e.prototype.Ci=function(t,n){var r=this;Ke(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return de.forEach(n.mutations,function(s){var a=new Cn(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(t,s.key)}).next(function(){r.Bc=i})},e.prototype.xi=function(t){},e.prototype.Fi=function(t,n){var r=new Cn(n,0),i=this.Bc.Re(r);return de.resolve(n.isEqual(i&&i.key))},e.prototype.$i=function(t){return this.zo.length,de.resolve()},e.prototype.Kc=function(t,n){return this.Uc(t)},e.prototype.Uc=function(t){return this.zo.length===0?0:t-this.zo[0].batchId},e.prototype.qc=function(t){var n=this.Uc(t);return n<0||n>=this.zo.length?null:this.zo[n]},e}(),MG=function(){function e(t,n){this.Ei=t,this.Wc=n,this.docs=new Qn($e.H),this.size=0}return e.prototype.ai=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:l,readTime:r}),this.size+=l-a,this.Ei.qs(t,i.path.X())},e.prototype.li=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype._i=function(t,n){var r=this.docs.get(n);return de.resolve(r?r.hi:null)},e.prototype.getEntries=function(t,n){var r=this,i=cp();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),de.resolve(i)},e.prototype.Kr=function(t,n,r){for(var i=nf(),s=new $e(n.path.child("")),a=this.docs.ee(s);a.ce();){var l=a.oe(),c=l.key,h=l.value,p=h.hi,f=h.readTime;if(!n.path.nt(c.path))break;f._(r)<=0||p instanceof Ft&&jf(n,p)&&(i=i.zt(p.key,p))}return de.resolve(i)},e.prototype.jc=function(t,n){return de.forEach(this.docs,function(r){return n(r)})},e.prototype.Nr=function(t){return new FG(this)},e.prototype.Or=function(t){return de.resolve(this.size)},e}(),FG=function(e){function t(n){var r=this;return(r=e.call(this)||this).jr=n,r}return Ce(t,e),t.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),de.Mn(i)},t.prototype.fi=function(n,r){return this.jr._i(n,r)},t.prototype.di=function(n,r){return this.jr.getEntries(n,r)},t}(qO),UG=function(){function e(t){this.persistence=t,this.Gc=new _l(function(n){return Uf(n)},rm),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.zc=0,this.Hc=new G0,this.targetCount=0,this.Jc=pp.Mi()}return e.prototype.In=function(t,n){return this.Gc.forEach(function(r,i){return n(i)}),de.resolve()},e.prototype.Qi=function(t){return de.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ki=function(t){return de.resolve(this.zc)},e.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),de.resolve(this.highestTargetId)},e.prototype.Wi=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),de.resolve()},e.prototype.Gi=function(t){this.Gc.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.Jc=new pp(n),this.highestTargetId=n),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},e.prototype.ji=function(t,n){return this.Gi(n),this.targetCount+=1,de.resolve()},e.prototype.Hi=function(t,n){return this.Gi(n),de.resolve()},e.prototype.Ji=function(t,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,de.resolve()},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.Gc.delete(l),a.push(i.Yi(t,c.targetId)),s++)}),de.Mn(a).next(function(){return s})},e.prototype.Zi=function(t){return de.resolve(this.targetCount)},e.prototype.tr=function(t,n){var r=this.Gc.get(n)||null;return de.resolve(r)},e.prototype.er=function(t,n,r){return this.Hc.xc(n,r),de.resolve()},e.prototype.sr=function(t,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(t,a))}),de.Mn(s)},e.prototype.Yi=function(t,n){return this.Hc.Fc(n),de.resolve()},e.prototype.rr=function(t,n){var r=this.Hc.kc(n);return de.resolve(r)},e.prototype.Fi=function(t,n){return de.resolve(this.Hc.Fi(n))},e}(),VG=function(){function e(t,n){var r=this;this.Yc={},this.so=new Ur(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new UG(this),this.Ei=new mG,this.fo=function(i,s){return new MG(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new BO(n),this.wo=new RG(this.Qt)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Po=function(){},e.prototype.yo=function(){},e.prototype.Ko=function(){return this.Ei},e.prototype.Qo=function(t){var n=this.Yc[t.A()];return n||(n=new DG(this.Ei,this.Ti),this.Yc[t.A()]=n),n},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;be("MemoryPersistence","Starting transaction:",t);var s=new $G(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},e.prototype.ea=function(t,n){return de.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(t,n)}}))},e}(),$G=function(e){function t(n){var r=this;return(r=e.call(this)||this).bs=n,r}return Ce(t,e),t}(jO),jG=function(){function e(t){this.persistence=t,this.na=new G0,this.sa=null}return e.ia=function(t){return new e(t)},Object.defineProperty(e.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ue()},enumerable:!1,configurable:!0}),e.prototype.nr=function(t,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),de.resolve()},e.prototype.ir=function(t,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),de.resolve()},e.prototype.Ni=function(t,n){return this.ra.add(n.toString()),de.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(t,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(t,n)})},e.prototype.Zc=function(){this.sa=new Set},e.prototype.ta=function(t){var n=this,r=this.persistence.$r().Nr();return de.forEach(this.ra,function(i){var s=$e._t(i);return n.oa(t,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(t)})},e.prototype.Fr=function(t,n){var r=this;return this.oa(t,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},e.prototype.Xc=function(t){return 0},e.prototype.oa=function(t,n){var r=this;return de.Ln([function(){return de.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(t,n)},function(){return r.persistence.ea(t,n)}])},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(e,t){return"firestore_clients_"+e+"_"+t}function vA(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.m()&&(r+="_"+t.uid),r}function Sy(e,t){return"firestore_targets_"+e+"_"+t}var yA=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.ca=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new he(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(gn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Iy=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.ca=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new he(i.error.code,i.error.message)),s?new e(t,i.state,r):(gn("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),bA=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.ca=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=am(),a=0;i&&a<r.activeTargetIds.length;++a)i=cO(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(gn("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),BG=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.ca=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(gn("SharedClientState","Failed to parse online state: "+t),null)},e}(),Rb=function(){function e(){this.activeTargetIds=am()}return e.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Ay=function(){function e(t,n,r,i,s){this.window=t,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Qn(ht),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=gA(this.persistenceKey,this.la),this.ma=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Rb),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.ga=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return e.Kn=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return ce(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,f,m=this;return ue(this,function(v){switch(v.label){case 0:return[4,this._a.Uo()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(gA(this.persistenceKey,i)))&&(a=bA.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(l=this.storage.getItem(this.ya))&&(c=this.pa(l))&&this.ba(c),h=0,p=this.Ta;h<p.length;h++)f=p[h],this.wa(f);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},e.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},e.prototype.va=function(){return this.Sa(this.Ea)},e.prototype.Da=function(t){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.Ca=function(t){this.xa(t,"pending")},e.prototype.Na=function(t,n,r){this.xa(t,n,r),this.$a(t)},e.prototype.Fa=function(t){var n="not-current";if(this.Da(t)){var r=this.storage.getItem(Sy(this.persistenceKey,t));if(r){var i=Iy.ca(t,r);i&&(n=i.state)}}return this.Oa.ua(t),this.Va(),n},e.prototype.ka=function(t){this.Oa.ha(t),this.Va()},e.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},e.prototype.La=function(t){this.removeItem(Sy(this.persistenceKey,t))},e.prototype.Ba=function(t,n,r){this.qa(t,n,r)},e.prototype.Ua=function(t,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=t,r.forEach(function(s){i.Ca(s)})},e.prototype.Qa=function(t){this.Ka(t)},e.prototype.Wa=function(){this.ja()},e.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return be("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){be("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){be("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.wa=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return ce(n,void 0,void 0,function(){var i,s,a,l,c,h;return ue(this,function(p){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(l=this.Xa(r.key,r.newValue)))return[2,this.Za(l)]}else if(r.key===this.ya){if(r.newValue!==null&&(c=this.pa(r.newValue)))return[2,this.ba(c)]}else if(r.key===this.ma)(h=function(f){var m=Ur.q;if(f!=null)try{var v=JSON.parse(f);Ke(typeof v=="number"),m=v}catch(y){gn("SharedClientState","Failed to read sequence number from WebStorage",y)}return m}(r.newValue))!==Ur.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),e.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},e.prototype.xa=function(t,n,r){var i=new yA(this.currentUser,t,n,r),s=vA(this.persistenceKey,this.currentUser,t);this.setItem(s,i.aa())},e.prototype.$a=function(t){var n=vA(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Ka=function(t){var n={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(n))},e.prototype.qa=function(t,n,r){var i=Sy(this.persistenceKey,t),s=new Iy(t,n,r);this.setItem(i,s.aa())},e.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},e.prototype.Ga=function(t){var n=this.Aa.exec(t);return n?n[1]:null},e.prototype.Ha=function(t,n){var r=this.Ga(t);return bA.ca(r,n)},e.prototype.Ja=function(t,n){var r=this.Ra.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return yA.ca(new Mr(s),i,n)},e.prototype.Xa=function(t,n){var r=this.Pa.exec(t),i=Number(r[1]);return Iy.ca(i,n)},e.prototype.pa=function(t){return BG.ca(t)},e.prototype.Ya=function(t){return ce(this,void 0,void 0,function(){return ue(this,function(n){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},e.prototype.za=function(t,n){var r=this,i=n?this.Ea.zt(t,n):this.Ea.remove(t),s=this.Sa(this.Ea),a=this.Sa(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this._a.su(l,c).then(function(){r.Ea=i})},e.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},e.prototype.Sa=function(t){var n=am();return t.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},e}(),rP=function(){function e(){this.iu=new Rb,this.ru={},this.fa=null,this.k=null}return e.prototype.Ca=function(t){},e.prototype.Na=function(t,n,r){},e.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},e.prototype.Ba=function(t,n,r){this.ru[t]=n},e.prototype.ka=function(t){this.iu.ha(t)},e.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.La=function(t){delete this.ru[t]},e.prototype.va=function(){return this.iu.activeTargetIds},e.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.start=function(){return this.iu=new Rb,Promise.resolve()},e.prototype.Ua=function(t,n,r){},e.prototype.Qa=function(t){},e.prototype.ko=function(){},e.prototype.B=function(t){},e.prototype.Wa=function(){},e}(),HG=function(){function e(){}return e.prototype.ou=function(t){},e.prototype.ko=function(){},e}(),_A=function(){function e(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return e.prototype.ou=function(t){this.lu.push(t)},e.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},e.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},e.prototype.au=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(0)},e.prototype.hu=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(1)},e.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),GG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zG=function(){function e(t){this.fu=t.fu,this.du=t.du}return e.prototype.wu=function(t){this.Eu=t},e.prototype.Tu=function(t){this.Iu=t},e.prototype.onMessage=function(t){this.mu=t},e.prototype.close=function(){this.du()},e.prototype.send=function(t){this.fu(t)},e.prototype.Au=function(){this.Eu()},e.prototype.Ru=function(t){this.Iu(t)},e.prototype.Pu=function(t){this.mu(t)},e}(),qG=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return Ce(t,e),t.prototype.Su=function(n,r,i,s){return new Promise(function(a,l){var c=new g4;c.listenOnce(p4.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Ey.NO_ERROR:var p=c.getResponseJson();be("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Ey.TIMEOUT:be("Connection",'RPC "'+n+'" timed out'),l(new he(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ey.HTTP_ERROR:var f=c.getStatus();if(be("Connection",'RPC "'+n+'" failed with status:',f,"response text:",c.getResponseText()),f>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var v=function(y){var _=y.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_)>=0?_:Y.UNKNOWN}(m.status);l(new he(v,m.message))}else l(new he(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new he(Y.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{be("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=h4(),a=d4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(l.initMessageHeaders,r),yB()||EB()||TB()||SB()||IB()||wB()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");be("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,f=!1,m=new zG({fu:function(y){f?be("Connection","Not sending because WebChannel is closed:",y):(p||(be("Connection","Opening WebChannel transport."),h.open(),p=!0),be("Connection","WebChannel sending:",y),h.send(y))},du:function(){return h.close()}}),v=function(y,_,w){y.listen(_,function(E){try{w(E)}catch(k){setTimeout(function(){throw k},0)}})};return v(h,od.EventType.OPEN,function(){f||be("Connection","WebChannel transport opened.")}),v(h,od.EventType.CLOSE,function(){f||(f=!0,be("Connection","WebChannel transport closed"),m.Ru())}),v(h,od.EventType.ERROR,function(y){f||(f=!0,xb("Connection","WebChannel transport errored:",y),m.Ru(new he(Y.UNAVAILABLE,"The operation could not be completed")))}),v(h,od.EventType.MESSAGE,function(y){var _;if(!f){var w=y.data[0];Ke(!!w);var E=w,k=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(k){be("Connection","WebChannel received error:",k);var I=k.status,C=function(A){var j=hn[A];if(j!==void 0)return AO(j)}(I),M=k.message;C===void 0&&(C=Y.INTERNAL,M="Unknown error status: "+I+" with message "+k.message),f=!0,m.Ru(new he(C,M)),h.close()}else be("Connection","WebChannel received:",w),m.Pu(w)}}),v(a,m4.STAT_EVENT,function(y){y.stat===DI.PROXY?be("Connection","Detected buffering proxy"):y.stat===DI.NOPROXY&&be("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},t}(function(){function e(t){this.yu=t,this.t=t.t;var n=t.ssl?"https":"http";this.gu=n+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.pu=function(t,n,r,i){var s=this.bu(t,n);be("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(t,s,a,r).then(function(l){return be("RestConnection","Received: ",l),l},function(l){throw xb("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Du=function(t,n,r,i){return this.pu(t,n,r,i)},e.prototype.vu=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(t[r]=n.g[r])},e.prototype.bu=function(t,n){var r=GG[t];return this.gu+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){return typeof window<"u"?window:null}function Cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(e){return new J4(e,!0)}var z0=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=t,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return e.prototype.reset=function(){this.Fu=0},e.prototype.Mu=function(){this.Fu=this.$u},e.prototype.Lu=function(t){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&be("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},e.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},e.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},e.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},e}(),oP=function(){function e(t,n,r,i,s,a){this.Zr=t,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new z0(t,n)}return e.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},e.prototype.Hu=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.Ju()},e.prototype.stop=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.Yu=function(){this.state=0,this.Gu.reset()},e.prototype.Xu=function(){var t=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},e.prototype.th=function(t){this.eh(),this.stream.send(t)},e.prototype.Zu=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},e.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},e.prototype.close=function(t,n){return ce(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,t!==3?this.Gu.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===Y.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},e.prototype.nh=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){t.Wu===r&&t.ih(i)},function(i){n(function(){var s=new he(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return t.rh(s)})})},e.prototype.ih=function(t){var n=this,r=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return ce(t,void 0,void 0,function(){return ue(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.rh=function(t){return be("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.sh=function(t){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===t?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),WG=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,l}return Ce(t,e),t.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},t.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Ue()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(w,E){return w.Bt?(Ke(E===void 0||typeof E=="string"),xr.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Uint8Array),xr.fromUint8Array(E||new Uint8Array))}(s,a.targetChange.resumeToken),f=(m=a.targetChange.cause)&&function(w){var E=w.code===void 0?Y.UNKNOWN:AO(w.code);return new he(E,w.message||"")}(m);l=new CO(c,h,p,f||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=mo(s,c.document.name),p=fr(c.document.updateTime);var m=new _s({mapValue:{fields:c.document.fields}}),v=(f=new Ft(h,p,m,{}),c.targetIds||[]),y=c.removedTargetIds||[];l=new kd(v,y,f.key,f)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=mo(s,c.document),p=c.readTime?fr(c.readTime):lt.min(),m=new On(h,p),f=c.removedTargetIds||[],l=new kd([],f,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=mo(s,c.document),p=c.removedTargetIds||[],l=new kd([],p,h,null);else{if(!("filter"in a))return Ue();a.filter;var _=a.filter;_.targetId,c=_.count||0,h=new j4(c),p=_.targetId,l=new kO(p,h)}return l}(this.Qt,n),i=function(s){if(!("targetChange"in s))return lt.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?lt.min():a.readTime?fr(a.readTime):lt.min()}(n);return this.listener.ah(r,i)},t.prototype.uh=function(n){var r={};r.database=sf(this.Qt),r.addTarget=function(s,a){var l,c=a.target;return(l=ap(c)?{documents:RO(s,c)}:{query:DO(s,c)}).targetId=a.targetId,a.resumeToken.l()>0?l.resumeToken=NO(s,a.resumeToken):a.Ot._(lt.min())>0&&(l.readTime=rf(s,a.Ot.j())),l}(this.Qt,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ue()}}(0,a.Ft);return l==null?null:{"goog-listen-tags":l}}(this.Qt,n);i&&(r.labels=i),this.th(r)},t.prototype.hh=function(n){var r={};r.database=sf(this.Qt),r.removeTarget=n,this.th(r)},t}(oP),KG=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,l.lh=!1,l}return Ce(t,e),Object.defineProperty(t.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.nh=function(){this.lh&&this.fh([])},t.prototype.oh=function(n){return this.Qu.Cu("Write",n)},t.prototype.onMessage=function(n){if(Ke(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(Ke(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?fr(c.updateTime):fr(h);p.isEqual(lt.min())&&(p=fr(h));var f=null;return c.transformResults&&c.transformResults.length>0&&(f=c.transformResults),new U4(p,f)}(l,a)})):[]}(n.writeResults,n.commitTime),i=fr(n.commitTime);return this.listener.dh(i,r)}return Ke(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},t.prototype.Eh=function(){var n={};n.database=sf(this.Qt),this.th(n)},t.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return hp(r.Qt,s)})};this.th(i)},t}(oP),YG=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return Ce(t,e),t.prototype.Ih=function(){if(this.Th)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===Y.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===Y.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.terminate=function(){this.Th=!1},t}(function(){}),XG=function(){function e(t,n){this._s=t,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return e.prototype.Ph=function(){var t=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},e.prototype.Vh=function(t){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},e.prototype.set=function(t){this.ph(),this.mh=0,t==="Online"&&(this.Rh=!1),this.yh(t)},e.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},e.prototype.gh=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(gn(n),this.Rh=!1):be("OnlineStateTracker",n)},e.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},e}(),JG=function(e,t,n,r,i){var s=this;this.bh=e,this.Sh=t,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return ce(s,void 0,void 0,function(){return ue(this,function(l){switch(l.label){case 0:return Cs(this)?(be("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return ce(this,void 0,void 0,function(){var h;return ue(this,function(p){switch(p.label){case 0:return(h=ke(c)).Nh.add(4),[4,wl(h)];case 1:return p.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,zf(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Oh=new XG(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e){return ce(this,void 0,void 0,function(){var t,n;return ue(this,function(r){switch(r.label){case 0:if(!Cs(e))return[3,4];t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function wl(e){return ce(this,void 0,void 0,function(){var t,n;return ue(this,function(r){switch(r.label){case 0:t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function lm(e,t){var n=ke(e);n.xh.has(t.targetId)||(n.xh.set(t.targetId,t),K0(n)?W0(n):Tl(n).Hu()&&q0(n,t))}function af(e,t){var n=ke(e),r=Tl(n);n.xh.delete(t),r.Hu()&&sP(n,t),n.xh.size===0&&(r.Hu()?r.Xu():Cs(n)&&n.Oh.set("Unknown"))}function q0(e,t){e.kh.on(t.targetId),Tl(e).uh(t)}function sP(e,t){e.kh.on(t),Tl(e).hh(t)}function W0(e){e.kh=new K4({vn:function(t){return e.Dh.vn(t)},Sn:function(t){return e.xh.get(t)||null}}),Tl(e).start(),e.Oh.Ph()}function K0(e){return Cs(e)&&!Tl(e).zu()&&e.xh.size>0}function Cs(e){return ke(e).Nh.size===0}function aP(e){e.kh=void 0}function QG(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){return e.xh.forEach(function(n,r){q0(e,n)}),[2]})})}function ZG(e,t){return ce(this,void 0,void 0,function(){return ue(this,function(n){return aP(e),K0(e)?(e.Oh.Vh(t),W0(e)):e.Oh.set("Unknown"),[2]})})}function ez(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s;return ue(this,function(a){switch(a.label){case 0:if(e.Oh.set("Online"),!(t instanceof CO&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return ce(this,void 0,void 0,function(){var h,p,f,m;return ue(this,function(v){switch(v.label){case 0:h=c.cause,p=0,f=c.targetIds,v.label=1;case 1:return p<f.length?(m=f[p],l.xh.has(m)?[4,l.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:v.sent(),l.xh.delete(m),l.kh.removeTarget(m),v.label=3;case 3:v.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,vp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof kd?e.kh.dn(t):t instanceof kO?e.kh.Pn(t):e.kh.Tn(t),n.isEqual(lt.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,eP(e.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(l,c){var h=l.kh.Vn(c);return h.$e.forEach(function(p,f){if(p.resumeToken.l()>0){var m=l.xh.get(f);m&&l.xh.set(f,m.Mt(p.resumeToken,c))}}),h.Fe.forEach(function(p){var f=l.xh.get(p);if(f){l.xh.set(p,f.Mt(xr.T,f.Ot)),sP(l,p);var m=new im(f.target,p,1,f.sequenceNumber);q0(l,m)}}),l.Dh.Lh(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return be("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,vp(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function vp(e,t,n){return ce(this,void 0,void 0,function(){var r=this;return ue(this,function(i){switch(i.label){case 0:if(!ja(t))throw t;return e.Nh.add(1),[4,wl(e)];case 1:return i.sent(),e.Oh.set("Offline"),n||(n=function(){return eP(e.bh)}),e._s.po(function(){return ce(r,void 0,void 0,function(){return ue(this,function(s){switch(s.label){case 0:return be("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Nh.delete(1),[4,zf(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function uP(e,t){return t().catch(function(n){return vp(e,n,t)})}function El(e){return ce(this,void 0,void 0,function(){var t,n,r,i,s;return ue(this,function(a){switch(a.label){case 0:t=ke(e),n=Es(t),r=t.Ch.length>0?t.Ch[t.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Cs(l)&&l.Ch.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,PG(t.bh,r)];case 3:return(i=a.sent())===null?(t.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(l,c){l.Ch.push(c);var h=Es(l);h.Hu()&&h._h&&h.fh(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,vp(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return lP(t)&&cP(t),[2]}})})}function lP(e){return Cs(e)&&!Es(e).zu()&&e.Ch.length>0}function cP(e){Es(e).start()}function tz(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){return Es(e).Eh(),[2]})})}function nz(e){return ce(this,void 0,void 0,function(){var t,n,r,i;return ue(this,function(s){for(t=Es(e),n=0,r=e.Ch;n<r.length;n++)i=r[n],t.fh(i.mutations);return[2]})})}function rz(e,t,n){return ce(this,void 0,void 0,function(){var r,i;return ue(this,function(s){switch(s.label){case 0:return r=e.Ch.shift(),i=dG.from(r,t,n),[4,uP(e,function(){return e.Dh.Bh(i)})];case 1:return s.sent(),[4,El(e)];case 2:return s.sent(),[2]}})})}function iz(e,t){return ce(this,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:return t&&Es(e)._h?[4,function(r,i){return ce(this,void 0,void 0,function(){var s,a;return ue(this,function(l){switch(l.label){case 0:return IO(a=i.code)&&a!==Y.ABORTED?(s=r.Ch.shift(),Es(r).Yu(),[4,uP(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,El(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return lP(e)&&cP(e),[2]}})})}function Db(e,t){return ce(this,void 0,void 0,function(){var n;return ue(this,function(r){switch(r.label){case 0:return n=ke(e),t?(n.Nh.delete(2),[4,zf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Nh.add(2),[4,wl(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Tl(e){var t=this;return e.Uh||(e.Uh=function(n,r,i){var s=ke(n);return s.Ih(),new WG(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:QG.bind(null,e),Tu:ZG.bind(null,e),ah:ez.bind(null,e)}),e.$h.push(function(n){return ce(t,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return n?(e.Uh.Yu(),K0(e)?W0(e):e.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Uh.stop()];case 2:r.sent(),aP(e),r.label=3;case 3:return[2]}})})})),e.Uh}function Es(e){var t=this;return e.Qh||(e.Qh=function(n,r,i){var s=ke(n);return s.Ih(),new KG(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:tz.bind(null,e),Tu:iz.bind(null,e),wh:nz.bind(null,e),dh:rz.bind(null,e)}),e.$h.push(function(n){return ce(t,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return n?(e.Qh.Yu(),[4,El(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qh.stop()];case 3:r.sent(),e.Ch.length>0&&(be("RemoteStore","Stopping write stream with "+e.Ch.length+" pending writes"),e.Ch=[]),r.label=4;case 4:return[2]}})})})),e.Qh}var oz=function(){this.Kh=void 0,this.listeners=[]},sz=function(){this.queries=new _l(function(e){return mO(e)},$f),this.onlineState="Unknown",this.Wh=new Set};function Y0(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return ue(this,function(h){switch(h.label){case 0:if(n=ke(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new oz),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return l=h.sent(),c=bl(l,"Initialization of query '"+Nb(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.Gh(n.onlineState),s.Kh&&t.zh(s.Kh)&&J0(n),[2]}})})}function X0(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a;return ue(this,function(l){return n=ke(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function az(e,t){for(var n=ke(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].zh(a)&&(r=!0);c.Kh=a}}r&&J0(n)}function uz(e,t,n){var r=ke(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function J0(e){e.Wh.forEach(function(t){t.next()})}var Q0=function(){function e(t,n,r){this.query=t,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new fp(t.query,t.docs,t.Se,n,t.De,t.fromCache,t.Ce,!0)}var a=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),a=!0):this.tl(t,this.onlineState)&&(this.el(t),a=!0),this.Xh=t,a},e.prototype.onError=function(t){this.Jh.error(t)},e.prototype.Gh=function(t){this.onlineState=t;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),n=!0),n},e.prototype.tl=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||t.docs.et()&&n!=="Offline")},e.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.el=function(t){t=fp.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fP=function(e){this.key=e},hP=function(e){this.key=e},dP=function(){function e(t,n){this.query=t,this.cl=n,this.al=null,this.Be=!1,this.ul=jt(),this.De=jt(),this.hl=gO(t),this.ll=new xO(this.hl)}return Object.defineProperty(e.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),e.prototype.fl=function(t,n){var r=this,i=n?n.dl:new XI,s=n?n.ll:this.ll,a=n?n.De:this.De,l=s,c=!1,h=Ad(this.query)&&s.size===this.query.limit?s.last():null,p=lp(this.query)&&s.size===this.query.limit?s.first():null;if(t.Xt(function(m,v){var y=s.get(m),_=v instanceof Ft?v:null;_&&(_=jf(r.query,_)?_:null);var w=!!y&&r.De.has(y.key),E=!!_&&(_.Vt||r.De.has(_.key)&&_.hasCommittedMutations),k=!1;y&&_?y.data().isEqual(_.data())?w!==E&&(i.track({type:3,doc:_}),k=!0):r.wl(y,_)||(i.track({type:2,doc:_}),k=!0,(h&&r.hl(_,h)>0||p&&r.hl(_,p)<0)&&(c=!0)):!y&&_?(i.track({type:0,doc:_}),k=!0):y&&!_&&(i.track({type:1,doc:y}),k=!0,(h||p)&&(c=!0)),k&&(_?(l=l.add(_),a=E?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Ad(this.query)||lp(this.query))for(;l.size>this.query.limit;){var f=Ad(this.query)?l.last():l.first();l=l.delete(f.key),a=a.delete(f.key),i.track({type:1,doc:f})}return{ll:l,dl:i,lc:c,De:a}},e.prototype.wl=function(t,n){return t.Vt&&n.hasCommittedMutations&&!n.Vt},e.prototype.wi=function(t,n,r){var i=this,s=this.ll;this.ll=t.ll,this.De=t.De;var a=t.dl.ve();a.sort(function(p,f){return function(m,v){var y=function(_){switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return y(m)-y(v)}(p.type,f.type)||i.hl(p.doc,f.doc)}),this.El(r);var l=n?this.Tl():[],c=this.ul.size===0&&this.Be?1:0,h=c!==this.al;return this.al=c,a.length!==0||h?{snapshot:new fp(this.query,t.ll,s,a,t.De,c===0,h,!1),Il:l}:{Il:l}},e.prototype.Gh=function(t){return this.Be&&t==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new XI,De:this.De,lc:!1},!1)):{Il:[]}},e.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},e.prototype.El=function(t){var n=this;t&&(t.qe.forEach(function(r){return n.cl=n.cl.add(r)}),t.Ue.forEach(function(r){}),t.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=t.Be)},e.prototype.Tl=function(){var t=this;if(!this.Be)return[];var n=this.ul;this.ul=jt(),this.ll.forEach(function(i){t.ml(i.key)&&(t.ul=t.ul.add(i.key))});var r=[];return n.forEach(function(i){t.ul.has(i)||r.push(new hP(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new fP(i))}),r},e.prototype.Al=function(t){this.cl=t.Rc,this.ul=jt();var n=this.fl(t.documents);return this.wi(n,!0)},e.prototype.Rl=function(){return fp.Ne(this.query,this.ll,this.De,this.al===0)},e}(),lz=function(e,t,n){this.query=e,this.targetId=t,this.view=n},cz=function(e){this.key=e,this.Pl=!1},fz=function(){function e(t,n,r,i,s,a){this.bh=t,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new _l(function(l){return mO(l)},$f),this.Sl=new Map,this.Dl=new Set,this.Cl=new Qn($e.H),this.xl=new Map,this.Nl=new G0,this.$l={},this.Fl=new Map,this.Ol=pp.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(e.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),e}();function hz(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a,l;return ue(this,function(c){switch(c.label){case 0:return n=rw(e),(s=n.vl.get(t))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,mp(n.bh,Yi(t))];case 2:return a=c.sent(),l=n.Vl.Fa(a.targetId),r=a.targetId,[4,Z0(n,t,r,l==="current")];case 3:i=c.sent(),n.Ml&&lm(n.yl,a),c.label=4;case 4:return[2,i]}})})}function Z0(e,t,n,r){return ce(this,void 0,void 0,function(){var i,s,a,l,c,h;return ue(this,function(p){switch(p.label){case 0:return e.Ll=function(f,m,v){return function(y,_,w,E){return ce(this,void 0,void 0,function(){var k,I,C;return ue(this,function(M){switch(M.label){case 0:return k=_.view.fl(w),k.lc?[4,gp(y.bh,_.query,!1).then(function(A){var j=A.documents;return _.view.fl(j,k)})]:[3,2];case 1:k=M.sent(),M.label=2;case 2:return I=E&&E.$e.get(_.targetId),C=_.view.wi(k,y.Ml,I),[2,(Mb(y,_.targetId,C.Il),C.snapshot)]}})})}(e,f,m,v)},[4,gp(e.bh,t,!0)];case 1:return i=p.sent(),s=new dP(t,i.Rc),a=s.fl(i.documents),l=F0.Le(n,r&&e.onlineState!=="Offline"),c=s.wi(a,e.Ml,l),Mb(e,n,c.Il),h=new lz(t,n,s),[2,(e.vl.set(t,h),e.Sl.has(n)?e.Sl.get(n).push(t):e.Sl.set(n,[t]),c.snapshot)]}})})}function dz(e,t){return ce(this,void 0,void 0,function(){var n,r,i;return ue(this,function(s){switch(s.label){case 0:return n=ke(e),r=n.vl.get(t),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!$f(a,t)})),void n.vl.delete(t))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,ol(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),af(n.yl,r.targetId),sl(n,r.targetId)}).catch(Ba)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return sl(n,r.targetId),[4,ol(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function pz(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a;return ue(this,function(l){switch(l.label){case 0:r=iw(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,f=ke(c),m=Ir.now(),v=h.reduce(function(y,_){return y.add(_.key)},jt());return f.persistence.runTransaction("Locally write mutations","readwrite",function(y){return f.Tc.Xo(y,v).next(function(_){p=_;for(var w=[],E=0,k=h;E<k.length;E++){var I=k[E],C=$4(I,p.get(I.key));C!=null&&w.push(new ks(I.key,C,fO(C.proto.mapValue),qn.exists(!0)))}return f.zo.Ri(y,m,w,h)})}).then(function(y){var _=y.xs(p);return{batchId:y.batchId,ri:_}})}(r.bh,t)];case 2:return i=l.sent(),r.Vl.Ca(i.batchId),function(c,h,p){var f=c.$l[c.currentUser.A()];f||(f=new Qn(ht)),f=f.zt(h,p),c.$l[c.currentUser.A()]=f}(r,i.batchId,n),[4,Ns(r,i.ri)];case 3:return l.sent(),[4,El(r.yl)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=bl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function pP(e,t){return ce(this,void 0,void 0,function(){var n,r;return ue(this,function(i){switch(i.label){case 0:n=ke(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,NG(n.bh,t)];case 2:return r=i.sent(),t.$e.forEach(function(s,a){var l=n.xl.get(a);l&&(Ke(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?l.Pl=!0:s.Ue.size>0?Ke(l.Pl):s.Qe.size>0&&(Ke(l.Pl),l.Pl=!1))}),[4,Ns(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ba(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function wA(e,t,n){var r=ke(e);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var l=a.view.Gh(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=ke(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var f=0,m=p.listeners;f<m.length;f++)m[f].Gh(a)&&(c=!0)}),c&&J0(l)}(r.gl,t),i.length&&r.bl.ah(i),r.onlineState=t,r.Ml&&r.Vl.Qa(t)}}function mz(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a,l,c;return ue(this,function(h){switch(h.label){case 0:return(r=ke(e)).Vl.Ba(t,"rejected",n),i=r.xl.get(t),(s=i&&i.key)?(a=(a=new Qn($e.H)).zt(s,new On(s,lt.min())),l=jt().add(s),c=new M0(lt.min(),new Map,new En(ht),a,l),[4,pP(r,c)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(t),nw(r),[3,4];case 2:return[4,ol(r.bh,t,!1).then(function(){return sl(r,t,n)}).catch(Ba)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function gz(e,t){return ce(this,void 0,void 0,function(){var n,r,i;return ue(this,function(s){switch(s.label){case 0:n=ke(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,CG(n.bh,t)];case 2:return i=s.sent(),tw(n,r,null),ew(n,r),n.Vl.Na(r,"acknowledged"),[4,Ns(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ba(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function vz(e,t,n){return ce(this,void 0,void 0,function(){var r,i;return ue(this,function(s){switch(s.label){case 0:r=ke(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c.zo.Pi(h,l).next(function(f){return Ke(f!==null),p=f.keys(),c.zo.Ci(h,f)}).next(function(){return c.zo.$i(h)}).next(function(){return c.Tc.Xo(h,p)})})}(r.bh,t)];case 2:return i=s.sent(),tw(r,t,n),ew(r,t),r.Vl.Na(t,"rejected",n),[4,Ns(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ba(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function yz(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a;return ue(this,function(l){switch(l.label){case 0:Cs((n=ke(e)).yl)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=ke(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h.zo.Vi(p)})}(n.bh)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fl.get(r)||[]).push(t),n.Fl.set(r,i),[3,4]);case 3:return s=l.sent(),a=bl(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function ew(e,t){(e.Fl.get(t)||[]).forEach(function(n){n.resolve()}),e.Fl.delete(t)}function tw(e,t,n){var r=ke(e),i=r.$l[r.currentUser.A()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.$l[r.currentUser.A()]=i}}function sl(e,t,n){n===void 0&&(n=null),e.Vl.ka(t);for(var r=0,i=e.Sl.get(t);r<i.length;r++){var s=i[r];e.vl.delete(s),n&&e.bl.Bl(s,n)}e.Sl.delete(t),e.Ml&&e.Nl.Fc(t).forEach(function(a){e.Nl.Fi(a)||mP(e,a)})}function mP(e,t){e.Dl.delete(t.path.rt());var n=e.Cl.get(t);n!==null&&(af(e.yl,n),e.Cl=e.Cl.remove(t),e.xl.delete(n),nw(e))}function Mb(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof fP?(e.Nl.nr(s.key,t),bz(e,s)):s instanceof hP?(be("SyncEngine","Document no longer in limbo: "+s.key),e.Nl.ir(s.key,t),e.Nl.Fi(s.key)||mP(e,s.key)):Ue()}}function bz(e,t){var n=t.key,r=n.path.rt();e.Cl.get(n)||e.Dl.has(r)||(be("SyncEngine","New document in limbo: "+n),e.Dl.add(r),nw(e))}function nw(e){for(;e.Dl.size>0&&e.Cl.size<e.pl;){var t=e.Dl.values().next().value;e.Dl.delete(t);var n=new $e(At.ot(t)),r=e.Ol.next();e.xl.set(r,new cz(n)),e.Cl=e.Cl.zt(n,r),lm(e.yl,new im(Yi(Vf(n.path)),r,2,Ur.q))}}function Ns(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a;return ue(this,function(l){switch(l.label){case 0:return r=ke(e),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(c,h){a.push(r.Ll(h,t,n).then(function(p){if(p){r.Ml&&r.Vl.Ba(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var f=xG.oc(h.targetId,p);s.push(f)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.bl.ah(i),[4,function(c,h){return ce(this,void 0,void 0,function(){var p,f,m,v,y,_,w,E,k;return ue(this,function(I){switch(I.label){case 0:p=ke(c),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(C){return de.forEach(h,function(M){return de.forEach(M.ic,function(A){return p.persistence.Ti.nr(C,M.targetId,A)}).next(function(){return de.forEach(M.rc,function(A){return p.persistence.Ti.ir(C,M.targetId,A)})})})})];case 2:return I.sent(),[3,4];case 3:if(!ja(f=I.sent()))throw f;return be("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(m=0,v=h;m<v.length;m++)y=v[m],_=y.targetId,y.fromCache||(w=p.fc.get(_),E=w.Ot,k=w.Lt(E),p.fc=p.fc.zt(_,k));return[2]}})})}(r.bh,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function _z(e,t){return ce(this,void 0,void 0,function(){var n,r;return ue(this,function(i){switch(i.label){case 0:return(n=ke(e)).currentUser.isEqual(t)?[3,3]:(be("SyncEngine","User change. New user:",t.A()),[4,ZO(n.bh,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fl.forEach(function(l){l.forEach(function(c){c.reject(new he(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(t,r.mc,r.Ac),[4,Ns(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function wz(e,t){var n=ke(e),r=n.xl.get(t);if(r&&r.Pl)return jt().add(r.key);var i=jt(),s=n.Sl.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.vl.get(c);i=i.Pe(h.view._l)}return i}function Ez(e,t){return ce(this,void 0,void 0,function(){var n,r,i;return ue(this,function(s){switch(s.label){case 0:return[4,gp((n=ke(e)).bh,t.query,!0)];case 1:return r=s.sent(),i=t.view.Al(r),[2,(n.Ml&&Mb(n,t.targetId,i.Il),i)]}})})}function Tz(e){return ce(this,void 0,void 0,function(){var t;return ue(this,function(n){return[2,nP((t=ke(e)).bh).then(function(r){return Ns(t,r)})]})})}function Sz(e,t,n,r){return ce(this,void 0,void 0,function(){var i,s;return ue(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=ke(l),p=ke(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return p.yi(f,c).next(function(m){return m?h.Tc.Xo(f,m):de.resolve(null)})})}((i=ke(e)).bh,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,El(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(tw(i,t,r||null),ew(i,t),function(l,c){ke(ke(l).zo).xi(c)}(i.bh,t)):Ue(),a.label=4;case 4:return[4,Ns(i,s)];case 5:return a.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Iz(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return ue(this,function(p){switch(p.label){case 0:return rw(n=ke(e)),iw(n),t!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,EA(n,r.it())]);case 1:return i=p.sent(),n.kl=!0,[4,Db(n.yl,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],lm(n.yl,l);return[3,7];case 3:return t!==!1||n.kl===!1?[3,7]:(c=[],h=Promise.resolve(),n.Sl.forEach(function(f,m){n.Vl.Ma(m)?c.push(m):h=h.then(function(){return sl(n,m),ol(n.bh,m,!0)}),af(n.yl,m)}),[4,h]);case 4:return p.sent(),[4,EA(n,c)];case 5:return p.sent(),function(f){var m=ke(f);m.xl.forEach(function(v,y){af(m.yl,y)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new Qn($e.H)}(n),n.kl=!1,[4,Db(n.yl,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function EA(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,f,m,v,y,_,w;return ue(this,function(E){switch(E.label){case 0:r=ke(e),i=[],s=[],a=0,l=t,E.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Sl.get(c))&&p.length!==0?[4,mp(r.bh,Yi(p[0]))]:[3,7]):[3,13];case 2:h=E.sent(),f=0,m=p,E.label=3;case 3:return f<m.length?(v=m[f],y=r.vl.get(v),[4,Ez(r,y)]):[3,6];case 4:(_=E.sent()).snapshot&&s.push(_.snapshot),E.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,tP(r.bh,c)];case 8:return w=E.sent(),[4,mp(r.bh,w)];case 9:return h=E.sent(),[4,Z0(r,gP(w),c,!1)];case 10:E.sent(),E.label=11;case 11:i.push(h),E.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function gP(e){return dO(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Az(e){var t=ke(e);return ke(ke(t.bh).persistence).Uo()}function xz(e,t,n,r){return ce(this,void 0,void 0,function(){var i,s,a;return ue(this,function(l){switch(l.label){case 0:return(i=ke(e)).kl?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nP(i.bh)];case 3:return s=l.sent(),a=M0.Me(t,n==="current"),[4,Ns(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,ol(i.bh,t,!0)];case 6:return l.sent(),sl(i,t,r),[3,8];case 7:Ue(),l.label=8;case 8:return[2]}})})}function kz(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,f,m;return ue(this,function(v){switch(v.label){case 0:if(!(r=rw(e)).kl)return[3,10];i=0,s=t,v.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(be("SyncEngine","Adding an already active target "+a),[3,5]):[4,tP(r.bh,a)]):[3,6];case 2:return l=v.sent(),[4,mp(r.bh,l)];case 3:return c=v.sent(),[4,Z0(r,gP(l),c.targetId,!1)];case 4:v.sent(),lm(r.yl,c),v.label=5;case 5:return i++,[3,1];case 6:h=function(y){return ue(this,function(_){switch(_.label){case 0:return r.Sl.has(y)?[4,ol(r.bh,y,!1).then(function(){af(r.yl,y),sl(r,y)}).catch(Ba)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})},p=0,f=n,v.label=7;case 7:return p<f.length?(m=f[p],[5,h(m)]):[3,10];case 8:v.sent(),v.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function rw(e){var t=ke(e);return t.yl.Dh.Lh=pP.bind(null,t),t.yl.Dh.vn=wz.bind(null,t),t.yl.Dh.Mh=mz.bind(null,t),t.bl.ah=az.bind(null,t.gl),t.bl.Bl=uz.bind(null,t.gl),t}function iw(e){var t=ke(e);return t.yl.Dh.Bh=gz.bind(null,t),t.yl.Dh.qh=vz.bind(null,t),t}var vP=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return ce(this,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:return this.Qt=um(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},e.prototype.zl=function(t){return null},e.prototype.Hl=function(t){return QO(this.persistence,new JO,t.Jl,this.Qt)},e.prototype.jl=function(t){return new VG(jG.ia,this.Qt)},e.prototype.Wl=function(t){return new rP},e.prototype.terminate=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},e}(),yP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return Ce(t,e),t.prototype.initialize=function(n){return ce(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,LG(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,iw(this.Yl._a)];case 4:return r.sent(),[4,El(this.Yl.yl)];case 5:return r.sent(),[2]}})})},t.prototype.Hl=function(n){return QO(this.persistence,new JO,n.Jl,this.Qt)},t.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new _G(r,n._s)},t.prototype.jl=function(n){var r=H0(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?Fi.Ys(this.cacheSizeBytes):Fi.ti;return new AG(this.synchronizeTabs,r,n.clientId,i,n._s,iP(),Cd(),this.Qt,this.Vl,!!this.forceOwnership)},t.prototype.Wl=function(n){return new rP},t}(vP),Cz=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ce(t,e),t.prototype.initialize=function(n){return ce(this,void 0,void 0,function(){var r,i=this;return ue(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof Ay?(this.Vl._a={eu:Sz.bind(null,r),nu:xz.bind(null,r),su:kz.bind(null,r),Uo:Az.bind(null,r),tu:Tz.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return ce(i,void 0,void 0,function(){return ue(this,function(l){switch(l.label){case 0:return[4,Iz(this.Yl._a,a)];case 1:return l.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Wl=function(n){var r=iP();if(!Ay.Kn(r))throw new he(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=H0(n.yu.t,n.yu.persistenceKey);return new Ay(r,n._s,i,n.clientId,n.Jl)},t}(yP),Fb=function(){function e(){}return e.prototype.initialize=function(t,n){return ce(this,void 0,void 0,function(){var r=this;return ue(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!t.synchronizeTabs),this.Vl.fa=function(s){return wA(r._a,s,1)},this.yl.Dh.n_=_z.bind(null,this._a),[4,Db(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.t_=function(t){return new sz},e.prototype.Xl=function(t){var n,r=um(t.yu.t),i=(n=t.yu,new qG(n));return function(s,a,l){return new YG(s,a,l)}(t.credentials,i,r)},e.prototype.Zl=function(t){var n,r,i,s,a,l=this;return n=this.bh,r=this.Sh,i=t._s,s=function(c){return wA(l._a,c,0)},a=_A.Kn()?new _A:new HG,new JG(n,r,i,s,a)},e.prototype.e_=function(t,n){return function(r,i,s,a,l,c,h){var p=new fz(r,i,s,a,l,c);return h&&(p.kl=!0),p}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,n)},e.prototype.terminate=function(){return function(t){return ce(this,void 0,void 0,function(){var n;return ue(this,function(r){switch(r.label){case 0:return n=ke(t),be("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,wl(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.i_=function(){this.muted=!0},e.prototype.s_=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),vo=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Ii(t)}return e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(),Ha=function(e){this._methodName=e},bt=function(e){this.d_=e};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(e,t,n){if(!n)throw new he(Y.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function sw(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new he(Y.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function bP(e,t,n,r){if(t===!0&&r===!0)throw new he(Y.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function TA(e){if(!$e.wt(e))throw new he(Y.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function SA(e){if($e.wt(e))throw new he(Y.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function fm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ue()}function kt(e,t){if("_delegate"in e&&(e=e.d_),!(e instanceof t)){if(t.name===e.constructor.name)throw new he(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fm(e);throw new he(Y.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function IA(e,t){if(t<=0)throw new he(Y.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AA=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new he(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new he(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,bP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),xA=new Map,uf=function(){function e(t,n){this.w_="(lite)",this.E_=new AA({}),this.T_=!1,t instanceof ip?(this.I_=t,this.m_=new MI):(this.A_=t,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ip(r.options.projectId)}(t),this.m_=new w4(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.A_)throw new he(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),e.prototype.g_=function(t){if(this.T_)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new AA(t),t.credentials!==void 0&&(this.m_=function(n){if(!n)return new MI;switch(n.type){case"gapi":var r=n.client;return Ke(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new T4(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new he(Y.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.V_=function(){return this.E_},e.prototype.p_=function(){return this.T_=!0,this.E_},e.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},e.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},e.prototype.b_=function(){return t=this,(n=xA.get(t))&&(be("ComponentProvider","Removing Datastore"),xA.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Qt=function(){function e(t,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hs(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.S_)},e}(),Gr=function(){function e(t,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.C_)},e}(),hs=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Vf(i))||this).firestore=n,s.D_=i,s.type="collection",s}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Qt(this.firestore,null,new $e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this.D_)},t}(Gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof bt&&(e=e.d_),ow("collection","path",t),e instanceof uf)return SA(n=At.ot.apply(At,zn([t],r))),new hs(e,null,n);if(!(e instanceof Qt||e instanceof hs))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SA(n=At.ot.apply(At,zn([e.path],r)).child(At.ot(t))),new hs(e.firestore,null,n)}function Nd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof bt&&(e=e.d_),arguments.length===1&&(t=oO.u()),ow("doc","path",t),e instanceof uf)return TA(n=At.ot.apply(At,zn([t],r))),new Qt(e,null,new $e(n));if(!(e instanceof Qt||e instanceof hs))throw new he(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TA(n=e.D_.child(At.ot.apply(At,zn([t],r)))),new Qt(e.firestore,e instanceof hs?e.v_:null,new $e(n))}function wP(e,t){return e instanceof bt&&(e=e.d_),t instanceof bt&&(t=t.d_),(e instanceof Qt||e instanceof hs)&&(t instanceof Qt||t instanceof hs)&&e.firestore===t.firestore&&e.path===t.path&&e.v_===t.v_}function EP(e,t){return e instanceof bt&&(e=e.d_),t instanceof bt&&(t=t.d_),e instanceof Gr&&t instanceof Gr&&e.firestore===t.firestore&&$f(e.C_,t.C_)&&e.v_===t.v_}var hm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new he(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new he(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=t,this.N_=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},e.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},e.prototype.U=function(t){return ht(this.x_,t.x_)||ht(this.N_,t.N_)},e}(),Nz=/^__.*__$/,Oz=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return this.Gt!==null?new ks(t,this.data,this.Gt,n,this.fieldTransforms):new Hf(t,this.data,n,this.fieldTransforms)},e}(),TP=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return new ks(t,this.data,this.Gt,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}var IP=function(){function e(t,n,r,i,s,a){this.settings=t,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),e.prototype.M_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},e.prototype.L_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.q_(t),i},e.prototype.U_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.O_(),i},e.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},e.prototype.K_=function(t){return yp(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},e.prototype.contains=function(t){return this.Gt.find(function(n){return t.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return t.nt(n.field)})!==void 0},e.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},e.prototype.q_=function(t){if(t.length===0)throw this.K_("Document fields must not be empty");if(SP(this.k_)&&Nz.test(t))throw this.K_('Document fields cannot begin and end with "__"')},e}(),Pz=function(){function e(t,n,r){this.t=t,this.ignoreUndefinedProperties=n,this.Qt=r||um(t)}return e.prototype.G_=function(t,n,r,i){return i===void 0&&(i=!1),new IP({k_:t,methodName:n,j_:r,path:Ii.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},e}();function Ga(e){var t=e.p_(),n=um(e.I_);return new Pz(e.I_,!!t.ignoreUndefinedProperties,n)}function dm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.G_(s.merge||s.mergeFields?2:0,t,n,i);cw("Data must be an object, but it was:",a,r);var l,c,h=kP(r,a);if(s.merge)l=new Ku(a.Gt),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],f=0,m=s.mergeFields;f<m.length;f++){var v=Ub(t,m[f],n);if(!a.contains(v))throw new he(Y.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");NP(p,v)||p.push(v)}l=new Ku(p),c=a.fieldTransforms.filter(function(y){return l.Tt(y.field)})}else l=null,c=a.fieldTransforms;return new Oz(new _s(h),l,c)}var aw=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ha);function AP(e,t,n){return new IP({k_:3,j_:t.settings.j_,methodName:e._methodName,B_:n},t.t,t.Qt,t.ignoreUndefinedProperties)}var Lz=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.z_=function(n){return new Bf(n.path,new Qu)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ha),Rz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return Ce(t,e),t.prototype.z_=function(n){var r=AP(this,n,!0),i=this.H_.map(function(a){return za(a,r)}),s=new Na(i);return new Bf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ha),Dz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return Ce(t,e),t.prototype.z_=function(n){var r=AP(this,n,!0),i=this.H_.map(function(a){return za(a,r)}),s=new Oa(i);return new Bf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ha),Mz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).J_=r,i}return Ce(t,e),t.prototype.z_=function(n){var r=new Zu(n.Qt,bO(n.Qt,this.J_));return new Bf(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ha);function uw(e,t,n,r){var i=e.G_(1,t,n);cw("Data must be an object, but it was:",i,r);var s=[],a=new Ff;Mf(r,function(c,h){var p=fw(t,c,n);h instanceof bt&&(h=h.d_);var f=i.U_(p);if(h instanceof aw)s.push(p);else{var m=za(h,f);m!=null&&(s.push(p),a.set(p,m))}});var l=new Ku(s);return new TP(a.Pt(),l,i.fieldTransforms)}function lw(e,t,n,r,i,s){var a=e.G_(1,t,n),l=[Ub(t,r,n)],c=[i];if(s.length%2!=0)throw new he(Y.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(Ub(t,s[h])),c.push(s[h+1]);for(var p=[],f=new Ff,m=l.length-1;m>=0;--m)if(!NP(p,l[m])){var v=l[m],y=c[m];y instanceof bt&&(y=y.d_);var _=a.U_(v);if(y instanceof aw)p.push(v);else{var w=za(y,_);w!=null&&(p.push(v),f.set(v,w))}}var E=new Ku(p);return new TP(f.Pt(),E,a.fieldTransforms)}function xP(e,t,n,r){return r===void 0&&(r=!1),za(n,e.G_(r?4:3,t))}function za(e,t){if(e instanceof bt&&(e=e.d_),CP(e))return cw("Unsupported field value:",t,e),kP(e,t);if(e instanceof Ha)return function(n,r){if(!SP(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.Gt.push(t.path),e instanceof Array){if(t.settings.B_&&t.k_!==4)throw t.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=za(l[a],r.Q_(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if(n instanceof bt&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bO(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Ir.fromDate(n);return{timestampValue:rf(r.Qt,i)}}if(n instanceof Ir)return i=new Ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:rf(r.Qt,i)};if(n instanceof hm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ca)return{bytesValue:NO(r.Qt,n.I)};if(n instanceof Qt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:U0(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+fm(n))}(e,t)}function kP(e,t){var n={};return uO(e)?t.path&&t.path.length>0&&t.Gt.push(t.path):Mf(e,function(r,i){var s=za(i,t.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CP(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ir||e instanceof hm||e instanceof Ca||e instanceof Qt||e instanceof Ha)}function cw(e,t,n){if(!CP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=fm(n);throw r==="an object"?t.K_(e+" a custom object"):t.K_(e+" "+r)}}function Ub(e,t,n){if(t instanceof bt&&(t=t.d_),t instanceof vo)return t.f_;if(typeof t=="string")return fw(e,t);throw yp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Fz=new RegExp("[~\\*/\\[\\]]");function fw(e,t,n){if(t.search(Fz)>=0)throw yp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(vo.bind.apply(vo,zn([void 0],t.split("."))))().f_}catch{throw yp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function yp(e,t,n,r,i){var s=r&&!r.et(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new he(Y.INVALID_ARGUMENT,(l+=". ")+e+c)}function NP(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uz=function(){function e(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return e.prototype.ef=function(t){return ce(this,void 0,void 0,function(){var n,r=this;return ue(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new he(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return ce(this,void 0,void 0,function(){var l,c,h,p,f,m;return ue(this,function(v){switch(v.label){case 0:return l=ke(s),c=sf(l.Qt)+"/documents",h={documents:a.map(function(y){return of(l.Qt,y)})},[4,l.Du("BatchGetDocuments",c,h)];case 1:return p=v.sent(),f=new Map,p.forEach(function(y){var _=function(w,E){return"found"in E?function(k,I){Ke(!!I.found),I.found.name,I.found.updateTime;var C=mo(k,I.found.name),M=fr(I.found.updateTime),A=new _s({mapValue:{fields:I.found.fields}});return new Ft(C,M,A,{})}(w,E):"missing"in E?function(k,I){Ke(!!I.missing),Ke(!!I.readTime);var C=mo(k,I.missing),M=fr(I.readTime);return new On(C,M)}(w,E):Ue()}(l.Qt,y);f.set(_.key.toString(),_)}),m=[],[2,(a.forEach(function(y){var _=f.get(y.toString());Ke(!!_),m.push(_)}),m)]}})})}(this.Sh,t)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof On||s instanceof Ft?r.sf(s):Ue()}),n)]}})})},e.prototype.set=function(t,n){this.write(n.F_(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.F_(t,this.rf(t)))}catch(r){this.Z_=r}this.tf.add(t.toString())},e.prototype.delete=function(t){this.write(new Gf(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.commit=function(){return ce(this,void 0,void 0,function(){var t,n=this;return ue(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=$e._t(s);n.mutations.push(new D0(a,n.jt(a)))}),[4,function(i,s){return ce(this,void 0,void 0,function(){var a,l,c;return ue(this,function(h){switch(h.label){case 0:return a=ke(i),l=sf(a.Qt)+"/documents",c={writes:s.map(function(p){return hp(a.Qt,p)})},[4,a.pu("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},e.prototype.sf=function(t){var n;if(t instanceof Ft)n=t.version;else{if(!(t instanceof On))throw Ue();n=lt.min()}var r=this.Y_.get(t.key.toString());if(r){if(!n.isEqual(r))throw new he(Y.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),n)},e.prototype.jt=function(t){var n=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&n?qn.updateTime(n):qn.Kt()},e.prototype.rf=function(t){var n=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&n){if(n.isEqual(lt.min()))throw new he(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qn.updateTime(n)}return qn.exists(!0)},e.prototype.write=function(t){this.nf(),this.mutations.push(t)},e.prototype.nf=function(){},e}(),Vz=function(){function e(t,n,r,i){this._s=t,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new z0(this._s,"transaction_retry")}return e.prototype.run=function(){this.af()},e.prototype.af=function(){var t=this;this.Gu.Lu(function(){return ce(t,void 0,void 0,function(){var n,r,i=this;return ue(this,function(s){return n=new Uz(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(l){i.hf(l)})})}).catch(function(a){i.hf(a)}),[2]})})})},e.prototype.uf=function(t){try{var n=this.updateFunction(t);return!$a(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},e.prototype.hf=function(t){var n=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(t)},e.prototype.lf=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!IO(n)}return!1},e}(),$z=function(){function e(t,n,r){var i=this;this.credentials=t,this._s=n,this.yu=r,this.user=Mr.UNAUTHENTICATED,this.clientId=oO.u(),this._f=function(){},this.C=new Kr,this.credentials.v(function(s){be("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return e.prototype.getConfiguration=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},e.prototype.ff=function(t){var n=this;this._f=t,this.C.promise.then(function(){return n._f(n.user)})},e.prototype.df=function(){if(this._s.wf)throw new he(Y.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this._s.Ef();var n=new Kr;return this._s.Tf(function(){return ce(t,void 0,void 0,function(){var r,i;return ue(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=bl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(e,t){return ce(this,void 0,void 0,function(){var n,r,i=this;return ue(this,function(s){switch(s.label){case 0:return e._s.Af(),be("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.Jl,e.ff(function(a){r.isEqual(a)||(r=a,e._s.po(function(){return ce(i,void 0,void 0,function(){return ue(this,function(l){switch(l.label){case 0:return[4,ZO(t.bh,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.Po(function(){return e.terminate()}),e.mf=t,[2]}})})}function PP(e,t){return ce(this,void 0,void 0,function(){var n,r;return ue(this,function(i){switch(i.label){case 0:return e._s.Af(),[4,hw(e)];case 1:return n=i.sent(),be("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.ff(function(s){return e._s.po(function(){return function(a,l){return ce(this,void 0,void 0,function(){var c,h;return ue(this,function(p){switch(p.label){case 0:return(c=ke(a))._s.Af(),be("RemoteStore","RemoteStore received new credentials"),h=Cs(c),c.Nh.add(3),[4,wl(c)];case 1:return p.sent(),h&&c.Oh.set("Unknown"),[4,c.Dh.n_(l)];case 2:return p.sent(),c.Nh.delete(3),[4,zf(c)];case 3:return p.sent(),[2]}})})}(t.yl,s)})}),e.If=t,[2]}})})}function hw(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return e.mf?[3,2]:(be("FirestoreClient","Using default OfflineComponentProvider"),[4,OP(e,new vP)]);case 1:t.sent(),t.label=2;case 2:return[2,e.mf]}})})}function pm(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return e.If?[3,2]:(be("FirestoreClient","Using default OnlineComponentProvider"),[4,PP(e,new Fb)]);case 1:t.sent(),t.label=2;case 2:return[2,e.If]}})})}function kA(e){return hw(e).then(function(t){return t.persistence})}function LP(e){return hw(e).then(function(t){return t.bh})}function CA(e){return pm(e).then(function(t){return t.yl})}function RP(e){return pm(e).then(function(t){return t._a})}function al(e){return ce(this,void 0,void 0,function(){var t,n;return ue(this,function(r){switch(r.label){case 0:return[4,pm(e)];case 1:return t=r.sent(),[2,((n=t.gl).jh=hz.bind(null,t._a),n.Hh=dz.bind(null,t._a),n)]}})})}function NA(e,t,n){var r=this;n===void 0&&(n={});var i=new Kr;return e._s.Ps(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,f){var m=new cm({next:function(y){c.Ps(function(){return X0(l,v)});var _=y.docs.has(h);!_&&y.fromCache?f.reject(new he(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&p&&p.source==="server"?f.reject(new he(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:function(y){return f.reject(y)}}),v=new Q0(Vf(h.path),m,{includeMetadataChanges:!0,nl:!0});return Y0(l,v)},[4,al(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}function OA(e,t,n){var r=this;n===void 0&&(n={});var i=new Kr;return e._s.Ps(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,f){var m=new cm({next:function(y){c.Ps(function(){return X0(l,v)}),y.fromCache&&p.source==="server"?f.reject(new he(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:function(y){return f.reject(y)}}),v=new Q0(h,m,{includeMetadataChanges:!0,nl:!0});return Y0(l,v)},[4,al(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}var jz=function(){function e(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new z0(this,"async_queue_retry"),this.vf=function(){var r=Cd();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Gu.qu()};var n=Cd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(e.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),e.prototype.Ps=function(t){this.enqueue(t)},e.prototype.Tf=function(t){this.Sf(),this.Df(t)},e.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Cd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.vf)}},e.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(t)},e.prototype.po=function(t){var n=this;this.Ps(function(){return n.Pf.push(t),n.Cf()})},e.prototype.Cf=function(){return ce(this,void 0,void 0,function(){var t,n=this;return ue(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!ja(t=r.sent()))throw t;return be("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},e.prototype.Df=function(t){var n=this,r=this.Rf.then(function(){return n.pf=!0,t().catch(function(i){throw n.Vf=i,n.pf=!1,gn("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},e.prototype.Tr=function(t,n,r){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(n=0);var s=aG.Ts(this,t,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},e.prototype.Sf=function(){this.Vf&&Ue()},e.prototype.Af=function(){},e.prototype.Nf=function(){return ce(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,t=this.Rf];case 1:n.sent(),n.label=2;case 2:if(t!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.$f=function(t){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===t)return!0;return!1},e.prototype.Ff=function(t){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,l){return a.ds-l.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),t!=="all"&&s.fs===t)break}return n.Nf()})},e.prototype.Of=function(t){this.bf.push(t)},e.prototype.xf=function(t){var n=this.gf.indexOf(t);this.gf.splice(n,1)},e}();function ul(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var Bz=-1,_n=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Bf=new jz,i.w_="name"in n?n.name:"[DEFAULT]",i}return Ce(t,e),t.prototype.b_=function(){return this.qf||DP(this),this.qf.terminate()},t}(uf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(e){return e.qf||DP(e),e.qf.df(),e.qf}function DP(e){var t=e.p_(),n=function(r,i,s){return new y4(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(e.I_,e.w_,t);e.qf=new $z(e.m_,e.Bf,n)}function PA(e,t,n){var r=this,i=new Kr;return e._s.enqueue(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,OP(e,n)];case 1:return a.sent(),[4,PP(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function LA(e){if(e.R_||e.P_)throw new he(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dw=function(){function e(){}return e.prototype.Uf=function(t,n){switch(n===void 0&&(n="none"),bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pn(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,n);case 5:return t.stringValue;case 6:return this.Wf(Yu(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,n);case 10:return this.Hf(t.mapValue,n);default:throw Ue()}},e.prototype.Hf=function(t,n){var r=this,i={};return Mf(t.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},e.prototype.Gf=function(t){return new hm(pn(t.latitude),pn(t.longitude))},e.prototype.zf=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.Uf(i,n)})},e.prototype.Kf=function(t,n){switch(n){case"previous":var r=lO(t);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Zc(t));default:return null}},e.prototype.Qf=function(t){var n=ys(t);return new Ir(n.seconds,n.nanos)},e.prototype.Jf=function(t,n){var r=At.ot(t);Ke(UO(r));var i=new ip(r.get(1),r.get(3)),s=new $e(r.Y(5));return i.isEqual(n)||gn("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}(),lf=function(){function e(t,n,r,i,s){this.Yf=t,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Qt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this.Zf!==null},e.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Hz(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},e.prototype.get=function(t){if(this.Zf){var n=this.Zf.data().field(bp("DocumentSnapshot.get",t));if(n!==null)return this.Xf.Uf(n)}},e}(),Hz=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(lf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(e,t){return typeof t=="string"?fw(e,t):t instanceof bt?t.d_.f_:t.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(e){if(lp(e)&&e.xt.length===0)throw new he(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qf=function(){};function $o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s.td(e)}return e}var Gz=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return Ce(t,e),t.prototype.td=function(n){var r=Ga(n.firestore),i=function(s,a,l,c,h,p,f){var m;if(h.ut()){if(p==="array-contains"||p==="array-contains-any")throw new he(Y.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){UA(f,p);for(var v=[],y=0,_=f;y<_.length;y++){var w=_[y];v.push(FA(c,s,w))}m={arrayValue:{values:v}}}else m=FA(c,s,f)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||UA(f,p),m=xP(l,"where",f,p==="in"||p==="not-in");var E=Vr.create(h,p,m);return function(k,I){if(I.Ct()){var C=P0(k);if(C!==null&&!C.isEqual(I.field))throw new he(Y.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+C.toString()+"' and '"+I.field.toString()+"'");var M=O0(k);M!==null&&UP(k,I.field,M)}var A=function(j,U){for(var P=0,z=j.filters;P<z.length;P++){var L=z[P];if(U.indexOf(L.op)>=0)return L.op}return null}(k,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(A!==null)throw A===I.op?new he(Y.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+I.op.toString()+"' filter."):new he(Y.INVALID_ARGUMENT,"Invalid query. You cannot use '"+I.op.toString()+"' filters with '"+A.toString()+"' filters.")}(s,E),E}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new Gr(n.firestore,n.v_,function(s,a){var l=s.filters.concat([a]);return new To(s.path,s.collectionGroup,s.xt.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},t}(qf),zz=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return Ce(t,e),t.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new he(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Vu(s,a);return function(c,h){if(O0(c)===null){var p=P0(c);p!==null&&UP(c,p,h.field)}}(i,l),l}(n.C_,this.ed,this.rd);return new Gr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new To(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},t}(qf),RA=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.od=r,s.ad=i,s}return Ce(t,e),t.prototype.td=function(n){return new Gr(n.firestore,n.v_,pO(n.C_,this.od,this.ad))},t}(qf),DA=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return Ce(t,e),t.prototype.td=function(n){var r=FP(n,this.type,this.ud,this.hd);return new Gr(n.firestore,n.v_,function(i,s){return new To(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},t}(qf),MA=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return Ce(t,e),t.prototype.td=function(n){var r=FP(n,this.type,this.ud,this.hd);return new Gr(n.firestore,n.v_,function(i,s){return new To(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},t}(qf);function FP(e,t,n,r){if(n[0]instanceof bt&&(n[0]=n[0].d_),n[0]instanceof lf)return function(s,a,l,c,h){if(!c)throw new he(Y.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],f=0,m=Ju(s);f<m.length;f++){var v=m[f];if(v.field.ut())p.push(sp(a,c.key));else{var y=c.field(v.field);if(I0(y))throw new he(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var _=v.field.rt();throw new he(Y.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+_+"' (used as the orderBy) does not exist.")}p.push(y)}}return new tf(p,h)}(e.C_,e.firestore.I_,t,n[0].Zf,r);var i=Ga(e.firestore);return function(s,a,l,c,h,p){var f=s.xt;if(h.length>f.length)throw new he(Y.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],v=0;v<h.length;v++){var y=h[v];if(f[v].field.ut()){if(typeof y!="string")throw new he(Y.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof y);if(!L0(s)&&y.indexOf("/")!==-1)throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+y+"' contains a slash.");var _=s.path.child(At.ot(y));if(!$e.wt(_))throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+_+"' is not because it contains an odd number of segments.");var w=new $e(_);m.push(sp(a,w))}else{var E=xP(l,c,y);m.push(E)}}return new tf(m,p)}(e.C_,e.firestore.I_,i,t,n,r)}function FA(e,t,n){if(n instanceof bt&&(n=n.d_),typeof n=="string"){if(n==="")throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!L0(t)&&n.indexOf("/")!==-1)throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(At.ot(n));if(!$e.wt(r))throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return sp(e,new $e(r))}if(n instanceof Qt)return sp(e,n.S_);throw new he(Y.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fm(n)+".")}function UA(e,t){if(!Array.isArray(e)||e.length===0)throw new he(Y.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new he(Y.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function UP(e,t,n){if(!n.isEqual(t))throw new he(Y.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var qz=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.Wf=function(n){return new Ca(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Qt(this.firestore,null,r)},t}(dw),ga=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),yo=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this).Yf=n,c.ld=n,c.metadata=a,c}return Ce(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new Oc(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(bp("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},t}(lf),Oc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(yo),ts=function(){function e(t,n,r,i){this.Yf=t,this.Xf=n,this._d=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._d.docs.forEach(function(i){t.call(n,new Oc(r.Yf,r.Xf,i.key,i,new ga(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._d.xe)throw new he(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(l){var c=new Oc(r.Yf,r.Xf,l.doc.key,l.doc,new ga(r._d.De.has(l.doc.key),r._d.fromCache),r.query.v_);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Oc(r.Yf,r.Xf,l.doc.key,l.doc,new ga(r._d.De.has(l.doc.key),r._d.fromCache),r.query.v_),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:Wz(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this.dd=n),this.fd},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}function VP(e,t){return e instanceof yo&&t instanceof yo?e.Yf===t.Yf&&e.S_.isEqual(t.S_)&&(e.Zf===null?t.Zf===null:e.Zf.isEqual(t.Zf))&&e.v_===t.v_:e instanceof ts&&t instanceof ts&&e.Yf===t.Yf&&EP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._d.isEqual(t._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.Wf=function(n){return new Ca(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Qt(this.firestore,null,r)},t}(dw);function VA(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=kt(e,Qt);var s=kt(e.firestore,_n),a=Ga(s);return t instanceof bt&&(t=t.d_),cf(s,[(typeof t=="string"||t instanceof vo?lw(a,"updateDoc",e.S_,t,n,r):uw(a,"updateDoc",e.S_,t)).F_(e.S_,qn.exists(!0))])}function $P(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e instanceof bt&&(e=e.d_);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||ul(i[l])||(a=i[l],l++);var c,h,p,f={includeMetadataChanges:a.includeMetadataChanges};if(ul(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Qt)h=kt(e.firestore,_n),p=Vf(e.S_.path),c={next:function(_){i[l]&&i[l](Vb(h,e,_))},error:i[l+1],complete:i[l+2]};else{var v=kt(e,Gr);h=kt(v.firestore,_n),p=v.C_;var y=new wa(h);c={next:function(_){i[l]&&i[l](new ts(h,y,v,_))},error:i[l+1],complete:i[l+2]},MP(e.C_)}return function(_,w,E,k){var I=this,C=new cm(k),M=new Q0(w,C,E);return _._s.Ps(function(){return ce(I,void 0,void 0,function(){var A;return ue(this,function(j){switch(j.label){case 0:return A=Y0,[4,al(_)];case 1:return[2,A.apply(void 0,[j.sent(),M])]}})})}),function(){C.i_(),_._s.Ps(function(){return ce(I,void 0,void 0,function(){var A;return ue(this,function(j){switch(j.label){case 0:return A=X0,[4,al(_)];case 1:return[2,A.apply(void 0,[j.sent(),M])]}})})})}}(Bn(h),p,f,c)}function cf(e,t){return function(n,r){var i=this,s=new Kr;return n._s.Ps(function(){return ce(i,void 0,void 0,function(){var a;return ue(this,function(l){switch(l.label){case 0:return a=pz,[4,RP(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Bn(e),t)}function Vb(e,t,n){var r=n.docs.get(t.S_),i=new wa(e);return new yo(e,i,t.S_,r,new ga(n.hasPendingWrites,n.fromCache),t.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kz=function(){function e(t,n){this.Yf=t,this.wd=n,this.Ed=[],this.Td=!1,this.Id=Ga(t)}return e.prototype.set=function(t,n,r){this.md();var i=ns(t,this.Yf),s=mm(i.v_,n,r),a=dm(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,qn.Kt())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,l=ns(t,this.Yf);return n instanceof bt&&(n=n.d_),a=typeof n=="string"||n instanceof vo?lw(this.Id,"WriteBatch.update",l.S_,n,r,i):uw(this.Id,"WriteBatch.update",l.S_,n),this.Ed.push(a.F_(l.S_,qn.exists(!0))),this},e.prototype.delete=function(t){this.md();var n=ns(t,this.Yf);return this.Ed=this.Ed.concat(new Gf(n.S_,qn.Kt())),this},e.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},e.prototype.md=function(){if(this.Td)throw new he(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ns(e,t){if(e instanceof bt&&(e=e.d_),e.firestore!==t)throw new he(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yz=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Yf=n,i}return Ce(t,e),t.prototype.get=function(n){var r=this,i=ns(n,this.Yf),s=new wa(this.Yf);return e.prototype.get.call(this,n).then(function(a){return new yo(r.Yf,s,i.S_,a.Zf,new ga(!1,!1),i.v_)})},t}(function(){function e(t,n){this.Yf=t,this.Ad=n,this.Id=Ga(t)}return e.prototype.get=function(t){var n=this,r=ns(t,this.Yf),i=new qz(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return Ue();var a=s[0];if(a instanceof On)return new lf(n.Yf,i,r.S_,null,r.v_);if(a instanceof Ft)return new lf(n.Yf,i,a.key,a,r.v_);throw Ue()})},e.prototype.set=function(t,n,r){var i=ns(t,this.Yf),s=mm(i.v_,n,r),a=dm(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=ns(t,this.Yf);return n instanceof bt&&(n=n.d_),a=typeof n=="string"||n instanceof vo?lw(this.Id,"Transaction.update",l.S_,n,r,i):uw(this.Id,"Transaction.update",l.S_,n),this.Ad.update(l.S_,a),this},e.prototype.delete=function(t){var n=ns(t,this.Yf);return this.Ad.delete(n.S_),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof Uint8Array>"u")throw new he(Y.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jA(){if(typeof atob>"u")throw new he(Y.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jP=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.fromBase64String=function(n){return jA(),new t(Ca.fromBase64String(n))},t.fromUint8Array=function(n){return $A(),new t(Ca.fromUint8Array(n))},t.prototype.toBase64=function(){return jA(),this.d_.toBase64()},t.prototype.toUint8Array=function(){return $A(),this.d_.toUint8Array()},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(bt),Xz=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){LA(r=kt(r,_n));var s=Bn(r),a=r.p_(),l=new Fb;return PA(s,l,new yP(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t.d_,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){LA(n=kt(n,_n));var r=Bn(n),i=n.p_(),s=new Fb;return PA(r,s,new Cz(s,i.cacheSizeBytes))}(t.d_)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n.R_&&!n.P_)throw new he(Y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Kr;return n.Bf.Tf(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return ce(this,void 0,void 0,function(){var c;return ue(this,function(h){switch(h.label){case 0:return el.Kn()?(c=l+"main",[4,el.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(H0(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t.d_)},e}(),BP=function(e){function t(n,r,i){var s=this;return(s=e.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof ip||(s.Pd=n),s}return Ce(t,e),Object.defineProperty(t.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},t.prototype.useEmulator=function(n,r){(function(i,s,a){var l=(i=kt(i,uf)).V_();l.host!=="firestore.googleapis.com"&&l.host!==s&&xb("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},l),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},t.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return ce(r,void 0,void 0,function(){var i,s;return ue(this,function(a){switch(a.label){case 0:return[4,kA(n)];case 1:return i=a.sent(),[4,CA(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(l){var c=ke(l);return c.Nh.delete(0),zf(c)}(s))]}})})})}(Bn(kt(this.d_,_n)))},t.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return ce(r,void 0,void 0,function(){var i,s;return ue(this,function(a){switch(a.label){case 0:return[4,kA(n)];case 1:return i=a.sent(),[4,CA(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(l){return ce(this,void 0,void 0,function(){var c;return ue(this,function(h){switch(h.label){case 0:return(c=ke(l)).Nh.add(0),[4,wl(c)];case 1:return h.sent(),c.Oh.set("Offline"),[2]}})})}(s))]}})})})}(Bn(kt(this.d_,_n)))},t.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&bP("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new Kr;return n._s.Ps(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return s=yz,[4,RP(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(Bn(kt(this.d_,_n)))},t.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var l=this,c=new cm(a);return s._s.Ps(function(){return ce(l,void 0,void 0,function(){var h;return ue(this,function(p){switch(p.label){case 0:return h=function(f,m){ke(f).Wh.add(m),m.next()},[4,al(s)];case 1:return[2,h.apply(void 0,[p.sent(),c])]}})})}),function(){c.i_(),s._s.Ps(function(){return ce(l,void 0,void 0,function(){var h;return ue(this,function(p){switch(p.label){case 0:return h=function(f,m){ke(f).Wh.delete(m)},[4,al(s)];case 1:return[2,h.apply(void 0,[p.sent(),c])]}})})})}}(Bn(r=kt(r,_n)),ul(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Pd)throw new he(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new _p(this,_P(this.d_,n))}catch(r){throw sr(r,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new Ea(this,Nd(this.d_,n))}catch(r){throw sr(r,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new ym(this,function(r,i){if(r=kt(r,uf),ow("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new he(Y.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gr(r,null,function(s){return new To(At.ct(),s)}(i))}(this.d_,n))}catch(r){throw sr(r,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,l){var c=this,h=new Kr;return a._s.Ps(function(){return ce(c,void 0,void 0,function(){var p;return ue(this,function(f){switch(f.label){case 0:return[4,function(m){return pm(m).then(function(v){return v.Sh})}(a)];case 1:return p=f.sent(),new Vz(a._s,p,l,h).run(),[2]}})})}),h.promise}(Bn(i),function(a){return s(new Yz(i,a))})}(this.d_,function(i){return n(new HP(r,i))})},t.prototype.batch=function(){var n=this;return Bn(this.d_),new GP(new Kz(this.d_,function(r){return cf(n.d_,r)}))},t.prototype.loadBundle=function(n){throw new he(Y.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new he(Y.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(bt),gm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.Wf=function(n){return new jP(new Ca(n))},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return Ea.yd(r,this.firestore,null)},t}(dw);function Jz(e){var t;t=e,Ti.setLogLevel(t)}var HP=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i.Xf=new gm(n),i}return Ce(t,e),t.prototype.get=function(n){var r=this,i=va(n);return this.d_.get(i).then(function(s){return new ff(r.Yf,new yo(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},t.prototype.set=function(n,r,i){var s=va(n);return i?(sw("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var c=va(n);return arguments.length===2?this.d_.update(c,r):(s=this.d_).update.apply(s,zn([c,r,i],a)),this},t.prototype.delete=function(n){var r=va(n);return this.d_.delete(r),this},t}(bt),GP=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.set=function(n,r,i){var s=va(n);return i?(sw("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var c=va(n);return arguments.length===2?this.d_.update(c,r):(s=this.d_).update.apply(s,zn([c,r,i],a)),this},t.prototype.delete=function(n){var r=va(n);return this.d_.delete(r),this},t.prototype.commit=function(){return this.d_.commit()},t}(bt),vm=function(e){function t(n,r,i){var s=this;return(s=e.call(this,i)||this).Yf=n,s.Xf=r,s}return Ce(t,e),t.prototype.fromFirestore=function(n,r){var i=new Oc(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new hf(this.Yf,i),r??{})},t.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},t.gd=function(n,r){var i=t.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new t(n,new gm(n),r),s.set(r,a)),a},t}(bt);vm.Vd=new WeakMap;var Ea=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new gm(n),i}return Ce(t,e),t.pd=function(n,r,i){if(n.length%2!=0)throw new he(Y.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new t(r,new Qt(r.d_,i,new $e(n)))},t.yd=function(n,r,i){return new t(r,new Qt(r.d_,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _p(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new _p(this.firestore,_P(this.d_,n))}catch(r){throw sr(r,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return n instanceof bt&&(n=n.d_),n instanceof Qt&&wP(this.d_,n)},t.prototype.set=function(n,r){r=sw("DocumentReference.set",r);try{return function(i,s,a){i=kt(i,Qt);var l=kt(i.firestore,_n),c=mm(i.v_,s,a);return cf(l,[dm(Ga(l),"setDoc",i.S_,c,i.v_!==null,a).F_(i.S_,qn.Kt())])}(this.d_,n,r)}catch(i){throw sr(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?VA(this.d_,n):VA.apply(void 0,zn([this.d_,n,r],i))}catch(a){throw sr(a,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cf(kt((n=this.d_).firestore,_n),[new Gf(n.S_,qn.Kt())]);var n},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=zP(r),a=qP(r,function(l){return new ff(n.firestore,new yo(n.firestore.d_,n.Xf,l.S_,l.Zf,l.metadata,n.d_.v_))});return $P(this.d_,s,a)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=kt(i,Qt);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return function(c,h){var p=this,f=new Kr;return c._s.Ps(function(){return ce(p,void 0,void 0,function(){var m;return ue(this,function(v){switch(v.label){case 0:return m=function(y,_,w){return ce(this,void 0,void 0,function(){var E,k;return ue(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(C,M){var A=ke(C);return A.persistence.runTransaction("read document","readonly",function(j){return A.Tc.Ho(j,M)})}(y,_)];case 1:return(k=I.sent())instanceof Ft?w.resolve(k):k instanceof On?w.resolve(null):w.reject(new he(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=I.sent(),k=bl(E,"Failed to get document '"+_+" from cache"),w.reject(k),[3,3];case 3:return[2]}})})},[4,LP(c)];case 1:return[2,m.apply(void 0,[v.sent(),h,f])]}})})}),f.promise}(a,i.S_).then(function(c){return new yo(s,l,i.S_,c,new ga(c instanceof Ft&&c.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=kt(i,Qt);var s=kt(i.firestore,_n);return NA(Bn(s),i.S_,{source:"server"}).then(function(a){return Vb(s,i,a)})}(this.d_):function(i){i=kt(i,Qt);var s=kt(i.firestore,_n);return NA(Bn(s),i.S_).then(function(a){return Vb(s,i,a)})}(this.d_)).then(function(i){return new ff(r.firestore,new yo(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(vm.gd(this.firestore,n)))},t}(bt);function sr(e,t,n){return e.message=e.message.replace(t,n),e}function zP(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!ul(r))return r}return{}}function qP(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=ul(e[0])?e[0]:ul(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ff=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return Ce(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ea(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this.d_.data(n)},t.prototype.get=function(n,r){return this.d_.get(n,r)},t.prototype.isEqual=function(n){return VP(this.d_,n.d_)},t}(bt),hf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return this.d_.data(n)},t}(ff),ym=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new gm(n),i}return Ce(t,e),t.prototype.where=function(n,r,i){try{return new t(this.firestore,$o(this.d_,function(s,a,l){var c=a,h=bp("where",s);return new Gz(h,c,l)}(n,r,i)))}catch(s){throw sr(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(n,r){try{return new t(this.firestore,$o(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,l=bp("orderBy",i);return new zz(l,a)}(n,r)))}catch(i){throw sr(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,$o(this.d_,function(r){return IA("limit",r),new RA("limit",r,"F")}(n)))}catch(r){throw sr(r,"limit()","Query.limit()")}},t.prototype.limitToLast=function(n){try{return new t(this.firestore,$o(this.d_,function(r){return IA("limitToLast",r),new RA("limitToLast",r,"L")}(n)))}catch(r){throw sr(r,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new DA("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw sr(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new DA("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw sr(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new MA("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw sr(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new MA("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw sr(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return EP(this.d_,n.d_)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=kt(i,Gr);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return function(c,h){var p=this,f=new Kr;return c._s.Ps(function(){return ce(p,void 0,void 0,function(){var m;return ue(this,function(v){switch(v.label){case 0:return m=function(y,_,w){return ce(this,void 0,void 0,function(){var E,k,I,C,M;return ue(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,gp(y,_,!0)];case 1:return M=A.sent(),E=new dP(_,M.Rc),k=E.fl(M.documents),I=E.wi(k,!1),w.resolve(I.snapshot),[3,3];case 2:return C=A.sent(),M=bl(C,"Failed to execute query '"+_+" against cache"),w.reject(M),[3,3];case 3:return[2]}})})},[4,LP(c)];case 1:return[2,m.apply(void 0,[v.sent(),h,f])]}})})}),f.promise}(a,i.C_).then(function(c){return new ts(s,l,i,c)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=kt(i,Gr);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return OA(a,i.C_,{source:"server"}).then(function(c){return new ts(s,l,i,c)})}(this.d_):function(i){i=kt(i,Gr);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return MP(i.C_),OA(a,i.C_).then(function(c){return new ts(s,l,i,c)})}(this.d_)).then(function(i){return new $b(r.firestore,new ts(r.firestore.d_,r.Xf,r.d_,i._d))})},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=zP(r),a=qP(r,function(l){return new $b(n.firestore,new ts(n.firestore.d_,n.Xf,n.d_,l._d))});return $P(this.d_,s,a)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(vm.gd(this.firestore,n)))},t}(bt),Qz=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return Ce(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new hf(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),t}(bt),$b=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return Ce(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new ym(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new hf(n.Yf,r)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new Qz(r.Yf,i)})},t.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new hf(i.Yf,s))})},t.prototype.isEqual=function(n){return VP(this.d_,n.d_)},t}(bt),_p=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i.d_=r,i}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new Ea(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ea(this.firestore,n===void 0?Nd(this.d_):Nd(this.d_,n))}catch(r){throw sr(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=kt(i.firestore,_n),l=Nd(i),c=mm(i.v_,s);return cf(a,[dm(Ga(i.firestore),"addDoc",l.S_,c,i.v_!==null,{}).F_(l.S_,qn.exists(!1))]).then(function(){return l})}(this.d_,n).then(function(i){return new Ea(r.firestore,i)})},t.prototype.isEqual=function(n){return wP(this.d_,n.d_)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(vm.gd(this.firestore,n)))},t}(ym);function va(e){return e instanceof bt&&(e=e.d_),kt(e,Qt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zz=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(this,new(vo.bind.apply(vo,zn([void 0],n))))||this}return Ce(t,e),t.documentId=function(){return new t(Ii.ht().rt())},t.prototype.isEqual=function(n){return n instanceof bt&&(n=n.d_),n instanceof vo&&this.d_.f_.isEqual(n.f_)},t}(bt),e5=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.serverTimestamp=function(){var n=new Lz("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new aw("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new Rz("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new Dz("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var r=function(i){return new Mz("increment",i)}(n);return r._methodName="FieldValue.increment",new t(r)},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t}(bt),t5={Firestore:BP,GeoPoint:hm,Timestamp:Ir,Blob:jP,Transaction:HP,WriteBatch:GP,DocumentReference:Ea,DocumentSnapshot:ff,Query:ym,QueryDocumentSnapshot:hf,QuerySnapshot:$b,CollectionReference:_p,FieldPath:Zz,FieldValue:e5,setLogLevel:Jz,CACHE_SIZE_UNLIMITED:Bz};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(e){(function(t,n){t.INTERNAL.registerComponent(new kf("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},t5)))})(e,function(t,n){return new BP(t,new _n(t,n),new Xz)}),e.registerVersion("@firebase/firestore","2.1.6")}n5(Fe);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jb=function(e,t){return jb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},jb(e,t)};function r5(e,t){jb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Bb=function(){return Bb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bb.apply(this,arguments)};function qa(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(f){a(f)}}function c(p){try{h(r.throw(p))}catch(f){a(f)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function Wa(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function BA(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WP="firebasestorage.googleapis.com",KP="storageBucket",i5=2*60*1e3,o5=10*60*1e3,cn=function(e){r5(t,e);function t(n,r){var i=e.call(this,xy(n),"Firebase Storage: "+r+" ("+xy(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return t.prototype.codeEquals=function(n){return xy(n)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),t}(YC),Zt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function xy(e){return"storage/"+e}function pw(){var e="An unknown error occurred, please check the error payload for server response.";return new cn(Zt.UNKNOWN,e)}function s5(e){return new cn(Zt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function a5(e){return new cn(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function u5(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(Zt.UNAUTHENTICATED,e)}function l5(e){return new cn(Zt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function c5(){return new cn(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YP(){return new cn(Zt.CANCELED,"User canceled the upload/download.")}function f5(e){return new cn(Zt.INVALID_URL,"Invalid URL '"+e+"'.")}function h5(e){return new cn(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function d5(){return new cn(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KP+"' property when initializing the app?")}function XP(){return new cn(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p5(){return new cn(Zt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function m5(){return new cn(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Pc(e){return new cn(Zt.INVALID_ARGUMENT,e)}function JP(){return new cn(Zt.APP_DELETED,"The Firebase app was deleted.")}function QP(e){return new cn(Zt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(e,t){return new cn(Zt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function cd(e){throw new cn(Zt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ky=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function ZP(e,t){switch(e){case $r.RAW:return new ky(eL(t));case $r.BASE64:case $r.BASE64URL:return new ky(tL(e,t));case $r.DATA_URL:return new ky(v5(t),y5(t))}throw pw()}function eL(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function g5(e){var t;try{t=decodeURIComponent(e)}catch{throw Lc($r.DATA_URL,"Malformed data URL.")}return eL(t)}function tL(e,t){switch(e){case $r.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Lc(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case $r.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Lc(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw Lc(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var nL=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Lc($r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=b5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function v5(e){var t=new nL(e);return t.base64?tL($r.BASE64,t.rest):g5(t.rest)}function y5(e){var t=new nL(e);return t.contentType}function b5(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _5={STATE_CHANGED:"state_changed"},rt={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},ar={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cy(e){switch(e){case rt.RUNNING:case rt.PAUSING:case rt.CANCELING:return ar.RUNNING;case rt.PAUSED:return ar.PAUSED;case rt.SUCCESS:return ar.SUCCESS;case rt.CANCELED:return ar.CANCELED;case rt.ERROR:return ar.ERROR;default:return ar.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w5=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ta.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ta.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw cd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw cd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw cd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw cd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E5=function(){function e(){}return e.prototype.createXhrIo=function(){return new w5},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e){return e!==void 0}function S5(e){return typeof e=="function"}function I5(e){return typeof e=="object"&&!Array.isArray(e)}function bm(e){return typeof e=="string"||e instanceof String}function HA(e){return mw()&&e instanceof Blob}function mw(){return typeof Blob<"u"}function Hb(e,t,n,r){if(r<t)throw new cn(Zt.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw new cn(Zt.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=A5();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(mw())return new Blob(e);throw new cn(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function k5(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gw=function(){function e(t,n){var r=0,i="";HA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(HA(this.data_)){var r=this.data_,i=k5(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(mw()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(x5.apply(null,r))}else{var i=t.map(function(c){return bm(c)?ZP($r.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch{return new e(t,"")}if(n.path==="")return n;throw h5(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(U){U.path_=decodeURIComponent(U.path)}for(var h="v[A-Za-z0-9_]+",p=WP.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp("^https?://"+p+"/"+h+"/b/"+r+"/o"+f,"i"),v={bucket:1,path:3},y="(?:storage.googleapis.com|storage.cloud.google.com)",_="([^?#]*)",w=new RegExp("^https?://"+y+"/"+r+"/"+_,"i"),E={bucket:1,path:2},k=[{regex:a,indices:l,postModify:i},{regex:m,indices:v,postModify:c},{regex:w,indices:E,postModify:c}],I=0;I<k.length;I++){var C=k[I],M=C.regex.exec(t);if(M){var A=M[C.indices.bucket],j=M[C.indices.path];j||(j=""),n=new e(A,j),C.postModify(n);break}}if(n==null)throw f5(t);return n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e){var t;try{t=JSON.parse(e)}catch{return null}return I5(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function N5(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function rL(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){return"https://"+WP+"/v0"+e}function iL(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(e,t){return t}var nr=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||O5}return e}(),fd=null;function P5(e){return!bm(e)||e.length<2?e:rL(e)}function _m(){if(fd)return fd;var e=[];e.push(new nr("bucket")),e.push(new nr("generation")),e.push(new nr("metageneration")),e.push(new nr("name","fullPath",!0));function t(s,a){return P5(a)}var n=new nr("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new nr("size");return i.xform=r,e.push(i),e.push(new nr("timeCreated")),e.push(new nr("updated")),e.push(new nr("md5Hash",null,!0)),e.push(new nr("cacheControl",null,!0)),e.push(new nr("contentDisposition",null,!0)),e.push(new nr("contentEncoding",null,!0)),e.push(new nr("contentLanguage",null,!0)),e.push(new nr("contentType",null,!0)),e.push(new nr("metadata","customMetadata",!0)),fd=e,fd}function L5(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new _i(r,i);return t.makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function R5(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return L5(r,e),r}function oL(e,t,n){var r=vw(t);if(r===null)return null;var i=r;return R5(e,i,n)}function D5(e,t){var n=vw(t);if(n===null||!bm(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(l){var c=e.bucket,h=e.fullPath,p="/b/"+i(c)+"/o/"+i(h),f=Os(p),m=iL({alt:"media",token:l});return f+m});return a[0]}function yw(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GA="prefixes",zA="items";function M5(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[GA])for(var i=0,s=n[GA];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e.makeStorageReference(new _i(t,l));r.prefixes.push(c)}if(n[zA])for(var h=0,p=n[zA];h<p.length;h++){var f=p[h],c=e.makeStorageReference(new _i(t,f.name));r.items.push(c)}return r}function F5(e,t,n){var r=vw(n);if(r===null)return null;var i=r;return M5(e,t,i)}var So=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){if(!e)throw pw()}function wm(e,t){function n(r,i){var s=oL(e,i,t);return Hi(s!==null),s}return n}function U5(e,t){function n(r,i){var s=F5(e,t,i);return Hi(s!==null),s}return n}function V5(e,t){function n(r,i){var s=oL(e,i,t);return Hi(s!==null),D5(s,i)}return n}function Sl(e){function t(n,r){var i;return n.getStatus()===401?i=u5():n.getStatus()===402?i=a5(e.bucket):n.getStatus()===403?i=l5(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Em(e){var t=Sl(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=s5(e.path)),s.serverResponse=i.serverResponse,s}return n}function sL(e,t,n){var r=t.fullServerUrl(),i=Os(r),s="GET",a=e.maxOperationRetryTime,l=new So(i,s,wm(e,n),a);return l.errorHandler=Em(t),l}function $5(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Os(a),c="GET",h=e.maxOperationRetryTime,p=new So(l,c,U5(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Sl(t),p}function j5(e,t,n){var r=t.fullServerUrl(),i=Os(r),s="GET",a=e.maxOperationRetryTime,l=new So(i,s,V5(e,n),a);return l.errorHandler=Em(t),l}function B5(e,t,n,r){var i=t.fullServerUrl(),s=Os(i),a="PATCH",l=yw(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new So(s,a,wm(e,r),h);return p.headers=c,p.body=l,p.errorHandler=Em(t),p}function H5(e,t){var n=t.fullServerUrl(),r=Os(n),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new So(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=Em(t),l}function G5(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function aL(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=G5(null,t)),r}function z5(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var I="",C=0;C<2;C++)I=I+Math.random().toString().slice(2);return I}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=aL(t,r,i),p=yw(h,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",v=gw.getBlob(f,r,m);if(v===null)throw XP();var y={name:h.fullPath},_=Os(s),w="POST",E=e.maxUploadRetryTime,k=new So(_,w,wm(e,n),E);return k.urlParams=y,k.headers=a,k.body=v.uploadData(),k.errorHandler=Sl(t),k}var wp=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function bw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Hi(!1)}var r=t||["active"];return Hi(!!n&&r.indexOf(n)!==-1),n}function q5(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=aL(t,r,i),l={name:a.fullPath},c=Os(s),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},f=yw(a,n),m=e.maxUploadRetryTime;function v(_){bw(_);var w;try{w=_.getResponseHeader("X-Goog-Upload-URL")}catch{Hi(!1)}return Hi(bm(w)),w}var y=new So(c,h,v,m);return y.urlParams=l,y.headers=p,y.body=f,y.errorHandler=Sl(t),y}function W5(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=bw(h,["active","final"]),f=null;try{f=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hi(!1)}f||Hi(!1);var m=Number(f);return Hi(!isNaN(m)),new wp(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new So(n,a,s,l);return c.headers=i,c.errorHandler=Sl(t),c}var qA=256*1024;function K5(e,t,n,r,i,s,a,l){var c=new wp(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw p5();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var f=c.current,m=f+p,v=p===h?"upload, finalize":"upload",y={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":c.current},_=r.slice(f,m);if(_===null)throw XP();function w(C,M){var A=bw(C,["active","final"]),j=c.current+p,U=r.size(),P;return A==="final"?P=wm(t,s)(C,M):P=null,new wp(j,U,A==="final",P)}var E="POST",k=t.maxUploadRetryTime,I=new So(n,E,w,k);return I.headers=y,I.body=_.uploadData(),I.progressCallback=l||null,I.errorHandler=Sl(e),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y5=function(){function e(t,n,r){var i=S5(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}(),X5=function(){function e(t,n,r,i,s,a){this.bytesTransferred=t,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=_m(),this._resumable=this._shouldDoResumable(this._blob),this._state=rt.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Zt.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(rt.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Zt.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(rt.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state===rt.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case rt.RUNNING:t(r);break;case rt.CANCELING:n._transition(rt.CANCELED);break;case rt.PAUSING:n._transition(rt.PAUSED);break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=q5(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var i=W5(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage.makeRequest(i,r);t._request=s,s.getPromise().then(function(a){a=a,t._request=void 0,t._updateProgress(a.current),t._needToFetchStatus=!1,a.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=qA*this._chunkMultiplier,r=new wp(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=K5(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(c){t._error=c,t._transition(rt.ERROR);return}var l=t._ref.storage.makeRequest(a,s);t._request=l,l.getPromise().then(function(c){t._increaseMultiplier(),t._request=void 0,t._updateProgress(c.current),c.finalized?(t._metadata=c.metadata,t._transition(rt.SUCCESS)):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=qA*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=sL(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition(rt.SUCCESS)},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=z5(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition(rt.SUCCESS)},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case rt.CANCELING:this._state=t,this._request!==void 0&&this._request.cancel();break;case rt.PAUSING:this._state=t,this._request!==void 0&&this._request.cancel();break;case rt.RUNNING:var n=this._state===rt.PAUSED;this._state=t,n&&(this._notifyObservers(),this._start());break;case rt.PAUSED:this._state=t,this._notifyObservers();break;case rt.CANCELED:this._error=YP(),this._state=t,this._notifyObservers();break;case rt.ERROR:this._state=t,this._notifyObservers();break;case rt.SUCCESS:this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case rt.PAUSING:this._transition(rt.PAUSED);break;case rt.CANCELING:this._transition(rt.CANCELED);break;case rt.RUNNING:this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Cy(this._state);return new X5(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new Y5(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Cy(this._state)){case ar.SUCCESS:wu(this._resolve.bind(null,this.snapshot))();break;case ar.CANCELED:case ar.ERROR:var n=this._reject;wu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Cy(this._state);switch(n){case ar.RUNNING:case ar.PAUSED:t.next&&wu(t.next.bind(t,this.snapshot))();break;case ar.SUCCESS:t.complete&&wu(t.complete.bind(t))();break;case ar.CANCELED:case ar.ERROR:t.error&&wu(t.error.bind(t,this._error))();break;default:t.error&&wu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state===rt.PAUSED||this._state===rt.PAUSING;return t&&this._transition(rt.RUNNING),t},e.prototype.pause=function(){var t=this._state===rt.RUNNING;return t&&this._transition(rt.PAUSING),t},e.prototype.cancel=function(){var t=this._state===rt.RUNNING||this._state===rt.PAUSING;return t&&this._transition(rt.CANCELING),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tm=function(){function e(t,n){this._service=t,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype.newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new _i(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return rL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=C5(this._location.path);if(t===null)return null;var n=new _i(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw QP(t)},e}();function J5(e,t,n){return n===void 0&&(n=null),e._throwIfRoot("uploadBytesResumable"),new uL(e,new gw(t),n)}function Q5(e,t,n,r){n===void 0&&(n=$r.RAW),e._throwIfRoot("putString");var i=ZP(n,t),s=Bb({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new uL(e,new gw(i.data,!0),s)}function Z5(e){var t={prefixes:[],items:[]};return lL(e,t).then(function(){return t})}function lL(e,t,n){return qa(this,void 0,void 0,function(){var r,i,s,a;return Wa(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,cL(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,lL(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function cL(e,t){return qa(this,void 0,void 0,function(){var n,r,i;return Wa(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Hb("options.maxResults",1,1e3,t.maxResults),[4,e.storage.getAuthToken()];case 1:return n=s.sent(),r=t||{},i=$5(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage.makeRequest(i,n).getPromise()]}})})}function e8(e){return qa(this,void 0,void 0,function(){var t,n;return Wa(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=sL(e.storage,e._location,_m()),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function t8(e,t){return qa(this,void 0,void 0,function(){var n,r;return Wa(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage.getAuthToken()];case 1:return n=i.sent(),r=B5(e.storage,e._location,t,_m()),[2,e.storage.makeRequest(r,n).getPromise()]}})})}function n8(e){return qa(this,void 0,void 0,function(){var t,n;return Wa(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=j5(e.storage,e._location,_m()),[2,e.storage.makeRequest(n,t).getPromise().then(function(i){if(i===null)throw m5();return i})]}})})}function r8(e){return qa(this,void 0,void 0,function(){var t,n;return Wa(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=H5(e.storage,e._location),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function fL(e,t){var n=N5(e._location.path,t),r=new _i(e._location.bucket,n);return new Tm(e.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hd=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WA=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new hd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new hd(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new hd(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new hd(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KA=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new df(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new df(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var df=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=fL(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new WA(J5(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){return n===void 0&&(n=$r.RAW),this._throwIfRoot("putString"),new WA(Q5(this._delegate,t,n,r),this)},e.prototype.listAll=function(){var t=this;return Z5(this._delegate).then(function(n){return new KA(n,t.storage)})},e.prototype.list=function(t){var n=this;return cL(this._delegate,t).then(function(r){return new KA(r,n.storage)})},e.prototype.getMetadata=function(){return e8(this._delegate)},e.prototype.updateMetadata=function(t){return t8(this._delegate,t)},e.prototype.getDownloadURL=function(){return n8(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),r8(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw QP(t)},e}(),i8=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];c||(c=!0,t.apply(null,y))}function p(y){i=setTimeout(function(){i=null,e(f,l())},y)}function f(y){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];if(!c){if(y){h.call.apply(h,BA([null,y],_));return}var E=l()||s;if(E){h.call.apply(h,BA([null,y],_));return}r<64&&(r*=2);var k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,p(k)}}var m=!1;function v(y){m||(m=!0,!c&&(i!==null?(y||(a=2),clearTimeout(i),p(0)):y||(a=1)))}return p(0),setTimeout(function(){s=!0,v(!0)},n),v}function s8(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a8=function(){function e(t,n,r,i,s,a,l,c,h,p,f){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=f,this.promise_=new Promise(function(v,y){m.resolve_=v,m.reject_=y,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new dd(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===Ta.NO_ERROR,p=c.getStatus();if(!h||t.isRetryStatusCode_(p)){var f=c.getErrorCode()===Ta.ABORT;i(!1,new dd(!1,null,f));return}var m=t.successCodes_.indexOf(p)!==-1;i(!0,new dd(m,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());T5(h)?a(h):a()}catch(f){l(f)}else if(c!==null){var p=pw();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?JP():YP();l(p)}else{var p=c5();l(p)}}this.canceled_?r(!1,new dd(!1,null,!0)):this.backoffId_=o8(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&s8(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),dd=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function u8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function l8(e){var t=typeof Fe<"u"?Fe.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function c8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function f8(e,t,n,r){var i=iL(e.urlParams),s=e.url+i,a=Object.assign({},e.headers);return c8(a,t),u8(a,n),l8(a),new a8(s,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(e){return/^[A-Za-z]+:\/\//.test(e)}function h8(e,t){return new Tm(e,t)}function hL(e,t){if(e instanceof Sm){var n=e;if(n._bucket==null)throw d5();var r=new Tm(n,n._bucket);return t!=null?hL(r,t):r}else if(t!==void 0){if(t.includes(".."))throw Pc('`path` param cannot contain ".."');return fL(e,t)}else return e}function YA(e,t){if(t&&Gb(t)){if(e instanceof Sm)return h8(e,t);throw Pc("To use ref(service, url), the first argument must be a Storage instance.")}else return hL(e,t)}function d8(e){var t=e==null?void 0:e[KP];return t==null?null:_i.makeFromBucketSpec(t)}var Sm=function(){function e(t,n,r,i){this.app=t,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i5,this._maxUploadRetryTime=o5,this._requests=new Set,i!=null?this._bucket=_i.makeFromBucketSpec(i):this._bucket=d8(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Hb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Hb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype.getAuthToken=function(){return qa(this,void 0,void 0,function(){var t,n;return Wa(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype.makeStorageReference=function(t){return new Tm(this,t)},e.prototype.makeRequest=function(t,n){var r=this;if(this._deleted)return new i8(JP());var i=f8(t,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p8=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Gb(t))throw Pc("ref() expected a child path but got a URL, use refFromURL instead.");return new df(YA(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Gb(t))throw Pc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_i.makeFromUrl(t)}catch{throw Pc("refFromUrl() expected a valid full URL but got an invalid one.")}return new df(YA(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e}(),m8="@firebase/storage",g8="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v8="storage";function y8(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=new p8(n,new Sm(n,r,new E5,t));return i}function b8(e){var t={TaskState:ar,TaskEvent:_5,StringFormat:$r,Storage:Sm,Reference:df};e.INTERNAL.registerComponent(new kf(v8,y8,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(m8,g8)}b8(Fe);const _8={apiKey:"AIzaSyDifpf4NnX-S7J890trgdqn9o1GZ2rd8Y0",authDomain:"vue-developer-course---music.firebaseapp.com",projectId:"vue-developer-course---music",storageBucket:"vue-developer-course---music.appspot.com",appId:"1:842258481263:web:599be2573872ab20c94d9a"};Fe.initializeApp(_8);const bo=Fe.auth(),Wf=Fe.firestore(),ri=Fe.storage();Wf.enablePersistence().catch(e=>{console.log(`Firebase persistence error ${e.code}`)});const _w=Wf.collection("users"),zr=Wf.collection("songs"),si=Wf.collection("albums"),Pa=Wf.collection("favoriteSongList");/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Ep=typeof window<"u",Ps=(e,t=!1)=>t?Symbol.for(e):Symbol(e),w8=(e,t,n)=>E8({l:e,k:t,s:n}),E8=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),wn=e=>typeof e=="number"&&isFinite(e),T8=e=>pL(e)==="[object Date]",Ts=e=>pL(e)==="[object RegExp]",Im=e=>Je(e)&&Object.keys(e).length===0,Un=Object.assign;let XA;const co=()=>XA||(XA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function JA(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const S8=Object.prototype.hasOwnProperty;function Tp(e,t){return S8.call(e,t)}const Gt=Array.isArray,$t=e=>typeof e=="function",Ae=e=>typeof e=="string",st=e=>typeof e=="boolean",Ct=e=>e!==null&&typeof e=="object",I8=e=>Ct(e)&&$t(e.then)&&$t(e.catch),dL=Object.prototype.toString,pL=e=>dL.call(e),Je=e=>{if(!Ct(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},A8=e=>e==null?"":Gt(e)||Je(e)&&e.toString===dL?JSON.stringify(e,null,2):String(e);function x8(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}function Am(e){let t=e;return()=>++t}function k8(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const pd=e=>!Ct(e)||Gt(e);function Od(e,t){if(pd(e)||pd(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{pd(r[s])||pd(i[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function C8(e,t,n){return{line:e,column:t,offset:n}}function Sp(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const N8=/\{([0-9a-zA-Z]+)\}/g;function mL(e,...t){return t.length===1&&O8(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(N8,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const gL=Object.assign,QA=e=>typeof e=="string",O8=e=>e!==null&&typeof e=="object";function vL(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}const ww={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},P8={[ww.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function L8(e,t,...n){const r=mL(P8[e]||"",...n||[]),i={message:String(r),code:e};return t&&(i.location=t),i}const ze={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},R8={[ze.EXPECTED_TOKEN]:"Expected token: '{0}'",[ze.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ze.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ze.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ze.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ze.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ze.EMPTY_PLACEHOLDER]:"Empty placeholder",[ze.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ze.INVALID_LINKED_FORMAT]:"Invalid linked format",[ze.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ze.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ze.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ze.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ze.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ze.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Il(e,t,n={}){const{domain:r,messages:i,args:s}=n,a=mL((i||R8)[e]||"",...s||[]),l=new SyntaxError(String(a));return l.code=e,t&&(l.location=t),l.domain=r,l}function D8(e){throw e}const oo=" ",M8="\r",ir=`
`,F8="\u2028",U8="\u2029";function V8(e){const t=e;let n=0,r=1,i=1,s=0;const a=j=>t[j]===M8&&t[j+1]===ir,l=j=>t[j]===ir,c=j=>t[j]===U8,h=j=>t[j]===F8,p=j=>a(j)||l(j)||c(j)||h(j),f=()=>n,m=()=>r,v=()=>i,y=()=>s,_=j=>a(j)||c(j)||h(j)?ir:t[j],w=()=>_(n),E=()=>_(n+s);function k(){return s=0,p(n)&&(r++,i=0),a(n)&&n++,n++,i++,t[n]}function I(){return a(n+s)&&s++,s++,t[n+s]}function C(){n=0,r=1,i=1,s=0}function M(j=0){s=j}function A(){const j=n+s;for(;j!==n;)k();s=0}return{index:f,line:m,column:v,peekOffset:y,charAt:_,currentChar:w,currentPeek:E,next:k,peek:I,reset:C,resetPeek:M,skipToPeek:A}}const jo=void 0,$8=".",ZA="'",j8="tokenizer";function B8(e,t={}){const n=t.location!==!1,r=V8(e),i=()=>r.index(),s=()=>C8(r.line(),r.column(),r.index()),a=s(),l=i(),c={currentType:14,offset:l,startLoc:a,endLoc:a,lastType:14,lastOffset:l,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},h=()=>c,{onError:p}=t;function f(N,R,$,...Z){const we=h();if(R.column+=$,R.offset+=$,p){const oe=n?Sp(we.startLoc,R):null,G=Il(N,oe,{domain:j8,args:Z});p(G)}}function m(N,R,$){N.endLoc=s(),N.currentType=R;const Z={type:R};return n&&(Z.loc=Sp(N.startLoc,N.endLoc)),$!=null&&(Z.value=$),Z}const v=N=>m(N,14);function y(N,R){return N.currentChar()===R?(N.next(),R):(f(ze.EXPECTED_TOKEN,s(),0,R),"")}function _(N){let R="";for(;N.currentPeek()===oo||N.currentPeek()===ir;)R+=N.currentPeek(),N.peek();return R}function w(N){const R=_(N);return N.skipToPeek(),R}function E(N){if(N===jo)return!1;const R=N.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R===95}function k(N){if(N===jo)return!1;const R=N.charCodeAt(0);return R>=48&&R<=57}function I(N,R){const{currentType:$}=R;if($!==2)return!1;_(N);const Z=E(N.currentPeek());return N.resetPeek(),Z}function C(N,R){const{currentType:$}=R;if($!==2)return!1;_(N);const Z=N.currentPeek()==="-"?N.peek():N.currentPeek(),we=k(Z);return N.resetPeek(),we}function M(N,R){const{currentType:$}=R;if($!==2)return!1;_(N);const Z=N.currentPeek()===ZA;return N.resetPeek(),Z}function A(N,R){const{currentType:$}=R;if($!==8)return!1;_(N);const Z=N.currentPeek()===".";return N.resetPeek(),Z}function j(N,R){const{currentType:$}=R;if($!==9)return!1;_(N);const Z=E(N.currentPeek());return N.resetPeek(),Z}function U(N,R){const{currentType:$}=R;if(!($===8||$===12))return!1;_(N);const Z=N.currentPeek()===":";return N.resetPeek(),Z}function P(N,R){const{currentType:$}=R;if($!==10)return!1;const Z=()=>{const oe=N.currentPeek();return oe==="{"?E(N.peek()):oe==="@"||oe==="%"||oe==="|"||oe===":"||oe==="."||oe===oo||!oe?!1:oe===ir?(N.peek(),Z()):q(N,!1)},we=Z();return N.resetPeek(),we}function z(N){_(N);const R=N.currentPeek()==="|";return N.resetPeek(),R}function L(N){const R=_(N),$=N.currentPeek()==="%"&&N.peek()==="{";return N.resetPeek(),{isModulo:$,hasSpace:R.length>0}}function q(N,R=!0){const $=(we=!1,oe="",G=!1)=>{const J=N.currentPeek();return J==="{"?oe==="%"?!1:we:J==="@"||!J?oe==="%"?!0:we:J==="%"?(N.peek(),$(we,"%",!0)):J==="|"?oe==="%"||G?!0:!(oe===oo||oe===ir):J===oo?(N.peek(),$(!0,oo,G)):J===ir?(N.peek(),$(!0,ir,G)):!0},Z=$();return R&&N.resetPeek(),Z}function ee(N,R){const $=N.currentChar();return $===jo?jo:R($)?(N.next(),$):null}function Te(N){const R=N.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36}function xe(N){return ee(N,Te)}function ie(N){const R=N.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36||R===45}function Re(N){return ee(N,ie)}function Me(N){const R=N.charCodeAt(0);return R>=48&&R<=57}function Xe(N){return ee(N,Me)}function xt(N){const R=N.charCodeAt(0);return R>=48&&R<=57||R>=65&&R<=70||R>=97&&R<=102}function it(N){return ee(N,xt)}function dt(N){let R="",$="";for(;R=Xe(N);)$+=R;return $}function pt(N){w(N);const R=N.currentChar();return R!=="%"&&f(ze.EXPECTED_TOKEN,s(),0,R),N.next(),"%"}function en(N){let R="";for(;;){const $=N.currentChar();if($==="{"||$==="}"||$==="@"||$==="|"||!$)break;if($==="%")if(q(N))R+=$,N.next();else break;else if($===oo||$===ir)if(q(N))R+=$,N.next();else{if(z(N))break;R+=$,N.next()}else R+=$,N.next()}return R}function Se(N){w(N);let R="",$="";for(;R=Re(N);)$+=R;return N.currentChar()===jo&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),$}function Ne(N){w(N);let R="";return N.currentChar()==="-"?(N.next(),R+=`-${dt(N)}`):R+=dt(N),N.currentChar()===jo&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),R}function W(N){return N!==ZA&&N!==ir}function le(N){w(N),y(N,"'");let R="",$="";for(;R=ee(N,W);)R==="\\"?$+=re(N):$+=R;const Z=N.currentChar();return Z===ir||Z===jo?(f(ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),Z===ir&&(N.next(),y(N,"'")),$):(y(N,"'"),$)}function re(N){const R=N.currentChar();switch(R){case"\\":case"'":return N.next(),`\\${R}`;case"u":return Ee(N,R,4);case"U":return Ee(N,R,6);default:return f(ze.UNKNOWN_ESCAPE_SEQUENCE,s(),0,R),""}}function Ee(N,R,$){y(N,R);let Z="";for(let we=0;we<$;we++){const oe=it(N);if(!oe){f(ze.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${R}${Z}${N.currentChar()}`);break}Z+=oe}return`\\${R}${Z}`}function Ge(N){return N!=="{"&&N!=="}"&&N!==oo&&N!==ir}function at(N){w(N);let R="",$="";for(;R=ee(N,Ge);)$+=R;return $}function D(N){let R="",$="";for(;R=xe(N);)$+=R;return $}function O(N){const R=$=>{const Z=N.currentChar();return Z==="{"||Z==="%"||Z==="@"||Z==="|"||Z==="("||Z===")"||!Z||Z===oo?$:($+=Z,N.next(),R($))};return R("")}function H(N){w(N);const R=y(N,"|");return w(N),R}function te(N,R){let $=null;switch(N.currentChar()){case"{":return R.braceNest>=1&&f(ze.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),N.next(),$=m(R,2,"{"),w(N),R.braceNest++,$;case"}":return R.braceNest>0&&R.currentType===2&&f(ze.EMPTY_PLACEHOLDER,s(),0),N.next(),$=m(R,3,"}"),R.braceNest--,R.braceNest>0&&w(N),R.inLinked&&R.braceNest===0&&(R.inLinked=!1),$;case"@":return R.braceNest>0&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),$=X(N,R)||v(R),R.braceNest=0,$;default:{let we=!0,oe=!0,G=!0;if(z(N))return R.braceNest>0&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),$=m(R,1,H(N)),R.braceNest=0,R.inLinked=!1,$;if(R.braceNest>0&&(R.currentType===5||R.currentType===6||R.currentType===7))return f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),R.braceNest=0,fe(N,R);if(we=I(N,R))return $=m(R,5,Se(N)),w(N),$;if(oe=C(N,R))return $=m(R,6,Ne(N)),w(N),$;if(G=M(N,R))return $=m(R,7,le(N)),w(N),$;if(!we&&!oe&&!G)return $=m(R,13,at(N)),f(ze.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,$.value),w(N),$;break}}return $}function X(N,R){const{currentType:$}=R;let Z=null;const we=N.currentChar();switch(($===8||$===9||$===12||$===10)&&(we===ir||we===oo)&&f(ze.INVALID_LINKED_FORMAT,s(),0),we){case"@":return N.next(),Z=m(R,8,"@"),R.inLinked=!0,Z;case".":return w(N),N.next(),m(R,9,".");case":":return w(N),N.next(),m(R,10,":");default:return z(N)?(Z=m(R,1,H(N)),R.braceNest=0,R.inLinked=!1,Z):A(N,R)||U(N,R)?(w(N),X(N,R)):j(N,R)?(w(N),m(R,12,D(N))):P(N,R)?(w(N),we==="{"?te(N,R)||Z:m(R,11,O(N))):($===8&&f(ze.INVALID_LINKED_FORMAT,s(),0),R.braceNest=0,R.inLinked=!1,fe(N,R))}}function fe(N,R){let $={type:14};if(R.braceNest>0)return te(N,R)||v(R);if(R.inLinked)return X(N,R)||v(R);switch(N.currentChar()){case"{":return te(N,R)||v(R);case"}":return f(ze.UNBALANCED_CLOSING_BRACE,s(),0),N.next(),m(R,3,"}");case"@":return X(N,R)||v(R);default:{if(z(N))return $=m(R,1,H(N)),R.braceNest=0,R.inLinked=!1,$;const{isModulo:we,hasSpace:oe}=L(N);if(we)return oe?m(R,0,en(N)):m(R,4,pt(N));if(q(N))return m(R,0,en(N));break}}return $}function pe(){const{currentType:N,offset:R,startLoc:$,endLoc:Z}=c;return c.lastType=N,c.lastOffset=R,c.lastStartLoc=$,c.lastEndLoc=Z,c.offset=i(),c.startLoc=s(),r.currentChar()===jo?m(c,14):fe(r,c)}return{nextToken:pe,currentOffset:i,currentPosition:s,context:h}}const H8="parser",G8=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function z8(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function q8(e={}){const t=e.location!==!1,{onError:n,onWarn:r}=e;function i(I,C,M,A,...j){const U=I.currentPosition();if(U.offset+=A,U.column+=A,n){const P=t?Sp(M,U):null,z=Il(C,P,{domain:H8,args:j});n(z)}}function s(I,C,M,A,...j){const U=I.currentPosition();if(U.offset+=A,U.column+=A,r){const P=t?Sp(M,U):null;r(L8(C,P,j))}}function a(I,C,M){const A={type:I};return t&&(A.start=C,A.end=C,A.loc={start:M,end:M}),A}function l(I,C,M,A){A&&(I.type=A),t&&(I.end=C,I.loc&&(I.loc.end=M))}function c(I,C){const M=I.context(),A=a(3,M.offset,M.startLoc);return A.value=C,l(A,I.currentOffset(),I.currentPosition()),A}function h(I,C){const M=I.context(),{lastOffset:A,lastStartLoc:j}=M,U=a(5,A,j);return U.index=parseInt(C,10),I.nextToken(),l(U,I.currentOffset(),I.currentPosition()),U}function p(I,C,M){const A=I.context(),{lastOffset:j,lastStartLoc:U}=A,P=a(4,j,U);return P.key=C,M===!0&&(P.modulo=!0),I.nextToken(),l(P,I.currentOffset(),I.currentPosition()),P}function f(I,C){const M=I.context(),{lastOffset:A,lastStartLoc:j}=M,U=a(9,A,j);return U.value=C.replace(G8,z8),I.nextToken(),l(U,I.currentOffset(),I.currentPosition()),U}function m(I){const C=I.nextToken(),M=I.context(),{lastOffset:A,lastStartLoc:j}=M,U=a(8,A,j);return C.type!==12?(i(I,ze.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),U.value="",l(U,A,j),{nextConsumeToken:C,node:U}):(C.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,mi(C)),U.value=C.value||"",l(U,I.currentOffset(),I.currentPosition()),{node:U})}function v(I,C){const M=I.context(),A=a(7,M.offset,M.startLoc);return A.value=C,l(A,I.currentOffset(),I.currentPosition()),A}function y(I){const C=I.context(),M=a(6,C.offset,C.startLoc);let A=I.nextToken();if(A.type===9){const j=m(I);M.modifier=j.node,A=j.nextConsumeToken||I.nextToken()}switch(A.type!==10&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),A=I.nextToken(),A.type===2&&(A=I.nextToken()),A.type){case 11:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=v(I,A.value||"");break;case 5:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=p(I,A.value||"");break;case 6:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=h(I,A.value||"");break;case 7:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=f(I,A.value||"");break;default:{i(I,ze.UNEXPECTED_EMPTY_LINKED_KEY,C.lastStartLoc,0);const j=I.context(),U=a(7,j.offset,j.startLoc);return U.value="",l(U,j.offset,j.startLoc),M.key=U,l(M,j.offset,j.startLoc),{nextConsumeToken:A,node:M}}}return l(M,I.currentOffset(),I.currentPosition()),{node:M}}function _(I){const C=I.context(),M=C.currentType===1?I.currentOffset():C.offset,A=C.currentType===1?C.endLoc:C.startLoc,j=a(2,M,A);j.items=[];let U=null,P=null;do{const q=U||I.nextToken();switch(U=null,q.type){case 0:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(c(I,q.value||""));break;case 6:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(h(I,q.value||""));break;case 4:P=!0;break;case 5:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(p(I,q.value||"",!!P)),P&&(s(I,ww.USE_MODULO_SYNTAX,C.lastStartLoc,0,mi(q)),P=null);break;case 7:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(f(I,q.value||""));break;case 8:{const ee=y(I);j.items.push(ee.node),U=ee.nextConsumeToken||null;break}}}while(C.currentType!==14&&C.currentType!==1);const z=C.currentType===1?C.lastOffset:I.currentOffset(),L=C.currentType===1?C.lastEndLoc:I.currentPosition();return l(j,z,L),j}function w(I,C,M,A){const j=I.context();let U=A.items.length===0;const P=a(1,C,M);P.cases=[],P.cases.push(A);do{const z=_(I);U||(U=z.items.length===0),P.cases.push(z)}while(j.currentType!==14);return U&&i(I,ze.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),l(P,I.currentOffset(),I.currentPosition()),P}function E(I){const C=I.context(),{offset:M,startLoc:A}=C,j=_(I);return C.currentType===14?j:w(I,M,A,j)}function k(I){const C=B8(I,gL({},e)),M=C.context(),A=a(0,M.offset,M.startLoc);return t&&A.loc&&(A.loc.source=I),A.body=E(C),e.onCacheKey&&(A.cacheKey=e.onCacheKey(I)),M.currentType!==14&&i(C,ze.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,I[M.offset]||""),l(A,C.currentOffset(),C.currentPosition()),A}return{parse:k}}function mi(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function W8(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function ex(e,t){for(let n=0;n<e.length;n++)Ew(e[n],t)}function Ew(e,t){switch(e.type){case 1:ex(e.cases,t),t.helper("plural");break;case 2:ex(e.items,t);break;case 6:{Ew(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function K8(e,t={}){const n=W8(e);n.helper("normalize"),e.body&&Ew(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function Y8(e){const t=e.body;return t.type===2?tx(t):t.cases.forEach(n=>tx(n)),e}function tx(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=vL(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const X8="minifier";function xu(e){switch(e.t=e.type,e.type){case 0:{const t=e;xu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)xu(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)xu(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;xu(t.key),t.k=t.key,delete t.key,t.modifier&&(xu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Il(ze.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:X8,args:[e.type]})}delete e.type}const J8="parser";function Q8(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=t,a=t.location!==!1,l={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&e.loc&&(l.source=e.loc.source);const c=()=>l;function h(w,E){l.code+=w}function p(w,E=!0){const k=E?i:"";h(s?k+"  ".repeat(w):k)}function f(w=!0){const E=++l.indentLevel;w&&p(E)}function m(w=!0){const E=--l.indentLevel;w&&p(E)}function v(){p(l.indentLevel)}return{context:c,push:h,indent:f,deindent:m,newline:v,helper:w=>`_${w}`,needIndent:()=>l.needIndent}}function Z8(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ll(e,t.key),t.modifier?(e.push(", "),ll(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function eq(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let s=0;s<i&&(ll(e,t.items[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function tq(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let s=0;s<i&&(ll(e,t.cases[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function nq(e,t){t.body?ll(e,t.body):e.push("null")}function ll(e,t){const{helper:n}=e;switch(t.type){case 0:nq(e,t);break;case 1:tq(e,t);break;case 2:eq(e,t);break;case 6:Z8(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Il(ze.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:J8,args:[t.type]})}}const rq=(e,t={})=>{const n=QA(t.mode)?t.mode:"normal",r=QA(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,a=t.needIndent?t.needIndent:n!=="arrow",l=e.helpers||[],c=Q8(e,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(a),l.length>0&&(c.push(`const { ${vL(l.map(f=>`${f}: _${f}`),", ")} } = ctx`),c.newline()),c.push("return "),ll(c,e),c.deindent(a),c.push("}"),delete e.helpers;const{code:h,map:p}=c.context();return{ast:e,code:h,map:p?p.toJSON():void 0}};function iq(e,t={}){const n=gL({},t),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,l=q8(n).parse(e);return r?(s&&Y8(l),i&&xu(l),{ast:l,code:""}):(K8(l,n),rq(l,n))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function oq(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(co().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(co().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(co().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ls=[];Ls[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ls[1]={w:[1],".":[2],"[":[4],o:[7]};Ls[2]={w:[2],i:[3,0],0:[3,0]};Ls[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ls[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ls[5]={"'":[4,0],o:8,l:[5,0]};Ls[6]={'"':[4,0],o:8,l:[6,0]};const sq=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function aq(e){return sq.test(e)}function uq(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function lq(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function cq(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:aq(t)?uq(t):"*"+t}function fq(e){const t=[];let n=-1,r=0,i=0,s,a,l,c,h,p,f;const m=[];m[0]=()=>{a===void 0?a=l:a+=l},m[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},m[2]=()=>{m[0](),i++},m[3]=()=>{if(i>0)i--,r=4,m[0]();else{if(i=0,a===void 0||(a=cq(a),a===!1))return!1;m[1]()}};function v(){const y=e[n+1];if(r===5&&y==="'"||r===6&&y==='"')return n++,l="\\"+y,m[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&v())){if(c=lq(s),f=Ls[r],h=f[c]||f.l||8,h===8||(r=h[0],h[1]!==void 0&&(p=m[h[1]],p&&(l=s,p()===!1))))return;if(r===7)return t}}const nx=new Map;function hq(e,t){return Ct(e)?e[t]:null}function dq(e,t){if(!Ct(e))return null;let n=nx.get(t);if(n||(n=fq(t),n&&nx.set(t,n)),!n)return null;const r=n.length;let i=e,s=0;for(;s<r;){const a=i[n[s]];if(a===void 0||$t(i))return null;i=a,s++}return i}const pq=e=>e,mq=e=>"",gq="text",vq=e=>e.length===0?"":x8(e),yq=A8;function rx(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function bq(e){const t=wn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(wn(e.named.count)||wn(e.named.n))?wn(e.named.count)?e.named.count:wn(e.named.n)?e.named.n:t:t}function _q(e,t){t.count||(t.count=e),t.n||(t.n=e)}function wq(e={}){const t=e.locale,n=bq(e),r=Ct(e.pluralRules)&&Ae(t)&&$t(e.pluralRules[t])?e.pluralRules[t]:rx,i=Ct(e.pluralRules)&&Ae(t)&&$t(e.pluralRules[t])?rx:void 0,s=E=>E[r(n,E.length,i)],a=e.list||[],l=E=>a[E],c=e.named||{};wn(e.pluralIndex)&&_q(n,c);const h=E=>c[E];function p(E){const k=$t(e.messages)?e.messages(E):Ct(e.messages)?e.messages[E]:!1;return k||(e.parent?e.parent.message(E):mq)}const f=E=>e.modifiers?e.modifiers[E]:pq,m=Je(e.processor)&&$t(e.processor.normalize)?e.processor.normalize:vq,v=Je(e.processor)&&$t(e.processor.interpolate)?e.processor.interpolate:yq,y=Je(e.processor)&&Ae(e.processor.type)?e.processor.type:gq,w={list:l,named:h,plural:s,linked:(E,...k)=>{const[I,C]=k;let M="text",A="";k.length===1?Ct(I)?(A=I.modifier||A,M=I.type||M):Ae(I)&&(A=I||A):k.length===2&&(Ae(I)&&(A=I||A),Ae(C)&&(M=C||M));const j=p(E)(w),U=M==="vnode"&&Gt(j)&&A?j[0]:j;return A?f(A)(U,M):U},message:p,type:y,interpolate:v,normalize:m,values:Un({},a,c)};return w}let pf=null;function Eq(e){pf=e}function Tq(e,t,n){pf&&pf.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Sq=Iq("function:translate");function Iq(e){return t=>pf&&pf.emit(e,t)}const yL=ww.__EXTEND_POINT__,ia=Am(yL),Aq={NOT_FOUND_KEY:yL,FALLBACK_TO_TRANSLATE:ia(),CANNOT_FORMAT_NUMBER:ia(),FALLBACK_TO_NUMBER_FORMAT:ia(),CANNOT_FORMAT_DATE:ia(),FALLBACK_TO_DATE_FORMAT:ia(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ia(),__EXTEND_POINT__:ia()},bL=ze.__EXTEND_POINT__,oa=Am(bL),wi={INVALID_ARGUMENT:bL,INVALID_DATE_ARGUMENT:oa(),INVALID_ISO_DATE_ARGUMENT:oa(),NOT_SUPPORT_NON_STRING_MESSAGE:oa(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:oa(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:oa(),NOT_SUPPORT_LOCALE_TYPE:oa(),__EXTEND_POINT__:oa()};function ji(e){return Il(e,null,void 0)}function Tw(e,t){return t.locale!=null?ix(t.locale):ix(e.locale)}let Ny;function ix(e){if(Ae(e))return e;if($t(e)){if(e.resolvedOnce&&Ny!=null)return Ny;if(e.constructor.name==="Function"){const t=e();if(I8(t))throw ji(wi.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ny=t}else throw ji(wi.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ji(wi.NOT_SUPPORT_LOCALE_TYPE)}function xq(e,t,n){return[...new Set([n,...Gt(t)?t:Ct(t)?Object.keys(t):Ae(t)?[t]:[n]])]}function _L(e,t,n){const r=Ae(n)?n:cl,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;Gt(a);)a=ox(s,a,t);const l=Gt(t)||!Je(t)?t:t.default?t.default:null;a=Ae(l)?[l]:l,Gt(a)&&ox(s,a,!1),i.__localeChainCache.set(r,s)}return s}function ox(e,t,n){let r=!0;for(let i=0;i<t.length&&st(r);i++){const s=t[i];Ae(s)&&(r=kq(e,t[i],n))}return r}function kq(e,t,n){let r;const i=t.split("-");do{const s=i.join("-");r=Cq(e,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function Cq(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Gt(n)||Je(n))&&n[i]&&(r=n[i])}return r}const Nq="9.13.1",xm=-1,cl="en-US",sx="",ax=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Oq(){return{upper:(e,t)=>t==="text"&&Ae(e)?e.toUpperCase():t==="vnode"&&Ct(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Ae(e)?e.toLowerCase():t==="vnode"&&Ct(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Ae(e)?ax(e):t==="vnode"&&Ct(e)&&"__v_isVNode"in e?ax(e.children):e}}let wL;function ux(e){wL=e}let EL;function Pq(e){EL=e}let TL;function Lq(e){TL=e}let SL=null;const Rq=e=>{SL=e},Dq=()=>SL;let IL=null;const lx=e=>{IL=e},Mq=()=>IL;let cx=0;function Fq(e={}){const t=$t(e.onWarn)?e.onWarn:k8,n=Ae(e.version)?e.version:Nq,r=Ae(e.locale)||$t(e.locale)?e.locale:cl,i=$t(r)?cl:r,s=Gt(e.fallbackLocale)||Je(e.fallbackLocale)||Ae(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=Je(e.messages)?e.messages:{[i]:{}},l=Je(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},c=Je(e.numberFormats)?e.numberFormats:{[i]:{}},h=Un({},e.modifiers||{},Oq()),p=e.pluralRules||{},f=$t(e.missing)?e.missing:null,m=st(e.missingWarn)||Ts(e.missingWarn)?e.missingWarn:!0,v=st(e.fallbackWarn)||Ts(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,_=!!e.unresolving,w=$t(e.postTranslation)?e.postTranslation:null,E=Je(e.processor)?e.processor:null,k=st(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,C=$t(e.messageCompiler)?e.messageCompiler:wL,M=$t(e.messageResolver)?e.messageResolver:EL||hq,A=$t(e.localeFallbacker)?e.localeFallbacker:TL||xq,j=Ct(e.fallbackContext)?e.fallbackContext:void 0,U=e,P=Ct(U.__datetimeFormatters)?U.__datetimeFormatters:new Map,z=Ct(U.__numberFormatters)?U.__numberFormatters:new Map,L=Ct(U.__meta)?U.__meta:{};cx++;const q={version:n,cid:cx,locale:r,fallbackLocale:s,messages:a,modifiers:h,pluralRules:p,missing:f,missingWarn:m,fallbackWarn:v,fallbackFormat:y,unresolving:_,postTranslation:w,processor:E,warnHtmlMessage:k,escapeParameter:I,messageCompiler:C,messageResolver:M,localeFallbacker:A,fallbackContext:j,onWarn:t,__meta:L};return q.datetimeFormats=l,q.numberFormats=c,q.__datetimeFormatters=P,q.__numberFormatters=z,__INTLIFY_PROD_DEVTOOLS__&&Tq(q,n,L),q}function Sw(e,t,n,r,i){const{missing:s,onWarn:a}=e;if(s!==null){const l=s(e,n,t,i);return Ae(l)?l:t}else return t}function pc(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Uq(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Vq(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Uq(e,t[r]))return!0;return!1}function Oy(e){return n=>$q(n,e)}function $q(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,i=r.c||r.cases;return e.plural(i.reduce((s,a)=>[...s,fx(e,a)],[]))}else return fx(e,n)}function fx(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((i,s)=>[...i,zb(e,s)],[]);return e.normalize(r)}}function zb(e,t){const n=t.t||t.type;switch(n){case 3:{const r=t;return r.v||r.value}case 9:{const r=t;return r.v||r.value}case 4:{const r=t;return e.interpolate(e.named(r.k||r.key))}case 5:{const r=t;return e.interpolate(e.list(r.i!=null?r.i:r.index))}case 6:{const r=t,i=r.m||r.modifier;return e.linked(zb(e,r.k||r.key),i?zb(e,i):void 0,e.type)}case 7:{const r=t;return r.v||r.value}case 8:{const r=t;return r.v||r.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const AL=e=>e;let Ou=Object.create(null);const fl=e=>Ct(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function xL(e,t={}){let n=!1;const r=t.onError||D8;return t.onError=i=>{n=!0,r(i)},{...iq(e,t),detectError:n}}const jq=(e,t)=>{if(!Ae(e))throw ji(wi.NOT_SUPPORT_NON_STRING_MESSAGE);{st(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||AL)(e),i=Ou[r];if(i)return i;const{code:s,detectError:a}=xL(e,t),l=new Function(`return ${s}`)();return a?l:Ou[r]=l}};function Bq(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ae(e)){st(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||AL)(e),i=Ou[r];if(i)return i;const{ast:s,detectError:a}=xL(e,{...t,location:!1,jit:!0}),l=Oy(s);return a?l:Ou[r]=l}else{const n=e.cacheKey;if(n){const r=Ou[n];return r||(Ou[n]=Oy(e))}else return Oy(e)}}const hx=()=>"",ni=e=>$t(e);function dx(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:l}=e,[c,h]=qb(...t),p=st(h.missingWarn)?h.missingWarn:e.missingWarn,f=st(h.fallbackWarn)?h.fallbackWarn:e.fallbackWarn,m=st(h.escapeParameter)?h.escapeParameter:e.escapeParameter,v=!!h.resolvedMessage,y=Ae(h.default)||st(h.default)?st(h.default)?s?c:()=>c:h.default:n?s?c:()=>c:"",_=n||y!=="",w=Tw(e,h);m&&Hq(h);let[E,k,I]=v?[c,w,l[w]||{}]:kL(e,c,w,a,f,p),C=E,M=c;if(!v&&!(Ae(C)||fl(C)||ni(C))&&_&&(C=y,M=C),!v&&(!(Ae(C)||fl(C)||ni(C))||!Ae(k)))return i?xm:c;let A=!1;const j=()=>{A=!0},U=ni(C)?C:CL(e,c,k,C,M,j);if(A)return C;const P=qq(e,k,I,h),z=wq(P),L=Gq(e,U,z),q=r?r(L,c):L;if(__INTLIFY_PROD_DEVTOOLS__){const ee={timestamp:Date.now(),key:Ae(c)?c:ni(C)?C.key:"",locale:k||(ni(C)?C.locale:""),format:Ae(C)?C:ni(C)?C.source:"",message:q};ee.meta=Un({},e.__meta,Dq()||{}),Sq(ee)}return q}function Hq(e){Gt(e.list)?e.list=e.list.map(t=>Ae(t)?JA(t):t):Ct(e.named)&&Object.keys(e.named).forEach(t=>{Ae(e.named[t])&&(e.named[t]=JA(e.named[t]))})}function kL(e,t,n,r,i,s){const{messages:a,onWarn:l,messageResolver:c,localeFallbacker:h}=e,p=h(e,r,n);let f={},m,v=null;const y="translate";for(let _=0;_<p.length&&(m=p[_],f=a[m]||{},(v=c(f,t))===null&&(v=f[t]),!(Ae(v)||fl(v)||ni(v)));_++)if(!Vq(m,p)){const w=Sw(e,t,m,s,y);w!==t&&(v=w)}return[v,m,f]}function CL(e,t,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:l}=e;if(ni(r)){const h=r;return h.locale=h.locale||n,h.key=h.key||t,h}if(a==null){const h=()=>r;return h.locale=n,h.key=t,h}const c=a(r,zq(e,n,i,r,l,s));return c.locale=n,c.key=t,c.source=r,c}function Gq(e,t,n){return t(n)}function qb(...e){const[t,n,r]=e,i={};if(!Ae(t)&&!wn(t)&&!ni(t)&&!fl(t))throw ji(wi.INVALID_ARGUMENT);const s=wn(t)?String(t):(ni(t),t);return wn(n)?i.plural=n:Ae(n)?i.default=n:Je(n)&&!Im(n)?i.named=n:Gt(n)&&(i.list=n),wn(r)?i.plural=r:Ae(r)?i.default=r:Je(r)&&Un(i,r),[s,i]}function zq(e,t,n,r,i,s){return{locale:t,key:n,warnHtmlMessage:i,onError:a=>{throw s&&s(a),a},onCacheKey:a=>w8(t,n,a)}}function qq(e,t,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:l,fallbackWarn:c,missingWarn:h,fallbackContext:p}=e,m={locale:t,modifiers:i,pluralRules:s,messages:v=>{let y=a(n,v);if(y==null&&p){const[,,_]=kL(p,v,t,l,c,h);y=a(_,v)}if(Ae(y)||fl(y)){let _=!1;const E=CL(e,v,t,y,v,()=>{_=!0});return _?hx:E}else return ni(y)?y:hx}};return e.processor&&(m.processor=e.processor),r.list&&(m.list=r.list),r.named&&(m.named=r.named),wn(r.plural)&&(m.pluralIndex=r.plural),m}function px(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__datetimeFormatters:l}=e,[c,h,p,f]=Wb(...t),m=st(p.missingWarn)?p.missingWarn:e.missingWarn;st(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const v=!!p.part,y=Tw(e,p),_=a(e,i,y);if(!Ae(c)||c==="")return new Intl.DateTimeFormat(y,f).format(h);let w={},E,k=null;const I="datetime format";for(let A=0;A<_.length&&(E=_[A],w=n[E]||{},k=w[c],!Je(k));A++)Sw(e,c,E,m,I);if(!Je(k)||!Ae(E))return r?xm:c;let C=`${E}__${c}`;Im(f)||(C=`${C}__${JSON.stringify(f)}`);let M=l.get(C);return M||(M=new Intl.DateTimeFormat(E,Un({},k,f)),l.set(C,M)),v?M.formatToParts(h):M.format(h)}const NL=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Wb(...e){const[t,n,r,i]=e,s={};let a={},l;if(Ae(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw ji(wi.INVALID_ISO_DATE_ARGUMENT);const h=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();l=new Date(h);try{l.toISOString()}catch{throw ji(wi.INVALID_ISO_DATE_ARGUMENT)}}else if(T8(t)){if(isNaN(t.getTime()))throw ji(wi.INVALID_DATE_ARGUMENT);l=t}else if(wn(t))l=t;else throw ji(wi.INVALID_ARGUMENT);return Ae(n)?s.key=n:Je(n)&&Object.keys(n).forEach(c=>{NL.includes(c)?a[c]=n[c]:s[c]=n[c]}),Ae(r)?s.locale=r:Je(r)&&(a=r),Je(i)&&(a=i),[s.key||"",l,s,a]}function mx(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function gx(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__numberFormatters:l}=e,[c,h,p,f]=Kb(...t),m=st(p.missingWarn)?p.missingWarn:e.missingWarn;st(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const v=!!p.part,y=Tw(e,p),_=a(e,i,y);if(!Ae(c)||c==="")return new Intl.NumberFormat(y,f).format(h);let w={},E,k=null;const I="number format";for(let A=0;A<_.length&&(E=_[A],w=n[E]||{},k=w[c],!Je(k));A++)Sw(e,c,E,m,I);if(!Je(k)||!Ae(E))return r?xm:c;let C=`${E}__${c}`;Im(f)||(C=`${C}__${JSON.stringify(f)}`);let M=l.get(C);return M||(M=new Intl.NumberFormat(E,Un({},k,f)),l.set(C,M)),v?M.formatToParts(h):M.format(h)}const OL=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Kb(...e){const[t,n,r,i]=e,s={};let a={};if(!wn(t))throw ji(wi.INVALID_ARGUMENT);const l=t;return Ae(n)?s.key=n:Je(n)&&Object.keys(n).forEach(c=>{OL.includes(c)?a[c]=n[c]:s[c]=n[c]}),Ae(r)?s.locale=r:Je(r)&&(a=r),Je(i)&&(a=i),[s.key||"",l,s,a]}function vx(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}oq();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Wq="9.13.1";function Kq(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(co().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(co().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(co().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(co().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(co().__INTLIFY_PROD_DEVTOOLS__=!1)}const PL=Aq.__EXTEND_POINT__,so=Am(PL);so(),so(),so(),so(),so(),so(),so(),so(),so();const LL=wi.__EXTEND_POINT__,br=Am(LL),Tn={UNEXPECTED_RETURN_TYPE:LL,INVALID_ARGUMENT:br(),MUST_BE_CALL_SETUP_TOP:br(),NOT_INSTALLED:br(),NOT_AVAILABLE_IN_LEGACY_MODE:br(),REQUIRED_VALUE:br(),INVALID_VALUE:br(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:br(),NOT_INSTALLED_WITH_PROVIDE:br(),UNEXPECTED_ERROR:br(),NOT_COMPATIBLE_LEGACY_VUE_I18N:br(),BRIDGE_SUPPORT_VUE_2_ONLY:br(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:br(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:br(),__EXTEND_POINT__:br()};function Pn(e,...t){return Il(e,null,void 0)}const Yb=Ps("__translateVNode"),Xb=Ps("__datetimeParts"),Jb=Ps("__numberParts"),RL=Ps("__setPluralRules"),DL=Ps("__injectWithOption"),Qb=Ps("__dispose");function mf(e){if(!Ct(e))return e;for(const t in e)if(Tp(e,t))if(!t.includes("."))Ct(e[t])&&mf(e[t]);else{const n=t.split("."),r=n.length-1;let i=e,s=!1;for(let a=0;a<r;a++){if(n[a]in i||(i[n[a]]={}),!Ct(i[n[a]])){s=!0;break}i=i[n[a]]}s||(i[n[r]]=e[t],delete e[t]),Ct(i[n[r]])&&mf(i[n[r]])}return e}function km(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=t,a=Je(n)?n:Gt(r)?{}:{[e]:{}};if(Gt(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:c,resource:h}=l;c?(a[c]=a[c]||{},Od(h,a[c])):Od(h,a)}else Ae(l)&&Od(JSON.parse(l),a)}),i==null&&s)for(const l in a)Tp(a,l)&&mf(a[l]);return a}function ML(e){return e.type}function FL(e,t,n){let r=Ct(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=km(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(Ct(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(Ct(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function yx(e){return ae(Sf,null,e,0)}const bx="__INTLIFY_META__",_x=()=>[],Yq=()=>!1;let wx=0;function Ex(e){return(t,n,r,i)=>e(n,r,Wi()||void 0,i)}const Xq=()=>{const e=Wi();let t=null;return e&&(t=ML(e)[bx])?{[bx]:t}:null};function Iw(e={},t){const{__root:n,__injectWithOption:r}=e,i=n===void 0,s=e.flatJson,a=Ep?ot:Rp,l=!!e.translateExistCompatible;let c=st(e.inheritLocale)?e.inheritLocale:!0;const h=a(n&&c?n.locale.value:Ae(e.locale)?e.locale:cl),p=a(n&&c?n.fallbackLocale.value:Ae(e.fallbackLocale)||Gt(e.fallbackLocale)||Je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:h.value),f=a(km(h.value,e)),m=a(Je(e.datetimeFormats)?e.datetimeFormats:{[h.value]:{}}),v=a(Je(e.numberFormats)?e.numberFormats:{[h.value]:{}});let y=n?n.missingWarn:st(e.missingWarn)||Ts(e.missingWarn)?e.missingWarn:!0,_=n?n.fallbackWarn:st(e.fallbackWarn)||Ts(e.fallbackWarn)?e.fallbackWarn:!0,w=n?n.fallbackRoot:st(e.fallbackRoot)?e.fallbackRoot:!0,E=!!e.fallbackFormat,k=$t(e.missing)?e.missing:null,I=$t(e.missing)?Ex(e.missing):null,C=$t(e.postTranslation)?e.postTranslation:null,M=n?n.warnHtmlMessage:st(e.warnHtmlMessage)?e.warnHtmlMessage:!0,A=!!e.escapeParameter;const j=n?n.modifiers:Je(e.modifiers)?e.modifiers:{};let U=e.pluralRules||n&&n.pluralRules,P;P=(()=>{i&&lx(null);const G={version:Wq,locale:h.value,fallbackLocale:p.value,messages:f.value,modifiers:j,pluralRules:U,missing:I===null?void 0:I,missingWarn:y,fallbackWarn:_,fallbackFormat:E,unresolving:!0,postTranslation:C===null?void 0:C,warnHtmlMessage:M,escapeParameter:A,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};G.datetimeFormats=m.value,G.numberFormats=v.value,G.__datetimeFormatters=Je(P)?P.__datetimeFormatters:void 0,G.__numberFormatters=Je(P)?P.__numberFormatters:void 0;const J=Fq(G);return i&&lx(J),J})(),pc(P,h.value,p.value);function L(){return[h.value,p.value,f.value,m.value,v.value]}const q=He({get:()=>h.value,set:G=>{h.value=G,P.locale=h.value}}),ee=He({get:()=>p.value,set:G=>{p.value=G,P.fallbackLocale=p.value,pc(P,h.value,G)}}),Te=He(()=>f.value),xe=He(()=>m.value),ie=He(()=>v.value);function Re(){return $t(C)?C:null}function Me(G){C=G,P.postTranslation=G}function Xe(){return k}function xt(G){G!==null&&(I=Ex(G)),k=G,P.missing=I}const it=(G,J,ge,V,B,ne)=>{L();let ve;try{__INTLIFY_PROD_DEVTOOLS__,i||(P.fallbackContext=n?Mq():void 0),ve=G(P)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(P.fallbackContext=void 0)}if(ge!=="translate exists"&&wn(ve)&&ve===xm||ge==="translate exists"&&!ve){const[Ie,Pe]=J();return n&&w?V(n):B(Ie)}else{if(ne(ve))return ve;throw Pn(Tn.UNEXPECTED_RETURN_TYPE)}};function dt(...G){return it(J=>Reflect.apply(dx,null,[J,...G]),()=>qb(...G),"translate",J=>Reflect.apply(J.t,J,[...G]),J=>J,J=>Ae(J))}function pt(...G){const[J,ge,V]=G;if(V&&!Ct(V))throw Pn(Tn.INVALID_ARGUMENT);return dt(J,ge,Un({resolvedMessage:!0},V||{}))}function en(...G){return it(J=>Reflect.apply(px,null,[J,...G]),()=>Wb(...G),"datetime format",J=>Reflect.apply(J.d,J,[...G]),()=>sx,J=>Ae(J))}function Se(...G){return it(J=>Reflect.apply(gx,null,[J,...G]),()=>Kb(...G),"number format",J=>Reflect.apply(J.n,J,[...G]),()=>sx,J=>Ae(J))}function Ne(G){return G.map(J=>Ae(J)||wn(J)||st(J)?yx(String(J)):J)}const le={normalize:Ne,interpolate:G=>G,type:"vnode"};function re(...G){return it(J=>{let ge;const V=J;try{V.processor=le,ge=Reflect.apply(dx,null,[V,...G])}finally{V.processor=null}return ge},()=>qb(...G),"translate",J=>J[Yb](...G),J=>[yx(J)],J=>Gt(J))}function Ee(...G){return it(J=>Reflect.apply(gx,null,[J,...G]),()=>Kb(...G),"number format",J=>J[Jb](...G),_x,J=>Ae(J)||Gt(J))}function Ge(...G){return it(J=>Reflect.apply(px,null,[J,...G]),()=>Wb(...G),"datetime format",J=>J[Xb](...G),_x,J=>Ae(J)||Gt(J))}function at(G){U=G,P.pluralRules=U}function D(G,J){return it(()=>{if(!G)return!1;const ge=Ae(J)?J:h.value,V=te(ge),B=P.messageResolver(V,G);return l?B!=null:fl(B)||ni(B)||Ae(B)},()=>[G],"translate exists",ge=>Reflect.apply(ge.te,ge,[G,J]),Yq,ge=>st(ge))}function O(G){let J=null;const ge=_L(P,p.value,h.value);for(let V=0;V<ge.length;V++){const B=f.value[ge[V]]||{},ne=P.messageResolver(B,G);if(ne!=null){J=ne;break}}return J}function H(G){const J=O(G);return J??(n?n.tm(G)||{}:{})}function te(G){return f.value[G]||{}}function X(G,J){if(s){const ge={[G]:J};for(const V in ge)Tp(ge,V)&&mf(ge[V]);J=ge[G]}f.value[G]=J,P.messages=f.value}function fe(G,J){f.value[G]=f.value[G]||{};const ge={[G]:J};if(s)for(const V in ge)Tp(ge,V)&&mf(ge[V]);J=ge[G],Od(J,f.value[G]),P.messages=f.value}function pe(G){return m.value[G]||{}}function N(G,J){m.value[G]=J,P.datetimeFormats=m.value,mx(P,G,J)}function R(G,J){m.value[G]=Un(m.value[G]||{},J),P.datetimeFormats=m.value,mx(P,G,J)}function $(G){return v.value[G]||{}}function Z(G,J){v.value[G]=J,P.numberFormats=v.value,vx(P,G,J)}function we(G,J){v.value[G]=Un(v.value[G]||{},J),P.numberFormats=v.value,vx(P,G,J)}wx++,n&&Ep&&(Kn(n.locale,G=>{c&&(h.value=G,P.locale=G,pc(P,h.value,p.value))}),Kn(n.fallbackLocale,G=>{c&&(p.value=G,P.fallbackLocale=G,pc(P,h.value,p.value))}));const oe={id:wx,locale:q,fallbackLocale:ee,get inheritLocale(){return c},set inheritLocale(G){c=G,G&&n&&(h.value=n.locale.value,p.value=n.fallbackLocale.value,pc(P,h.value,p.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:Te,get modifiers(){return j},get pluralRules(){return U||{}},get isGlobal(){return i},get missingWarn(){return y},set missingWarn(G){y=G,P.missingWarn=y},get fallbackWarn(){return _},set fallbackWarn(G){_=G,P.fallbackWarn=_},get fallbackRoot(){return w},set fallbackRoot(G){w=G},get fallbackFormat(){return E},set fallbackFormat(G){E=G,P.fallbackFormat=E},get warnHtmlMessage(){return M},set warnHtmlMessage(G){M=G,P.warnHtmlMessage=G},get escapeParameter(){return A},set escapeParameter(G){A=G,P.escapeParameter=G},t:dt,getLocaleMessage:te,setLocaleMessage:X,mergeLocaleMessage:fe,getPostTranslationHandler:Re,setPostTranslationHandler:Me,getMissingHandler:Xe,setMissingHandler:xt,[RL]:at};return oe.datetimeFormats=xe,oe.numberFormats=ie,oe.rt=pt,oe.te=D,oe.tm=H,oe.d=en,oe.n=Se,oe.getDateTimeFormat=pe,oe.setDateTimeFormat=N,oe.mergeDateTimeFormat=R,oe.getNumberFormat=$,oe.setNumberFormat=Z,oe.mergeNumberFormat=we,oe[DL]=r,oe[Yb]=re,oe[Xb]=Ge,oe[Jb]=Ee,oe}function Jq(e){const t=Ae(e.locale)?e.locale:cl,n=Ae(e.fallbackLocale)||Gt(e.fallbackLocale)||Je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=$t(e.missing)?e.missing:void 0,i=st(e.silentTranslationWarn)||Ts(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=st(e.silentFallbackWarn)||Ts(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=st(e.fallbackRoot)?e.fallbackRoot:!0,l=!!e.formatFallbackMessages,c=Je(e.modifiers)?e.modifiers:{},h=e.pluralizationRules,p=$t(e.postTranslation)?e.postTranslation:void 0,f=Ae(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,m=!!e.escapeParameterHtml,v=st(e.sync)?e.sync:!0;let y=e.messages;if(Je(e.sharedMessages)){const A=e.sharedMessages;y=Object.keys(A).reduce((U,P)=>{const z=U[P]||(U[P]={});return Un(z,A[P]),U},y||{})}const{__i18n:_,__root:w,__injectWithOption:E}=e,k=e.datetimeFormats,I=e.numberFormats,C=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:y,flatJson:C,datetimeFormats:k,numberFormats:I,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:a,fallbackFormat:l,modifiers:c,pluralRules:h,postTranslation:p,warnHtmlMessage:f,escapeParameter:m,messageResolver:e.messageResolver,inheritLocale:v,translateExistCompatible:M,__i18n:_,__root:w,__injectWithOption:E}}function Zb(e={},t){{const n=Iw(Jq(e)),{__extender:r}=e,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return st(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=st(s)?!s:s},get silentFallbackWarn(){return st(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=st(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,l,c]=s,h={};let p=null,f=null;if(!Ae(a))throw Pn(Tn.INVALID_ARGUMENT);const m=a;return Ae(l)?h.locale=l:Gt(l)?p=l:Je(l)&&(f=l),Gt(c)?p=c:Je(c)&&(f=c),Reflect.apply(n.t,n,[m,p||f||{},h])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,l,c]=s,h={plural:1};let p=null,f=null;if(!Ae(a))throw Pn(Tn.INVALID_ARGUMENT);const m=a;return Ae(l)?h.locale=l:wn(l)?h.plural=l:Gt(l)?p=l:Je(l)&&(f=l),Ae(c)?h.locale=c:Gt(c)?p=c:Je(c)&&(f=c),Reflect.apply(n.t,n,[m,p||f||{},h])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return-1}};return i.__extender=r,i}}const Aw={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Qq({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,i)=>[...r,...i.type===vt?i.children:[i]],[]):t.reduce((n,r)=>{const i=e[r];return i&&(n[r]=i()),n},{})}function UL(e){return vt}const Zq=Ss({name:"i18n-t",props:Un({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>wn(e)||!isNaN(e)}},Aw),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||xw({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(f=>f!=="_"),a={};e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=Ae(e.plural)?+e.plural:e.plural);const l=Qq(t,s),c=i[Yb](e.keypath,l,a),h=Un({},r),p=Ae(e.tag)||Ct(e.tag)?e.tag:UL();return mn(p,h,c)}}}),Tx=Zq;function e6(e){return Gt(e)&&!Ae(e[0])}function VL(e,t,n,r){const{slots:i,attrs:s}=t;return()=>{const a={part:!0};let l={};e.locale&&(a.locale=e.locale),Ae(e.format)?a.key=e.format:Ct(e.format)&&(Ae(e.format.key)&&(a.key=e.format.key),l=Object.keys(e.format).reduce((m,v)=>n.includes(v)?Un({},m,{[v]:e.format[v]}):m,{}));const c=r(e.value,a,l);let h=[a.key];Gt(c)?h=c.map((m,v)=>{const y=i[m.type],_=y?y({[m.type]:m.value,index:v,parts:c}):[m.value];return e6(_)&&(_[0].key=`${m.type}-${v}`),_}):Ae(c)&&(h=[c]);const p=Un({},s),f=Ae(e.tag)||Ct(e.tag)?e.tag:UL();return mn(f,p,h)}}const t6=Ss({name:"i18n-n",props:Un({value:{type:Number,required:!0},format:{type:[String,Object]}},Aw),setup(e,t){const n=e.i18n||xw({useScope:e.scope,__useComponent:!0});return VL(e,t,OL,(...r)=>n[Jb](...r))}}),Sx=t6,n6=Ss({name:"i18n-d",props:Un({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Aw),setup(e,t){const n=e.i18n||xw({useScope:e.scope,__useComponent:!0});return VL(e,t,NL,(...r)=>n[Xb](...r))}}),Ix=n6;function r6(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function i6(e){const t=a=>{const{instance:l,modifiers:c,value:h}=a;if(!l||!l.$)throw Pn(Tn.UNEXPECTED_ERROR);const p=r6(e,l.$),f=Ax(h);return[Reflect.apply(p.t,p,[...xx(f)]),p]};return{created:(a,l)=>{const[c,h]=t(l);Ep&&e.global===h&&(a.__i18nWatcher=Kn(h.locale,()=>{l.instance&&l.instance.$forceUpdate()})),a.__composer=h,a.textContent=c},unmounted:a=>{Ep&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:l})=>{if(a.__composer){const c=a.__composer,h=Ax(l);a.textContent=Reflect.apply(c.t,c,[...xx(h)])}},getSSRProps:a=>{const[l]=t(a);return{textContent:l}}}}function Ax(e){if(Ae(e))return{path:e};if(Je(e)){if(!("path"in e))throw Pn(Tn.REQUIRED_VALUE,"path");return e}else throw Pn(Tn.INVALID_VALUE)}function xx(e){const{path:t,locale:n,args:r,choice:i,plural:s}=e,a={},l=r||{};return Ae(n)&&(a.locale=n),wn(i)&&(a.plural=i),wn(s)&&(a.plural=s),[t,l,a]}function o6(e,t,...n){const r=Je(n[0])?n[0]:{},i=!!r.useI18nComponentName;(st(r.globalInstall)?r.globalInstall:!0)&&([i?"i18n":Tx.name,"I18nT"].forEach(a=>e.component(a,Tx)),[Sx.name,"I18nN"].forEach(a=>e.component(a,Sx)),[Ix.name,"I18nD"].forEach(a=>e.component(a,Ix))),e.directive("t",i6(t))}function s6(e,t,n){return{beforeCreate(){const r=Wi();if(!r)throw Pn(Tn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=t,this===this.$root)this.$i18n=kx(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Zb(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=kx(e,i);else{this.$i18n=Zb({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&FL(t,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Wi();if(!r)throw Pn(Tn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function kx(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[RL](t.pluralizationRules||e.pluralizationRules);const n=km(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const a6=Ps("global-vue-i18n");function u6(e={},t){const n=__VUE_I18N_LEGACY_API__&&st(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=st(e.globalInjection)?e.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[a,l]=l6(e,n),c=Ps("");function h(m){return s.get(m)||null}function p(m,v){s.set(m,v)}function f(m){s.delete(m)}{const m={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(v,...y){if(v.__VUE_I18N_SYMBOL__=c,v.provide(v.__VUE_I18N_SYMBOL__,m),Je(y[0])){const E=y[0];m.__composerExtend=E.__composerExtend,m.__vueI18nExtend=E.__vueI18nExtend}let _=null;!n&&r&&(_=y6(v,m.global)),__VUE_I18N_FULL_INSTALL__&&o6(v,m,...y),__VUE_I18N_LEGACY_API__&&n&&v.mixin(s6(l,l.__composer,m));const w=v.unmount;v.unmount=()=>{_&&_(),m.dispose(),w()}},get global(){return l},dispose(){a.stop()},__instances:s,__getInstance:h,__setInstance:p,__deleteInstance:f};return m}}function xw(e={}){const t=Wi();if(t==null)throw Pn(Tn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Pn(Tn.NOT_INSTALLED);const n=c6(t),r=h6(n),i=ML(t),s=f6(e,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw Pn(Tn.NOT_AVAILABLE_IN_LEGACY_MODE);return g6(t,s,r,e)}if(s==="global")return FL(r,e,i),r;if(s==="parent"){let c=d6(n,t,e.__useComponent);return c==null&&(c=r),c}const a=n;let l=a.__getInstance(t);if(l==null){const c=Un({},e);"__i18n"in i&&(c.__i18n=i.__i18n),r&&(c.__root=r),l=Iw(c),a.__composerExtend&&(l[Qb]=a.__composerExtend(l)),m6(a,t,l),a.__setInstance(t,l)}return l}function l6(e,t,n){const r=T_();{const i=__VUE_I18N_LEGACY_API__&&t?r.run(()=>Zb(e)):r.run(()=>Iw(e));if(i==null)throw Pn(Tn.UNEXPECTED_ERROR);return[r,i]}}function c6(e){{const t=Br(e.isCE?a6:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Pn(e.isCE?Tn.NOT_INSTALLED_WITH_PROVIDE:Tn.UNEXPECTED_ERROR);return t}}function f6(e,t){return Im(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function h6(e){return e.mode==="composition"?e.global:e.global.__composer}function d6(e,t,n=!1){let r=null;const i=t.root;let s=p6(t,n);for(;s!=null;){const a=e;if(e.mode==="composition")r=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const l=a.__getInstance(s);l!=null&&(r=l.__composer,n&&r&&!r[DL]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function p6(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function m6(e,t,n){Fa(()=>{},t),V_(()=>{const r=n;e.__deleteInstance(t);const i=r[Qb];i&&(i(),delete r[Qb])},t)}function g6(e,t,n,r={}){const i=t==="local",s=Rp(null);if(i&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Pn(Tn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=st(r.inheritLocale)?r.inheritLocale:!Ae(r.locale),l=ot(!i||a?n.locale.value:Ae(r.locale)?r.locale:cl),c=ot(!i||a?n.fallbackLocale.value:Ae(r.fallbackLocale)||Gt(r.fallbackLocale)||Je(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:l.value),h=ot(km(l.value,r)),p=ot(Je(r.datetimeFormats)?r.datetimeFormats:{[l.value]:{}}),f=ot(Je(r.numberFormats)?r.numberFormats:{[l.value]:{}}),m=i?n.missingWarn:st(r.missingWarn)||Ts(r.missingWarn)?r.missingWarn:!0,v=i?n.fallbackWarn:st(r.fallbackWarn)||Ts(r.fallbackWarn)?r.fallbackWarn:!0,y=i?n.fallbackRoot:st(r.fallbackRoot)?r.fallbackRoot:!0,_=!!r.fallbackFormat,w=$t(r.missing)?r.missing:null,E=$t(r.postTranslation)?r.postTranslation:null,k=i?n.warnHtmlMessage:st(r.warnHtmlMessage)?r.warnHtmlMessage:!0,I=!!r.escapeParameter,C=i?n.modifiers:Je(r.modifiers)?r.modifiers:{},M=r.pluralRules||i&&n.pluralRules;function A(){return[l.value,c.value,h.value,p.value,f.value]}const j=He({get:()=>s.value?s.value.locale.value:l.value,set:O=>{s.value&&(s.value.locale.value=O),l.value=O}}),U=He({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:O=>{s.value&&(s.value.fallbackLocale.value=O),c.value=O}}),P=He(()=>s.value?s.value.messages.value:h.value),z=He(()=>p.value),L=He(()=>f.value);function q(){return s.value?s.value.getPostTranslationHandler():E}function ee(O){s.value&&s.value.setPostTranslationHandler(O)}function Te(){return s.value?s.value.getMissingHandler():w}function xe(O){s.value&&s.value.setMissingHandler(O)}function ie(O){return A(),O()}function Re(...O){return s.value?ie(()=>Reflect.apply(s.value.t,null,[...O])):ie(()=>"")}function Me(...O){return s.value?Reflect.apply(s.value.rt,null,[...O]):""}function Xe(...O){return s.value?ie(()=>Reflect.apply(s.value.d,null,[...O])):ie(()=>"")}function xt(...O){return s.value?ie(()=>Reflect.apply(s.value.n,null,[...O])):ie(()=>"")}function it(O){return s.value?s.value.tm(O):{}}function dt(O,H){return s.value?s.value.te(O,H):!1}function pt(O){return s.value?s.value.getLocaleMessage(O):{}}function en(O,H){s.value&&(s.value.setLocaleMessage(O,H),h.value[O]=H)}function Se(O,H){s.value&&s.value.mergeLocaleMessage(O,H)}function Ne(O){return s.value?s.value.getDateTimeFormat(O):{}}function W(O,H){s.value&&(s.value.setDateTimeFormat(O,H),p.value[O]=H)}function le(O,H){s.value&&s.value.mergeDateTimeFormat(O,H)}function re(O){return s.value?s.value.getNumberFormat(O):{}}function Ee(O,H){s.value&&(s.value.setNumberFormat(O,H),f.value[O]=H)}function Ge(O,H){s.value&&s.value.mergeNumberFormat(O,H)}const at={get id(){return s.value?s.value.id:-1},locale:j,fallbackLocale:U,messages:P,datetimeFormats:z,numberFormats:L,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(O){s.value&&(s.value.inheritLocale=O)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(h.value)},get modifiers(){return s.value?s.value.modifiers:C},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:m},set missingWarn(O){s.value&&(s.value.missingWarn=O)},get fallbackWarn(){return s.value?s.value.fallbackWarn:v},set fallbackWarn(O){s.value&&(s.value.missingWarn=O)},get fallbackRoot(){return s.value?s.value.fallbackRoot:y},set fallbackRoot(O){s.value&&(s.value.fallbackRoot=O)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(O){s.value&&(s.value.fallbackFormat=O)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:k},set warnHtmlMessage(O){s.value&&(s.value.warnHtmlMessage=O)},get escapeParameter(){return s.value?s.value.escapeParameter:I},set escapeParameter(O){s.value&&(s.value.escapeParameter=O)},t:Re,getPostTranslationHandler:q,setPostTranslationHandler:ee,getMissingHandler:Te,setMissingHandler:xe,rt:Me,d:Xe,n:xt,tm:it,te:dt,getLocaleMessage:pt,setLocaleMessage:en,mergeLocaleMessage:Se,getDateTimeFormat:Ne,setDateTimeFormat:W,mergeDateTimeFormat:le,getNumberFormat:re,setNumberFormat:Ee,mergeNumberFormat:Ge};function D(O){O.locale.value=l.value,O.fallbackLocale.value=c.value,Object.keys(h.value).forEach(H=>{O.mergeLocaleMessage(H,h.value[H])}),Object.keys(p.value).forEach(H=>{O.mergeDateTimeFormat(H,p.value[H])}),Object.keys(f.value).forEach(H=>{O.mergeNumberFormat(H,f.value[H])}),O.escapeParameter=I,O.fallbackFormat=_,O.fallbackRoot=y,O.fallbackWarn=v,O.missingWarn=m,O.warnHtmlMessage=k}return iC(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Pn(Tn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const O=s.value=e.proxy.$i18n.__composer;t==="global"?(l.value=O.locale.value,c.value=O.fallbackLocale.value,h.value=O.messages.value,p.value=O.datetimeFormats.value,f.value=O.numberFormats.value):i&&D(O)}),at}const v6=["locale","fallbackLocale","availableLocales"],Cx=["t","rt","d","n","tm","te"];function y6(e,t){const n=Object.create(null);return v6.forEach(i=>{const s=Object.getOwnPropertyDescriptor(t,i);if(!s)throw Pn(Tn.UNEXPECTED_ERROR);const a=zt(s.value)?{get(){return s.value.value},set(l){s.value.value=l}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,i,a)}),e.config.globalProperties.$i18n=n,Cx.forEach(i=>{const s=Object.getOwnPropertyDescriptor(t,i);if(!s||!s.value)throw Pn(Tn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,s)}),()=>{delete e.config.globalProperties.$i18n,Cx.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}Kq();__INTLIFY_JIT_COMPILATION__?ux(Bq):ux(jq);Pq(dq);Lq(_L);if(__INTLIFY_PROD_DEVTOOLS__){const e=co();e.__INTLIFY__=!0,Eq(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const b6="Artist",_6="Genre",w6="Song Name",E6={sign_up_to_singer:"Sign Up To Be A Singer",browse_site:"Browse The Site"},T6={sign_in_sign_up:"Sign In/Sign Up",logout:"Logout",make_your_own_album:"Make Own Album",play_list:"Play List",member_managemnet:"Member Management"},S6={upload_song:"Upload Song",confirm_upload:"Confirm",confirm_cropper:"Confirm to crop",confirm:"Confirm",cancel:"Cancel",publish_later:"Not now",yes:"yes"},I6={give_it_a_listen:"Give It A Listen",cliam:"The music,songs and pictures on this website are for technical testing purposes only and are not for commercial use. Please do not reproduce or share",tomorrow_stars_title:"Tomorrow's Stars",america_pop_title:"North American Pop",piano_pop_title:"Piano Music"},A6={start_to_make_album_title:"Make Your Album",upload_your_song_title:"Upload Your Song",the_song_you_want_to_upload:"Song Uploading List",upload_singer_photo:"Upload your photo",upload_album_cover:"Upload album cover",singer_photo:"Artist photo",singer_name:"Artist name",album_cover:"Album cover",album_name:"Album name",album_genre:"Album genre",album_desc:"Album description",descript_your_album:"Please descript your album",singer_desc:"Artist description",descript_yourself:"Please descript yourself",albumGenre:{Acoustic:"Acoustic",Blues:"Blues",Classical:"Classical",Country:"Country",Dance_Electronica:"Dance Electronica",Drones:"Drones",Dubstep:"Dubstep",Easy_Listening:"Easy Listening",Folk:"Folk",Funk:"Funk",Hip_Hop:"Hip Hop",House:"House",Kitsch:"Kitsch",Latin:"Latin",March:"March",Metal:"Metal",Opera:"Opera",Pop:"Pop",Rock:"Rock",Soul:"Soul","Urban_R&Bl":"Urban/R&B",World_Music:"World Music",Other:"Other"}},x6={profile:"Profile",created_album:"Created Album",editAlbum:{album_info:"Album Infomation",make_album_public:"Make Album Public",album_is_public:"Album is public",album_is_private:"Album is private",singer_name:"Artist Name",album_name:"Album Name",album_genre:"Album Genre",singer_desc:"Artist Description",album_desc:"Album Description",uploaded_song_list:"Uploaded Song List"}},k6={feature_unavailable_msg:"This feature is available to registered users only. Please sign up for a free account",login_to_use:"Please sign up and log in to create your own album",no_available_route:"No Available Route"},C6={add_song_to_list:"The「{favsongName}」has been added in play list",delete_song_form_play_list:"The「{favsongName}has been removed form play list",delete_album:"Are you sure to delete album【{albumName}】",delete_favsong:"Are you sure to delete「{favsongName}」from play list",file_extension_check_alert:"Please upload an image file in JPG, PNG, or BMP format.",photo_size_suggetion_alert:"Please ensure your image is square (e.g., 500x500 pixels).",photo_pixel_than_suggetion_alert:"Your image must be at least 200 pixels by 200 pixels",registered_yet:"You have not registered or logged in yet. You cannot complete the album creation.",album_complete_alert:"Your album is complete. Would you like to publish it on the website?",at_leaset_one_alert:"At least one audio file must be retained.",non_mp3_file_alert:"【{file}】is not mp3,please re-select your file"},N6={singer:b6,genre:_6,song_name:w6,screen:E6,menu:T6,button:S6,"signin&singup":{your_account:"Your Account",sign_in:"Sign In",sign_up:"Sign Up",password:"Password",submit_btn:"Submit",send_btn:"Send",loggin_in:"Logging in...",loggin_failed:"Login failed",loggin_successful:"Login successful! Redirecting... ",signing_up_wait:"Signing up, please wait...",user_name:"User Name",enter_user_name:"Enter username",enter_email:"Enter your email",enter_password:"Enter password",enter_password_again:"Please enter your password again",confirm_password:"Confirm password"},home:I6,makeAlbumPage:A6,memberMamagePage:x6,ErroMsg:k6,alertMsg:C6},O6="歌手",P6="類型",L6="歌曲名稱",R6={sign_up_to_singer:"註冊成為歌手",browse_site:"逛逛網站"},D6={upload_song:"上傳歌曲檔案",confirm_upload:"確定上傳",confirm_cropper:"確定裁切",confirm:"確定",cancel:"取消",publish_later:"目前先不用",yes:"是"},M6={sign_in_sign_up:"登入/註冊",logout:"登出",make_your_own_album:"製作自己的專輯",play_list:"我的播放清單",member_managemnet:"會員管理"},F6={give_it_a_listen:"點我聽聽看",cliam:"網站之音樂、歌曲及圖片僅作為技術測試用，非商業用途，請勿轉載及分享",tomorrow_stars_title:"明日之星",america_pop_title:"美國流行音樂",piano_pop_title:"鋼琴音樂"},U6={start_to_make_album_title:"開始製作專輯",upload_your_song_title:"您要上傳的歌曲",the_song_you_want_to_upload:"您要上傳的歌曲",upload_singer_photo:"上傳歌手照片",upload_album_cover:"上傳專輯封面",singer_photo:"歌手照片",singer_name:"歌手名稱",album_cover:"專輯封面",album_name:"專輯名稱",album_genre:"專輯類型",album_desc:"專輯描述",descript_your_album:"請描述您的專輯",singer_desc:"歌手描述",descript_yourself:"請描述您自己",albumGenre:{Acoustic:"原音樂",Blues:"藍調",Classical:"古典",Country:"鄉村音樂",Dance_Electronica:"電子舞曲",Drones:"持續音",Dubstep:"迴響貝斯",Easy_Listening:"輕音樂",Folk:"民歌",Funk:"放克",Hip_Hop:"嘻哈",House:"浩室",Kitsch:"俗氣",Latin:"拉丁",March:"進行曲",Metal:"金屬",Opera:"歌劇",Pop:"流行曲",Rock:"搖滾",Soul:"騷靈","Urban_R&Bl":"都市 / 節奏藍調",World_Music:"民俗音樂",Other:"其他"}},V6={profile:"個人檔案",created_album:"已建立的專輯",editAlbum:{album_info:"專輯資訊",make_album_public:"是否發佈",album_is_public:"發佈",album_is_private:"不發佈",singer_name:"歌手名稱",singer_desc:"歌手自介",album_name:"專輯名稱",album_genre:"專輯類型",album_desc:"專輯簡介",uploaded_song_list:"已上傳的歌曲"}},$6={feature_unavailable_msg:"該功能需登入才可使用，可免費註冊使用",login_to_use:"請註冊並登入，即可製作自己的專輯",no_available_route:"沒找到指定的路由"},j6={add_song_to_list:"已將「{favsongName}」加入至您的播放清單",delete_song_form_play_list:"已將「{favsongName}」從您的播放清單移除",delete_album:"是否刪除專輯【{albumName}】",delete_favsong:"是否將「{favsongName}」從清單中刪除",file_extension_check_alert:"請上傳圖片檔，如jpg、png、bmp檔等",photo_size_suggetion_alert:"建議圖片為長、寬一樣的尺寸，例如500x500",photo_pixel_than_suggetion_alert:"圖片尺寸長、寬需大於200像素",registered_yet:"您還未註冊及登入，無法完成專輯製作",album_complete_alert:"專輯已完成，是否要公開至網站上?",at_leaset_one_alert:"至少需保留一個音樂檔",non_mp3_file_alert:"【{file}】非mp3檔,請重傳"},B6={singer:O6,genre:P6,song_name:L6,screen:R6,button:D6,menu:M6,"signin&singup":{your_account:"您的帳戶",sign_in:"登入",sign_up:"註冊",password:"密碼",submit_btn:"傳送",send_btn:"送出",loggin_in:"正在登入中...",loggin_failed:"登入失敗",loggin_successful:"登入成功! 轉跳頁面中",signing_up_wait:"註冊中，請稍等...",user_name:"使用者名稱",enter_user_name:"輸入使用者名稱",enter_email:"輸入Email",enter_password:"輸入密碼",enter_password_again:"請再次輸入您的密碼",confirm_password:"再次確認密碼"},home:F6,makeAlbumPage:U6,memberMamagePage:V6,ErroMsg:$6,alertMsg:j6},$L=u6({fallbackLocale:"en",messages:{en:N6,zh:B6}}),Ln=Ua("user",{state:()=>({userLoggedIn:!1,userName:"",uid:"",favSongList:[]}),actions:{async register(e){const t=await bo.createUserWithEmailAndPassword(e.email,e.password);await _w.doc(t.user.uid).set({name:e.name,email:e.email}),await t.user.updateProfile({displayName:e.name}),await Pa.doc(t.user.uid).set({favSongLists:[]}),this.userLoggedIn=!0},async authenticate(e){await bo.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await bo.signOut(),this.userLoggedIn=!1,this.userName="",this.uid="",this.favSongList=[]},async delfavSongFromList(e){try{const t=Pa.doc(this.uid);console.log(" favoriteSongListRef=> ",t)}catch(t){console.log("error => ",t)}}}}),Rc=Ua("modal",{state:()=>({isOpen:!1,tab:"login"}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}}),e_=Ua("toast",{state:()=>({toastCount:0}),actions:{subtractToastCount(){this.toastCount>0&&(this.toastCount-=1)}}}),Nt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},H6={data(){return{close:!1}},props:["toggle","message","success"],computed:{...Mt(e_,["toastCount"]),...ln(Ln,["userLoggedIn"]),topPosition(){if(this.toastCount>0)return"top:70px"}},methods:{...$n(e_,["subtractToastCount"]),closeToast(){this.close=!1,this.subtractToastCount()}},watch:{toggle(){this.close=!0,this.toastCount+=1}}},G6={key:0,class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},z6=S("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"},null,-1),q6=[z6],W6={key:1,class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},K6=S("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"},null,-1),Y6=[K6],X6=S("span",{class:"sr-only"},"Warning icon",-1),J6={class:"ms-3 text-sm font-normal"},Q6=S("span",{class:"sr-only"},"Close",-1),Z6=S("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[S("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),eW=[Q6,Z6];function tW(e,t,n,r,i,s){return me(),_e("div",{id:"toast-warning",class:We(["flex fixed right-1 z-[12] items-center w-full max-w-xs p-4 text-zinc-200 bg-zinc-800/90 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",{hidden:!i.close}]),role:"alert",style:jr(s.topPosition)},[S("div",{class:We(["inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",{"text-green-500":n.success,"text-rose-500":!e.userLoggedIn||!n.success}])},[n.success?(me(),_e("svg",G6,q6)):(me(),_e("svg",W6,Y6)),X6],2),S("div",J6,K(this.message),1),S("button",{type:"button",class:"ms-auto -mx-1.5 -my-1.5 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-warning","aria-label":"Close",onClick:t[0]||(t[0]=qe((...a)=>s.closeToast&&s.closeToast(...a),["prevent"]))},eW)],6)}const Zi=Nt(H6,[["render",tW]]),nW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAEbAAABGwGN907lAAAFZUlEQVRogeVa3XEaSRBuUXo397ZV82AuAnERCEcgHIFRBMIRmIvgUARaRXA4AkMEBxFYVHnK+3YQgVy99Q00PT37h+/O8n1VFLDbO9P/3TOzF8/Pz3QuvC/6RDTCZ4jPq8SweyJa47Pkj3PZLqJqibME8b4YE9GEiG6im+3wkYhy57LFvyqI9wUzPyOi19HN87DlcZ3L8raj9KIrFfC+GHlfPBHRgyEEa/U9Eb0FQ4xHcT/83oKGaVdqDB7zgefgudKcxGhkEcQAW+BO3WKm5nCLHWgXcLUNYuZv0P6CmLhioZ3LxmJstvDUUM49LFQbQ7WCeF8MiGgBBgI4YKfaBRAzf+L+0LmMNVtO4Fx2gbHWSARvdUx4X0yhMJkoWCFjHitiTqDStbwvhphYCsEuNDCEYM2GazNrYlyb4W+OZ+R9tu4AcwTw3GvwkkRSEDy4FNphLd+ySyRMPQftCgyZwL0VaGeahseG291iTgLtskoYUxC4gBZilMomoH+Hv9OIIEagucOzETDXyBDGpI8EgbkXyk/ZCuvo6SOCZh9r6EqAJmSxyCqKbiwuMU8L7ZKmIBj4Sl3jh2fWAMoaSaYMBNp3iXH7CH7tBVfWPCeCIHfLFPs7sgZr4gMRcRaaK1+d4PvRCvAUQBuC+uCOPDbPwXMR0R9IyRvwEnCn68xJ+kWxC7lc5voJGL4Wz27hgmM888a5bGlo9pB+jXvMzCcx1kh5wwo1KqfTGlXO71x2iJeDIGD2Adf3SLEn2QmWmIJ53RSuoMUnJIqAT/h+I64xw300l9dqnD2Emut4gws+iblvg5BSEGmN91UpVGhzbsRTV7D7zOoaR6Xwg1VKQURFJm2yKgjhfxMalt8kNB76qh2KrPz+q+O8FDqES/yZCLpKS4jBBhhsL1ygKkaSTaD3BbvTax6zYcKYIxEE3hc9+J1cT5hFz0BgLGK+A8IYycqtIHm8YRl6giFCprLaDwvBDWoLYAOEMRoJAh5lPzbSgrTR7j9hkaT7GZDzDntKC220G4K5cRGsQPCCqMJXQPI6OhHEKmgVuKJjhT4LIlk0TuWK19IissN9aTh0xrLX6hK0m+hKd4R1fhsceL748uVr9Vr3hcBq418kLgXTq6rqq4GKvXEuq8z9Vd2voivbjjo69cwytEDSIpUMJfC9GkYytoKa4MBzT62JXxoOGbcnI7/l7t6Gjs3jWRArTr3zmITidd1TabeNe4VqfLYgLSt6gOR12VM9S5dep9UebQJd+ja5u7LWgtxYOxoJtOpYaxDGaFSUwaNcIi97RkvcZINNTvo9LdK0u5A8lkuPUEdysbiaWPtGGtig3mJlp5e4Q+33yPmUWOq+wlK3aQMqV7Rnbz6ME5t5XdF082Eqlrmnmw8U70503Q4KGv7vtoMotkrdBt0GDP8QG3SXauyJ0CBnsBmuBeH28Mk8aMv7Yoft1GmHZW8IWh6vjEtYXSruGu60UJskMk7iEyvsu+ojtj3iITfcjbXyGX9/1QGbskiD5/qwtnXoeu9cdpJdrTZ+ZiyY+Fhhbu2wgIHaIwID8igiylY48Mm15kNS0PSRIGB2rJa+i6rTInVEUEVXAjS1RxGgk1lsD6VGCo0EoaOWrdMirR1Jf4+/lWlb0dxb1qBjgrFOzUx6UxA67mxoYfgM3Dwxgmb3IjhN4N61iDstQB/Z6cEQIln5k4IIYYYqZm5w4DNVtDvhzzPLxRDggfmJkTimqBMyO21Q05JCkJW1LNS8MBDS8RP9yC8MSKCA5caEhOK1gEbnoHkUQR1+b8H0AElFV/agoIlVYFP4aV6q+X+/5qQhXjzjAA/fdS+esduU32e/eEZE3wCdfAEkMHTHywAAAABJRU5ErkJggg==",rW="/vue-earphone-music/assets/logo-inverted-DTIppobh.png",iW={data(){return{hamburgerChange:!1,menu_hamberger_css:"",toggle:!1,message:"",FavSongList:[],languageIcon:nW}},components:{toastMessage:Zi},computed:{...Mt(Jn,["language"]),...Mt(Ln,["userLoggedIn","userName","uid","favSongList"]),...Mt(Rc,["isOpen"])},methods:{...$n(Ln,["signOut"]),getAuth(){bo.currentUser&&(this.userLoggedIn=!0,this.userName=bo.currentUser.displayName,this.uid=bo.currentUser.uid)},toggleAuthModal(){this.userLoggedIn?(this.signOut(),this.$router.push({name:"home"}),this.hamburgerChange=!1,this.menu_hamberger_css=""):this.isOpen=!this.isOpen},clickHamberMenu(){this.hamburgerChange?(this.hamburgerChange=!1,this.menu_hamberger_css=""):(this.hamburgerChange=!0,this.menu_hamberger_css="hamburgerChange")},forwardHome(){this.$router.push({name:"home"}),this.hamburgerChange=!1,this.menu_hamberger_css="",this.$route.meta.requireScreen=!1},enterPage(e,t){(r=>{let i;switch(r){case"我的播放清單":case"Play List":i="favSongList";break;case"製作自己的專輯":case"Make Own Album":i="makeAlbum";break;default:this.toggle=!this.toggle,this.message=this.$t("ErroMsg.no_available_route");return}this.userLoggedIn?(this.$router.push({name:i}),this.hamburgerChange=!1,this.menu_hamberger_css=""):(this.toggle=!this.toggle,this.message=e)})(t)},userLoginCheck(e){this.enterPage(this.$t("ErroMsg.feature_unavailable_msg"),e.target.innerText)},enterMakeAlbumPage(){this.$router.push({name:"makeAlbum"}),this.hamburgerChange=!1,this.menu_hamberger_css=""},loginMemberStage(){this.userLoggedIn?(this.$router.push({name:"member-backStage",params:{uid:this.uid}}),this.hamburgerChange=!1,this.menu_hamberger_css=""):this.isOpen=!this.isOpen}},watch:{language(e,t){this.$i18n.locale=e}},mounted(){this.getAuth()}},Io=e=>(R_("data-v-70a7cff8"),e=e(),D_(),e),oW={class:"fixed top-0 left-0 text-zinc-200 w-full z-10"},sW={class:"lg:px-[5rem] sticky flex top-0 bg-gradient-to-r from-rose-500 to-pink-500 z-10"},aW=Io(()=>S("img",{src:rW,width:"50",alt:""},null,-1)),uW=Io(()=>S("div",{class:"font-bold text-2xl"},[Hc(" earphone: "),S("span",{class:"text-sky-900 text-xl md:text-2xl"},"MUISC")],-1)),lW=[aW,uW],cW={class:"flex-1 md:flex hidden items-center justify-end"},fW=Io(()=>S("i",{class:"fas fa-user pr-2"},null,-1)),hW={key:0},dW={key:1},pW={class:"flex items-center"},mW=Io(()=>S("option",{class:"bg-pink-500",value:"en"},"English",-1)),gW=Io(()=>S("option",{class:"bg-pink-500",value:"zh"},"中文",-1)),vW=[mW,gW],yW={class:"block md:hidden ml-auto p-3 my-auto cursor-pointer"},bW=Io(()=>S("div",{class:"top-0 bg-zinc-200 rounded-full w-8 h-1 transition-all group-change:rotate-45 group-change:top-2 relative"},null,-1)),_W=Io(()=>S("div",{class:"my-1 bg-zinc-200 rounded-full w-8 h-1 opacity-100 transition-all group-change:opacity-0"},null,-1)),wW=Io(()=>S("div",{class:"top-0 bg-zinc-200 rounded-full w-8 h-1 transition-all group-change:-rotate-45 group-change:-top-2 relative"},null,-1)),EW=[bW,_W,wW],TW={class:"peer-open:block hidden absolute bg-gradient-to-r from-rose-500 to-pink-500 w-full top-[62px] left-0"},SW=Io(()=>S("i",{class:"fas fa-user pr-2"},null,-1)),IW={key:0},AW={key:1},xW={class:"p-4 text-center font-bold"};function kW(e,t,n,r,i,s){const a=De("toastMessage");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),S("header",oW,[S("nav",sW,[S("div",{class:"flex items-center p-2 gap-2 cursor-pointer",onClick:t[0]||(t[0]=qe((...l)=>s.forwardHome&&s.forwardHome(...l),["prevent"]))},lW),S("div",cW,[S("div",{class:"menu-item",onClick:t[1]||(t[1]=qe((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[fW,e.userLoggedIn?(me(),_e("span",dW,K(e.$t("menu.logout")),1)):(me(),_e("span",hW,K(e.$t("menu.sign_in_sign_up")),1))]),S("div",{class:"menu-item group",onClick:t[2]||(t[2]=qe((...l)=>s.enterMakeAlbumPage&&s.enterMakeAlbumPage(...l),["prevent"]))},[S("span",null,K(e.$t("menu.make_your_own_album")),1)]),S("div",{class:"menu-item",onClick:t[3]||(t[3]=qe((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},[S("span",null,K(e.$t("menu.play_list")),1)]),S("div",{class:"menu-item",onClick:t[4]||(t[4]=qe((...l)=>s.loginMemberStage&&s.loginMemberStage(...l),["prevent"]))},[S("span",null,K(e.$t("menu.member_managemnet")),1)])]),S("div",pW,[Sa(S("select",{class:"truncate bg-transparent pb-2 pt-1 pl-2 pr-7 md:pr-8 rounded border border-gray-300 appearance-none",style:jr(`background-image: url(${i.languageIcon})`),"onUpdate:modelValue":t[5]||(t[5]=l=>e.language=l)},vW,4),[[H$,e.language]])]),S("div",yW,[S("div",{id:"mobile-menu-button",class:We(["group peer",i.menu_hamberger_css]),onClick:t[6]||(t[6]=qe((...l)=>s.clickHamberMenu&&s.clickHamberMenu(...l),["prevent"])),ref:"mobileMenu"},EW,2),S("div",TW,[S("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[7]||(t[7]=qe((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[SW,e.userLoggedIn?(me(),_e("span",AW,K(e.$t("menu.logout")),1)):(me(),_e("span",IW,K(e.$t("menu.sign_in_sign_up")),1))]),S("div",{id:"ticket-menu-item",class:"group relative h-full cursor-pointer text-pink-200 transition-colors hover:bg-white/10 hover:text-zinc-200",onClick:t[8]||(t[8]=qe((...l)=>s.enterMakeAlbumPage&&s.enterMakeAlbumPage(...l),["prevent"]))},[S("div",xW,K(e.$t("menu.make_your_own_album")),1)]),S("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[9]||(t[9]=qe((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},[S("span",null,K(e.$t("menu.play_list")),1)]),S("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[10]||(t[10]=qe((...l)=>s.loginMemberStage&&s.loginMemberStage(...l),["prevent"]))},[S("span",null,K(e.$t("menu.member_managemnet")),1)])])])])])],64)}const CW=Nt(iW,[["render",kW],["__scopeId","data-v-70a7cff8"]]);var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pd={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||n;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var m=this||n;if(f=parseFloat(f),m.ctx||p(),typeof f<"u"&&f>=0&&f<=1){if(m._volume=f,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(f,n.ctx.currentTime);for(var v=0;v<m._howls.length;v++)if(!m._howls[v]._webAudio)for(var y=m._howls[v]._getSoundIds(),_=0;_<y.length;_++){var w=m._howls[v]._soundById(y[_]);w&&w._node&&(w._node.volume=w._volume*f)}return m}return m._volume},mute:function(f){var m=this||n;m.ctx||p(),m._muted=f,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(f?0:m._volume,n.ctx.currentTime);for(var v=0;v<m._howls.length;v++)if(!m._howls[v]._webAudio)for(var y=m._howls[v]._getSoundIds(),_=0;_<y.length;_++){var w=m._howls[v]._soundById(y[_]);w&&w._node&&(w._node.muted=f?!0:w._muted)}return m},stop:function(){for(var f=this||n,m=0;m<f._howls.length;m++)f._howls[m].stop();return f},unload:function(){for(var f=this||n,m=f._howls.length-1;m>=0;m--)f._howls[m].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,p()),f},codecs:function(f){return(this||n)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||n;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var m=new Audio;m.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return f}if(!m||typeof m.canPlayType!="function")return f;var v=m.canPlayType("audio/mpeg;").replace(/^no$/,""),y=f._navigator?f._navigator.userAgent:"",_=y.match(/OPR\/(\d+)/g),w=_&&parseInt(_[0].split("/")[1],10)<33,E=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,k=y.match(/Version\/(.*?) /),I=E&&k&&parseInt(k[1],10)<15;return f._codecs={mp3:!!(!w&&(v||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!I&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!I&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||n;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var m=function(v){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,f._releaseHtml5Audio(y)}catch{f.noAudio=!0;break}for(var _=0;_<f._howls.length;_++)if(!f._howls[_]._webAudio)for(var w=f._howls[_]._getSoundIds(),E=0;E<w.length;E++){var k=f._howls[_]._soundById(w[E]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}f._autoResume();var I=f.ctx.createBufferSource();I.buffer=f._scratchBuffer,I.connect(f.ctx.destination),typeof I.start>"u"?I.noteOn(0):I.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),I.onended=function(){I.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var C=0;C<f._howls.length;C++)f._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),f}},_obtainHtml5Audio:function(){var f=this||n;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var m=this||n;return f._unlocked&&m._html5AudioPool.push(f),m},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<f._howls.length;m++)if(f._howls[m]._webAudio){for(var v=0;v<f._howls[m]._sounds.length;v++)if(!f._howls[m]._sounds[v]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var y=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(y,y)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!n.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var m=0;m<f._howls.length;m++)f._howls[m]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var n=new t,r=function(f){var m=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(f)};r.prototype={init:function(f){var m=this;return n.ctx||p(),m._autoplay=f.autoplay||!1,m._format=typeof f.format!="string"?f.format:[f.format],m._html5=f.html5||!1,m._muted=f.mute||!1,m._loop=f.loop||!1,m._pool=f.pool||5,m._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,m._rate=f.rate||1,m._sprite=f.sprite||{},m._src=typeof f.src!="string"?f.src:[f.src],m._volume=f.volume!==void 0?f.volume:1,m._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=f.onend?[{fn:f.onend}]:[],m._onfade=f.onfade?[{fn:f.onfade}]:[],m._onload=f.onload?[{fn:f.onload}]:[],m._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],m._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],m._onpause=f.onpause?[{fn:f.onpause}]:[],m._onplay=f.onplay?[{fn:f.onplay}]:[],m._onstop=f.onstop?[{fn:f.onstop}]:[],m._onmute=f.onmute?[{fn:f.onmute}]:[],m._onvolume=f.onvolume?[{fn:f.onvolume}]:[],m._onrate=f.onrate?[{fn:f.onrate}]:[],m._onseek=f.onseek?[{fn:f.onseek}]:[],m._onunlock=f.onunlock?[{fn:f.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var f=this,m=null;if(n.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var v=0;v<f._src.length;v++){var y,_;if(f._format&&f._format[v])y=f._format[v];else{if(_=f._src[v],typeof _!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(_),y||(y=/\.([^.]+)$/.exec(_.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&n.codecs(y)){m=f._src[v];break}}if(!m){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=m,f._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new i(f),f._webAudio&&a(f),f},play:function(f,m){var v=this,y=null;if(typeof f=="number")y=f,f=null;else{if(typeof f=="string"&&v._state==="loaded"&&!v._sprite[f])return null;if(typeof f>"u"&&(f="__default",!v._playLock)){for(var _=0,w=0;w<v._sounds.length;w++)v._sounds[w]._paused&&!v._sounds[w]._ended&&(_++,y=v._sounds[w]._id);_===1?f=null:y=null}}var E=y?v._soundById(y):v._inactiveSound();if(!E)return null;if(y&&!f&&(f=E._sprite||"__default"),v._state!=="loaded"){E._sprite=f,E._ended=!1;var k=E._id;return v._queue.push({event:"play",action:function(){v.play(k)}}),k}if(y&&!E._paused)return m||v._loadQueue("play"),E._id;v._webAudio&&n._autoResume();var I=Math.max(0,E._seek>0?E._seek:v._sprite[f][0]/1e3),C=Math.max(0,(v._sprite[f][0]+v._sprite[f][1])/1e3-I),M=C*1e3/Math.abs(E._rate),A=v._sprite[f][0]/1e3,j=(v._sprite[f][0]+v._sprite[f][1])/1e3;E._sprite=f,E._ended=!1;var U=function(){E._paused=!1,E._seek=I,E._start=A,E._stop=j,E._loop=!!(E._loop||v._sprite[f][2])};if(I>=j){v._ended(E);return}var P=E._node;if(v._webAudio){var z=function(){v._playLock=!1,U(),v._refreshBuffer(E);var Te=E._muted||v._muted?0:E._volume;P.gain.setValueAtTime(Te,n.ctx.currentTime),E._playStart=n.ctx.currentTime,typeof P.bufferSource.start>"u"?E._loop?P.bufferSource.noteGrainOn(0,I,86400):P.bufferSource.noteGrainOn(0,I,C):E._loop?P.bufferSource.start(0,I,86400):P.bufferSource.start(0,I,C),M!==1/0&&(v._endTimers[E._id]=setTimeout(v._ended.bind(v,E),M)),m||setTimeout(function(){v._emit("play",E._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?z():(v._playLock=!0,v.once("resume",z),v._clearTimer(E._id))}else{var L=function(){P.currentTime=I,P.muted=E._muted||v._muted||n._muted||P.muted,P.volume=E._volume*n.volume(),P.playbackRate=E._rate;try{var Te=P.play();if(Te&&typeof Promise<"u"&&(Te instanceof Promise||typeof Te.then=="function")?(v._playLock=!0,U(),Te.then(function(){v._playLock=!1,P._unlocked=!0,m?v._loadQueue():v._emit("play",E._id)}).catch(function(){v._playLock=!1,v._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):m||(v._playLock=!1,U(),v._emit("play",E._id)),P.playbackRate=E._rate,P.paused){v._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||E._loop?v._endTimers[E._id]=setTimeout(v._ended.bind(v,E),M):(v._endTimers[E._id]=function(){v._ended(E),P.removeEventListener("ended",v._endTimers[E._id],!1)},P.addEventListener("ended",v._endTimers[E._id],!1))}catch(xe){v._emit("playerror",E._id,xe)}};P.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(P.src=v._src,P.load());var q=window&&window.ejecta||!P.readyState&&n._navigator.isCocoonJS;if(P.readyState>=3||q)L();else{v._playLock=!0,v._state="loading";var ee=function(){v._state="loaded",L(),P.removeEventListener(n._canPlayEvent,ee,!1)};P.addEventListener(n._canPlayEvent,ee,!1),v._clearTimer(E._id)}}return E._id},pause:function(f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(f)}}),m;for(var v=m._getSoundIds(f),y=0;y<v.length;y++){m._clearTimer(v[y]);var _=m._soundById(v[y]);if(_&&!_._paused&&(_._seek=m.seek(v[y]),_._rateSeek=0,_._paused=!0,m._stopFade(v[y]),_._node))if(m._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),m._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||m._emit("pause",_?_._id:null)}return m},stop:function(f,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(f)}}),v;for(var y=v._getSoundIds(f),_=0;_<y.length;_++){v._clearTimer(y[_]);var w=v._soundById(y[_]);w&&(w._seek=w._start||0,w._rateSeek=0,w._paused=!0,w._ended=!0,v._stopFade(y[_]),w._node&&(v._webAudio?w._node.bufferSource&&(typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),v._cleanBuffer(w._node)):(!isNaN(w._node.duration)||w._node.duration===1/0)&&(w._node.currentTime=w._start||0,w._node.pause(),w._node.duration===1/0&&v._clearSound(w._node))),m||v._emit("stop",w._id))}return v},mute:function(f,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(f,m)}}),v;if(typeof m>"u")if(typeof f=="boolean")v._muted=f;else return v._muted;for(var y=v._getSoundIds(m),_=0;_<y.length;_++){var w=v._soundById(y[_]);w&&(w._muted=f,w._interval&&v._stopFade(w._id),v._webAudio&&w._node?w._node.gain.setValueAtTime(f?0:w._volume,n.ctx.currentTime):w._node&&(w._node.muted=n._muted?!0:f),v._emit("mute",w._id))}return v},volume:function(){var f=this,m=arguments,v,y;if(m.length===0)return f._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var _=f._getSoundIds(),w=_.indexOf(m[0]);w>=0?y=parseInt(m[0],10):v=parseFloat(m[0])}else m.length>=2&&(v=parseFloat(m[0]),y=parseInt(m[1],10));var E;if(typeof v<"u"&&v>=0&&v<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,m)}}),f;typeof y>"u"&&(f._volume=v),y=f._getSoundIds(y);for(var k=0;k<y.length;k++)E=f._soundById(y[k]),E&&(E._volume=v,m[2]||f._stopFade(y[k]),f._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(v,n.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=v*n.volume()),f._emit("volume",E._id))}else return E=y?f._soundById(y):f._sounds[0],E?E._volume:0;return f},fade:function(f,m,v,y){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(f,m,v,y)}}),_;f=Math.min(Math.max(0,parseFloat(f)),1),m=Math.min(Math.max(0,parseFloat(m)),1),v=parseFloat(v),_.volume(f,y);for(var w=_._getSoundIds(y),E=0;E<w.length;E++){var k=_._soundById(w[E]);if(k){if(y||_._stopFade(w[E]),_._webAudio&&!k._muted){var I=n.ctx.currentTime,C=I+v/1e3;k._volume=f,k._node.gain.setValueAtTime(f,I),k._node.gain.linearRampToValueAtTime(m,C)}_._startFadeInterval(k,f,m,v,w[E],typeof y>"u")}}return _},_startFadeInterval:function(f,m,v,y,_,w){var E=this,k=m,I=v-m,C=Math.abs(I/.01),M=Math.max(4,C>0?y/C:y),A=Date.now();f._fadeTo=v,f._interval=setInterval(function(){var j=(Date.now()-A)/y;A=Date.now(),k+=I*j,k=Math.round(k*100)/100,I<0?k=Math.max(v,k):k=Math.min(v,k),E._webAudio?f._volume=k:E.volume(k,f._id,!0),w&&(E._volume=k),(v<m&&k<=v||v>m&&k>=v)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,E.volume(v,f._id),E._emit("fade",f._id))},M)},_stopFade:function(f){var m=this,v=m._soundById(f);return v&&v._interval&&(m._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,m.volume(v._fadeTo,f),v._fadeTo=null,m._emit("fade",f)),m},loop:function(){var f=this,m=arguments,v,y,_;if(m.length===0)return f._loop;if(m.length===1)if(typeof m[0]=="boolean")v=m[0],f._loop=v;else return _=f._soundById(parseInt(m[0],10)),_?_._loop:!1;else m.length===2&&(v=m[0],y=parseInt(m[1],10));for(var w=f._getSoundIds(y),E=0;E<w.length;E++)_=f._soundById(w[E]),_&&(_._loop=v,f._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=v,v&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,f.playing(w[E])&&(f.pause(w[E],!0),f.play(w[E],!0)))));return f},rate:function(){var f=this,m=arguments,v,y;if(m.length===0)y=f._sounds[0]._id;else if(m.length===1){var _=f._getSoundIds(),w=_.indexOf(m[0]);w>=0?y=parseInt(m[0],10):v=parseFloat(m[0])}else m.length===2&&(v=parseFloat(m[0]),y=parseInt(m[1],10));var E;if(typeof v=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,m)}}),f;typeof y>"u"&&(f._rate=v),y=f._getSoundIds(y);for(var k=0;k<y.length;k++)if(E=f._soundById(y[k]),E){f.playing(y[k])&&(E._rateSeek=f.seek(y[k]),E._playStart=f._webAudio?n.ctx.currentTime:E._playStart),E._rate=v,f._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):E._node&&(E._node.playbackRate=v);var I=f.seek(y[k]),C=(f._sprite[E._sprite][0]+f._sprite[E._sprite][1])/1e3-I,M=C*1e3/Math.abs(E._rate);(f._endTimers[y[k]]||!E._paused)&&(f._clearTimer(y[k]),f._endTimers[y[k]]=setTimeout(f._ended.bind(f,E),M)),f._emit("rate",E._id)}}else return E=f._soundById(y),E?E._rate:f._rate;return f},seek:function(){var f=this,m=arguments,v,y;if(m.length===0)f._sounds.length&&(y=f._sounds[0]._id);else if(m.length===1){var _=f._getSoundIds(),w=_.indexOf(m[0]);w>=0?y=parseInt(m[0],10):f._sounds.length&&(y=f._sounds[0]._id,v=parseFloat(m[0]))}else m.length===2&&(v=parseFloat(m[0]),y=parseInt(m[1],10));if(typeof y>"u")return 0;if(typeof v=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,m)}}),f;var E=f._soundById(y);if(E)if(typeof v=="number"&&v>=0){var k=f.playing(y);k&&f.pause(y,!0),E._seek=v,E._ended=!1,f._clearTimer(y),!f._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=v);var I=function(){k&&f.play(y,!0),f._emit("seek",y)};if(k&&!f._webAudio){var C=function(){f._playLock?setTimeout(C,0):I()};setTimeout(C,0)}else I()}else if(f._webAudio){var M=f.playing(y)?n.ctx.currentTime-E._playStart:0,A=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(A+M*Math.abs(E._rate))}else return E._node.currentTime;return f},playing:function(f){var m=this;if(typeof f=="number"){var v=m._soundById(f);return v?!v._paused:!1}for(var y=0;y<m._sounds.length;y++)if(!m._sounds[y]._paused)return!0;return!1},duration:function(f){var m=this,v=m._duration,y=m._soundById(f);return y&&(v=m._sprite[y._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var f=this,m=f._sounds,v=0;v<m.length;v++)m[v]._paused||f.stop(m[v]._id),f._webAudio||(f._clearSound(m[v]._node),m[v]._node.removeEventListener("error",m[v]._errorFn,!1),m[v]._node.removeEventListener(n._canPlayEvent,m[v]._loadFn,!1),m[v]._node.removeEventListener("ended",m[v]._endFn,!1),n._releaseHtml5Audio(m[v]._node)),delete m[v]._node,f._clearTimer(m[v]._id);var y=n._howls.indexOf(f);y>=0&&n._howls.splice(y,1);var _=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===f._src||f._src.indexOf(n._howls[v]._src)>=0){_=!1;break}return s&&_&&delete s[f._src],n.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,m,v,y){var _=this,w=_["_on"+f];return typeof m=="function"&&w.push(y?{id:v,fn:m,once:y}:{id:v,fn:m}),_},off:function(f,m,v){var y=this,_=y["_on"+f],w=0;if(typeof m=="number"&&(v=m,m=null),m||v)for(w=0;w<_.length;w++){var E=v===_[w].id;if(m===_[w].fn&&E||!m&&E){_.splice(w,1);break}}else if(f)y["_on"+f]=[];else{var k=Object.keys(y);for(w=0;w<k.length;w++)k[w].indexOf("_on")===0&&Array.isArray(y[k[w]])&&(y[k[w]]=[])}return y},once:function(f,m,v){var y=this;return y.on(f,m,v,1),y},_emit:function(f,m,v){for(var y=this,_=y["_on"+f],w=_.length-1;w>=0;w--)(!_[w].id||_[w].id===m||f==="load")&&(setTimeout((function(E){E.call(this,m,v)}).bind(y,_[w].fn),0),_[w].once&&y.off(f,_[w].fn,_[w].id));return y._loadQueue(f),y},_loadQueue:function(f){var m=this;if(m._queue.length>0){var v=m._queue[0];v.event===f&&(m._queue.shift(),m._loadQueue()),f||v.action()}return m},_ended:function(f){var m=this,v=f._sprite;if(!m._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(m._ended.bind(m,f),100),m;var y=!!(f._loop||m._sprite[v][2]);if(m._emit("end",f._id),!m._webAudio&&y&&m.stop(f._id,!0).play(f._id),m._webAudio&&y){m._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=n.ctx.currentTime;var _=(f._stop-f._start)*1e3/Math.abs(f._rate);m._endTimers[f._id]=setTimeout(m._ended.bind(m,f),_)}return m._webAudio&&!y&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,m._clearTimer(f._id),m._cleanBuffer(f._node),n._autoSuspend()),!m._webAudio&&!y&&m.stop(f._id,!0),m},_clearTimer:function(f){var m=this;if(m._endTimers[f]){if(typeof m._endTimers[f]!="function")clearTimeout(m._endTimers[f]);else{var v=m._soundById(f);v&&v._node&&v._node.removeEventListener("ended",m._endTimers[f],!1)}delete m._endTimers[f]}return m},_soundById:function(f){for(var m=this,v=0;v<m._sounds.length;v++)if(f===m._sounds[v]._id)return m._sounds[v];return null},_inactiveSound:function(){var f=this;f._drain();for(var m=0;m<f._sounds.length;m++)if(f._sounds[m]._ended)return f._sounds[m].reset();return new i(f)},_drain:function(){var f=this,m=f._pool,v=0,y=0;if(!(f._sounds.length<m)){for(y=0;y<f._sounds.length;y++)f._sounds[y]._ended&&v++;for(y=f._sounds.length-1;y>=0;y--){if(v<=m)return;f._sounds[y]._ended&&(f._webAudio&&f._sounds[y]._node&&f._sounds[y]._node.disconnect(0),f._sounds.splice(y,1),v--)}}},_getSoundIds:function(f){var m=this;if(typeof f>"u"){for(var v=[],y=0;y<m._sounds.length;y++)v.push(m._sounds[y]._id);return v}else return[f]},_refreshBuffer:function(f){var m=this;return f._node.bufferSource=n.ctx.createBufferSource(),f._node.bufferSource.buffer=s[m._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,n.ctx.currentTime),m},_cleanBuffer:function(f){var m=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return m;if(n._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),v))try{f.bufferSource.buffer=n._scratchBuffer}catch{}return f.bufferSource=null,m},_clearSound:function(f){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(f){this._parent=f,this.init()};i.prototype={init:function(){var f=this,m=f._parent;return f._muted=m._muted,f._loop=m._loop,f._volume=m._volume,f._rate=m._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,m._sounds.push(f),f.create(),f},create:function(){var f=this,m=f._parent,v=n._muted||f._muted||f._parent._muted?0:f._volume;return m._webAudio?(f._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),f._node.gain.setValueAtTime(v,n.ctx.currentTime),f._node.paused=!0,f._node.connect(n.masterGain)):n.noAudio||(f._node=n._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(n._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=m._src,f._node.preload=m._preload===!0?"auto":m._preload,f._node.volume=v*n.volume(),f._node.load()),f},reset:function(){var f=this,m=f._parent;return f._muted=m._muted,f._loop=m._loop,f._volume=m._volume,f._rate=m._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,m=f._parent;m._duration=Math.ceil(f._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),f._node.removeEventListener(n._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,m=f._parent;m._duration===1/0&&(m._duration=Math.ceil(f._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var s={},a=function(f){var m=f._src;if(s[m]){f._duration=s[m].duration,h(f);return}if(/^data:[^;]+;base64,/.test(m)){for(var v=atob(m.split(",")[1]),y=new Uint8Array(v.length),_=0;_<v.length;++_)y[_]=v.charCodeAt(_);c(y.buffer,f)}else{var w=new XMLHttpRequest;w.open(f._xhr.method,m,!0),w.withCredentials=f._xhr.withCredentials,w.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(E){w.setRequestHeader(E,f._xhr.headers[E])}),w.onload=function(){var E=(w.status+"")[0];if(E!=="0"&&E!=="2"&&E!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+w.status+".");return}c(w.response,f)},w.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete s[m],f.load())},l(w)}},l=function(f){try{f.send()}catch{f.onerror()}},c=function(f,m){var v=function(){m._emit("loaderror",null,"Decoding audio data failed.")},y=function(_){_&&m._sounds.length>0?(s[m._src]=_,h(m,_)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(f).then(y).catch(v):n.ctx.decodeAudioData(f,y,v)},h=function(f,m){m&&!f._duration&&(f._duration=m.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},p=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=m?parseInt(m[1],10):null;if(f&&v&&v<9){var y=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!y&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof mc<"u"?(mc.HowlerGlobal=t,mc.Howler=n,mc.Howl=r,mc.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,a,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var h=c._orientation;if(r=typeof r!="number"?h[1]:r,i=typeof i!="number"?h[2]:i,s=typeof s!="number"?h[3]:s,a=typeof a!="number"?h[4]:a,l=typeof l!="number"?h[5]:l,typeof n=="number")c._orientation=[n,r,i,s,a,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,i,s,a,l);else return h;return c},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var a=i._getSoundIds(r),l=0;l<a.length;l++){var c=i._soundById(a[l]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,i,s)}}),a;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")a._pos=[n,r,i];else return a._pos;for(var l=a._getSoundIds(s),c=0;c<l.length;c++){var h=a._soundById(l[c]);if(h)if(typeof n=="number")h._pos=[n,r,i],h._node&&((!h._panner||h._panner.pan)&&t(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setPosition(n,r,i)),a._emit("pos",h._id);else return h._pos}return a},Howl.prototype.orientation=function(n,r,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,i,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,i=typeof i!="number"?a._orientation[2]:i,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,i];else return a._orientation;for(var l=a._getSoundIds(s),c=0;c<l.length;c++){var h=a._soundById(l[c]);if(h)if(typeof n=="number")h._orientation=[n,r,i],h._node&&(h._panner||(h._pos||(h._pos=a._pos||[0,0,-.5]),t(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setOrientation(n,r,i)),a._emit("orientation",h._id);else return h._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),c=0;c<l.length;c++)if(a=n._soundById(l[c]),a){var h=a._pannerAttr;h={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:h.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:h.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:h.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:h.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:h.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:h.panningModel};var p=a._panner;p||(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"),p=a._panner),p.coneInnerAngle=h.coneInnerAngle,p.coneOuterAngle=h.coneOuterAngle,p.coneOuterGain=h.coneOuterGain,p.distanceModel=h.distanceModel,p.maxDistance=h.maxDistance,p.refDistance=h.refDistance,p.rolloffFactor=h.rolloffFactor,p.panningModel=h.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Pd);var NW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OW=window.device,ye={},t_=[];window.device=ye;var gf=window.document.documentElement,PW=window.navigator.userAgent.toLowerCase(),Nx=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];ye.macos=function(){return an("mac")};ye.ios=function(){return ye.iphone()||ye.ipod()||ye.ipad()};ye.iphone=function(){return!ye.windows()&&an("iphone")};ye.ipod=function(){return an("ipod")};ye.ipad=function(){var e=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return an("ipad")||e};ye.android=function(){return!ye.windows()&&an("android")};ye.androidPhone=function(){return ye.android()&&an("mobile")};ye.androidTablet=function(){return ye.android()&&!an("mobile")};ye.blackberry=function(){return an("blackberry")||an("bb10")};ye.blackberryPhone=function(){return ye.blackberry()&&!an("tablet")};ye.blackberryTablet=function(){return ye.blackberry()&&an("tablet")};ye.windows=function(){return an("windows")};ye.windowsPhone=function(){return ye.windows()&&an("phone")};ye.windowsTablet=function(){return ye.windows()&&an("touch")&&!ye.windowsPhone()};ye.fxos=function(){return(an("(mobile")||an("(tablet"))&&an(" rv:")};ye.fxosPhone=function(){return ye.fxos()&&an("mobile")};ye.fxosTablet=function(){return ye.fxos()&&an("tablet")};ye.meego=function(){return an("meego")};ye.cordova=function(){return window.cordova&&location.protocol==="file:"};ye.nodeWebkit=function(){return NW(window.process)==="object"};ye.mobile=function(){return ye.androidPhone()||ye.iphone()||ye.ipod()||ye.windowsPhone()||ye.blackberryPhone()||ye.fxosPhone()||ye.meego()};ye.tablet=function(){return ye.ipad()||ye.androidTablet()||ye.blackberryTablet()||ye.windowsTablet()||ye.fxosTablet()};ye.desktop=function(){return!ye.tablet()&&!ye.mobile()};ye.television=function(){for(var e=0;e<Nx.length;){if(an(Nx[e]))return!0;e++}return!1};ye.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?kw(screen.orientation.type,"portrait"):ye.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:window.innerHeight/window.innerWidth>1};ye.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?kw(screen.orientation.type,"landscape"):ye.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1};ye.noConflict=function(){return window.device=OW,this};function kw(e,t){return e.indexOf(t)!==-1}function an(e){return kw(PW,e)}function jL(e){return gf.className.match(new RegExp(e,"i"))}function dn(e){var t=null;jL(e)||(t=gf.className.replace(/^\s+|\s+$/g,""),gf.className=t+" "+e)}function Ox(e){jL(e)&&(gf.className=gf.className.replace(" "+e,""))}ye.ios()?ye.ipad()?dn("ios ipad tablet"):ye.iphone()?dn("ios iphone mobile"):ye.ipod()&&dn("ios ipod mobile"):ye.macos()?dn("macos desktop"):ye.android()?ye.androidTablet()?dn("android tablet"):dn("android mobile"):ye.blackberry()?ye.blackberryTablet()?dn("blackberry tablet"):dn("blackberry mobile"):ye.windows()?ye.windowsTablet()?dn("windows tablet"):ye.windowsPhone()?dn("windows mobile"):dn("windows desktop"):ye.fxos()?ye.fxosTablet()?dn("fxos tablet"):dn("fxos mobile"):ye.meego()?dn("meego mobile"):ye.nodeWebkit()?dn("node-webkit"):ye.television()?dn("television"):ye.desktop()&&dn("desktop");ye.cordova()&&dn("cordova");function Ld(){ye.landscape()?(Ox("portrait"),dn("landscape"),Px("landscape")):(Ox("landscape"),dn("portrait"),Px("portrait")),BL()}function Px(e){for(var t=0;t<t_.length;t++)t_[t](e)}ye.onChangeOrientation=function(e){typeof e=="function"&&t_.push(e)};var Rd="resize";Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Rd="orientationchange");window.addEventListener?window.addEventListener(Rd,Ld,!1):window.attachEvent?window.attachEvent(Rd,Ld):window[Rd]=Ld;Ld();function Cw(e){for(var t=0;t<e.length;t++)if(ye[e[t]]())return e[t];return"unknown"}ye.type=Cw(["mobile","tablet","desktop"]);ye.os=Cw(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]);function BL(){ye.orientation=Cw(["portrait","landscape"])}BL();const yn={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`},convertPercentageToNumber(e){return e?parseFloat(e.replace("%","")):0},RangeInt(e,t){return Math.floor(Math.random()*(t-e+1))+e},formatIndex(e){return(e+1).toString().padStart(2,"0")},formatSongName(e){let t=e.replace(".mp3","");return t=t.replace(/^\d+\.\s*/,""),t},changeHightStyle(e,t){const n=ye.desktop(),r=ye.mobile();e.length<8&&n?t.style.height="418px":e.length<6&&r?t.style.height="300px":t.style.height="auto"},uploadImg(e){return new Promise((t,n)=>{const r=e.target.files[0];if(!r)return;["image/jpeg","image/png","image/jpg","image/bmp"].includes(r.type)||t({showAlert:!0,message:$L.global.t("alertMsg.file_extension_check_alert")}),t({file:r})})}},Vn=Ua("player",{state:()=>({songList:[],current_song:{},sound:{},seek:"00:00",duration:"00:00",playProgress:"0% ",playingIndex:0,pauseCurrentSong:{}}),actions:{async newSong(e){console.log("song => ",e),this.sound instanceof Pd.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Pd.Howl({src:[e.url],html5:!0,volume:.3}),this.sound.play(),this.sound.on("play",()=>{this.progress(),requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?(this.sound.pause(),this.pauseCurrentSong={pause:!0,currentSong:this.current_song.modified_name}):(this.pauseCurrentSong={pause:!1,currentSong:this.current_song.modified_name},this.sound.play()))},forward_backPlay(e){this.sound.playing&&(this.sound.playing()&&this.sound.stop(),e&&this.playingIndex<=this.songList.length-2?this.playingIndex+=1:e&&this.playingIndex===this.songList.length-1?this.playingIndex=0:!e&&this.playingIndex>0?this.playingIndex-=1:!e&&this.playingIndex===0&&(this.playingIndex=this.songList.length-1),this.sound=new Pd.Howl({src:[this.songList[this.playingIndex].url],html5:!0,volume:.3}),this.sound.play(),this.sound.on("play",()=>{this.progress(),requestAnimationFrame(this.progress)}),this.current_song=this.songList[this.playingIndex])},deleteSong(e){if(this.songList.length===0)return;this.songList[e].docID===this.current_song.docID?(this.sound.stop(),this.songList.splice(e,1),this.songList.length>0?this.current_song=this.songList[0]:(this.sound.unload(),this.sound={},this.current_song={})):(this.songList.splice(e,1),this.songList.length>0&&(this.current_song={...this.current_song,favCoverImg:this.songList[0].coverImg}))},progress(){this.sound.seek&&(this.seek=yn.formatTime(this.sound.seek()),this.duration=yn.formatTime(this.sound.duration()),this.playProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress))},updateSeek(e){let t=0;const n=e.target.value;if(!this.sound.playing)return;const{x:r,width:i}=event.currentTarget.getBoundingClientRect(),s=event.clientX-r;n?t=Number(n)/100:t=s/i;const a=this.sound.duration()*t;this.sound.seek(a),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1,hiddenClass:e=>e.sound.play?"":"hidden",albumPageImgClass:e=>{let t;return Object.keys(e.current_song).length!==0&&(t=e.songList.some(n=>n.docID===e.current_song.docID)),t?"md:max-w-64 w-auto":"max-w-64"}}}),LW={name:"Player",data(){return{sliderValue:0,timerId:null}},computed:{...ln(Vn,["playing","seek","duration","playProgress","current_song","hiddenClass"]),signerName(){const{display_name:e}=this.current_song;return Y_(e)}},methods:{...$n(Vn,["toggleAudio","updateSeek","forward_backPlay"])},watch:{seek(){this.seek&&(this.sliderValue=yn.convertPercentageToNumber(this.playProgress))}}},HL=e=>(R_("data-v-251685d5"),e=e(),D_(),e),RW={class:"flex justify-between items-center"},DW={class:"flex-1"},MW={key:0,class:"text-center"},FW={class:"font-bold text-md"},UW={class:"font-bold text-md"},VW={class:"flex flex-nowrap gap-4 items-center"},$W={class:"player-currenttime"},jW={class:"relative w-full"},BW={class:"player-duration"},HW={class:"flex my-2"},GW=["src"],zW={class:"flex-1 flex flex-nowrap justify-between px-2 md:px-5"},qW=HL(()=>S("i",{class:"fas fa-backward text-rose-500 text-2xl"},null,-1)),WW=[qW],KW=HL(()=>S("i",{class:"fas fa-forward text-rose-500 text-2xl"},null,-1)),YW=[KW],XW={key:0,class:"w-10 md:mr-4 md:ml-2"},JW={class:"flex md:gap-1 gap-0.5 items-center justify-center"};function QW(e,t,n,r,i,s){return me(),_e("div",{class:We(e.hiddenClass||{hidden:e.$route.name==="admin-backStage"})},[S("div",{class:We(["fixed bottom-0 left-0 bg-zinc-800 pl-4 py-2 w-full text-zinc-200 shadow-[0_0_5px_rgba(255,255,255,1)] z-10",{"pr-4":!e.current_song.album}])},[S("div",RW,[S("div",DW,[e.current_song.modified_name?(me(),_e("div",MW,[S("span",FW,K(s.signerName),1),Hc(" - "),S("span",UW,K(e.current_song.modified_name),1)])):Hr("",!0),S("div",VW,[S("div",$W,K(e.seek),1),S("div",jW,[Sa(S("input",{id:"large-range",type:"range",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-gray-700",max:"100",min:"0","onUpdate:modelValue":t[0]||(t[0]=a=>i.sliderValue=a),onChange:t[1]||(t[1]=a=>e.updateSeek(a))},null,544),[[j$,i.sliderValue]]),S("span",{class:"absolute top-[10px] left-0 block h-2 rounded bg-gradient-to-r from-rose-500 to-pink-500",style:jr({width:e.playProgress})},null,4)]),S("div",BW,K(e.duration),1)]),S("div",HW,[S("img",{src:e.current_song.coverImg,class:We(["w-10",{"opacity-0":!e.current_song.coverImg}]),alt:""},null,10,GW),S("div",zW,[S("button",{type:"button",onClick:t[2]||(t[2]=qe(a=>e.forward_backPlay(!1),["prevent"]))},WW),S("button",{type:"button",onClick:t[3]||(t[3]=qe((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"]))},[S("i",{class:We(["fas text-rose-500 text-3xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),S("button",{type:"button",onClick:t[4]||(t[4]=qe(a=>e.forward_backPlay(!0),["prevent"]))},YW)])])]),e.current_song.album?(me(),_e("div",XW,[S("div",JW,[S("div",{class:We(["md:h-6 h-4 md:w-[5px] w-[3px] bg-rose-400 rounded-full animate-wavey",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:We(["md:h-7 h-5 md:w-[5px] w-[3px] bg-rose-300 rounded-full animate-wavey animation-delay-200",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:We(["md:h-8 h-6 md:w-[5px] w-[3px] bg-rose-200 rounded-full animate-wavey animation-delay-[150ms]",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:We(["md:h-9 h-7 md:w-[5px] w-[3px] bg-rose-300 rounded-full animate-wavey animation-delay-300",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:We(["md:h-6 h-4 md:w-[5px] w-[3px] bg-rose-400 rounded-full animate-wavey animation-delay-[75ms]",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2)])])):Hr("",!0)])],2)],2)}const ZW=Nt(LW,[["render",QW],["__scopeId","data-v-251685d5"]]),e9={name:"loginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required|min:9|max:100|excluded:password"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500/50",login_alert_msg:this.$t("signin&singup.loggin_in")}},methods:{...$n(Ln,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500/50",this.login_alert_msg=this.$t("signin&singup.loggin_in");try{await this.authenticate(e)}catch(t){console.log("error => ",t),this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg=this.$t("signin&singup.loggin_failed");return}this.login_alert_variant="bg-green-500/60",this.login_alert_msg=this.$t("signin&singup.loggin_successful"),window.location.reload()}}},t9={class:"mb-3"},n9=S("label",{class:"inline-block mb-2"},"Email",-1),r9={class:"mb-3"},i9={class:"inline-block mb-2"},o9=["disabled"];function s9(e,t,n,r,i,s){const a=De("vee-field"),l=De("ErrorMessage"),c=De("vee-form");return me(),_e(vt,null,[i.login_show_alert?(me(),_e("div",{key:0,class:We(["text-white text-center font-bold p-2 rounded mb-4",i.login_alert_variant])},K(i.login_alert_msg),3)):Hr("",!0),ae(c,{"validation-schema":i.loginSchema,onSubmit:s.login},{default:Wn(()=>[S("div",t9,[n9,ae(a,{name:"email",type:"email",autocomplete:"email",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),ae(l,{class:"text-pink-600",name:"email"})]),S("div",r9,[S("label",i9,K(e.$t("signin&singup.password")),1),ae(a,{type:"password",name:"password",autocomplete:"current-password",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),ae(l,{class:"text-pink-600",name:"password"})]),S("button",{type:"submit",class:"block w-full bg-pink-500/75 text-white py-1.5 px-3 rounded transition hover:bg-pink-500/55 disabled:bg-gray-400",disabled:i.login_in_submission},K(e.$t("signin&singup.submit_btn")),9,o9)]),_:1},8,["validation-schema","onSubmit"])],64)}const a9=Nt(e9,[["render",s9]]),u9="password,admin",l9={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100",email:"required|min:3|max:100|email",password:`required|min:9|max:100|excluded:${u9}`,confirm_password:"passwords_mismatch:@password"},userData:{country:"USA"},reg_in_submission:!1,res_show_alert:!1,reg_alert_variant:"bg-blue-500/50",reg_alert_msg:this.$t("signin&singup.signing_up_wait")}},methods:{...$n(Ln,{createUser:"register"}),async register(e){this.res_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500/50",this.reg_alert_msg=this.$t("signin&singup.signing_up_wait");try{await this.createUser(e)}catch(t){this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500/60",this.reg_alert_msg=t.message,console.log("error => ",t);return}this.reg_alert_variant="bg-green-500/60",this.login_alert_msg=this.$t("signin&singup.loggin_successful"),window.location.reload()}}},c9={class:"mb-3"},f9={class:"inline-block mb-2"},h9={class:"mb-3"},d9=S("label",{class:"inline-block mb-2"},"Email",-1),p9={class:"mb-3"},m9={class:"inline-block mb-2"},g9=["placeholder"],v9={class:"mb-3"},y9={class:"inline-block mb-2"},b9=["disabled"];function _9(e,t,n,r,i,s){const a=De("vee-field"),l=De("ErrorMessage"),c=De("vee-form");return me(),_e(vt,null,[i.res_show_alert?(me(),_e("div",{key:0,class:We(["text-white text-center font-bold p-2 rounded mb-4",i.reg_alert_variant])},K(i.reg_alert_msg),3)):Hr("",!0),ae(c,{"validation-schema":i.schema,onSubmit:s.register,"initial-values":i.userData},{default:Wn(()=>[S("div",c9,[S("label",f9,K(e.$t("signin&singup.user_name")),1),ae(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("signin&singup.enter_user_name")},null,8,["placeholder"]),ae(l,{class:"text-pink-600",name:"name"})]),S("div",h9,[d9,ae(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("signin&singup.enter_email")},null,8,["placeholder"]),ae(l,{class:"text-pink-600",name:"email"})]),S("div",p9,[S("label",m9,K(e.$t("signin&singup.password")),1),ae(a,{name:"password",bails:!1},{default:Wn(({field:h,errors:p})=>[S("input",vC({class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",name:"password",autocomplete:"password",placeholder:e.$t("signin&singup.enter_password")},h),null,16,g9),(me(!0),_e(vt,null,qi(p,f=>(me(),_e("div",{class:"text-pink-600",key:f},K(f),1))),128))]),_:1})]),S("div",v9,[S("label",y9,K(e.$t("signin&singup.enter_password_again")),1),ae(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",autocomplete:"password",placeholder:e.$t("signin&singup.confirm_password")},null,8,["placeholder"]),ae(l,{class:"text-pink-600",name:"confirm_password"})]),S("button",{type:"submit",class:"block w-full bg-pink-500/75 text-white py-1.5 px-3 rounded transition hover:bg-pink-500/55 disabled:bg-gray-400",disabled:i.reg_in_submission},K(e.$t("signin&singup.send_btn")),9,b9)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const w9=Nt(l9,[["render",_9]]),E9={data(){return{}},components:{LoginForm:a9,RegisterForm:w9},computed:{...ln(Rc,["hiddenClass"]),...Mt(Rc,["tab"]),...Mt(Rc,{modalVisibility:"isOpen"})}},T9={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},S9=S("div",{class:"fixed inset-0 transition-opacity"},[S("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),I9=S("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),A9={class:"inline-block align-bottom w-full bg-zinc-900/70 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},x9={class:"pt-3 pb-7 text-left px-6"},k9={class:"flex justify-between items-center pb-4"},C9={class:"text-md font-bold"},N9=S("i",{class:"fas fa-times"},null,-1),O9=[N9],P9={class:"flex flex-wrap mb-4"},L9={class:"flex-auto text-center"},R9={class:"flex-auto text-center"};function D9(e,t,n,r,i,s){const a=De("LoginForm"),l=De("RegisterForm");return me(),_e("div",{class:We(["fixed z-10 inset-0 overflow-y-auto text-zinc-200",e.hiddenClass]),id:"modal"},[S("div",T9,[S9,I9,S("div",A9,[S("div",x9,[S("div",k9,[S("p",C9,K(e.$t("signin&singup.your_account")),1),S("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=c=>e.modalVisibility=!1)},O9)]),S("ul",P9,[S("li",L9,[S("a",{class:We(["block rounded py-1.5 px-2 transition",{"hover:text-white text-white bg-pink-500/75":e.tab==="login","hover:text-rose-200":e.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=qe(c=>e.tab="login",["prevent"]))},K(e.$t("signin&singup.sign_in")),3)]),S("li",R9,[S("a",{class:We(["block rounded py-1.5 px-2 transition",{"hover:text-white text-white bg-pink-500/75":e.tab==="register","hover:text-rose-200":e.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=qe(c=>e.tab="register",["prevent"]))},K(e.$t("signin&singup.sign_up")),3)])]),e.tab==="login"?(me(),ms(a,{key:0})):(me(),ms(l,{key:1}))])])])],2)}const M9=Nt(E9,[["render",D9]]),F9={props:["isShow"]},U9=S("div",{role:"status",class:"absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2"},[S("svg",{"aria-hidden":"true",class:"w-10 h-1w-10 text-gray-300/90 animate-spin dark:text-gray-600 fill-rose-500",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[S("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),S("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})])],-1),V9=[U9];function $9(e,t,n,r,i,s){return me(),_e("div",{class:We(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-[50] justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!n.isShow}])},V9,2)}const Kf=Nt(F9,[["render",$9]]),j9="modulepreload",B9=function(e){return"/vue-earphone-music/"+e},Lx={},H9=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.all(n.map(c=>{if(c=B9(c),c in Lx)return;Lx[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(!!r)for(let v=s.length-1;v>=0;v--){const y=s[v];if(y.href===c&&(!h||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":j9,h||(m.as="script",m.crossOrigin=""),m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((v,y)=>{m.addEventListener("load",v),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function G9(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:a}=e;let l,c;const h=async(f=!0)=>{await c};async function p(){if("serviceWorker"in navigator){if(l=await H9(()=>import("./workbox-window.prod.es5-Ck4lWPv4.js"),[]).then(({Workbox:f})=>new f("/vue-earphone-music/sw.js",{scope:"/vue-earphone-music/",type:"classic"})).catch(f=>{a==null||a(f)}),!l)return;l.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),l.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),l.register({immediate:t}).then(f=>{s?s("/vue-earphone-music/sw.js",f):i==null||i(f)}).catch(f=>{a==null||a(f)})}}return c=p(),h}function z9(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:a}=e,l=ot(!1),c=ot(!1);return{updateServiceWorker:G9({immediate:t,onNeedRefresh(){l.value=!0,n==null||n()},onOfflineReady(){c.value=!0,r==null||r()},onRegistered:i,onRegisteredSW:s,onRegisterError:a}),offlineReady:c,needRefresh:l}}async function q9(e,t){const{setLanguage:n}=Jn();try{const r=await fetch("https://ipapi.co/json/"),{country:i}=await r.json();switch(i){case"TW":case"CN":e.$i18n.locale="zh",n("zh");break;default:e.$i18n.locale="en",n("en");break}}catch{e.$i18n.locale="en",n("en")}finally{t(!0)}}function W9(){const{setMoblieScreen:e}=Jn();window.matchMedia("(max-width: 768px)").addEventListener("change",function(n){e(n.matches)})}async function K9(e){const{uid:t,favSongList:n}=Ln();try{if(t){const r=await Pa.doc(t).get();n.push(...r.data().favSongLists)}}catch(r){console.log("error => ",r)}}function Y9(){ot(!1),z9({immediate:!0,onRegisteredSW(e,t){}})}function X9(e,t){q9(e,t),W9(),K9(),Y9()}const J9={data(){return{showLoading:!0}},components:{Auth:M9,HeaderVue:CW,Player:ZW,Loading:Kf},computed:{...ln(Ln,["uid"]),...Mt(Jn,["isMoblieScreen"])},mounted(){X9(this,(e=!1)=>{e&&(this.showLoading=!1)})}};function Q9(e,t,n,r,i,s){const a=De("Loading"),l=De("HeaderVue"),c=De("RouterView"),h=De("Player"),p=De("Auth");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l),ae(c,null,{default:Wn(({Component:f})=>[ae(H_,{name:"fade"},{default:Wn(()=>[(me(),ms(Up(f),{mode:"out-in"}))]),_:2},1024)]),_:1}),ae(h),ae(p)],64)}const Z9=Nt(J9,[["render",Q9]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ku=typeof document<"u";function eK(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Pt=Object.assign;function Py(e,t){const n={};for(const r in t){const i=t[r];n[r]=Ai(i)?i.map(e):e(i)}return n}const Dc=()=>{},Ai=Array.isArray,GL=/#/g,tK=/&/g,nK=/\//g,rK=/=/g,iK=/\?/g,zL=/\+/g,oK=/%5B/g,sK=/%5D/g,qL=/%5E/g,aK=/%60/g,WL=/%7B/g,uK=/%7C/g,KL=/%7D/g,lK=/%20/g;function Nw(e){return encodeURI(""+e).replace(uK,"|").replace(oK,"[").replace(sK,"]")}function cK(e){return Nw(e).replace(WL,"{").replace(KL,"}").replace(qL,"^")}function n_(e){return Nw(e).replace(zL,"%2B").replace(lK,"+").replace(GL,"%23").replace(tK,"%26").replace(aK,"`").replace(WL,"{").replace(KL,"}").replace(qL,"^")}function fK(e){return n_(e).replace(rK,"%3D")}function hK(e){return Nw(e).replace(GL,"%23").replace(iK,"%3F")}function dK(e){return e==null?"":hK(e).replace(nK,"%2F")}function vf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const pK=/\/$/,mK=e=>e.replace(pK,"");function Ly(e,t,n="/"){let r,i={},s="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),i=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=bK(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:vf(a)}}function gK(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Rx(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function vK(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&hl(t.matched[r],n.matched[i])&&YL(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function YL(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!yK(e[n],t[n]))return!1;return!0}function yK(e,t){return Ai(e)?Dx(e,t):Ai(t)?Dx(t,e):e===t}function Dx(e,t){return Ai(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function bK(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}var yf;(function(e){e.pop="pop",e.push="push"})(yf||(yf={}));var Mc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Mc||(Mc={}));function _K(e){if(!e)if(ku){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),mK(e)}const wK=/^[^#]+#/;function EK(e,t){return e.replace(wK,"#")+t}function TK(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Cm=()=>({left:window.scrollX,top:window.scrollY});function SK(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=TK(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Mx(e,t){return(history.state?history.state.position-t:-1)+e}const r_=new Map;function IK(e,t){r_.set(e,t)}function AK(e){const t=r_.get(e);return r_.delete(e),t}let xK=()=>location.protocol+"//"+location.host;function XL(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let l=i.includes(e.slice(s))?e.slice(s).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),Rx(c,"")}return Rx(n,e)+r+i}function kK(e,t,n,r){let i=[],s=[],a=null;const l=({state:m})=>{const v=XL(e,location),y=n.value,_=t.value;let w=0;if(m){if(n.value=v,t.value=m,a&&a===y){a=null;return}w=_?m.position-_.position:0}else r(v);i.forEach(E=>{E(n.value,y,{delta:w,type:yf.pop,direction:w?w>0?Mc.forward:Mc.back:Mc.unknown})})};function c(){a=n.value}function h(m){i.push(m);const v=()=>{const y=i.indexOf(m);y>-1&&i.splice(y,1)};return s.push(v),v}function p(){const{history:m}=window;m.state&&m.replaceState(Pt({},m.state,{scroll:Cm()}),"")}function f(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:c,listen:h,destroy:f}}function Fx(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Cm():null}}function CK(e){const{history:t,location:n}=window,r={value:XL(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,h,p){const f=e.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:xK()+e+c;try{t[p?"replaceState":"pushState"](h,"",m),i.value=h}catch(v){console.error(v),n[p?"replace":"assign"](m)}}function a(c,h){const p=Pt({},t.state,Fx(i.value.back,c,i.value.forward,!0),h,{position:i.value.position});s(c,p,!0),r.value=c}function l(c,h){const p=Pt({},i.value,t.state,{forward:c,scroll:Cm()});s(p.current,p,!0);const f=Pt({},Fx(r.value,c,null),{position:p.position+1},h);s(c,f,!1),r.value=c}return{location:r,state:i,push:l,replace:a}}function NK(e){e=_K(e);const t=CK(e),n=kK(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Pt({location:"",base:e,go:r,createHref:EK.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function OK(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),NK(e)}function PK(e){return typeof e=="string"||e&&typeof e=="object"}function JL(e){return typeof e=="string"||typeof e=="symbol"}const Bo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},QL=Symbol("");var Ux;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ux||(Ux={}));function dl(e,t){return Pt(new Error,{type:e,[QL]:!0},t)}function ao(e,t){return e instanceof Error&&QL in e&&(t==null||!!(e.type&t))}const Vx="[^/]+?",LK={sensitive:!1,strict:!1,start:!0,end:!0},RK=/[.+*?^${}()[\]/\\]/g;function DK(e,t){const n=Pt({},LK,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const p=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let f=0;f<h.length;f++){const m=h[f];let v=40+(n.sensitive?.25:0);if(m.type===0)f||(i+="/"),i+=m.value.replace(RK,"\\$&"),v+=40;else if(m.type===1){const{value:y,repeatable:_,optional:w,regexp:E}=m;s.push({name:y,repeatable:_,optional:w});const k=E||Vx;if(k!==Vx){v+=10;try{new RegExp(`(${k})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+C.message)}}let I=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(I=w&&h.length<2?`(?:/${I})`:"/"+I),w&&(I+="?"),i+=I,v+=20,w&&(v+=-8),_&&(v+=-20),k===".*"&&(v+=-50)}p.push(v)}r.push(p)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function l(h){const p=h.match(a),f={};if(!p)return null;for(let m=1;m<p.length;m++){const v=p[m]||"",y=s[m-1];f[y.name]=v&&y.repeatable?v.split("/"):v}return f}function c(h){let p="",f=!1;for(const m of e){(!f||!p.endsWith("/"))&&(p+="/"),f=!1;for(const v of m)if(v.type===0)p+=v.value;else if(v.type===1){const{value:y,repeatable:_,optional:w}=v,E=y in h?h[y]:"";if(Ai(E)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=Ai(E)?E.join("/"):E;if(!k)if(w)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);p+=k}}return p||"/"}return{re:a,score:r,keys:s,parse:l,stringify:c}}function MK(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function FK(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=MK(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if($x(r))return 1;if($x(i))return-1}return i.length-r.length}function $x(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const UK={type:0,value:""},VK=/[a-zA-Z0-9_]/;function $K(e){if(!e)return[[]];if(e==="/")return[[UK]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let l=0,c,h="",p="";function f(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(h&&f(),a()):c===":"?(f(),n=1):m();break;case 4:m(),n=r;break;case 1:c==="("?n=2:VK.test(c)?m():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:n=3:p+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),f(),a(),i}function jK(e,t,n){const r=DK($K(e.path),n),i=Pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function BK(e,t){const n=[],r=new Map;t=Hx({strict:!1,end:!0,sensitive:!1},t);function i(p){return r.get(p)}function s(p,f,m){const v=!m,y=HK(p);y.aliasOf=m&&m.record;const _=Hx(t,p),w=[y];if("alias"in p){const I=typeof p.alias=="string"?[p.alias]:p.alias;for(const C of I)w.push(Pt({},y,{components:m?m.record.components:y.components,path:C,aliasOf:m?m.record:y}))}let E,k;for(const I of w){const{path:C}=I;if(f&&C[0]!=="/"){const M=f.record.path,A=M[M.length-1]==="/"?"":"/";I.path=f.record.path+(C&&A+C)}if(E=jK(I,f,_),m?m.alias.push(E):(k=k||E,k!==E&&k.alias.push(E),v&&p.name&&!Bx(E)&&a(p.name)),y.children){const M=y.children;for(let A=0;A<M.length;A++)s(M[A],E,m&&m.children[A])}m=m||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&c(E)}return k?()=>{a(k)}:Dc}function a(p){if(JL(p)){const f=r.get(p);f&&(r.delete(p),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(p);f>-1&&(n.splice(f,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){let f=0;for(;f<n.length&&FK(p,n[f])>=0&&(p.record.path!==n[f].record.path||!ZL(p,n[f]));)f++;n.splice(f,0,p),p.record.name&&!Bx(p)&&r.set(p.record.name,p)}function h(p,f){let m,v={},y,_;if("name"in p&&p.name){if(m=r.get(p.name),!m)throw dl(1,{location:p});_=m.record.name,v=Pt(jx(f.params,m.keys.filter(k=>!k.optional).concat(m.parent?m.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),p.params&&jx(p.params,m.keys.map(k=>k.name))),y=m.stringify(v)}else if(p.path!=null)y=p.path,m=n.find(k=>k.re.test(y)),m&&(v=m.parse(y),_=m.record.name);else{if(m=f.name?r.get(f.name):n.find(k=>k.re.test(f.path)),!m)throw dl(1,{location:p,currentLocation:f});_=m.record.name,v=Pt({},f.params,p.params),y=m.stringify(v)}const w=[];let E=m;for(;E;)w.unshift(E.record),E=E.parent;return{name:_,path:y,params:v,matched:w,meta:zK(w)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function jx(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function HK(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:GK(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function GK(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Bx(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zK(e){return e.reduce((t,n)=>Pt(t,n.meta),{})}function Hx(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ZL(e,t){return t.children.some(n=>n===e||ZL(e,n))}function qK(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(zL," "),a=s.indexOf("="),l=vf(a<0?s:s.slice(0,a)),c=a<0?null:vf(s.slice(a+1));if(l in t){let h=t[l];Ai(h)||(h=t[l]=[h]),h.push(c)}else t[l]=c}return t}function Gx(e){let t="";for(let n in e){const r=e[n];if(n=fK(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ai(r)?r.map(s=>s&&n_(s)):[r&&n_(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function WK(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ai(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const KK=Symbol(""),zx=Symbol(""),Ow=Symbol(""),eR=Symbol(""),i_=Symbol("");function gc(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jo(e,t,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const h=m=>{m===!1?c(dl(4,{from:n,to:t})):m instanceof Error?c(m):PK(m)?c(dl(2,{from:t,to:m})):(a&&r.enterCallbacks[i]===a&&typeof m=="function"&&a.push(m),l())},p=s(()=>e.call(r&&r.instances[i],t,n,h));let f=Promise.resolve(p);e.length<3&&(f=f.then(h)),f.catch(m=>c(m))})}function Ry(e,t,n,r,i=s=>s()){const s=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(YK(c)){const p=(c.__vccOpts||c)[t];p&&s.push(Jo(p,n,r,a,l,i))}else{let h=c();s.push(()=>h.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const f=eK(p)?p.default:p;a.components[l]=f;const v=(f.__vccOpts||f)[t];return v&&Jo(v,n,r,a,l,i)()}))}}return s}function YK(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qx(e){const t=Br(Ow),n=Br(eR),r=He(()=>t.resolve(Et(e.to))),i=He(()=>{const{matched:c}=r.value,{length:h}=c,p=c[h-1],f=n.matched;if(!p||!f.length)return-1;const m=f.findIndex(hl.bind(null,p));if(m>-1)return m;const v=Wx(c[h-2]);return h>1&&Wx(p)===v&&f[f.length-1].path!==v?f.findIndex(hl.bind(null,c[h-2])):m}),s=He(()=>i.value>-1&&ZK(n.params,r.value.params)),a=He(()=>i.value>-1&&i.value===n.matched.length-1&&YL(n.params,r.value.params));function l(c={}){return QK(c)?t[Et(e.replace)?"replace":"push"](Et(e.to)).catch(Dc):Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:s,isExactActive:a,navigate:l}}const XK=Ss({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qx,setup(e,{slots:t}){const n=_o(qx(e)),{options:r}=Br(Ow),i=He(()=>({[Kx(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Kx(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:mn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),JK=XK;function QK(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ZK(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ai(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function Wx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Kx=(e,t,n)=>e??t??n,eY=Ss({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Br(i_),i=He(()=>e.route||r.value),s=Br(zx,0),a=He(()=>{let h=Et(s);const{matched:p}=i.value;let f;for(;(f=p[h])&&!f.components;)h++;return h}),l=He(()=>i.value.matched[a.value]);cs(zx,He(()=>a.value+1)),cs(KK,l),cs(i_,i);const c=ot();return Kn(()=>[c.value,l.value,e.name],([h,p,f],[m,v,y])=>{p&&(p.instances[f]=h,v&&v!==p&&h&&h===m&&(p.leaveGuards.size||(p.leaveGuards=v.leaveGuards),p.updateGuards.size||(p.updateGuards=v.updateGuards))),h&&p&&(!v||!hl(p,v)||!m)&&(p.enterCallbacks[f]||[]).forEach(_=>_(h))},{flush:"post"}),()=>{const h=i.value,p=e.name,f=l.value,m=f&&f.components[p];if(!m)return Yx(n.default,{Component:m,route:h});const v=f.props[p],y=v?v===!0?h.params:typeof v=="function"?v(h):v:null,w=mn(m,Pt({},y,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[p]=null)},ref:c}));return Yx(n.default,{Component:w,route:h})||w}}});function Yx(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const tY=eY;function nY(e){const t=BK(e.routes,e),n=e.parseQuery||qK,r=e.stringifyQuery||Gx,i=e.history,s=gc(),a=gc(),l=gc(),c=Rp(Bo);let h=Bo;ku&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Py.bind(null,W=>""+W),f=Py.bind(null,dK),m=Py.bind(null,vf);function v(W,le){let re,Ee;return JL(W)?(re=t.getRecordMatcher(W),Ee=le):Ee=W,t.addRoute(Ee,re)}function y(W){const le=t.getRecordMatcher(W);le&&t.removeRoute(le)}function _(){return t.getRoutes().map(W=>W.record)}function w(W){return!!t.getRecordMatcher(W)}function E(W,le){if(le=Pt({},le||c.value),typeof W=="string"){const O=Ly(n,W,le.path),H=t.resolve({path:O.path},le),te=i.createHref(O.fullPath);return Pt(O,H,{params:m(H.params),hash:vf(O.hash),redirectedFrom:void 0,href:te})}let re;if(W.path!=null)re=Pt({},W,{path:Ly(n,W.path,le.path).path});else{const O=Pt({},W.params);for(const H in O)O[H]==null&&delete O[H];re=Pt({},W,{params:f(O)}),le.params=f(le.params)}const Ee=t.resolve(re,le),Ge=W.hash||"";Ee.params=p(m(Ee.params));const at=gK(r,Pt({},W,{hash:cK(Ge),path:Ee.path})),D=i.createHref(at);return Pt({fullPath:at,hash:Ge,query:r===Gx?WK(W.query):W.query||{}},Ee,{redirectedFrom:void 0,href:D})}function k(W){return typeof W=="string"?Ly(n,W,c.value.path):Pt({},W)}function I(W,le){if(h!==W)return dl(8,{from:le,to:W})}function C(W){return j(W)}function M(W){return C(Pt(k(W),{replace:!0}))}function A(W){const le=W.matched[W.matched.length-1];if(le&&le.redirect){const{redirect:re}=le;let Ee=typeof re=="function"?re(W):re;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=k(Ee):{path:Ee},Ee.params={}),Pt({query:W.query,hash:W.hash,params:Ee.path!=null?{}:W.params},Ee)}}function j(W,le){const re=h=E(W),Ee=c.value,Ge=W.state,at=W.force,D=W.replace===!0,O=A(re);if(O)return j(Pt(k(O),{state:typeof O=="object"?Pt({},Ge,O.state):Ge,force:at,replace:D}),le||re);const H=re;H.redirectedFrom=le;let te;return!at&&vK(r,Ee,re)&&(te=dl(16,{to:H,from:Ee}),it(Ee,Ee,!0,!1)),(te?Promise.resolve(te):z(H,Ee)).catch(X=>ao(X)?ao(X,2)?X:xt(X):Me(X,H,Ee)).then(X=>{if(X){if(ao(X,2))return j(Pt({replace:D},k(X.to),{state:typeof X.to=="object"?Pt({},Ge,X.to.state):Ge,force:at}),le||H)}else X=q(H,Ee,!0,D,Ge);return L(H,Ee,X),X})}function U(W,le){const re=I(W,le);return re?Promise.reject(re):Promise.resolve()}function P(W){const le=en.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(W):W()}function z(W,le){let re;const[Ee,Ge,at]=rY(W,le);re=Ry(Ee.reverse(),"beforeRouteLeave",W,le);for(const O of Ee)O.leaveGuards.forEach(H=>{re.push(Jo(H,W,le))});const D=U.bind(null,W,le);return re.push(D),Ne(re).then(()=>{re=[];for(const O of s.list())re.push(Jo(O,W,le));return re.push(D),Ne(re)}).then(()=>{re=Ry(Ge,"beforeRouteUpdate",W,le);for(const O of Ge)O.updateGuards.forEach(H=>{re.push(Jo(H,W,le))});return re.push(D),Ne(re)}).then(()=>{re=[];for(const O of at)if(O.beforeEnter)if(Ai(O.beforeEnter))for(const H of O.beforeEnter)re.push(Jo(H,W,le));else re.push(Jo(O.beforeEnter,W,le));return re.push(D),Ne(re)}).then(()=>(W.matched.forEach(O=>O.enterCallbacks={}),re=Ry(at,"beforeRouteEnter",W,le,P),re.push(D),Ne(re))).then(()=>{re=[];for(const O of a.list())re.push(Jo(O,W,le));return re.push(D),Ne(re)}).catch(O=>ao(O,8)?O:Promise.reject(O))}function L(W,le,re){l.list().forEach(Ee=>P(()=>Ee(W,le,re)))}function q(W,le,re,Ee,Ge){const at=I(W,le);if(at)return at;const D=le===Bo,O=ku?history.state:{};re&&(Ee||D?i.replace(W.fullPath,Pt({scroll:D&&O&&O.scroll},Ge)):i.push(W.fullPath,Ge)),c.value=W,it(W,le,re,D),xt()}let ee;function Te(){ee||(ee=i.listen((W,le,re)=>{if(!Se.listening)return;const Ee=E(W),Ge=A(Ee);if(Ge){j(Pt(Ge,{replace:!0}),Ee).catch(Dc);return}h=Ee;const at=c.value;ku&&IK(Mx(at.fullPath,re.delta),Cm()),z(Ee,at).catch(D=>ao(D,12)?D:ao(D,2)?(j(D.to,Ee).then(O=>{ao(O,20)&&!re.delta&&re.type===yf.pop&&i.go(-1,!1)}).catch(Dc),Promise.reject()):(re.delta&&i.go(-re.delta,!1),Me(D,Ee,at))).then(D=>{D=D||q(Ee,at,!1),D&&(re.delta&&!ao(D,8)?i.go(-re.delta,!1):re.type===yf.pop&&ao(D,20)&&i.go(-1,!1)),L(Ee,at,D)}).catch(Dc)}))}let xe=gc(),ie=gc(),Re;function Me(W,le,re){xt(W);const Ee=ie.list();return Ee.length?Ee.forEach(Ge=>Ge(W,le,re)):console.error(W),Promise.reject(W)}function Xe(){return Re&&c.value!==Bo?Promise.resolve():new Promise((W,le)=>{xe.add([W,le])})}function xt(W){return Re||(Re=!W,Te(),xe.list().forEach(([le,re])=>W?re(W):le()),xe.reset()),W}function it(W,le,re,Ee){const{scrollBehavior:Ge}=e;if(!ku||!Ge)return Promise.resolve();const at=!re&&AK(Mx(W.fullPath,0))||(Ee||!re)&&history.state&&history.state.scroll||null;return or().then(()=>Ge(W,le,at)).then(D=>D&&SK(D)).catch(D=>Me(D,W,le))}const dt=W=>i.go(W);let pt;const en=new Set,Se={currentRoute:c,listening:!0,addRoute:v,removeRoute:y,hasRoute:w,getRoutes:_,resolve:E,options:e,push:C,replace:M,go:dt,back:()=>dt(-1),forward:()=>dt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:ie.add,isReady:Xe,install(W){const le=this;W.component("RouterLink",JK),W.component("RouterView",tY),W.config.globalProperties.$router=le,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Et(c)}),ku&&!pt&&c.value===Bo&&(pt=!0,C(i.location).catch(Ge=>{}));const re={};for(const Ge in Bo)Object.defineProperty(re,Ge,{get:()=>c.value[Ge],enumerable:!0});W.provide(Ow,le),W.provide(eR,Uk(re)),W.provide(i_,c);const Ee=W.unmount;en.add(W),W.unmount=function(){en.delete(W),en.size<1&&(h=Bo,ee&&ee(),ee=null,c.value=Bo,pt=!1,Re=!1),Ee()}}};function Ne(W){return W.reduce((le,re)=>le.then(()=>P(re)),Promise.resolve())}return Se}function rY(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(h=>hl(h,l))?r.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(h=>hl(h,c))||i.push(c))}return[n,r,i]}const tR="/vue-earphone-music/assets/logo-BuyWDoCF.png",iY={name:"HomeSongPlay",data(){return{songs:[],isPlaying:!1,pause:!1,backImage:"https://i.imgur.com/Mjs5yOr.jpg",homePlayList:["awD3iFkG2dmt4E9Oc8gu","xrftJ03d44UNT7Gm6T8f","pOrIB7mjQjnDdEJtpTsg","u0KPcCl3RyRBlfLB7udg","RBCnCji0uqExquAhqHEF","Gen1NSVenV3QfHzSAPkN","MibHYBTMBqQhbNvCjloa","xeA3kFMhLPwMAPU4ky4A","WEo5iN1IopUxaXZPBBwl","aJgIHyg7uk3dZ2CmuLV0","5lwjpimV1csVAoKdt85n","EZTFMSYU7Jg8yZBzioBs"]}},computed:{...ln(Vn,["sound","playing","songList","current_song"]),...ln(Jn,["language","isMoblieScreen"]),...Mt(Vn,["songList"])},methods:{...$n(Vn,["newSong","toggleAudio"]),async getSong(){this.homePlayList.forEach(async e=>{const t=await zr.doc(e).get();this.songs.push({...t.data()})})},clickPlay(){let e=yn.RangeInt(0,this.songs.length-1);this.songList=this.songs,this.isPlaying?this.toggleAudio():(this.isPlaying=!0,this.newSong(this.songs[0]),this.backImage=this.songs[e].coverImg),this.isPlaying&&!this.pause?this.pause=!0:this.isPlaying&&this.pause&&(this.pause=!1)}},watch:{playing(){this.playing?this.pause=!0:this.pause=!1},current_song(){this.backImage=this.current_song.coverImg}},mounted(){this.getSong()}},oY={class:"bg-white/30 py-7 px-9 rounded-xl text-center backdrop-blur-md"},sY={class:"relative"},aY=S("img",{src:tR,alt:"",class:"md:w-[300px] w-[250px]"},null,-1),uY={key:0,class:"playButton bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},lY=S("i",{class:"fas fa-play text-3xl text-zinc-200"},null,-1),cY=[lY],fY={key:1,class:"bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},hY=o$('<div class="md:h-8 h-6 w-1.5 bg-pink-300 rounded-full animate-wavey"></div><div class="md:h-9 h-7 w-1.5 bg-pink-200 rounded-full animate-wavey animation-delay-200"></div><div class="md:h-10 h-8 w-1.5 bg-pink-100 rounded-full animate-wavey animation-delay-[150ms]"></div><div class="md:h-11 h-9 w-1.5 bg-pink-200 rounded-full animate-wavey animation-delay-300"></div><div class="md:h-8 h-6 w-1.5 bg-pink-300 rounded-full animate-wavey animation-delay-[75ms]"></div>',5),dY=[hY],pY={key:2,class:"bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},mY=S("i",{class:"fas fa-pause text-3xl text-zinc-200"},null,-1),gY=[mY],vY={key:0,class:"text-lg font-bold"},yY={key:1,class:"text-lg font-bold text-pink-500"},bY={class:"italic font-normal"};function _Y(e,t,n,r,i,s){return me(),_e("div",{class:"md:mb-8 bg-contain bg-center md:bg-fixed bg-no-repeat md:bg-contain flex flex-col min-h-[100px] items-center justify-center h-[calc(100vh-250px)] md:h-[calc(100vh-200px)]",style:jr(`background-image: url(${i.backImage})`)},[S("div",oY,[S("div",sY,[aY,S("div",{class:"flex items-center justify-center md:mt-[-110px] mt-[-100px] cursor-pointer",onClick:t[0]||(t[0]=qe((...a)=>s.clickPlay&&s.clickPlay(...a),["prevent"]))},[i.isPlaying?i.isPlaying&&i.pause?(me(),_e("div",fY,dY)):i.isPlaying&&!i.pause?(me(),_e("div",pY,gY)):Hr("",!0):(me(),_e("div",uY,cY))])]),i.isPlaying?(me(),_e("div",yY,K(e.current_song.album),1)):(me(),_e("div",vY,K(e.$t("home.give_it_a_listen")),1))]),S("div",{class:We(["font-bold text-[13px] md:text-sm mt-3",{"text-center":e.language==="en","w-[50%]":e.language==="en"&&!e.isMoblieScreen}])},[S("span",bY,K(e.$t("home.cliam")),1)],2)],4)}const wY=Nt(iY,[["render",_Y]]);function Xx(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Pw(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:Xx(t[n])&&Xx(e[n])&&Object.keys(t[n]).length>0&&Pw(e[n],t[n])})}const nR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Al(){const e=typeof document<"u"?document:{};return Pw(e,nR),e}const EY={document:nR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Yr(){const e=typeof window<"u"?window:{};return Pw(e,EY),e}function TY(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function SY(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function o_(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Ip(){return Date.now()}function IY(e){const t=Yr();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function AY(e,t){t===void 0&&(t="x");const n=Yr();let r,i,s;const a=IY(e);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function md(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function xY(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Dr(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!xY(r)){const i=Object.keys(Object(r)).filter(s=>t.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(md(e[l])&&md(r[l])?r[l].__swiper__?e[l]=r[l]:Dr(e[l],r[l]):!md(e[l])&&md(r[l])?(e[l]={},r[l].__swiper__?e[l]=r[l]:Dr(e[l],r[l])):e[l]=r[l])}}}return e}function gd(e,t,n){e.style.setProperty(t,n)}function rR(e){let{swiper:t,targetPosition:n,side:r}=e;const i=Yr(),s=-t.translate;let a=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const h=n>s?"next":"prev",p=(m,v)=>h==="next"&&m>=v||h==="prev"&&m<=v,f=()=>{l=new Date().getTime(),a===null&&(a=l);const m=Math.max(Math.min((l-a)/c,1),0),v=.5-Math.cos(m*Math.PI)/2;let y=s+v*(n-s);if(p(y,n)&&(y=n),t.wrapperEl.scrollTo({[r]:y}),p(y,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:y})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Bi(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function Ap(e){try{console.warn(e);return}catch{}}function xp(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:TY(t)),n}function kY(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function CY(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function is(e,t){return Yr().getComputedStyle(e,null).getPropertyValue(t)}function Jx(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function NY(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function Qx(e,t,n){const r=Yr();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function uo(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}let Dy;function OY(){const e=Yr(),t=Al();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function iR(){return Dy||(Dy=OY()),Dy}let My;function PY(e){let{userAgent:t}=e===void 0?{}:e;const n=iR(),r=Yr(),i=r.navigator.platform,s=t||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let p=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!p&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=i==="Win32";let y=i==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&y&&n.touch&&_.indexOf(`${l}x${c}`)>=0&&(p=s.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),y=!1),h&&!v&&(a.os="android",a.android=!0),(p||m||f)&&(a.os="ios",a.ios=!0),a}function oR(e){return e===void 0&&(e={}),My||(My=PY(e)),My}let Fy;function LY(){const e=Yr(),t=oR();let n=!1;function r(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,h]=l.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));n=c<16||c===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=r(),a=s||i&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function RY(){return Fy||(Fy=LY()),Fy}function DY(e){let{swiper:t,on:n,emit:r}=e;const i=Yr();let s=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(f=>{a=i.requestAnimationFrame(()=>{const{width:m,height:v}=t;let y=m,_=v;f.forEach(w=>{let{contentBoxSize:E,contentRect:k,target:I}=w;I&&I!==t.el||(y=k?k.width:(E[0]||E).inlineSize,_=k?k.height:(E[0]||E).blockSize)}),(y!==m||_!==v)&&l()})}),s.observe(t.el))},h=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},p=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),n("destroy",()=>{h(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function MY(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const s=[],a=Yr(),l=function(p,f){f===void 0&&(f={});const m=a.MutationObserver||a.WebkitMutationObserver,v=new m(y=>{if(t.__preventObserver__)return;if(y.length===1){i("observerUpdate",y[0]);return}const _=function(){i("observerUpdate",y[0])};a.requestAnimationFrame?a.requestAnimationFrame(_):a.setTimeout(_,0)});v.observe(p,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:typeof f.childList>"u"?!0:f.childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(v)},c=()=>{if(t.params.observer){if(t.params.observeParents){const p=NY(t.hostEl);for(let f=0;f<p.length;f+=1)l(p[f])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(p=>{p.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",h)}var FY={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const i=n?"unshift":"push";return e.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(r,[c,...n])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(h=>{h.apply(r,n)})}),e}};function UY(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(is(r,"padding-left")||0,10)-parseInt(is(r,"padding-right")||0,10),n=n-parseInt(is(r,"padding-top")||0,10)-parseInt(is(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function VY(){const e=this;function t(z,L){return parseFloat(z.getPropertyValue(e.getDirectionLabel(L))||0)}const n=e.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,h=c?e.virtual.slides.length:e.slides.length,p=Bi(i,`.${e.params.slideClass}, swiper-slide`),f=c?e.virtual.slides.length:p.length;let m=[];const v=[],y=[];let _=n.slidesOffsetBefore;typeof _=="function"&&(_=n.slidesOffsetBefore.call(e));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(e));const E=e.snapGrid.length,k=e.slidesGrid.length;let I=n.spaceBetween,C=-_,M=0,A=0;if(typeof s>"u")return;typeof I=="string"&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*s:typeof I=="string"&&(I=parseFloat(I)),e.virtualSize=-I,p.forEach(z=>{a?z.style.marginLeft="":z.style.marginRight="",z.style.marginBottom="",z.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(gd(r,"--swiper-centered-offset-before",""),gd(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&e.grid;j?e.grid.initSlides(p):e.grid&&e.grid.unsetSlides();let U;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(z=>typeof n.breakpoints[z].slidesPerView<"u").length>0;for(let z=0;z<f;z+=1){U=0;let L;if(p[z]&&(L=p[z]),j&&e.grid.updateSlide(z,L,p),!(p[z]&&is(L,"display")==="none")){if(n.slidesPerView==="auto"){P&&(p[z].style[e.getDirectionLabel("width")]="");const q=getComputedStyle(L),ee=L.style.transform,Te=L.style.webkitTransform;if(ee&&(L.style.transform="none"),Te&&(L.style.webkitTransform="none"),n.roundLengths)U=e.isHorizontal()?Qx(L,"width",!0):Qx(L,"height",!0);else{const xe=t(q,"width"),ie=t(q,"padding-left"),Re=t(q,"padding-right"),Me=t(q,"margin-left"),Xe=t(q,"margin-right"),xt=q.getPropertyValue("box-sizing");if(xt&&xt==="border-box")U=xe+Me+Xe;else{const{clientWidth:it,offsetWidth:dt}=L;U=xe+ie+Re+Me+Xe+(dt-it)}}ee&&(L.style.transform=ee),Te&&(L.style.webkitTransform=Te),n.roundLengths&&(U=Math.floor(U))}else U=(s-(n.slidesPerView-1)*I)/n.slidesPerView,n.roundLengths&&(U=Math.floor(U)),p[z]&&(p[z].style[e.getDirectionLabel("width")]=`${U}px`);p[z]&&(p[z].swiperSlideSize=U),y.push(U),n.centeredSlides?(C=C+U/2+M/2+I,M===0&&z!==0&&(C=C-s/2-I),z===0&&(C=C-s/2-I),Math.abs(C)<1/1e3&&(C=0),n.roundLengths&&(C=Math.floor(C)),A%n.slidesPerGroup===0&&m.push(C),v.push(C)):(n.roundLengths&&(C=Math.floor(C)),(A-Math.min(e.params.slidesPerGroupSkip,A))%e.params.slidesPerGroup===0&&m.push(C),v.push(C),C=C+U+I),e.virtualSize+=U+I,M=U,A+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+w,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${e.virtualSize+I}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+I}px`),j&&e.grid.updateWrapperSize(U,m),!n.centeredSlides){const z=[];for(let L=0;L<m.length;L+=1){let q=m[L];n.roundLengths&&(q=Math.floor(q)),m[L]<=e.virtualSize-s&&z.push(q)}m=z,Math.floor(e.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-s)}if(c&&n.loop){const z=y[0]+I;if(n.slidesPerGroup>1){const L=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),q=z*n.slidesPerGroup;for(let ee=0;ee<L;ee+=1)m.push(m[m.length-1]+q)}for(let L=0;L<e.virtual.slidesBefore+e.virtual.slidesAfter;L+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+z),v.push(v[v.length-1]+z),e.virtualSize+=z}if(m.length===0&&(m=[0]),I!==0){const z=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");p.filter((L,q)=>!n.cssMode||n.loop?!0:q!==p.length-1).forEach(L=>{L.style[z]=`${I}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let z=0;y.forEach(q=>{z+=q+(I||0)}),z-=I;const L=z-s;m=m.map(q=>q<=0?-_:q>L?L+w:q)}if(n.centerInsufficientSlides){let z=0;if(y.forEach(L=>{z+=L+(I||0)}),z-=I,z<s){const L=(s-z)/2;m.forEach((q,ee)=>{m[ee]=q-L}),v.forEach((q,ee)=>{v[ee]=q+L})}}if(Object.assign(e,{slides:p,snapGrid:m,slidesGrid:v,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){gd(r,"--swiper-centered-offset-before",`${-m[0]}px`),gd(r,"--swiper-centered-offset-after",`${e.size/2-y[y.length-1]/2}px`);const z=-e.snapGrid[0],L=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(q=>q+z),e.slidesGrid=e.slidesGrid.map(q=>q+L)}if(f!==h&&e.emit("slidesLengthChange"),m.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==k&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const z=`${n.containerModifierClass}backface-hidden`,L=e.el.classList.contains(z);f<=n.maxBackfaceHiddenSlides?L||e.el.classList.add(z):L&&e.el.classList.remove(z)}}function $Y(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const a=l=>r?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const l=t.activeIndex+s;if(l>t.slides.length&&!r)break;n.push(a(l))}else n.push(a(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function jY(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function BY(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:s}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-e;i&&(a=e),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const h=r[c];let p=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=r[0].swiperSlideOffset);const f=(a+(n.centeredSlides?t.minTranslate():0)-p)/(h.swiperSlideSize+l),m=(a-s[0]+(n.centeredSlides?t.minTranslate():0)-p)/(h.swiperSlideSize+l),v=-(a-p),y=v+t.slidesSizesGrid[c],_=v>=0&&v<=t.size-t.slidesSizesGrid[c];(v>=0&&v<t.size-1||y>1&&y<=t.size||v<=0&&y>=t.size)&&(t.visibleSlides.push(h),t.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),_&&r[c].classList.add(n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-m:m}}function HY(e){const t=this;if(typeof e>"u"){const p=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*p||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:l}=t;const c=s,h=a;if(r===0)i=0,s=!0,a=!0;else{i=(e-t.minTranslate())/r;const p=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;s=p||i<=0,a=f||i>=1,p&&(i=0),f&&(i=1)}if(n.loop){const p=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[p],v=t.slidesGrid[f],y=t.slidesGrid[t.slidesGrid.length-1],_=Math.abs(e);_>=m?l=(_-m)/y:l=(_+y-v)/y,l>1&&(l-=1)}Object.assign(t,{progress:i,progressLoop:l,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!c&&t.emit("reachBeginning toEdge"),a&&!h&&t.emit("reachEnd toEdge"),(c&&!s||h&&!a)&&t.emit("fromEdge"),t.emit("progress",i)}function GY(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:i}=e,s=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,l=f=>Bi(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];t.forEach(f=>{f.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,h,p;if(s)if(n.loop){let f=i-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else a?(c=t.filter(f=>f.column===i)[0],p=t.filter(f=>f.column===i+1)[0],h=t.filter(f=>f.column===i-1)[0]):c=t[i];c&&(c.classList.add(n.slideActiveClass),a?(p&&p.classList.add(n.slideNextClass),h&&h.classList.add(n.slidePrevClass)):(p=CY(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p&&(p=t[0]),p&&p.classList.add(n.slideNextClass),h=kY(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=t[t.length-1]),h&&h.classList.add(n.slidePrevClass))),e.emitSlidesClasses()}const Dd=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){let i=r.querySelector(`.${e.params.lazyPreloaderClass}`);!i&&e.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Uy=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},s_=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const a=i,l=[a-t];l.push(...Array.from({length:t}).map((c,h)=>a+r+h)),e.slides.forEach((c,h)=>{l.includes(c.column)&&Uy(e,h)});return}const s=i+r-1;if(e.params.rewind||e.params.loop)for(let a=i-t;a<=s+t;a+=1){const l=(a%n+n)%n;(l<i||l>s)&&Uy(e,l)}else for(let a=Math.max(i-t,0);a<=Math.min(s+t,n-1);a+=1)a!==i&&(a>s||a<i)&&Uy(e,a)};function zY(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let i;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?r>=t[s]&&r<t[s+1]-(t[s+1]-t[s])/2?i=s:r>=t[s]&&r<t[s+1]&&(i=s+1):r>=t[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function qY(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:l}=t;let c=e,h;const p=v=>{let y=v-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof c>"u"&&(c=zY(t)),r.indexOf(n)>=0)h=r.indexOf(n);else{const v=Math.min(i.slidesPerGroupSkip,c);h=v+Math.floor((c-v)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),c===s&&!t.params.loop){h!==l&&(t.snapIndex=h,t.emit("snapIndexChange"));return}if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=p(c);return}const f=t.grid&&i.grid&&i.grid.rows>1;let m;if(t.virtual&&i.virtual.enabled&&i.loop)m=p(c);else if(f){const v=t.slides.filter(_=>_.column===c)[0];let y=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(v),0)),m=Math.floor(y/i.grid.rows)}else if(t.slides[c]){const v=t.slides[c].getAttribute("data-swiper-slide-index");v?m=parseInt(v,10):m=c}else m=c;Object.assign(t,{previousSnapIndex:l,snapIndex:h,previousRealIndex:a,realIndex:m,previousIndex:s,activeIndex:c}),t.initialized&&s_(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==m&&t.emit("realIndexChange"),t.emit("slideChange"))}function WY(e,t){const n=this,r=n.params;let i=e.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,a;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,a=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var KY={updateSize:UY,updateSlides:VY,updateAutoHeight:$Y,updateSlidesOffset:jY,updateSlidesProgress:BY,updateProgress:HY,updateSlidesClasses:GY,updateActiveIndex:qY,updateClickedSlide:WY};function YY(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=t;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=AY(s,e);return a+=t.cssOverflowAdjustment(),r&&(a=-a),a||0}function XY(e,t){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let l=0,c=0;const h=0;n.isHorizontal()?l=r?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${c}px, ${h}px)`);let p;const f=n.maxTranslate()-n.minTranslate();f===0?p=0:p=(e-n.minTranslate())/f,p!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function JY(){return-this.snapGrid[0]}function QY(){return-this.snapGrid[this.snapGrid.length-1]}function ZY(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),h=s.maxTranslate();let p;if(r&&e>c?p=c:r&&e<h?p=h:p=e,s.updateProgress(p),a.cssMode){const f=s.isHorizontal();if(t===0)l[f?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return rR({swiper:s,targetPosition:-p,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-p,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var e7={getTranslate:YY,setTranslate:XY,minTranslate:JY,maxTranslate:QY,translateTo:ZY};function t7(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function sR(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:s,previousIndex:a}=t;let l=r;if(l||(s>a?l="next":s<a?l="prev":l="reset"),t.emit(`transition${i}`),n&&s!==a){if(l==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function n7(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),sR({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function r7(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),sR({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var i7={setTransition:t7,transitionStart:n7,transitionEnd:r7};function o7(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let a=e;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:h,previousIndex:p,activeIndex:f,rtlTranslate:m,wrapperEl:v,enabled:y}=s;if(s.animating&&l.preventInteractionOnTransition||!y&&!r&&!i||s.destroyed)return!1;const _=Math.min(s.params.slidesPerGroupSkip,a);let w=_+Math.floor((a-_)/s.params.slidesPerGroup);w>=c.length&&(w=c.length-1);const E=-c[w];if(l.normalizeSlideIndex)for(let I=0;I<h.length;I+=1){const C=-Math.floor(E*100),M=Math.floor(h[I]*100),A=Math.floor(h[I+1]*100);typeof h[I+1]<"u"?C>=M&&C<A-(A-M)/2?a=I:C>=M&&C<A&&(a=I+1):C>=M&&(a=I)}if(s.initialized&&a!==f&&(!s.allowSlideNext&&(m?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(f||0)!==a))return!1;a!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let k;if(a>f?k="next":a<f?k="prev":k="reset",m&&-E===s.translate||!m&&E===s.translate)return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(E),k!=="reset"&&(s.transitionStart(n,k),s.transitionEnd(n,k)),!1;if(l.cssMode){const I=s.isHorizontal(),C=m?E:-E;if(t===0){const M=s.virtual&&s.params.virtual.enabled;M&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),M&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[I?"scrollLeft":"scrollTop"]=C})):v[I?"scrollLeft":"scrollTop"]=C,M&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return rR({swiper:s,targetPosition:C,side:I?"left":"top"}),!0;v.scrollTo({[I?"left":"top"]:C,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(E),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,k),t===0?s.transitionEnd(n,k):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,k))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function s7(e,t,n,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;if(i.destroyed)return;const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let l;if(s){const m=a*i.params.grid.rows;l=i.slides.filter(v=>v.getAttribute("data-swiper-slide-index")*1===m)[0].column}else l=i.getSlideIndexByData(a);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let p=i.params.slidesPerView;p==="auto"?p=i.slidesPerViewDynamic():(p=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&p%2===0&&(p=p+1));let f=c-l<p;if(h&&(f=f||l<Math.ceil(p/2)),f){const m=h?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-c+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(s){const m=a*i.params.grid.rows;a=i.slides.filter(v=>v.getAttribute("data-swiper-slide-index")*1===m)[0].column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,t,n,r)}),i}function a7(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:l,h=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!h&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,e,t,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)}function u7(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:c,animating:h}=r;if(!c||r.destroyed)return r;const p=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!p&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function m(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const v=m(f),y=s.map(E=>m(E));let _=s[y.indexOf(v)-1];if(typeof _>"u"&&i.cssMode){let E;s.forEach((k,I)=>{v>=k&&(E=I)}),typeof E<"u"&&(_=s[E>0?E-1:E])}let w=0;if(typeof _<"u"&&(w=a.indexOf(_),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,e,t,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,e,t,n)}),!0;return r.slideTo(w,e,t,n)}function l7(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,e,t,n)}function c7(e,t,n,r){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const h=i.snapGrid[l],p=i.snapGrid[l+1];c-h>(p-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[l-1],p=i.snapGrid[l];c-h<=(p-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,n)}function f7(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let i=e.clickedIndex,s;const a=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=e.getSlideIndex(Bi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),o_(()=>{e.slideTo(i)})):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=e.getSlideIndex(Bi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),o_(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}var h7={slideTo:o7,slideToLoop:s7,slideNext:a7,slidePrev:u7,slideReset:l7,slideToClosest:c7,slideToClickedSlide:f7};function d7(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{Bi(r,`.${n.slideClass}, swiper-slide`).forEach((f,m)=>{f.setAttribute("data-swiper-slide-index",m)})},s=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),l=t.slides.length%a!==0,c=s&&t.slides.length%n.grid.rows!==0,h=p=>{for(let f=0;f<p;f+=1){const m=t.isElement?xp("swiper-slide",[n.slideBlankClass]):xp("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(m)}};if(l){if(n.loopAddBlankSlides){const p=a-t.slides.length%a;h(p),t.recalcSlides(),t.updateSlides()}else Ap("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(n.loopAddBlankSlides){const p=n.grid.rows-t.slides.length%n.grid.rows;h(p),t.recalcSlides(),t.updateSlides()}else Ap("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function p7(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:a,byMousewheel:l}=e===void 0?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:h,allowSlidePrev:p,allowSlideNext:f,slidesEl:m,params:v}=c,{centeredSlides:y}=v;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&v.virtual.enabled){n&&(!v.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):v.centeredSlides&&c.snapIndex<v.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=p,c.allowSlideNext=f,c.emit("loopFix");return}let _=v.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(v.slidesPerView,10)),y&&_%2===0&&(_=_+1));const w=v.slidesPerGroupAuto?_:v.slidesPerGroup;let E=w;E%w!==0&&(E+=w-E%w),E+=v.loopAdditionalSlides,c.loopedSlides=E;const k=c.grid&&v.grid&&v.grid.rows>1;h.length<_+E?Ap("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):k&&v.grid.fill==="row"&&Ap("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],C=[];let M=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(h.filter(ee=>ee.classList.contains(v.slideActiveClass))[0]):M=s;const A=r==="next"||!r,j=r==="prev"||!r;let U=0,P=0;const z=k?Math.ceil(h.length/v.grid.rows):h.length,q=(k?h[s].column:s)+(y&&typeof i>"u"?-_/2+.5:0);if(q<E){U=Math.max(E-q,w);for(let ee=0;ee<E-q;ee+=1){const Te=ee-Math.floor(ee/z)*z;if(k){const xe=z-Te-1;for(let ie=h.length-1;ie>=0;ie-=1)h[ie].column===xe&&I.push(ie)}else I.push(z-Te-1)}}else if(q+_>z-E){P=Math.max(q-(z-E*2),w);for(let ee=0;ee<P;ee+=1){const Te=ee-Math.floor(ee/z)*z;k?h.forEach((xe,ie)=>{xe.column===Te&&C.push(ie)}):C.push(Te)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),j&&I.forEach(ee=>{h[ee].swiperLoopMoveDOM=!0,m.prepend(h[ee]),h[ee].swiperLoopMoveDOM=!1}),A&&C.forEach(ee=>{h[ee].swiperLoopMoveDOM=!0,m.append(h[ee]),h[ee].swiperLoopMoveDOM=!1}),c.recalcSlides(),v.slidesPerView==="auto"?c.updateSlides():k&&(I.length>0&&j||C.length>0&&A)&&c.slides.forEach((ee,Te)=>{c.grid.updateSlide(Te,ee,c.slides)}),v.watchSlidesProgress&&c.updateSlidesOffset(),n){if(I.length>0&&j){if(typeof t>"u"){const ee=c.slidesGrid[M],xe=c.slidesGrid[M+U]-ee;l?c.setTranslate(c.translate-xe):(c.slideTo(M+Math.ceil(U),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-xe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-xe))}else if(i){const ee=k?I.length/v.grid.rows:I.length;c.slideTo(c.activeIndex+ee,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(C.length>0&&A)if(typeof t>"u"){const ee=c.slidesGrid[M],xe=c.slidesGrid[M-P]-ee;l?c.setTranslate(c.translate-xe):(c.slideTo(M-P,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-xe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-xe))}else{const ee=k?C.length/v.grid.rows:C.length;c.slideTo(c.activeIndex-ee,0,!1,!0)}}if(c.allowSlidePrev=p,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const ee={slideRealIndex:t,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(Te=>{!Te.destroyed&&Te.params.loop&&Te.loopFix({...ee,slideTo:Te.params.slidesPerView===v.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...ee,slideTo:c.controller.control.params.slidesPerView===v.slidesPerView?n:!1})}c.emit("loopFix")}function m7(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),e.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var g7={loopCreate:d7,loopFix:p7,loopDestroy:m7};function v7(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function y7(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var b7={setGrabCursor:v7,unsetGrabCursor:y7};function _7(e,t){t===void 0&&(t=this);function n(r){if(!r||r===Al()||r===Yr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(e);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(t)}function Zx(e,t,n){const r=Yr(),{params:i}=e,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function w7(e){const t=this,n=Al();let r=e;r.originalEvent&&(r=r.originalEvent);const i=t.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Zx(t,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=t;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",p=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&p&&(c=p[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?_7(f,c):c.closest(f))){t.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const v=a.currentX,y=a.currentY;if(!Zx(t,r,v))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=y,i.touchStartTime=Ip(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let _=!0;c.matches(i.focusableElements)&&(_=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const w=_&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function E7(e){const t=Al(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:l}=n;if(!l||!i.simulateTouch&&e.pointerType==="mouse")return;let c=e;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let h;if(c.type==="touchmove"){if(h=[...c.changedTouches].filter(A=>A.identifier===r.touchId)[0],!h||h.identifier!==r.touchId)return}else h=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const p=h.pageX,f=h.pageY;if(c.preventedByNestedSwiper){s.startX=p,s.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:p,startY:f,currentX:p,currentY:f}),r.touchStartTime=Ip());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(p<s.startX&&n.translate<=n.maxTranslate()||p>s.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=p,s.currentY=f;const m=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(m**2+v**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let A;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+v*v>=25&&(A=Math.atan2(Math.abs(v),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?A>i.touchAngle:90-A>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let y=n.isHorizontal()?m:v,_=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(y=Math.abs(y)*(a?1:-1),_=Math.abs(_)*(a?1:-1)),s.diff=y,y*=i.touchRatio,a&&(y=-y,_=-_);const w=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=_>0?"prev":"next";const E=n.params.loop&&!i.cssMode,k=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&k&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(A)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let I;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&E&&k&&Math.abs(y)>=1){Object.assign(s,{startX:p,startY:f,currentX:p,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let C=!0,M=i.resistanceRatio;if(i.touchReleaseOnEdges&&(M=0),y>0?(E&&k&&!I&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**M))):y<0&&(E&&k&&!I&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**M))),C&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function T7(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(M=>M.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:h,enabled:p}=t;if(!p||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=Ip(),m=f-n.touchStartTime;if(t.allowClick){const M=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(M&&M[0]||r.target,M),t.emit("tap click",r),m<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Ip(),o_(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(a.followFinger?v=c?t.translate:-t.translate:v=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}const y=v>=-t.maxTranslate()&&!t.params.loop;let _=0,w=t.slidesSizesGrid[0];for(let M=0;M<h.length;M+=M<a.slidesPerGroupSkip?1:a.slidesPerGroup){const A=M<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[M+A]<"u"?(y||v>=h[M]&&v<h[M+A])&&(_=M,w=h[M+A]-h[M]):(y||v>=h[M])&&(_=M,w=h[h.length-1]-h[h.length-2])}let E=null,k=null;a.rewind&&(t.isBeginning?k=a.virtual&&a.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(E=0));const I=(v-h[_])/w,C=_<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(m>a.longSwipesMs){if(!a.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(I>=a.longSwipesRatio?t.slideTo(a.rewind&&t.isEnd?E:_+C):t.slideTo(_)),t.swipeDirection==="prev"&&(I>1-a.longSwipesRatio?t.slideTo(_+C):k!==null&&I<0&&Math.abs(I)>a.longSwipesRatio?t.slideTo(k):t.slideTo(_))}else{if(!a.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(_+C):t.slideTo(_):(t.swipeDirection==="next"&&t.slideTo(E!==null?E:_+C),t.swipeDirection==="prev"&&t.slideTo(k!==null?k:_))}}function ek(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function S7(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function I7(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let i;const s=e.maxTranslate()-e.minTranslate();s===0?i=0:i=(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function A7(e){const t=this;Dd(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function x7(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const aR=(e,t)=>{const n=Al(),{params:r,el:i,wrapperEl:s,device:a}=e,l=!!r.nested,c=t==="on"?"addEventListener":"removeEventListener",h=t;n[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",e.onTouchStart,{passive:!1}),i[c]("pointerdown",e.onTouchStart,{passive:!1}),n[c]("touchmove",e.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",e.onTouchEnd,{passive:!0}),n[c]("pointerup",e.onTouchEnd,{passive:!0}),n[c]("pointercancel",e.onTouchEnd,{passive:!0}),n[c]("touchcancel",e.onTouchEnd,{passive:!0}),n[c]("pointerout",e.onTouchEnd,{passive:!0}),n[c]("pointerleave",e.onTouchEnd,{passive:!0}),n[c]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",e.onClick,!0),r.cssMode&&s[c]("scroll",e.onScroll),r.updateOnWindowResize?e[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",ek,!0):e[h]("observerUpdate",ek,!0),i[c]("load",e.onLoad,{capture:!0})};function k7(){const e=this,{params:t}=e;e.onTouchStart=w7.bind(e),e.onTouchMove=E7.bind(e),e.onTouchEnd=T7.bind(e),e.onDocumentTouchStart=x7.bind(e),t.cssMode&&(e.onScroll=I7.bind(e)),e.onClick=S7.bind(e),e.onLoad=A7.bind(e),aR(e,"on")}function C7(){aR(this,"off")}var N7={attachEvents:k7,detachEvents:C7};const tk=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function O7(){const e=this,{realIndex:t,initialized:n,params:r,el:i}=e,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||e.originalParams,h=tk(e,r),p=tk(e,c),f=r.enabled;h&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof c[E]>"u")return;const k=r[E]&&r[E].enabled,I=c[E]&&c[E].enabled;k&&!I&&e[E].disable(),!k&&I&&e[E].enable()});const m=c.direction&&c.direction!==r.direction,v=r.loop&&(c.slidesPerView!==r.slidesPerView||m),y=r.loop;m&&n&&e.changeDirection(),Dr(e.params,c);const _=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!_?e.disable():!f&&_&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",c),n&&(v?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!y&&w?(e.loopCreate(t),e.updateSlides()):y&&!w&&e.loopDestroy()),e.emit("breakpoint",c)}function P7(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const i=Yr(),s=t==="window"?i.innerHeight:n.clientHeight,a=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:s*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:h}=a[l];t==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=c):h<=n.clientWidth&&(r=c)}return r||"max"}var L7={setBreakpoint:O7,getBreakpoint:P7};function R7(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(t+i)}):typeof r=="string"&&n.push(t+r)}),n}function D7(){const e=this,{classNames:t,params:n,rtl:r,el:i,device:s}=e,a=R7(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),i.classList.add(...t),e.emitContainerClasses()}function M7(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var F7={addClasses:D7,removeClasses:M7};function U7(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const i=e.slides.length-1,s=e.slidesGrid[i]+e.slidesSizesGrid[i]+r*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var V7={checkOverflow:U7},a_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function $7(e,t){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Dr(t,r);return}if(e[i]===!0&&(e[i]={enabled:!0}),i==="navigation"&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),!(i in e&&"enabled"in s)){Dr(t,r);return}typeof e[i]=="object"&&!("enabled"in e[i])&&(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),Dr(t,r)}}const Vy={eventsEmitter:FY,update:KY,translate:e7,transition:i7,slide:h7,loop:g7,grabCursor:b7,events:N7,breakpoints:L7,checkOverflow:V7,classes:F7},$y={};let Lw=class lo{constructor(){let t,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=Dr({},n),t&&!n.el&&(n.el=t);const a=Al();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const p=[];return a.querySelectorAll(n.el).forEach(f=>{const m=Dr({},n,{el:f});p.push(new lo(m))}),p}const l=this;l.__swiper__=!0,l.support=iR(),l.device=oR({userAgent:n.userAgent}),l.browser=RY(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(p=>{p({params:n,swiper:l,extendParams:$7(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const h=Dr({},a_,c);return l.params=Dr({},h,$y,n),l.originalParams=Dr({},l.params),l.passedParams=Dr({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(p=>{l.on(p,l.params.on[p])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,i=Bi(n,`.${r.slideClass}, swiper-slide`),s=Jx(i[0]);return Jx(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=Bi(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*t+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const i=t.getSlideClasses(r);n.push({slideEl:r,classNames:i}),t.emit("_slideClass",r,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:h}=r;let p=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[h]?Math.ceil(s[h].swiperSlideSize):0,m;for(let v=h+1;v<s.length;v+=1)s[v]&&!m&&(f+=Math.ceil(s[v].swiperSlideSize),p+=1,f>c&&(m=!0));for(let v=h-1;v>=0;v-=1)s[v]&&!m&&(f+=s[v].swiperSlideSize,p+=1,f>c&&(m=!0))}else if(t==="current")for(let f=h+1;f<s.length;f+=1)(n?a[f]+l[f]-a[h]<c:a[f]-a[h]<c)&&(p+=1);else for(let f=h-1;f>=0;f-=1)a[h]-a[f]<c&&(p+=1);return p}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Dd(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const a=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const a=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(a.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Bi(r,i())[0];return!a&&n.params.createElements&&(a=xp("div",n.params.wrapperClass),r.append(a),Bi(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||is(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||is(r,"direction")==="rtl"),wrongRTL:is(a,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Dd(n,s):s.addEventListener("load",a=>{Dd(n,a.target)})}),s_(n),n.initialized=!0,s_(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),t!==!1&&(r.el.swiper=null,SY(r)),r.destroyed=!0),null}static extendDefaults(t){Dr($y,t)}static get extendedDefaults(){return $y}static get defaults(){return a_}static installModule(t){lo.prototype.__modules__||(lo.prototype.__modules__=[]);const n=lo.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>lo.installModule(n)),lo):(lo.installModule(t),lo)}};Object.keys(Vy).forEach(e=>{Object.keys(Vy[e]).forEach(t=>{Lw.prototype[t]=Vy[e][t]})});Lw.use([DY,MY]);const uR=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function La(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function $u(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:La(t[r])&&La(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:$u(e[r],t[r]):e[r]=t[r]})}function lR(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function cR(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function fR(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function hR(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function j7(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function B7(e){let{swiper:t,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:l,paginationEl:c}=e;const h=i.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:p,pagination:f,navigation:m,scrollbar:v,virtual:y,thumbs:_}=t;let w,E,k,I,C,M,A,j;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(E=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(p.pagination||p.pagination===!1)&&f&&!f.el&&(k=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&v&&!v.el&&(I=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(p.navigation||p.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(C=!0);const U=P=>{t[P]&&(t[P].destroy(),P==="navigation"?(t.isElement&&(t[P].prevEl.remove(),t[P].nextEl.remove()),p[P].prevEl=void 0,p[P].nextEl=void 0,t[P].prevEl=void 0,t[P].nextEl=void 0):(t.isElement&&t[P].el.remove(),p[P].el=void 0,t[P].el=void 0))};i.includes("loop")&&t.isElement&&(p.loop&&!r.loop?M=!0:!p.loop&&r.loop?A=!0:j=!0),h.forEach(P=>{if(La(p[P])&&La(r[P]))Object.assign(p[P],r[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in r[P]&&!r[P].enabled&&U(P);else{const z=r[P];(z===!0||z===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?z===!1&&U(P):p[P]=r[P]}}),h.includes("controller")&&!E&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),i.includes("children")&&n&&y&&p.virtual.enabled?(y.slides=n,y.update(!0)):i.includes("virtual")&&y&&p.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),i.includes("children")&&n&&p.loop&&(j=!0),w&&_.init()&&_.update(!0),E&&(t.controller.control=p.controller.control),k&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(p.pagination.el=c),f.init(),f.render(),f.update()),I&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(p.scrollbar.el=l),v.init(),v.updateSize(),v.setTranslate()),C&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=t.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),t.el.appendChild(a))),s&&(p.navigation.nextEl=s),a&&(p.navigation.prevEl=a),m.init(),m.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&t.changeDirection(r.direction,!1),(M||j)&&t.loopDestroy(),(A||j)&&t.loopCreate(),t.update()}function nk(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},i={};$u(n,a_),n._emitClasses=!0,n.init=!1;const s={},a=uR.map(c=>c.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(c=>{typeof e[c]>"u"||(a.indexOf(c)>=0?La(e[c])?(n[c]={},i[c]={},$u(n[c],e[c]),$u(i[c],e[c])):(n[c]=e[c],i[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?r[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:s[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function H7(e,t){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:l}=e;lR(t)&&r&&i&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),cR(t)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),fR(t)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function G7(e,t,n,r,i){const s=[];if(!t)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),h=n.map(i);c.join("")!==h.join("")&&a("children"),r.length!==n.length&&a("children")}return uR.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(La(e[c])&&La(t[c])){const h=Object.keys(e[c]),p=Object.keys(t[c]);h.length!==p.length?a(c):(h.forEach(f=>{e[c][f]!==t[c][f]&&a(c)}),p.forEach(f=>{e[c][f]!==t[c][f]&&a(c)}))}else e[c]!==t[c]&&a(c)}),s}const z7=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function jy(e,t,n){e===void 0&&(e={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},s=(a,l)=>{Array.isArray(a)&&a.forEach(c=>{const h=typeof c.type=="symbol";l==="default"&&(l="container-end"),h&&c.children?s(c.children,l):c.type&&(c.type.name==="SwiperSlide"||c.type.name==="AsyncComponentWrapper")?r.push(c):i[l]&&i[l].push(c)})};return Object.keys(e).forEach(a=>{if(typeof e[a]!="function")return;const l=e[a]();s(l,a)}),n.value=t.value,t.value=r,{slides:r,slots:i}}function q7(e,t,n){if(!n)return null;const r=p=>{let f=p;return p<0?f=t.length+p:f>=t.length&&(f=f-t.length),f},i=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,l=e.value.params.loop?-t.length:0,c=e.value.params.loop?t.length*2:t.length,h=[];for(let p=l;p<c;p+=1)p>=s&&p<=a&&h.push(t[r(p)]);return h.map(p=>(p.props||(p.props={}),p.props.style||(p.props.style={}),p.props.swiperRef=e,p.props.style=i,mn(p.type,{...p.props},p.children)))}const W7={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:n,emit:r}=t;const{tag:i,wrapperTag:s}=e,a=ot("swiper"),l=ot(null),c=ot(!1),h=ot(!1),p=ot(null),f=ot(null),m=ot(null),v={value:[]},y={value:[]},_=ot(null),w=ot(null),E=ot(null),k=ot(null),{params:I,passedParams:C}=nk(e,!1);jy(n,v,y),m.value=C,y.value=v.value;const M=()=>{jy(n,v,y),c.value=!0};I.onAny=function(U){for(var P=arguments.length,z=new Array(P>1?P-1:0),L=1;L<P;L++)z[L-1]=arguments[L];r(U,...z)},Object.assign(I.on,{_beforeBreakpoint:M,_containerClasses(U,P){a.value=P}});const A={...I};if(delete A.wrapperClass,f.value=new Lw(A),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=v.value;const U={cache:!1,slides:v.value,renderExternal:P=>{l.value=P},renderExternalUpdate:!1};$u(f.value.params.virtual,U),$u(f.value.originalParams.virtual,U)}U_(()=>{!h.value&&f.value&&(f.value.emitSlidesClasses(),h.value=!0);const{passedParams:U}=nk(e,!1),P=G7(U,m.value,v.value,y.value,z=>z.props&&z.props.key);m.value=U,(P.length||c.value)&&f.value&&!f.value.destroyed&&B7({swiper:f.value,slides:v.value,passedParams:U,changedParams:P,nextEl:_.value,prevEl:w.value,scrollbarEl:k.value,paginationEl:E.value}),c.value=!1}),cs("swiper",f),Kn(l,()=>{or(()=>{z7(f.value)})}),Fa(()=>{p.value&&(H7({el:p.value,nextEl:_.value,prevEl:w.value,paginationEl:E.value,scrollbarEl:k.value,swiper:f.value},I),r("swiper",f.value))}),Tf(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function j(U){return I.virtual?q7(f,U,l.value):(U.forEach((P,z)=>{P.props||(P.props={}),P.props.swiperRef=f,P.props.swiperSlideIndex=z}),U)}return()=>{const{slides:U,slots:P}=jy(n,v,y);return mn(i,{ref:p,class:hR(a.value)},[P["container-start"],mn(s,{class:j7(I.wrapperClass)},[P["wrapper-start"],j(U),P["wrapper-end"]]),lR(e)&&[mn("div",{ref:w,class:"swiper-button-prev"}),mn("div",{ref:_,class:"swiper-button-next"})],fR(e)&&mn("div",{ref:k,class:"swiper-scrollbar"}),cR(e)&&mn("div",{ref:E,class:"swiper-pagination"}),P["container-end"]])}}},K7={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,r=!1;const{swiperRef:i}=e,s=ot(null),a=ot("swiper-slide"),l=ot(!1);function c(f,m,v){m===s.value&&(a.value=v)}Fa(()=>{!i||!i.value||(i.value.on("_slideClass",c),r=!0)}),oC(()=>{r||!i||!i.value||(i.value.on("_slideClass",c),r=!0)}),U_(()=>{!s.value||!i||!i.value||(typeof e.swiperSlideIndex<"u"&&(s.value.swiperSlideIndex=e.swiperSlideIndex),i.value.destroyed&&a.value!=="swiper-slide"&&(a.value="swiper-slide"))}),Tf(()=>{!i||!i.value||i.value.off("_slideClass",c)});const h=He(()=>({isActive:a.value.indexOf("swiper-slide-active")>=0,isVisible:a.value.indexOf("swiper-slide-visible")>=0,isPrev:a.value.indexOf("swiper-slide-prev")>=0,isNext:a.value.indexOf("swiper-slide-next")>=0}));cs("swiperSlide",h);const p=()=>{l.value=!0};return()=>mn(e.tag,{class:hR(`${a.value}`),ref:s,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:p},e.zoom?mn("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[n.default&&n.default(h.value),e.lazy&&!l.value&&mn("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(h.value),e.lazy&&!l.value&&mn("div",{class:"swiper-lazy-preloader"})])}};function Y7(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Bi(e.el,`.${r[i]}`)[0];s||(s=xp("div",r[i]),s.className=r[i],e.el.append(s)),n[i]=s,t[i]=s}}),n}function X7(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(y){let _;return y&&typeof y=="string"&&t.isElement&&(_=t.el.querySelector(y),_)?_:(y&&(typeof y=="string"&&(_=[...document.querySelectorAll(y)]),t.params.uniqueNavElements&&typeof y=="string"&&_.length>1&&t.el.querySelectorAll(y).length===1&&(_=t.el.querySelector(y))),y&&!_?y:_)}function a(y,_){const w=t.params.navigation;y=uo(y),y.forEach(E=>{E&&(E.classList[_?"add":"remove"](...w.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=_),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](w.lockClass))})}function l(){const{nextEl:y,prevEl:_}=t.navigation;if(t.params.loop){a(_,!1),a(y,!1);return}a(_,t.isBeginning&&!t.params.rewind),a(y,t.isEnd&&!t.params.rewind)}function c(y){y.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function h(y){y.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const y=t.params.navigation;if(t.params.navigation=Y7(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let _=s(y.nextEl),w=s(y.prevEl);Object.assign(t.navigation,{nextEl:_,prevEl:w}),_=uo(_),w=uo(w);const E=(k,I)=>{k&&k.addEventListener("click",I==="next"?h:c),!t.enabled&&k&&k.classList.add(...y.lockClass.split(" "))};_.forEach(k=>E(k,"next")),w.forEach(k=>E(k,"prev"))}function f(){let{nextEl:y,prevEl:_}=t.navigation;y=uo(y),_=uo(_);const w=(E,k)=>{E.removeEventListener("click",k==="next"?h:c),E.classList.remove(...t.params.navigation.disabledClass.split(" "))};y.forEach(E=>w(E,"next")),_.forEach(E=>w(E,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?v():(p(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:y,prevEl:_}=t.navigation;if(y=uo(y),_=uo(_),t.enabled){l();return}[...y,..._].filter(w=>!!w).forEach(w=>w.classList.add(t.params.navigation.lockClass))}),r("click",(y,_)=>{let{nextEl:w,prevEl:E}=t.navigation;w=uo(w),E=uo(E);const k=_.target;if(t.params.navigation.hideOnClick&&!E.includes(k)&&!w.includes(k)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===k||t.pagination.el.contains(k)))return;let I;w.length?I=w[0].classList.contains(t.params.navigation.hiddenClass):E.length&&(I=E[0].classList.contains(t.params.navigation.hiddenClass)),i(I===!0?"navigationShow":"navigationHide"),[...w,...E].filter(C=>!!C).forEach(C=>C.classList.toggle(t.params.navigation.hiddenClass))}});const m=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),l()},v=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:m,disable:v,update:l,init:p,destroy:f})}const ai=Ua("albumInfo",{state:()=>({albumInfo:{},albumMakeTemp:{albumID:"",albumDesc:"",albumImg:"",albumName:"",albumSinger:"",albumSingerDesc:"",albumSingerImg:"",albumGenre:"Acoustic",albumUploadSingnerImgFile:{},albumUploadAlbumImgFile:{}},albumEditTemp:{isLoading:!1,isRelease:!1,albumID:"",albumDesc:"",albumImg:"",albumName:"",albumSinger:"",albumSingerDesc:"",albumSingerImg:"",albumGenre:"",albumSongs:[],albumUploadSingnerImgFile:{},albumUploadAlbumImgFile:{}}}),actions:{initalbumMakeTemp(){this.albumMakeTemp.albumDesc="",this.albumMakeTemp.albumID="",this.albumMakeTemp.albumGenre="Acoustic",this.albumMakeTemp.albumImg="",this.albumMakeTemp.albumName="",this.albumMakeTemp.albumDesc="",this.albumMakeTemp.albumSingerDesc="",this.albumMakeTemp.albumUploadSingnerImgFile={},this.albumMakeTemp.albumUploadAlbumImgFile={}},initalbumEditTemp(){this.albumEditTemp.isLoading=!1,this.albumEditTemp.albumDesc="",this.albumEditTemp.albumSinger="",this.albumEditTemp.albumID="",this.albumEditTemp.albumGenre="",this.albumEditTemp.albumImg="",this.albumEditTemp.albumName="",this.albumEditTemp.albumDesc="",this.albumEditTemp.albumSingerDesc="",this.albumEditTemp.albumSingerImg="",this.albumEditTemp.isRelease=!1,this.albumEditTemp.albumSongs=[],this.albumEditTemp.albumUploadSingnerImgFile={},this.albumEditTemp.albumUploadAlbumImgFile={}}}}),J7={data(){return{modules:[X7],albums:[],isfundraising:!1}},props:{gener:{type:String,required:!0}},computed:{...ln(ai,["albumInfo"]),...Mt(ai,["albumInfo"])},methods:{async getAlbums(){const e=this.gener.toLowerCase();try{let n=(await si.doc(e).get()).data().items;if(n.length===0)return;if(e==="fundraising"){let r=n.sort((i,s)=>s.createdAt-i.createdAt).filter(i=>i.isRelease===!0);this.albums=r,this.isfundraising=!0}else this.albums=n}catch(t){console.error("Error adding album:",t)}},signerName(e,t="",n=!1){return t==="member_fundraising"?qC(e,t,n):Y_(e)},albumName(e,t,n){return t==="member_fundraising"?WC(e,t,n):zC(e)}},components:{Swiper:W7,SwiperSlide:K7,albumsCollection:si},beforeMount(){this.getAlbums()}},Q7={class:"mt-3"},Z7=["src"];function eX(e,t,n,r,i,s){const a=De("router-link"),l=De("swiper-slide"),c=De("swiper");return me(),_e("div",Q7,[ae(c,{slidesPerView:2.5,spaceBetween:10,navigation:!0,modules:i.modules,breakpoints:{768:{slidesPerView:7.5,spaceBetween:20}}},{default:Wn(()=>[(me(!0),_e(vt,null,qi(i.albums,(h,p)=>(me(),ms(l,{key:p},{default:Wn(()=>[ae(a,{to:{name:"album",params:{gener:n.gener.toLowerCase(),albumSinger:h.albumSinger}}},{default:Wn(()=>[S("img",{src:h.isRelease?h.albumSingerImg:h.albumImg,alt:"",class:We({"rounded-full":i.isfundraising," rounded-md":!i.isfundraising})},null,10,Z7),S("p",{class:We(["text-sm my-1 font-bold text-zinc-200 w-[130px] truncate overflow-hidden text-center mx-auto",{hidden:i.isfundraising}])}," 《"+K(s.albumName(h.albumName,h.type,h.temp))+"》 ",3),S("p",{class:We(["text-sm font-bold text-zinc-200",{"mt-2":i.isfundraising}])},K(s.signerName(h.albumSinger,h.type,h.temp)),3)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])])}const tX=Nt(J7,[["render",eX]]),nX={props:{gener:{type:String,required:!0}},components:{SwiperSong:tX},computed:{generHead(){const e={America:this.$t("home.america_pop_title"),Kpop:"KPOP",Jpop:"JPOP",Music:this.$t("home.piano_pop_title"),fundraising:this.$t("home.tomorrow_stars_title"),default:this.$t("menu.play_list")}[this.gener];return e||e.default}}},rX={class:"max-w-[1400px] mx-auto pl-2 pb-[35px]"},iX={class:"border-l-[7px] border-rose-500 bg-[#9b27504a] py-1 pl-[15px]"};function oX(e,t,n,r,i,s){const a=De("SwiperSong");return me(),_e("section",rX,[S("h6",iX,K(s.generHead),1),ae(a,{gener:n.gener},null,8,["gener"])])}const sX=Nt(nX,[["render",oX]]),aX={data(){return{isCloseScreen:!1}},computed:{...ln(Ln,["userLoggedIn"]),...Mt(Rc,["isOpen","tab"]),screen(){return this.isCloseScreen?"transform: translate(-100%, 0%);":"transform: translate(0%, 0%);"}},methods:{closeScreen(){this.isCloseScreen=!0,this.$route.meta.requireScreen=!1},toggleAuthModal(){this.isCloseScreen=!0,this.$route.meta.requireScreen=!1,this.isOpen=!this.isOpen,this.tab="register"}},mounted(){this.$route.meta.requireScreen||(this.$refs.sign_in_wrapper.style.display="none"),this.userLoggedIn?(this.isCloseScreen=!0,this.$refs.sign_in_wrapper.style.display="none"):this.isCloseScreen=!1}},dR=e=>(R_("data-v-bf72f997"),e=e(),D_(),e),uX=dR(()=>S("div",{class:"blurBackground"},null,-1)),lX={class:"container"},cX={class:"signInfoBox"},fX=dR(()=>S("ul",{class:"bg-bubbles"},[S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li")],-1));function hX(e,t,n,r,i,s){return me(),_e("div",{ref:"sign_in_wrapper",class:"sign_in_wrapper",style:jr(s.screen)},[uX,S("i",{class:"fas fa-times",onClick:t[0]||(t[0]=qe((...a)=>s.closeScreen&&s.closeScreen(...a),["prevent"]))}),S("div",lX,[S("div",cX,[S("div",{href:"#",class:"get168Btn cursor-pointer",onClick:t[1]||(t[1]=qe((...a)=>s.toggleAuthModal&&s.toggleAuthModal(...a),["prevent"]))},K(e.$t("screen.sign_up_to_singer")),1),S("div",{href:"#",class:"get168Btn cursor-pointer",onClick:t[2]||(t[2]=qe((...a)=>s.closeScreen&&s.closeScreen(...a),["prevent"]))},K(e.$t("screen.browse_site")),1)])]),fX],4)}const dX=Nt(aX,[["render",hX],["__scopeId","data-v-bf72f997"]]),pX={components:{HomeSongPlayZone:wY,HomeSongListZone:sX,toastMessage:Zi,SignScreen:dX}},mX={class:"text-zinc-200 bg-zinc-900 mt-[55px] mb-[90px] relative"};function gX(e,t,n,r,i,s){const a=De("toastMessage"),l=De("SignScreen"),c=De("HomeSongPlayZone"),h=De("HomeSongListZone");return me(),_e("main",mX,[ae(a),ae(l),ae(c),ae(h,{gener:"fundraising"}),ae(h,{gener:"America"}),ae(h,{gener:"Kpop"}),ae(h,{gener:"Jpop"}),ae(h,{gener:"Music"})])}const vX=Nt(pX,[["render",gX]]),yX={data(){return{isCurrentPlaying:!1,toggle:!1,message:"",isFavSong:!1,success:!1}},components:{toastMessage:Zi},props:{songData:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{...ln(Vn,["playing","current_song","pauseCurrentSong"]),...ln(Ln,["userLoggedIn","uid"]),...Mt(Vn,["playingIndex"]),...Mt(Ln,["favSongList"])},methods:{...$n(Vn,["newSong"]),playSong(e){this.newSong(e),this.isCurrentPlaying=!0},addToFav(e){this.userLoggedIn?(this.setFavSongToDatabase(e.docID),this.toggle=!this.toggle,this.success=!0,this.message=this.$t("alertMsg.add_song_to_list",{favsongName:e.modified_name})):(this.toggle=!this.toggle,this.message="該功能需登入才可使用，可免費註冊使用")},async delFormFav(e){try{await Pa.doc(this.uid).update({favSongLists:Fe.firestore.FieldValue.arrayRemove(e.docID)}),this.favSongList=this.favSongList.filter(n=>e.docID!==n),this.isFavSong=!1,this.toggle=!this.toggle,this.success=!0,this.message=this.$t("alertMsg.delete_song_form_play_list",{favsongName:e.modified_name})}catch(t){console.log("error => ",t)}},async setFavSongToDatabase(e){try{await Pa.doc(this.uid).update({favSongLists:Fe.firestore.FieldValue.arrayUnion(e)}),this.favSongList.push(e),this.isFavSong=!0}catch(t){console.log("error => ",t)}}},mounted(){this.favSongList.length!==0&&(this.isFavSong=this.favSongList.includes(this.songData.docID))},watch:{playing(){this.current_song&&(this.current_song.modified_name==this.songData.modified_name?(this.isCurrentPlaying=!0,this.playingIndex=this.index):this.isCurrentPlaying=!1)},pauseCurrentSong(){this.pauseCurrentSong&&this.pauseCurrentSong.pause&&(this.current_song.modified_name==this.pauseCurrentSong.currentSong?this.isCurrentPlaying=!1:this.isCurrentPlaying=!0)}}},bX=S("p",{class:"flex-initial md:w-20 w-10"},"03:57",-1),_X={class:"flex-initial md:w-12 w-10 md:text-center text-end"},wX={key:0,class:"far fa-play-circle text-2xl text-rose-500/80"},EX={key:1,class:"far fa-pause-circle text-2xl text-rose-500/80"},TX=S("i",{class:"far fa-heart text-2xl text-rose-500/80"},null,-1),SX=[TX],IX=S("i",{class:"fas fa-heart text-2xl text-rose-500/80"},null,-1),AX=[IX];function xX(e,t,n,r,i,s){const a=De("toastMessage");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:i.success},null,8,["toggle","message","success"]),S("p",{class:"flex-1 truncate pr-3 cursor-pointer",onClick:t[0]||(t[0]=qe(l=>s.playSong(n.songData),["prevent"]))},K(n.songData.modified_name),1),S("div",{class:"flex cursor-pointer justify-center items-center",onClick:t[1]||(t[1]=qe(l=>s.playSong(n.songData),["prevent"]))},[bX,S("div",_X,[i.isCurrentPlaying?(me(),_e("i",EX)):(me(),_e("i",wX))])]),i.isFavSong?(me(),_e("div",{key:1,class:"w-10 text-end cursor-pointer",onClick:t[3]||(t[3]=qe(l=>s.delFormFav(n.songData),["prevent"]))},AX)):(me(),_e("div",{key:0,class:"w-10 text-end cursor-pointer",onClick:t[2]||(t[2]=qe(l=>s.addToFav(n.songData),["prevent"]))},SX))],64)}const kX=Nt(yX,[["render",xX]]),CX={data(){return{isPlaying:!1,songs:[],memberImage:tR}},components:{SongItem:kX},computed:{...ln(Vn,["albumPageImgClass"]),...Mt(ai,["albumInfo"]),...Mt(Vn,["songList"]),...Mt(e_,["toastCount"]),albumSingerImg(){return this.albumInfo.albumSingerImg?this.albumInfo.albumSingerImg:"https://i.imgur.com/arYdJI6.png"},signerName(){const{albumSinger:e,type:t,temp:n}=this.albumInfo;return t==="member_fundraising"?qC(e,t,n):Y_(e)},signerDescription(){const{albumSinger:e,albumSingerDesc:t,type:n,temp:r}=this.albumInfo;return n==="member_fundraising"?fB(e,t,n,r):lB(e,t)},albumName(){const{albumName:e,type:t,temp:n}=this.albumInfo;return t==="member_fundraising"?WC(e,t,n):zC(e)},albumDescription(){const{albumName:e,albumDesc:t,type:n,temp:r}=this.albumInfo;return n==="member_fundraising"?hB(e,t,n,r):cB(e,t)}},methods:{...$n(Vn,["newSong"]),async getAlbumSongs(){try{(await zr.where("display_name","==",this.$route.params.albumSinger).get()).forEach((t,n)=>{this.songs.push({...t.data(),docID:t.id})})}catch(e){console.log("getAlbumSongs error => ",e)}},async getAlbumInfo(){try{const t=(await si.doc(this.$route.params.gener).get()).data().items.filter(n=>n.albumSinger===this.$route.params.albumSinger);this.albumInfo={...t[0]}}catch{}},palySong(){this.newSong(this.songList[0]),this.isPlaying=!0},formatIndex:yn.formatIndex},async mounted(){await this.getAlbumSongs(),this.songList=this.songs,window.scrollTo({top:0,left:0,behavior:"auto"}),this.toastCount=0},async beforeMount(){await this.getAlbumInfo()}},NX={class:"text-zinc-200 bg-zinc-900 pb-8 mt-[63px] mb-[90px]",id:"albumPage"},OX={class:"max-w-[1200px] mx-auto pt-10"},PX={class:"flex md:flex-row flex-col"},LX={class:"md:order-1 order-last w-[25%] hidden md:block sidebarBackgound"},RX={class:"max-w-[160px] mx-auto"},DX=["src"],MX={class:"text-center mt-6 px-5"},FX={class:"text-lg"},UX={class:"text-2xl pb-3"},VX={class:"text-zinc-400 text-left"},$X={class:"md:order-2 flex-1 px-3 md:px-14"},jX={class:"md:flex items-center border-b-2 border-[#e6dbdb21] pb-4"},BX={class:"flex md:flex-row flex-col justify-center"},HX=["src"],GX={class:"md:ml-10 md:mt-5 text-center md:text-left"},zX={class:"text-[25px] tracking-widest leading-loose text-white"},qX={class:"md:pb-5"},WX={class:"md:block hidden max-w-80"},KX={class:"mt-6"},YX={class:"px-2 md:px-0"},XX={class:"flex-none w-7 md:w-24 text-[12px] md:text-base md:leading-normal leading-6"};function JX(e,t,n,r,i,s){const a=De("SongItem");return me(),_e("main",NX,[S("div",OX,[S("div",PX,[S("div",LX,[S("div",RX,[S("img",{class:"rounded-full",src:s.albumSingerImg,alt:""},null,8,DX)]),S("div",MX,[S("p",FX,K(e.$t("singer")),1),S("p",UX,K(s.signerName),1),S("p",VX,K(s.signerDescription),1)])]),S("div",$X,[S("div",jX,[S("div",BX,[S("div",{class:We(["mx-auto",e.albumPageImgClass]),onClick:t[0]||(t[0]=qe((...l)=>s.palySong&&s.palySong(...l),["prevent"]))},[S("img",{src:e.albumInfo.albumImg,alt:""},null,8,HX)],2),S("div",GX,[S("p",zX,K(s.albumName),1),S("p",qX,K(s.signerName),1),S("p",WX,K(s.albumDescription),1)])])]),S("div",KX,[S("ul",YX,[(me(!0),_e(vt,null,qi(i.songs,(l,c)=>(me(),_e("li",{class:"flex py-3 items-center",key:l.coverImg},[S("p",XX,K(s.formatIndex(c))+". ",1),ae(a,{songData:l,index:c},null,8,["songData","index"])]))),128))])])])])])])}const QX=Nt(CX,[["render",JX]]),ZX={name:"Upload",data(){return{is_dragover:!1,uploadsTemp:[],uploadSchema:{albumName:"required",albumSinger:"required",albumCoverImgUrl:"required",albumGenre:"required"},userData:{albumGenre:"America"},toggle:!1,message:""}},props:["addSong"],components:{toastMessage:Zi},methods:{upload(e){const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];console.log("files => ",t),t.forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsTemp.push({file:n,current_progress:0,icon:"",text_class:"",variant:"",isUploadComplete:!1,isUploading:!1})})},deleteSong(e){this.uploadsTemp.splice(e,1)},uploadSubmit(e){this.uploadsTemp.forEach((t,n)=>{const s=ri.ref().child(`songs/${t.file.name}`).put(t.file);this.uploadsTemp[n].icon="fas fa-spinner fa-spin",this.uploadsTemp[n].variant="bg-blue-400",this.uploadsTemp[n].isUploading=!0,s.on("state_changed",a=>{let l=a.bytesTransferred/a.totalBytes*100;this.uploadsTemp[n].current_progress=l},a=>{this.uploadsTemp[n].variant="bg-red-400",this.uploadsTemp[n].icon="fa fa-times",this.uploadsTemp[n].text_class="text-red-400"},async()=>{try{const a={album:e.albumName,coverImg:e.albumCoverImgUrl,uid:bo.currentUser.uid,display_name:e.albumSinger,original_name:s.snapshot.ref.name,modified_name:yn.formatSongName(s.snapshot.ref.name),genre:e.albumGenre,comment_count:0},l={albumDesc:"",albumImg:e.albumCoverImgUrl,albumName:e.albumName,albumSinger:e.albumSinger,albumSingerDesc:"",albumSingerImg:""};a.url=await s.snapshot.ref.getDownloadURL();const h=await(await zr.add(a)).get();this.addSong(h),await si.doc(e.albumGenre.toLowerCase()).update({items:Fe.firestore.FieldValue.arrayUnion(l)}),console.log("Album added successfully"),this.uploadsTemp[n].variant="bg-green-400",this.uploadsTemp[n].icon="fa fa-check",this.uploadsTemp[n].text_class="text-green-400",this.uploadsTemp[n].isUploadComplete=!0}catch(a){console.log("error => ",a)}})})},formatIndex:yn.formatIndex,formatSongName:yn.formatSongName}},e3={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},t3=S("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[S("span",{class:"card-title"},"上傳歌曲"),S("i",{class:"fas fa-upload float-right text-rose-500 text-xl"})],-1),n3={class:"p-6"},r3=S("h5",null,"請拖曳檔案到此",-1),i3=[r3],o3=S("hr",{class:"my-6"},null,-1),s3=S("label",{class:"inline-block mb-2"},"歌手名稱",-1),a3=S("label",{class:"inline-block mb-2"},"專輯名稱",-1),u3=S("label",{class:"inline-block mb-2"},"專輯類型",-1),l3=S("option",{class:"bg-gray-700 text-zinc-100",value:"America"},"America",-1),c3=S("option",{class:"bg-gray-700 text-zinc-100",value:"Kpop"},"Kpop",-1),f3=S("option",{class:"bg-gray-700 text-zinc-100",value:"Jpop"},"Jpop",-1),h3=S("option",{class:"bg-gray-700 text-zinc-100",value:"Music"},"Music",-1),d3=S("label",{class:"inline-block mb-2"},"專輯封面",-1),p3=S("p",{class:"mb-3 border-b-2 border-[#fff]/30 pb-2"},"要上傳的歌曲:",-1),m3={class:"flex items-center justify-between"},g3={class:"overflow-hidden flex items-center"},v3={class:"pl-2 truncate"},y3={class:""},b3=["onClick"],_3=S("i",{class:"fa fa-times"},null,-1),w3=[_3],E3={key:0,class:"flex h-4 mt-1 overflow-hidden bg-gray-200 rounded"},T3=["disabled"];function S3(e,t,n,r,i,s){const a=De("toastMessage"),l=De("vee-field"),c=De("ErrorMessage"),h=De("vee-form");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message},null,8,["toggle","message"]),S("div",e3,[t3,S("div",n3,[S("div",{class:We(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"bg-rose-500 border-rose-500 border-solid":i.is_dragover}]),onDrag:t[0]||(t[0]=qe(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=qe(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=qe(p=>i.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=qe(p=>i.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=qe(p=>i.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=qe(p=>i.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=qe(p=>s.upload(p),["prevent","stop"]))},i3,34),S("input",{class:"block w-full text-md borderrounded-lg cursor-pointer text-gray-400 focus:outline-none mt-4",type:"file",multiple:"",onChange:t[7]||(t[7]=p=>s.upload(p))},null,32),o3,ae(h,{"validation-schema":i.uploadSchema,onSubmit:s.uploadSubmit,"initial-values":i.userData},{default:Wn(()=>[S("div",null,[s3,ae(l,{type:"text",name:"albumSinger",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"歌手名稱"}),ae(c,{class:"text-pink-600",name:"albumSinger"})]),S("div",null,[a3,ae(l,{type:"text",name:"albumName",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯名稱"}),ae(c,{class:"text-pink-600",name:"albumName"})]),S("div",null,[u3,ae(l,{as:"select",name:"albumGenre",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Wn(()=>[l3,c3,f3,h3]),_:1}),ae(c,{class:"text-red-600",name:"albumGenre"})]),S("div",null,[d3,ae(l,{type:"text",name:"albumCoverImgUrl",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯封面"}),ae(c,{class:"text-pink-600",name:"albumCoverImgUrl"})]),p3,(me(!0),_e(vt,null,qi(i.uploadsTemp,(p,f)=>(me(),_e("div",{class:"mb-4",key:p.file.name},[S("div",{class:We(["border border-zinc-200 p-2 mb-4 rounded font-bold text-sm",p.text_class])},[S("div",m3,[S("div",g3,[S("i",{class:We(p.icon)},null,2),S("p",v3,K(s.formatIndex(f))+". "+K(s.formatSongName(p.file.name)),1)]),S("div",y3,[p.isUploadComplete?Hr("",!0):(me(),_e("button",{key:0,class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(m=>s.deleteSong(f),["prevent"])},w3,8,b3))])])],2),p.isUploading?(me(),_e("div",E3,[S("div",{class:We(["transition-all progress-bar",p.variant]),style:jr({width:p.current_progress+"%"})},null,6)])):Hr("",!0)]))),128)),S("button",{type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-rose-500 w-full hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",disabled:i.uploadsTemp.length==0}," 檔案上傳 ",8,T3)]),_:1},8,["validation-schema","onSubmit","initial-values"])])])],64)}const I3=Nt(ZX,[["render",S3]]),A3={name:"CompositionItem",data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},is_submission:!1,show_alart:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info"}},props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number},removeSong:{type:Function,required:!0},updateUnsaveFlag:{type:Function}},methods:{async edit(e){this.is_submission=!0,this.show_alart=!0,this.alert_variant="bg-blue-500",this.alert_message="";try{await zr.doc(e.docID).update(e)}catch(t){console.log("error => ",t),this.is_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsaveFlag(!1),this.is_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){const t=ri.ref().child(`songs/${this.song.original_name}`);try{await t.delete(),await zr.doc(this.song.docID).delete(),this.removeSong(this.index)}catch(n){console.log("error => ",n)}}},mounted(){}},x3={class:"border border-zinc-200 p-2 mb-4 rounded"},k3={class:"inline-block text-sm font-bold"},C3=S("i",{class:"fa fa-times"},null,-1),N3=[C3],O3=S("i",{class:"fa fa-pencil-alt"},null,-1),P3=[O3],L3={class:"mb-3"},R3={class:"inline-block mb-2"},D3={class:"mb-3"},M3={class:"inline-block mb-2"},F3={type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-green-700"},U3=["disabled"];function V3(e,t,n,r,i,s){const a=De("vee-field"),l=De("ErrorMessage"),c=De("vee-form");return me(),_e("div",x3,[Sa(S("div",null,[S("h4",k3,K(n.song.modified_name),1),S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600 float-right",onClick:t[0]||(t[0]=qe((...h)=>s.deleteSong&&s.deleteSong(...h),["prevent"]))},N3),S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-400 float-right",onClick:t[1]||(t[1]=qe(h=>i.showForm=!i.showForm,["prevent"]))},P3)],512),[[Hd,!i.showForm]]),Sa(S("div",null,[i.show_alart?(me(),_e("div",{key:0,class:We(["text-white text-center font-bold p-4 mb-4",i.alert_variant])},K(i.alert_message),3)):Hr("",!0),ae(c,{"validation-schema":i.schema,"initial-values":n.song,onSubmit:s.edit},{default:Wn(()=>[S("div",L3,[S("label",R3,K(e.$t("song_name")),1),ae(a,{name:"modified_name",type:"text",class:"block w-full py-1 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=h=>n.updateUnsaveFlag(!0))}),ae(l,{class:"text-red-600",name:"modified_name"})]),S("div",D3,[S("label",M3,K(e.$t("genre")),1),ae(a,{name:"genre",type:"text",class:"block w-full py-1 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=h=>n.updateUnsaveFlag(!0))}),ae(l,{class:"text-red-600",name:"genre"})]),S("button",F3,K(e.$t("button.confirm")),1),S("button",{type:"button",class:"py-1 px-3 rounded text-white bg-gray-600",disabled:i.is_submission,onClick:t[4]||(t[4]=qe(h=>i.showForm=!1,["prevent"]))},K(e.$t("button.cancel")),9,U3)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[Hd,i.showForm]])])}const $3=Nt(A3,[["render",V3]]),j3={name:"Manage",data(){return{songs:[],unsaveFlag:!1}},components:{toastMessage:Zi,UploadAdminManage:I3,CompositionItem:$3},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsaveFlag(e){this.unsaveFlag=e}},async created(){(await zr.where("uid","==",bo.currentUser.uid).get()).forEach(t=>{this.addSong(t)})},beforeRouteLeave(e,t,n){if(!this.unsaveFlag)n();else{const r=confirm("你的檔案還未修改完必，有確定要離開嗎?");n(r)}}},B3={class:"text-zinc-200 bg-zinc-900 mt-[55px] mb-[90px] relative"},H3={class:"container mx-auto mt-14 pt-3 pr-1 md:pr-0"},G3={class:"md:grid md:grid-cols-3 md:gap-4"},z3={class:"col-span-1"},q3={class:"col-span-2"},W3={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},K3=S("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[S("span",{class:"card-title"},"我的歌單"),S("i",{class:"fa fa-compact-disc float-right text-rose-400 text-xl"})],-1),Y3={class:"p-6"};function X3(e,t,n,r,i,s){const a=De("toastMessage"),l=De("UploadAdminManage"),c=De("CompositionItem");return me(),_e("main",B3,[ae(a),S("section",H3,[S("div",G3,[S("div",z3,[ae(l,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),S("div",q3,[S("div",W3,[K3,S("div",Y3,[(me(!0),_e(vt,null,qi(i.songs,(h,p)=>(me(),ms(c,{key:h.docID,song:h,updateSong:s.updateSong,index:p,removeSong:s.removeSong,updateUnsaveFlag:s.updateUnsaveFlag},null,8,["song","updateSong","index","removeSong","updateUnsaveFlag"]))),128))])])])])])])}const J3=Nt(j3,[["render",X3]]),Xi=Ua("alert",{state:()=>({isShowAlertConfirm:!1,alertMessage:"",delFavSong:{index:null,docID:""},delData:!1,deleteData:{}}),actions:{fireShowAlertConfirm(e){const{data:t,msg:n}=e;this.isShowAlertConfirm=!0,this.deleteData=t||{},this.alertMessage=n||""},closeAlert(){this.isShowAlertConfirm=!1,this.delFavSong={index:null,docID:""},this.deleteData={},this.alertMessage=""},delDataCheck(){this.isShowAlertConfirm=!1,this.delData=!0}}}),Q3={name:"FavSongItem",data(){return{isCurrentPlaying:!1}},props:{favSong:{type:Object,required:!0},index:{type:Number,required:!0},isFinshRender:{type:Function,required:!0}},computed:{...ln(Vn,["playing","current_song","pauseCurrentSong"]),...ln(Ln,["favSongList"]),...Mt(Vn,["playingIndex"]),...Mt(Xi,["delFavSong","isShowAlertConfirm"])},methods:{...$n(Vn,["newSong"]),...$n(Xi,["fireShowAlertConfirm"]),playSong(e){this.newSong(e),this.isCurrentPlaying=!0},delSongFromList(e,t){this.delFavSong.index=t,this.delFavSong.docID=e,this.fireShowAlertConfirm({msg:this.$t("alertMsg.delete_favsong",{favsongName:this.favSong.modified_name})})}},watch:{playing(){this.current_song&&(this.current_song.modified_name==this.favSong.modified_name?(this.isCurrentPlaying=!0,this.playingIndex=this.index):this.isCurrentPlaying=!1)},pauseCurrentSong(){this.pauseCurrentSong&&this.pauseCurrentSong.pause&&(this.current_song.modified_name==this.pauseCurrentSong.currentSong?this.isCurrentPlaying=!1:this.isCurrentPlaying=!0)}},mounted(){this.index===this.favSongList.length-1&&this.isFinshRender(!0)}},Z3={class:"w-12 mr-4"},e2=["src"],t2={class:"flex flex-1 justify-between border-b border-b-zinc-200/30 items-center"},n2={class:"pr-3 flex-initial truncate md:w-80 w-44"},r2={class:"text-zinc-500 text-sm"},i2={class:"flex justify-between w-28"},o2=S("p",{class:"flex-initial w-14 text-start"},"03:57",-1),s2={class:"flex-initial md:text-center text-start"},a2={key:0,class:"far fa-play-circle text-2xl text-rose-500/80"},u2={key:1,class:"far fa-pause-circle text-2xl text-rose-500/80"};function l2(e,t,n,r,i,s){return me(),_e(vt,null,[S("div",Z3,[S("img",{class:"rounded-md",src:n.favSong.coverImg,alt:""},null,8,e2)]),S("div",t2,[S("div",{class:"cursor-pointer pr-3 flex-1",onClick:t[0]||(t[0]=qe(a=>s.playSong(n.favSong),["prevent"]))},[S("p",n2,K(n.favSong.modified_name),1),S("p",r2,K(n.favSong.display_name),1)]),S("div",i2,[S("div",{class:"cursor-pointer flex items-center",onClick:t[1]||(t[1]=qe(a=>s.playSong(n.favSong),["prevent"]))},[o2,S("div",s2,[i.isCurrentPlaying?(me(),_e("i",u2)):(me(),_e("i",a2))])]),S("div",null,[S("i",{class:"fas fa-minus-square text-2xl text-rose-500/80 cursor-pointer",onClick:t[2]||(t[2]=qe(a=>s.delSongFromList(n.favSong.docID,n.index),["prevent"]))})])])])],64)}const c2=Nt(Q3,[["render",l2]]),f2={computed:{...ln(Xi,["isShowAlertConfirm","alertMessage"])},methods:{...$n(Xi,["fireShowAlertConfirm","closeAlert","delDataCheck"])}},h2={class:"relative top-[120px] md:m-auto w-full max-w-sm h-auto"},d2={class:"relative py-4 text-center bg-zinc-800/90 rounded-lg shadow dark:bg-gray-800"},p2=S("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),m2=S("span",{class:"sr-only"},"Close modal",-1),g2=[p2,m2],v2=S("svg",{class:"text-gray-400 dark:text-gray-500 w-7 h-7 mb-1 mx-auto","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),y2={class:"flex-1 text-gray-300 dark:text-gray-300 text-center"},b2={class:"flex justify-center items-center space-x-4"};function _2(e,t,n,r,i,s){return me(),_e("div",{id:"deleteModal",tabindex:"-1","aria-hidden":"true",class:We(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!e.isShowAlertConfirm}])},[S("div",h2,[S("div",d2,[S("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteModal",onClick:t[0]||(t[0]=qe(a=>e.closeAlert(),["prevent"]))},g2),v2,S("div",{class:We(["flex items-center justify-around pt-2 py-5",{"px-5":e.$i18n.locale==="en"}])},[S("p",y2,K(e.alertMessage),1)],2),S("div",b2,[S("button",{"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-zinc-200 bg-black/10 rounded-lg border border-gray-500 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:t[1]||(t[1]=qe(a=>e.closeAlert(),["prevent"]))},K(e.$t("button.cancel")),1),S("button",{type:"submit",class:"py-2 px-3 text-sm font-medium text-center text-white bg-rose-600/80 rounded-lg hover:bg-red-900 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500/ dark:hover:bg-red-600 dark:focus:ring-red-900",onClick:t[2]||(t[2]=qe(a=>e.delDataCheck(),["prevent"]))},K(e.$t("button.confirm")),1)])])])],2)}const pR=Nt(f2,[["render",_2]]),By="/vue-earphone-music/assets/logo2-BpBPWk9v.png",w2={data(){return{favSongs:[],currentSongCoverImg:By,listHeightStyle:""}},components:{FavSongItem:c2,AlertDeleteConfirm:pR},computed:{...ln(Ln,["uid"]),...ln(Vn,["playing","current_song","pauseCurrentSong"]),...Mt(Xi,["delData","delFavSong"]),...Mt(Ln,["favSongList"]),...Mt(Vn,["songList","playingIndex"]),filter(){if(!this.current_song.coverImg&&this.songList.length===0)return{filter:"grayscale(50%)"}}},methods:{...$n(Xi,["delFavSongItemDoc"]),...$n(Vn,["deleteSong"]),async getFavSongList(){try{const e=await Pa.doc(this.uid).get();this.favSongList=e.data().favSongLists}catch(e){console.log("error => ",e)}},async getSongs(){try{this.favSongList.forEach(async e=>{const t=await zr.doc(e).get();this.favSongs.push({...t.data(),docID:e}),this.songList.push({...t.data(),docID:e})})}catch(e){console.log("error => ",e)}},isFinshRender(e){e&&(this.songList.length>0&&(this.currentSongCoverImg=this.songList[0].coverImg),yn.changeHightStyle(this.favSongList,this.$refs.listRef))}},async mounted(){this.songList=[],this.favSongList.length==0&&(this.playing?this.$refs.listRef.style.height="388px":this.$refs.listRef.style.height="418px"),await this.getFavSongList(),await this.getSongs(),Qk(()=>{this.favSongList.length===0&&(this.currentSongCoverImg=By)})},watch:{async delData(){if(this.delData){const e=this.delFavSong.index;try{await Pa.doc(this.uid).update({favSongLists:Fe.firestore.FieldValue.arrayRemove(this.favSongs[e].docID)})}catch(t){console.log("error => ",t);return}this.favSongs.splice(e,1),this.favSongList.splice(e,1),this.deleteSong(e),this.delData=!1,this.delFavSong={index:null,docID:""}}},current_song(){yn.changeHightStyle(this.favSongList,this.$refs.listRef),Object.keys(this.current_song).length===0?this.currentSongCoverImg=By:this.currentSongCoverImg=this.current_song.favCoverImg?this.current_song.favCoverImg:this.current_song.coverImg}}},E2={class:"bg-black/70 backdrop-blur-md w-full h-full"},T2={class:"md:w-[550px] w-full bg-[#00000030] rounded md:border border-transparent md:border-gray-200/40 mx-auto"},S2={class:"w-56 mx-auto"},I2=["src"],A2={class:"mt-2"},x2={class:"text-center"};function k2(e,t,n,r,i,s){const a=De("AlertDeleteConfirm"),l=De("FavSongItem");return me(),_e("main",{class:We(["text-zinc-200 bg-zinc-900 mt-[63px] relative",{"mb-[120px]":e.current_song.album}])},[ae(a),S("div",{class:"bg-cover bg-center md:bg-fixed bg-no-repeat md:bg-cover h-full",style:jr(`background-image: url(${i.currentSongCoverImg})`)},[S("div",E2,[S("div",T2,[S("div",S2,[S("img",{src:i.currentSongCoverImg,style:jr(s.filter),alt:""},null,12,I2)]),S("div",A2,[S("p",x2,K(e.$t("menu.play_list")),1)]),S("ul",{class:"md:mx-5 mx-5",style:jr(i.listHeightStyle),ref:"listRef"},[(me(!0),_e(vt,null,qi(i.favSongs,(c,h)=>(me(),_e("li",{class:"flex justify-center my-2",key:c.docID},[ae(l,{favSong:c,index:h,isFinshRender:s.isFinshRender},null,8,["favSong","index","isFinshRender"])]))),128))],4)])])],4)],2)}const C2=Nt(w2,[["render",k2]]);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(n),!0).forEach(function(r){L2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gR(e){var t=N2(e,"string");return typeof t=="symbol"?t:t+""}function u_(e){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(e)}function O2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ik(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gR(r.key),r)}}function P2(e,t,n){return t&&ik(e.prototype,t),n&&ik(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L2(e,t,n){return t=gR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vR(e){return R2(e)||D2(e)||M2(e)||F2()}function R2(e){if(Array.isArray(e))return l_(e)}function D2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M2(e,t){if(e){if(typeof e=="string")return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nm=typeof window<"u"&&typeof window.document<"u",Ji=Nm?window:{},Rw=Nm&&Ji.document.documentElement?"ontouchstart"in Ji.document.documentElement:!1,Dw=Nm?"PointerEvent"in Ji:!1,Kt="cropper",Mw="all",yR="crop",bR="move",_R="zoom",sa="e",aa="w",Eu="s",Ho="n",vc="ne",yc="nw",bc="se",_c="sw",c_="".concat(Kt,"-crop"),ok="".concat(Kt,"-disabled"),Er="".concat(Kt,"-hidden"),sk="".concat(Kt,"-hide"),U2="".concat(Kt,"-invisible"),kp="".concat(Kt,"-modal"),f_="".concat(Kt,"-move"),bf="".concat(Kt,"Action"),vd="".concat(Kt,"Preview"),Fw="crop",wR="move",ER="none",h_="crop",d_="cropend",p_="cropmove",m_="cropstart",ak="dblclick",V2=Rw?"touchstart":"mousedown",$2=Rw?"touchmove":"mousemove",j2=Rw?"touchend touchcancel":"mouseup",uk=Dw?"pointerdown":V2,lk=Dw?"pointermove":$2,ck=Dw?"pointerup pointercancel":j2,fk="ready",hk="resize",dk="wheel",g_="zoom",pk="image/jpeg",B2=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,H2=/^data:/,G2=/^data:image\/jpeg;base64,/,z2=/^img|canvas$/i,TR=200,SR=100,mk={viewMode:0,dragMode:Fw,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:TR,minContainerHeight:SR,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},q2='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',W2=Number.isNaN||Ji.isNaN;function ft(e){return typeof e=="number"&&!W2(e)}var gk=function(t){return t>0&&t<1/0};function Hy(e){return typeof e>"u"}function Ra(e){return u_(e)==="object"&&e!==null}var K2=Object.prototype.hasOwnProperty;function Pu(e){if(!Ra(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&K2.call(n,"isPrototypeOf")}catch{return!1}}function wr(e){return typeof e=="function"}var Y2=Array.prototype.slice;function IR(e){return Array.from?Array.from(e):Y2.call(e)}function vn(e,t){return e&&wr(t)&&(Array.isArray(e)||ft(e.length)?IR(e).forEach(function(n,r){t.call(e,n,r,e)}):Ra(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var Yt=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ra(t)&&r.length>0&&r.forEach(function(s){Ra(s)&&Object.keys(s).forEach(function(a){t[a]=s[a]})}),t},X2=/\.\d*(?:0|9){12}\d*$/;function ju(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return X2.test(e)?Math.round(e*t)/t:e}var J2=/^width|height|left|top|marginLeft|marginTop$/;function os(e,t){var n=e.style;vn(t,function(r,i){J2.test(i)&&ft(r)&&(r="".concat(r,"px")),n[i]=r})}function Q2(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function kn(e,t){if(t){if(ft(e.length)){vn(e,function(r){kn(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Gi(e,t){if(t){if(ft(e.length)){vn(e,function(n){Gi(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Lu(e,t,n){if(t){if(ft(e.length)){vn(e,function(r){Lu(r,t,n)});return}n?kn(e,t):Gi(e,t)}}var Z2=/([a-z\d])([A-Z])/g;function Uw(e){return e.replace(Z2,"$1-$2").toLowerCase()}function v_(e,t){return Ra(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Uw(t)))}function _f(e,t,n){Ra(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Uw(t)),n)}function eJ(e,t){if(Ra(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Uw(t)))}var AR=/\s\s*/,xR=function(){var e=!1;if(Nm){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});Ji.addEventListener("test",n,r),Ji.removeEventListener("test",n,r)}return e}();function gi(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(AR).forEach(function(s){if(!xR){var a=e.listeners;a&&a[s]&&a[s][n]&&(i=a[s][n],delete a[s][n],Object.keys(a[s]).length===0&&delete a[s],Object.keys(a).length===0&&delete e.listeners)}e.removeEventListener(s,i,r)})}function ti(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(AR).forEach(function(s){if(r.once&&!xR){var a=e.listeners,l=a===void 0?{}:a;i=function(){delete l[s][n],e.removeEventListener(s,i,r);for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];n.apply(e,p)},l[s]||(l[s]={}),l[s][n]&&e.removeEventListener(s,l[s][n],r),l[s][n]=i,e.listeners=l}e.addEventListener(s,i,r)})}function Bu(e,t,n){var r;return wr(Event)&&wr(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function kR(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Gy=Ji.location,tJ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function vk(e){var t=e.match(tJ);return t!==null&&(t[1]!==Gy.protocol||t[2]!==Gy.hostname||t[3]!==Gy.port)}function yk(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Fc(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,s=e.translateY,a=[];ft(i)&&i!==0&&a.push("translateX(".concat(i,"px)")),ft(s)&&s!==0&&a.push("translateY(".concat(s,"px)")),ft(t)&&t!==0&&a.push("rotate(".concat(t,"deg)")),ft(n)&&n!==1&&a.push("scaleX(".concat(n,")")),ft(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function nJ(e){var t=mR({},e),n=0;return vn(e,function(r,i){delete t[i],vn(t,function(s){var a=Math.abs(r.startX-s.startX),l=Math.abs(r.startY-s.startY),c=Math.abs(r.endX-s.endX),h=Math.abs(r.endY-s.endY),p=Math.sqrt(a*a+l*l),f=Math.sqrt(c*c+h*h),m=(f-p)/p;Math.abs(m)>Math.abs(n)&&(n=m)})}),n}function yd(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:mR({startX:n,startY:r},i)}function rJ(e){var t=0,n=0,r=0;return vn(e,function(i){var s=i.startX,a=i.startY;t+=s,n+=a,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function ss(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=gk(r),a=gk(n);if(s&&a){var l=n*t;i==="contain"&&l>r||i==="cover"&&l<r?n=r/t:r=n*t}else s?n=r/t:a&&(r=n*t);return{width:r,height:n}}function iJ(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var i=r%90*Math.PI/180,s=Math.sin(i),a=Math.cos(i),l=t*a+n*s,c=t*s+n*a;return r>90?{width:c,height:l}:{width:l,height:c}}function oJ(e,t,n,r){var i=t.aspectRatio,s=t.naturalWidth,a=t.naturalHeight,l=t.rotate,c=l===void 0?0:l,h=t.scaleX,p=h===void 0?1:h,f=t.scaleY,m=f===void 0?1:f,v=n.aspectRatio,y=n.naturalWidth,_=n.naturalHeight,w=r.fillColor,E=w===void 0?"transparent":w,k=r.imageSmoothingEnabled,I=k===void 0?!0:k,C=r.imageSmoothingQuality,M=C===void 0?"low":C,A=r.maxWidth,j=A===void 0?1/0:A,U=r.maxHeight,P=U===void 0?1/0:U,z=r.minWidth,L=z===void 0?0:z,q=r.minHeight,ee=q===void 0?0:q,Te=document.createElement("canvas"),xe=Te.getContext("2d"),ie=ss({aspectRatio:v,width:j,height:P}),Re=ss({aspectRatio:v,width:L,height:ee},"cover"),Me=Math.min(ie.width,Math.max(Re.width,y)),Xe=Math.min(ie.height,Math.max(Re.height,_)),xt=ss({aspectRatio:i,width:j,height:P}),it=ss({aspectRatio:i,width:L,height:ee},"cover"),dt=Math.min(xt.width,Math.max(it.width,s)),pt=Math.min(xt.height,Math.max(it.height,a)),en=[-dt/2,-pt/2,dt,pt];return Te.width=ju(Me),Te.height=ju(Xe),xe.fillStyle=E,xe.fillRect(0,0,Me,Xe),xe.save(),xe.translate(Me/2,Xe/2),xe.rotate(c*Math.PI/180),xe.scale(p,m),xe.imageSmoothingEnabled=I,xe.imageSmoothingQuality=M,xe.drawImage.apply(xe,[e].concat(vR(en.map(function(Se){return Math.floor(ju(Se))})))),xe.restore(),Te}var CR=String.fromCharCode;function sJ(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=CR(e.getUint8(i));return r}var aJ=/^data:.*,/;function uJ(e){var t=e.replace(aJ,""),n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return vn(i,function(s,a){i[a]=n.charCodeAt(a)}),r}function lJ(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(CR.apply(null,IR(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function cJ(e){var t=new DataView(e),n;try{var r,i,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var a=t.byteLength,l=2;l+1<a;){if(t.getUint8(l)===255&&t.getUint8(l+1)===225){i=l;break}l+=1}if(i){var c=i+4,h=i+10;if(sJ(t,c,4)==="Exif"){var p=t.getUint16(h);if(r=p===18761,(r||p===19789)&&t.getUint16(h+2,r)===42){var f=t.getUint32(h+4,r);f>=8&&(s=h+f)}}}if(s){var m=t.getUint16(s,r),v,y;for(y=0;y<m;y+=1)if(v=s+y*12+2,t.getUint16(v,r)===274){v+=8,n=t.getUint16(v,r),t.setUint16(v,1,r);break}}}catch{n=1}return n}function fJ(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var hJ={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,i=this.cropper,s=Number(n.minContainerWidth),a=Number(n.minContainerHeight);kn(i,Er),Gi(t,Er);var l={width:Math.max(r.offsetWidth,s>=0?s:TR),height:Math.max(r.offsetHeight,a>=0?a:SR)};this.containerData=l,os(i,{width:l.width,height:l.height}),kn(t,Er),Gi(i,Er)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,s=i?n.naturalHeight:n.naturalWidth,a=i?n.naturalWidth:n.naturalHeight,l=s/a,c=t.width,h=t.height;t.height*l>t.width?r===3?c=t.height*l:h=t.width/l:r===3?h=t.width/l:c=t.height*l;var p={aspectRatio:l,naturalWidth:s,naturalHeight:a,width:c,height:h};this.canvasData=p,this.limited=r===1||r===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(t.width-p.width)/2,p.top=(t.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=Yt({},p)},limitCanvas:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,a=this.cropBoxData,l=r.viewMode,c=s.aspectRatio,h=this.cropped&&a;if(t){var p=Number(r.minCanvasWidth)||0,f=Number(r.minCanvasHeight)||0;l>1?(p=Math.max(p,i.width),f=Math.max(f,i.height),l===3&&(f*c>p?p=f*c:f=p/c)):l>0&&(p?p=Math.max(p,h?a.width:0):f?f=Math.max(f,h?a.height:0):h&&(p=a.width,f=a.height,f*c>p?p=f*c:f=p/c));var m=ss({aspectRatio:c,width:p,height:f});p=m.width,f=m.height,s.minWidth=p,s.minHeight=f,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(l>(h?0:1)){var v=i.width-s.width,y=i.height-s.height;s.minLeft=Math.min(0,v),s.minTop=Math.min(0,y),s.maxLeft=Math.max(0,v),s.maxTop=Math.max(0,y),h&&this.limited&&(s.minLeft=Math.min(a.left,a.left+(a.width-s.width)),s.minTop=Math.min(a.top,a.top+(a.height-s.height)),s.maxLeft=a.left,s.maxTop=a.top,l===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,v),s.maxLeft=Math.max(0,v)),s.height>=i.height&&(s.minTop=Math.min(0,y),s.maxTop=Math.max(0,y))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(t,n){var r=this.canvasData,i=this.imageData;if(n){var s=iJ({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),a=s.width,l=s.height,c=r.width*(a/r.naturalWidth),h=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(h-r.height)/2,r.width=c,r.height=h,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,os(this.canvas,Yt({width:r.width,height:r.height},Fc({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),s=r.naturalHeight*(n.height/n.naturalHeight);Yt(r,{width:i,height:s,left:(n.width-i)/2,top:(n.height-s)/2}),os(this.image,Yt({width:r.width,height:r.height},Fc(Yt({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,s={width:n.width,height:n.height};r&&(n.height*r>n.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Yt({},s)},limitCropBox:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,a=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(t){var h=Number(r.minCropBoxWidth)||0,p=Number(r.minCropBoxHeight)||0,f=l?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,m=l?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;h=Math.min(h,i.width),p=Math.min(p,i.height),c&&(h&&p?p*c>h?p=h/c:h=p*c:h?p=h/c:p&&(h=p*c),m*c>f?m=f/c:f=m*c),a.minWidth=Math.min(h,f),a.minHeight=Math.min(p,m),a.maxWidth=f,a.maxHeight=m}n&&(l?(a.minLeft=Math.max(0,s.left),a.minTop=Math.max(0,s.top),a.maxLeft=Math.min(i.width,s.left+s.width)-a.width,a.maxTop=Math.min(i.height,s.top+s.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=i.width-a.width,a.maxTop=i.height-a.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&_f(this.face,bf,r.width>=n.width&&r.height>=n.height?bR:Mw),os(this.cropBox,Yt({width:r.width,height:r.height},Fc({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Bu(this.element,h_,this.getData())}},dJ={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=i,a.alt=s,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;typeof r=="string"?l=t.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,vn(l,function(c){var h=document.createElement("img");_f(c,vd,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(h.crossOrigin=n),h.src=i,h.alt=s,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(h)})}},resetPreview:function(){vn(this.previews,function(t){var n=v_(t,vd);os(t,{width:n.width,height:n.height}),t.innerHTML=n.html,eJ(t,vd)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,a=t.width,l=t.height,c=r.left-n.left-t.left,h=r.top-n.top-t.top;!this.cropped||this.disabled||(os(this.viewBoxImage,Yt({width:a,height:l},Fc(Yt({translateX:-c,translateY:-h},t)))),vn(this.previews,function(p){var f=v_(p,vd),m=f.width,v=f.height,y=m,_=v,w=1;i&&(w=m/i,_=s*w),s&&_>v&&(w=v/s,y=i*w,_=v),os(p,{width:y,height:_}),os(p.getElementsByTagName("img")[0],Yt({width:a*w,height:l*w},Fc(Yt({translateX:-c*w,translateY:-h*w},t))))}))}},pJ={bind:function(){var t=this.element,n=this.options,r=this.cropper;wr(n.cropstart)&&ti(t,m_,n.cropstart),wr(n.cropmove)&&ti(t,p_,n.cropmove),wr(n.cropend)&&ti(t,d_,n.cropend),wr(n.crop)&&ti(t,h_,n.crop),wr(n.zoom)&&ti(t,g_,n.zoom),ti(r,uk,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&ti(r,dk,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ti(r,ak,this.onDblclick=this.dblclick.bind(this)),ti(t.ownerDocument,lk,this.onCropMove=this.cropMove.bind(this)),ti(t.ownerDocument,ck,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&ti(window,hk,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;wr(n.cropstart)&&gi(t,m_,n.cropstart),wr(n.cropmove)&&gi(t,p_,n.cropmove),wr(n.cropend)&&gi(t,d_,n.cropend),wr(n.crop)&&gi(t,h_,n.crop),wr(n.zoom)&&gi(t,g_,n.zoom),gi(r,uk,this.onCropStart),n.zoomable&&n.zoomOnWheel&&gi(r,dk,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&gi(r,ak,this.onDblclick),gi(t.ownerDocument,lk,this.onCropMove),gi(t.ownerDocument,ck,this.onCropEnd),n.responsive&&gi(window,hk,this.onResize)}},mJ={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,s=n.offsetHeight/r.height,a=Math.abs(i-1)>Math.abs(s-1)?i:s;if(a!==1){var l,c;t.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(vn(l,function(h,p){l[p]=h*a})),this.setCropBoxData(vn(c,function(h,p){c[p]=h*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===ER||this.setDragMode(Q2(this.dragBox,c_)?wR:Fw)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(ft(n)&&n!==1||ft(r)&&r!==0||t.ctrlKey))){var i=this.options,s=this.pointers,a;t.changedTouches?vn(t.changedTouches,function(l){s[l.identifier]=yd(l)}):s[t.pointerId||0]=yd(t),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?a=_R:a=v_(t.target,bf),B2.test(a)&&Bu(this.element,m_,{originalEvent:t,action:a})!==!1&&(t.preventDefault(),this.action=a,this.cropping=!1,a===yR&&(this.cropping=!0,kn(this.dragBox,kp)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),Bu(this.element,p_,{originalEvent:t,action:n})!==!1&&(t.changedTouches?vn(t.changedTouches,function(i){Yt(r[i.identifier]||{},yd(i,!0))}):Yt(r[t.pointerId||0]||{},yd(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?vn(t.changedTouches,function(i){delete r[i.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Lu(this.dragBox,kp,this.cropped&&this.options.modal)),Bu(this.element,d_,{originalEvent:t,action:n}))}}},gJ={change:function(t){var n=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,h=s.left,p=s.top,f=s.width,m=s.height,v=h+f,y=p+m,_=0,w=0,E=i.width,k=i.height,I=!0,C;!c&&t.shiftKey&&(c=f&&m?f/m:1),this.limited&&(_=s.minLeft,w=s.minTop,E=_+Math.min(i.width,r.width,r.left+r.width),k=w+Math.min(i.height,r.height,r.top+r.height));var M=a[Object.keys(a)[0]],A={x:M.endX-M.startX,y:M.endY-M.startY},j=function(P){switch(P){case sa:v+A.x>E&&(A.x=E-v);break;case aa:h+A.x<_&&(A.x=_-h);break;case Ho:p+A.y<w&&(A.y=w-p);break;case Eu:y+A.y>k&&(A.y=k-y);break}};switch(l){case Mw:h+=A.x,p+=A.y;break;case sa:if(A.x>=0&&(v>=E||c&&(p<=w||y>=k))){I=!1;break}j(sa),f+=A.x,f<0&&(l=aa,f=-f,h-=f),c&&(m=f/c,p+=(s.height-m)/2);break;case Ho:if(A.y<=0&&(p<=w||c&&(h<=_||v>=E))){I=!1;break}j(Ho),m-=A.y,p+=A.y,m<0&&(l=Eu,m=-m,p-=m),c&&(f=m*c,h+=(s.width-f)/2);break;case aa:if(A.x<=0&&(h<=_||c&&(p<=w||y>=k))){I=!1;break}j(aa),f-=A.x,h+=A.x,f<0&&(l=sa,f=-f,h-=f),c&&(m=f/c,p+=(s.height-m)/2);break;case Eu:if(A.y>=0&&(y>=k||c&&(h<=_||v>=E))){I=!1;break}j(Eu),m+=A.y,m<0&&(l=Ho,m=-m,p-=m),c&&(f=m*c,h+=(s.width-f)/2);break;case vc:if(c){if(A.y<=0&&(p<=w||v>=E)){I=!1;break}j(Ho),m-=A.y,p+=A.y,f=m*c}else j(Ho),j(sa),A.x>=0?v<E?f+=A.x:A.y<=0&&p<=w&&(I=!1):f+=A.x,A.y<=0?p>w&&(m-=A.y,p+=A.y):(m-=A.y,p+=A.y);f<0&&m<0?(l=_c,m=-m,f=-f,p-=m,h-=f):f<0?(l=yc,f=-f,h-=f):m<0&&(l=bc,m=-m,p-=m);break;case yc:if(c){if(A.y<=0&&(p<=w||h<=_)){I=!1;break}j(Ho),m-=A.y,p+=A.y,f=m*c,h+=s.width-f}else j(Ho),j(aa),A.x<=0?h>_?(f-=A.x,h+=A.x):A.y<=0&&p<=w&&(I=!1):(f-=A.x,h+=A.x),A.y<=0?p>w&&(m-=A.y,p+=A.y):(m-=A.y,p+=A.y);f<0&&m<0?(l=bc,m=-m,f=-f,p-=m,h-=f):f<0?(l=vc,f=-f,h-=f):m<0&&(l=_c,m=-m,p-=m);break;case _c:if(c){if(A.x<=0&&(h<=_||y>=k)){I=!1;break}j(aa),f-=A.x,h+=A.x,m=f/c}else j(Eu),j(aa),A.x<=0?h>_?(f-=A.x,h+=A.x):A.y>=0&&y>=k&&(I=!1):(f-=A.x,h+=A.x),A.y>=0?y<k&&(m+=A.y):m+=A.y;f<0&&m<0?(l=vc,m=-m,f=-f,p-=m,h-=f):f<0?(l=bc,f=-f,h-=f):m<0&&(l=yc,m=-m,p-=m);break;case bc:if(c){if(A.x>=0&&(v>=E||y>=k)){I=!1;break}j(sa),f+=A.x,m=f/c}else j(Eu),j(sa),A.x>=0?v<E?f+=A.x:A.y>=0&&y>=k&&(I=!1):f+=A.x,A.y>=0?y<k&&(m+=A.y):m+=A.y;f<0&&m<0?(l=yc,m=-m,f=-f,p-=m,h-=f):f<0?(l=_c,f=-f,h-=f):m<0&&(l=vc,m=-m,p-=m);break;case bR:this.move(A.x,A.y),I=!1;break;case _R:this.zoom(nJ(a),t),I=!1;break;case yR:if(!A.x||!A.y){I=!1;break}C=kR(this.cropper),h=M.startX-C.left,p=M.startY-C.top,f=s.minWidth,m=s.minHeight,A.x>0?l=A.y>0?bc:vc:A.x<0&&(h-=f,l=A.y>0?_c:yc),A.y<0&&(p-=m),this.cropped||(Gi(this.cropBox,Er),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}I&&(s.width=f,s.height=m,s.left=h,s.top=p,this.action=l,this.renderCropBox()),vn(a,function(U){U.startX=U.endX,U.startY=U.endY})}},vJ={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&kn(this.dragBox,kp),Gi(this.cropBox,Er),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Yt({},this.initialImageData),this.canvasData=Yt({},this.initialCanvasData),this.cropBoxData=Yt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Yt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Gi(this.dragBox,kp),kn(this.cropBox,Er)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,vn(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Gi(this.cropper,ok)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,kn(this.cropper,ok)),this},destroy:function(){var t=this.element;return t[Kt]?(t[Kt]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(Hy(t)?t:i+Number(t),Hy(n)?n:s+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(ft(t)&&(r.left=t,i=!0),ft(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var i=this.options,s=this.canvasData,a=s.width,l=s.height,c=s.naturalWidth,h=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var p=c*t,f=h*t;if(Bu(this.element,g_,{ratio:t,oldRatio:a/c,originalEvent:r})===!1)return this;if(r){var m=this.pointers,v=kR(this.cropper),y=m&&Object.keys(m).length?rJ(m):{pageX:r.pageX,pageY:r.pageY};s.left-=(p-a)*((y.pageX-v.left-s.left)/a),s.top-=(f-l)*((y.pageY-v.top-s.top)/l)}else Pu(n)&&ft(n.x)&&ft(n.y)?(s.left-=(p-a)*((n.x-s.left)/a),s.top-=(f-l)*((n.y-s.top)/l)):(s.left-=(p-a)/2,s.top-=(f-l)/2);s.width=p,s.height=f,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),ft(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,ft(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(ft(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(ft(t)&&(r.scaleX=t,i=!0),ft(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var l=r.width/r.naturalWidth;if(vn(a,function(p,f){a[f]=p/l}),t){var c=Math.round(a.y+a.height),h=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=h-a.x,a.height=c-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(t){var n=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&Pu(t)){var a=!1;n.rotatable&&ft(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,a=!0),n.scalable&&(ft(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,a=!0),ft(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;ft(t.x)&&(s.left=t.x*l+i.left),ft(t.y)&&(s.top=t.y*l+i.top),ft(t.width)&&(s.width=t.width*l),ft(t.height)&&(s.height=t.height*l),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Yt({},this.containerData):{}},getImageData:function(){return this.sized?Yt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&vn(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Pu(t)&&(ft(t.left)&&(n.left=t.left),ft(t.top)&&(n.top=t.top),ft(t.width)?(n.width=t.width,n.height=t.width/r):ft(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&Pu(t)&&(ft(t.left)&&(n.left=t.left),ft(t.top)&&(n.top=t.top),ft(t.width)&&t.width!==n.width&&(i=!0,n.width=t.width),ft(t.height)&&t.height!==n.height&&(s=!0,n.height=t.height),r&&(i?n.height=n.width/r:s&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=oJ(this.image,this.imageData,n,t);if(!this.cropped)return r;var i=this.getData(t.rounded),s=i.x,a=i.y,l=i.width,c=i.height,h=r.width/Math.floor(n.naturalWidth);h!==1&&(s*=h,a*=h,l*=h,c*=h);var p=l/c,f=ss({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),m=ss({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=ss({aspectRatio:p,width:t.width||(h!==1?r.width:l),height:t.height||(h!==1?r.height:c)}),y=v.width,_=v.height;y=Math.min(f.width,Math.max(m.width,y)),_=Math.min(f.height,Math.max(m.height,_));var w=document.createElement("canvas"),E=w.getContext("2d");w.width=ju(y),w.height=ju(_),E.fillStyle=t.fillColor||"transparent",E.fillRect(0,0,y,_);var k=t.imageSmoothingEnabled,I=k===void 0?!0:k,C=t.imageSmoothingQuality;E.imageSmoothingEnabled=I,C&&(E.imageSmoothingQuality=C);var M=r.width,A=r.height,j=s,U=a,P,z,L,q,ee,Te;j<=-l||j>M?(j=0,P=0,L=0,ee=0):j<=0?(L=-j,j=0,P=Math.min(M,l+j),ee=P):j<=M&&(L=0,P=Math.min(l,M-j),ee=P),P<=0||U<=-c||U>A?(U=0,z=0,q=0,Te=0):U<=0?(q=-U,U=0,z=Math.min(A,c+U),Te=z):U<=A&&(q=0,z=Math.min(c,A-U),Te=z);var xe=[j,U,P,z];if(ee>0&&Te>0){var ie=y/l;xe.push(L*ie,q*ie,ee*ie,Te*ie)}return E.drawImage.apply(E,[r].concat(vR(xe.map(function(Re){return Math.floor(ju(Re))})))),w},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!Hy(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=t===Fw,a=n.movable&&t===wR;t=s||a?t:ER,n.dragMode=t,_f(r,bf,t),Lu(r,c_,s),Lu(r,f_,a),n.cropBoxMovable||(_f(i,bf,t),Lu(i,c_,s),Lu(i,f_,a))}return this}},yJ=Ji.Cropper,NR=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O2(this,e),!t||!z2.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Yt({},mk,Pu(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return P2(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[Kt]){if(n[Kt]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(H2.test(n)){G2.test(n)?this.read(uJ(n)):this.clone();return}var a=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=l,a.onerror=l,a.ontimeout=l,a.onprogress=function(){a.getResponseHeader("content-type")!==pk&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&vk(n)&&i.crossOrigin&&(n=yk(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=i.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,s=cJ(n),a=0,l=1,c=1;if(s>1){this.url=lJ(n,pk);var h=fJ(s);a=h.rotate,l=h.scaleX,c=h.scaleY}r.rotatable&&(i.rotate=a),r.scalable&&(i.scaleX=l,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,s=r;this.options.checkCrossOrigin&&vk(r)&&(i||(i="anonymous"),s=yk(r)),this.crossOrigin=i,this.crossOriginUrl=s;var a=document.createElement("img");i&&(a.crossOrigin=i),a.src=s||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),kn(a,sk),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Ji.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ji.navigator.userAgent),s=function(h,p){Yt(n.imageData,{naturalWidth:h,naturalHeight:p,aspectRatio:h/p}),n.initialImageData=Yt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){s(a.width,a.height),i||l.removeChild(a)},a.src=r.src,i||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,s=n.parentNode,a=document.createElement("div");a.innerHTML=q2;var l=a.querySelector(".".concat(Kt,"-container")),c=l.querySelector(".".concat(Kt,"-canvas")),h=l.querySelector(".".concat(Kt,"-drag-box")),p=l.querySelector(".".concat(Kt,"-crop-box")),f=p.querySelector(".".concat(Kt,"-face"));this.container=s,this.cropper=l,this.canvas=c,this.dragBox=h,this.cropBox=p,this.viewBox=l.querySelector(".".concat(Kt,"-view-box")),this.face=f,c.appendChild(i),kn(n,Er),s.insertBefore(l,n.nextSibling),Gi(i,sk),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,kn(p,Er),r.guides||kn(p.getElementsByClassName("".concat(Kt,"-dashed")),Er),r.center||kn(p.getElementsByClassName("".concat(Kt,"-center")),Er),r.background&&kn(l,"".concat(Kt,"-bg")),r.highlight||kn(f,U2),r.cropBoxMovable&&(kn(f,f_),_f(f,bf,Mw)),r.cropBoxResizable||(kn(p.getElementsByClassName("".concat(Kt,"-line")),Er),kn(p.getElementsByClassName("".concat(Kt,"-point")),Er)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),wr(r.ready)&&ti(n,fk,r.ready,{once:!0}),Bu(n,fk)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Gi(this.element,Er)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=yJ,e}},{key:"setDefaults",value:function(n){Yt(mk,Pu(n)&&n)}}])}();Yt(NR.prototype,hJ,dJ,pJ,mJ,gJ,vJ);const bJ={name:"CropperImage",data(){return{cropper:null,imageSrc:null,imageFile:[]}},emits:["isCloseCropper"],props:{tempCropperFile:{type:Object,require:!0}},methods:{initCropper(){this.cropper&&this.cropper.destroy();const e=this.$refs.cropImage;this.cropper=new NR(e,{aspectRatio:1,preview:".img-preview",viewMode:1,data:{x:0,y:0},minContainerHeight:600})},setImage(e){const t=new FileReader;t.readAsDataURL(this.tempCropperFile.file),t.onload=n=>{this.imageSrc=n.target.result,this.$nextTick(()=>{this.initCropper()})}},cropAndSave(){this.cropper.getCroppedCanvas().toBlob(e=>{const t=`cropped_${Date.now()}.jpeg`,n=new File([e],t,{type:"image/jpeg"}),r=URL.createObjectURL(n);this.$emit("isCloseCropper",{isClose:!0,file:n,imgUrl:r,imgType:this.tempCropperFile.imageType})},"image/jpeg")},closeCropper(){this.$emit("isCloseCropper",{isClose:!0}),this.cropper.destroy()}},mounted(){this.initCropper(),this.setImage()},beforeDestroy(){this.cropper&&this.cropper.destroy()}},_J={tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/90 right-0 left-0 z-40 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0"},wJ={class:"relative md:top-[20px] md:m-auto w-full max-w-lg h-auto"},EJ={class:"relative py-2 text-center bg-zinc-800 rounded-lg shadow dark:bg-gray-800"},TJ=S("svg",{"aria-hidden":"true",class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),SJ=[TJ],IJ={class:"mx-2"},AJ={class:"max-w-lg relative"},xJ=["src"],kJ=S("div",{class:"absolute bottom-0 left-1 docs-preview"},[S("div",{class:"img-preview preview-md"})],-1),CJ={class:"flex justify-center items-center mt-3"},NJ={class:"w-full"};function OJ(e,t,n,r,i,s){return me(),_e("div",_J,[S("div",wJ,[S("div",EJ,[S("button",{type:"button",class:"text-rose-500 absolute top-2.5 right-2.5 z-50 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[0]||(t[0]=(...a)=>s.closeCropper&&s.closeCropper(...a))},SJ),S("div",IJ,[S("div",AJ,[S("img",{ref:"cropImage",src:i.imageSrc,alt:"Source Image"},null,8,xJ),kJ]),S("div",CJ,[S("div",NJ,[S("button",{type:"button",class:"w-full ml-1 py-1 rounded text-white bg-rose-600",onClick:t[1]||(t[1]=(...a)=>s.cropAndSave&&s.cropAndSave(...a))},K(e.$t("button.confirm_cropper")),1)])])])])])])}const OR=Nt(bJ,[["render",OJ]]),PJ={data(){return{toggle:!1,message:"",tempCropperFile:{},uploadSignerImgTempUrl:"",uploadAlbumImgTempUrl:"",uploadSchema:{albumSinger:"required",albumName:"required",albumGenre:"required",albumDesc:"required|min:3"},userData:{albumGenre:"America"}}},components:{ToastMessage:Zi,CropperImag:OR},computed:{...Mt(ai,["albumMakeTemp"])},methods:{uploadSubmit(e){},uploadImg(e){return new Promise((t,n)=>{const r=e.target.files[0];if(!r)return;if(!["image/jpeg","image/png","image/jpg","image/bmp"].includes(r.type)){this.toggle=!this.toggle,this.message=this.$t("alertMsg.file_extension_check_alert"),n(new Error("Invalid file type."));return}const s=URL.createObjectURL(r),a=new Image;a.src=s,a.onload=()=>{const l=a.naturalWidth,c=a.naturalHeight;if(l!==c){this.toggle=!this.toggle,this.message=this.$t(""),n(new Error("Invalid image dimensions."));return}else if(l<200&&c<200){this.toggle=!this.toggle,this.message=this.$t("alertMsg.photo_pixel_than_suggetion_alert"),n(new Error("Invalid image dimensions."));return}else t({file:r,imgUrl:s})}})},async uploadSignerImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"signer"}},async uploadAlbumImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"album"}},isCloseCropper(e={}){console.log("setClose => ",e);const{isClose:t,file:n,imgUrl:r,imgType:i}=e;i==="signer"?(this.uploadSignerImgTempUrl=r,this.albumMakeTemp.albumUploadSingnerImgFile=n):i==="album"&&(this.uploadAlbumImgTempUrl=r,this.albumMakeTemp.albumUploadAlbumImgFile=n),t&&(this.tempCropperFile={})}}},LJ={class:"p-6"},RJ={class:"flex justify-between gap-2"},DJ={key:0,class:"mx-auto"},MJ=["src"],FJ={key:0,class:"mx-auto"},UJ=["src"],VJ=S("hr",{class:"my-6"},null,-1),$J={class:"inline-block mb-2"},jJ={class:"inline-block mb-2"},BJ={class:"inline-block mb-2"},HJ={class:"bg-gray-700 text-zinc-100",value:"Acoustic"},GJ={class:"bg-gray-700 text-zinc-100",value:"Blues"},zJ={class:"bg-gray-700 text-zinc-100",value:"Classical"},qJ={class:"bg-gray-700 text-zinc-100",value:"Country"},WJ={class:"bg-gray-700 text-zinc-100",value:"Dance"},KJ={class:"bg-gray-700 text-zinc-100",value:"Drones"},YJ={class:"bg-gray-700 text-zinc-100",value:"Dubstep"},XJ={class:"bg-gray-700 text-zinc-100",value:"Easy Listening"},JJ={class:"bg-gray-700 text-zinc-100",value:"Folk"},QJ={class:"bg-gray-700 text-zinc-100",value:"Funk"},ZJ={class:"bg-gray-700 text-zinc-100",value:"Hip Hop"},eQ={class:"bg-gray-700 text-zinc-100",value:"House"},tQ={class:"bg-gray-700 text-zinc-100",value:"Kitsch"},nQ={class:"bg-gray-700 text-zinc-100",value:"Latin"},rQ={class:"bg-gray-700 text-zinc-100",value:"March"},iQ={class:"bg-gray-700 text-zinc-100",value:"Metal"},oQ={class:"bg-gray-700 text-zinc-100",value:"Opera"},sQ={class:"bg-gray-700 text-zinc-100",value:"Pop"},aQ={class:"bg-gray-700 text-zinc-100",value:"Rock"},uQ={class:"bg-gray-700 text-zinc-100",value:"Soul"},lQ={class:"bg-gray-700 text-zinc-100",value:"Urban / R&B"},cQ={class:"bg-gray-700 text-zinc-100",value:"World Music"},fQ={class:"bg-gray-700 text-zinc-100",value:"Other"},hQ={class:"inline-block mb-2"},dQ={class:"inline-block mb-2"};function pQ(e,t,n,r,i,s){const a=De("ToastMessage"),l=De("CropperImag"),c=De("vee-field"),h=De("ErrorMessage"),p=De("vee-form");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),i.tempCropperFile.file?(me(),ms(l,{key:0,tempCropperFile:i.tempCropperFile,onIsCloseCropper:s.isCloseCropper},null,8,["tempCropperFile","onIsCloseCropper"])):Hr("",!0),S("div",LJ,[S("div",RJ,[S("label",{class:We(["relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"px-10":!i.uploadSignerImgTempUrl,"md:py-20 py-10":!i.uploadSignerImgTempUrl}])},[S("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=f=>s.uploadSignerImg(f))},null,32),i.uploadSignerImgTempUrl?(me(),_e("img",{key:1,src:i.uploadSignerImgTempUrl,alt:""},null,8,MJ)):(me(),_e("h6",DJ,K(e.$t("makeAlbumPage.upload_singer_photo")),1)),Sa(S("h6",{class:"absolute top-1 left-2 text-rose-500"},K(e.$t("makeAlbumPage.singer_photo")),513),[[Hd,i.uploadSignerImgTempUrl]])],2),S("label",{class:We(["relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"px-10":!i.uploadAlbumImgTempUrl,"md:py-20 py-10":!i.uploadAlbumImgTempUrl}])},[S("input",{type:"file",class:"hidden",onChange:t[1]||(t[1]=f=>s.uploadAlbumImg(f))},null,32),i.uploadAlbumImgTempUrl?(me(),_e("img",{key:1,src:i.uploadAlbumImgTempUrl,alt:""},null,8,UJ)):(me(),_e("h6",FJ,K(e.$t("makeAlbumPage.upload_album_cover")),1)),Sa(S("h6",{class:"absolute top-1 left-2 text-rose-500"},K(e.$t("makeAlbumPage.album_cover")),513),[[Hd,i.uploadAlbumImgTempUrl]])],2)]),VJ,ae(p,{"validation-schema":i.uploadSchema,"initial-values":i.userData},{default:Wn(()=>[S("div",null,[S("label",$J,K(e.$t("makeAlbumPage.singer_name")),1),ae(c,{type:"text",name:"albumSinger",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.singer_name"),modelValue:e.albumMakeTemp.albumSinger,"onUpdate:modelValue":t[2]||(t[2]=f=>e.albumMakeTemp.albumSinger=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumSinger"})]),S("div",null,[S("label",jJ,K(e.$t("makeAlbumPage.album_name")),1),ae(c,{type:"text",name:"albumName",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.album_name"),modelValue:e.albumMakeTemp.albumName,"onUpdate:modelValue":t[3]||(t[3]=f=>e.albumMakeTemp.albumName=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumName"})]),S("div",null,[S("label",BJ,K(e.$t("makeAlbumPage.album_genre")),1),ae(c,{as:"select",name:"albumGenre",class:"block h-10 w-full truncate px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",modelValue:e.albumMakeTemp.albumGenre,"onUpdate:modelValue":t[4]||(t[4]=f=>e.albumMakeTemp.albumGenre=f)},{default:Wn(()=>[S("option",HJ,K(e.$t("makeAlbumPage.albumGenre.Acoustic")),1),S("option",GJ,K(e.$t("makeAlbumPage.albumGenre.Blues")),1),S("option",zJ,K(e.$t("makeAlbumPage.albumGenre.Classical")),1),S("option",qJ,K(e.$t("makeAlbumPage.albumGenre.Country")),1),S("option",WJ,K(e.$t("makeAlbumPage.albumGenre.Dance_Electronica")),1),S("option",KJ,K(e.$t("makeAlbumPage.albumGenre.Drones")),1),S("option",YJ,K(e.$t("makeAlbumPage.albumGenre.Dubstep")),1),S("option",XJ,K(e.$t("makeAlbumPage.albumGenre.Easy_Listening")),1),S("option",JJ,K(e.$t("makeAlbumPage.albumGenre.Folk")),1),S("option",QJ,K(e.$t("makeAlbumPage.albumGenre.Funk")),1),S("option",ZJ,K(e.$t("makeAlbumPage.albumGenre.Hip_Hop")),1),S("option",eQ,K(e.$t("makeAlbumPage.albumGenre.House")),1),S("option",tQ,K(e.$t("makeAlbumPage.albumGenre.Kitsch")),1),S("option",nQ,K(e.$t("makeAlbumPage.albumGenre.Latin")),1),S("option",rQ,K(e.$t("makeAlbumPage.albumGenre.March"))+"/option> ",1),S("option",iQ,K(e.$t("makeAlbumPage.albumGenre.Metal")),1),S("option",oQ,K(e.$t("makeAlbumPage.albumGenre.Opera")),1),S("option",sQ,K(e.$t("makeAlbumPage.albumGenre.Pop")),1),S("option",aQ,K(e.$t("makeAlbumPage.albumGenre.Rock")),1),S("option",uQ,K(e.$t("makeAlbumPage.albumGenre.Soul")),1),S("option",lQ,K(e.$t("makeAlbumPage.albumGenre.Urban_R&Bl")),1),S("option",cQ,K(e.$t("makeAlbumPage.albumGenre.World_Music")),1),S("option",fQ,K(e.$t("makeAlbumPage.albumGenre.Other")),1)]),_:1},8,["modelValue"]),ae(h,{class:"text-red-600",name:"albumGenre"})]),S("div",null,[S("label",hQ,K(e.$t("makeAlbumPage.album_desc")),1),ae(c,{as:"textarea",name:"albumDesc",class:"block w-full h-24 py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.descript_your_album"),modelValue:e.albumMakeTemp.albumDesc,"onUpdate:modelValue":t[5]||(t[5]=f=>e.albumMakeTemp.albumDesc=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumDesc"})]),S("div",null,[S("label",dQ,K(e.$t("makeAlbumPage.singer_desc")),1),ae(c,{as:"textarea",name:"albumSingerDesc",class:"block w-full h-24 py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.descript_yourself"),modelValue:e.albumMakeTemp.albumSingerDesc,"onUpdate:modelValue":t[6]||(t[6]=f=>e.albumMakeTemp.albumSingerDesc=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumSingerDesc"})])]),_:1},8,["validation-schema","initial-values"])])],64)}const mQ=Nt(PJ,[["render",pQ]]),gQ={props:{isShow:{type:Boolean,required:!0}},computed:{...ln(Ln,["uid"]),...Mt(ai,["albumMakeTemp"])},methods:{...$n(ai,["initalbumMakeTemp"]),async releaseToPublic(){const{albumID:e}=this.albumMakeTemp,t=si.doc("fundraising"),n=await t.get();try{if(await t.collection(this.uid).doc(e).update({isRelease:!0}),n.exists){let s=n.data().items;s.forEach(a=>(a.albumID===e&&(a.isRelease=!0),a)),await t.update({items:s})}const i=this.albumMakeTemp.albumSinger;this.initalbumMakeTemp(),this.$router.push({name:"album",params:{gener:"fundraising",albumSinger:i}})}catch(r){console.log("error => ",r)}},goToHome(){this.initalbumMakeTemp(),this.$router.push({name:"home"})}}},vQ={class:"relative top-[120px] md:m-auto w-full max-w-sm h-auto"},yQ={class:"relative py-4 text-center bg-zinc-800/90 rounded-lg shadow dark:bg-gray-800"},bQ=S("svg",{class:"text-green-400 w-7 h-7 mb-1 mx-auto","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[S("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})],-1),_Q={class:"flex items-center justify-around pt-2 py-5"},wQ={class:"flex justify-center items-center space-x-4"};function EQ(e,t,n,r,i,s){return me(),_e("div",{id:"deleteModal",tabindex:"-1","aria-hidden":"true",class:We(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!n.isShow}])},[S("div",vQ,[S("div",yQ,[bQ,S("div",_Q,[S("p",{class:We(["flex-1 text-gray-300 dark:text-gray-300 text-center",{"px-2":e.$i18n.locale==="en"}])},K(e.$t("alertMsg.album_complete_alert")),3)]),S("div",wQ,[S("button",{"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-zinc-200 bg-black/10 rounded-lg border border-gray-500 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:t[0]||(t[0]=qe(a=>s.goToHome(),["prevent"]))},K(e.$t("button.publish_later")),1),S("button",{type:"submit",class:"py-2 px-3 text-sm font-medium text-center text-white bg-green-500/80 rounded-lg hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500/ dark:hover:bg-red-600 dark:focus:ring-red-900",onClick:t[1]||(t[1]=qe(a=>s.releaseToPublic(),["prevent"]))},K(e.$t("button.yes")),1)])])])],2)}const TQ=Nt(gQ,[["render",EQ]]),SQ={data(){return{toggle:!1,message:"",success:!1,uploadsTemp:[],uploadAvilable:!0,isComplete:!1,showLoading:!1}},components:{toastMessage:Zi,alertCompleteConfirm:TQ,Loading:Kf},computed:{...Mt(ai,["albumMakeTemp"]),...Mt(Xi,["isShowAlertConfirm"]),...ln(Ln,["uid"]),canBeSubmit(){if(this.uid==""||this.albumMakeTemp.albumSinger==""||this.albumMakeTemp.albumName==""||this.albumMakeTemp.albumDesc==""||!this.albumMakeTemp.albumUploadSingnerImgFile.lastModified||!this.albumMakeTemp.albumUploadAlbumImgFile.lastModified||this.uploadsTemp.length===0)return!0}},methods:{uploadSong(e){[...e.target.files].forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsTemp.push({file:n,current_progress:0,icon:"",text_class:"",variant:"",isUploadComplete:!1,isUploading:!1})})},async uploadImage(e){return this.showLoading=!0,new Promise((t,n)=>{const s=ri.ref().child(`images/${e.name}`).put(e);s.on("state_changed",a=>{},a=>{console.error("error => ",a),n(a)},async()=>{try{const a=await s.snapshot.ref.getDownloadURL();t(a)}catch(a){console.error("error => ",a),n(a)}})})},async uploadSignerImg(){const e=this.albumMakeTemp.albumUploadSingnerImgFile,t=await this.uploadImage(e);this.albumMakeTemp.albumSingerImg=t},async uploadAlbumImg(){const e=this.albumMakeTemp.albumUploadAlbumImgFile,t=await this.uploadImage(e);this.albumMakeTemp.albumImg=t},async storeToAlbum(){const e=`album_${Date.now()}_${Math.floor(Math.random()*1e4)}`;this.albumMakeTemp.albumID=e;const t={uid:this.uid,albumDesc:this.albumMakeTemp.albumDesc,albumImg:this.albumMakeTemp.albumImg,albumName:this.albumMakeTemp.albumName,albumSinger:this.albumMakeTemp.albumSinger,albumGenre:this.albumMakeTemp.albumGenre.toLocaleLowerCase(),albumSingerDesc:this.albumMakeTemp.albumSingerDesc,albumSingerImg:this.albumMakeTemp.albumSingerImg,albumID:e,isRelease:!1,type:"member_fundraising",createdAt:Fe.firestore.FieldValue.serverTimestamp(),fundraising_total:5e5,fundraising_raised:0,fundraising_count:0,fundraising_dueDate:"2024-11-01"},n=si.doc("fundraising"),r=_w.doc(this.uid);try{(await n.get()).exists?(await n.collection(this.uid).doc(e).set(t),t.createdAt=Date.now(),await n.update({items:Fe.firestore.FieldValue.arrayUnion(t)})):(await si.doc("fundraising").collection(this.uid).doc(e).set(t),t.createdAt=Date.now(),await si.doc("fundraising").set({items:[t]})),await r.update({albums:Fe.firestore.FieldValue.arrayUnion(e)})}catch(i){console.error("Error updating document: ",i);return}},async storeToSong(){this.showLoading=!1,this.uploadsTemp.forEach((e,t)=>{const i=ri.ref().child(`fundraising_songss/${e.file.name}`).put(e.file);this.uploadsTemp[t].icon="fas fa-spinner fa-spin",this.uploadsTemp[t].variant="bg-blue-400",this.uploadsTemp[t].isUploading=!0,i.on("state_changed",s=>{let a=s.bytesTransferred/s.totalBytes*100;this.uploadsTemp[t].current_progress=a},s=>{this.uploadsTemp[t].variant="bg-red-400",this.uploadsTemp[t].icon="fa fa-times",this.uploadsTemp[t].text_class="text-red-400"},async()=>{try{const s={albumID:this.albumMakeTemp.albumID,album:this.albumMakeTemp.albumName,coverImg:this.albumMakeTemp.albumImg,uid:this.uid,display_name:this.albumMakeTemp.albumSinger,original_name:i.snapshot.ref.name,modified_name:yn.formatSongName(i.snapshot.ref.name),genre:this.albumMakeTemp.albumGenre.toLowerCase(),comment_count:0,type:"member_fundingraise",createdAt:Fe.firestore.FieldValue.serverTimestamp()};s.url=await i.snapshot.ref.getDownloadURL(),await zr.add(s)}catch(s){console.log("error => ",s);return}this.uploadsTemp[t].variant="bg-green-400",this.uploadsTemp[t].icon="fa fa-check",this.uploadsTemp[t].text_class="text-green-400",this.uploadsTemp[t].isUploadComplete=!0,this.uploadsTemp.length-1===t&&(this.isComplete=!0,this.uploadAvilable=!1)})})},deleteSong(e){this.uploadsTemp.length<1||this.uploadsTemp.splice(e,1)},async submit(){await this.uploadSignerImg(),await this.uploadAlbumImg(),await this.storeToAlbum(),await this.storeToSong()},formatIndex:yn.formatIndex,formatSongName:yn.formatSongName},mounted(){this.uid||(this.toggle=!this.toggle,this.message=this.$t("ErroMsg.login_to_use"))}},IQ={class:"p-6"},AQ={class:"cursor-pointer py-1.5 px-3 mr-2 rounded text-zinc-100 bg-rose-500 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400"},xQ={class:"mt-4"},kQ={class:"mb-3 border-b-2 border-[#fff]/30 pb-2"},CQ={class:"flex items-center justify-between"},NQ={class:"overflow-hidden flex items-center"},OQ={class:"pl-2 truncate"},PQ={class:""},LQ=["onClick"],RQ=S("i",{class:"fa fa-times"},null,-1),DQ=[RQ],MQ={key:0,class:"flex h-4 mt-1 overflow-hidden bg-gray-200 rounded"},FQ={class:"flex justify-between items-center"},UQ={class:"text-sm text-pink-600"},VQ=["disabled"];function $Q(e,t,n,r,i,s){const a=De("Loading"),l=De("alertCompleteConfirm"),c=De("toastMessage");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l,{isShow:i.isComplete},null,8,["isShow"]),ae(c,{toggle:i.toggle,message:i.message,success:i.success},null,8,["toggle","message","success"]),S("div",IQ,[S("label",AQ,[S("input",{type:"file",class:"hidden",multiple:"",onChange:t[0]||(t[0]=h=>s.uploadSong(h))},null,32),S("span",null,K(e.$t("button.upload_song")),1)]),S("div",xQ,[S("p",kQ,K(e.$t("makeAlbumPage.the_song_you_want_to_upload"))+": ",1),(me(!0),_e(vt,null,qi(i.uploadsTemp,(h,p)=>(me(),_e("div",{class:"mb-4",key:h.file.name},[S("div",{class:We(["border border-zinc-200 p-2 mb-4 rounded font-bold text-sm",h.text_class])},[S("div",CQ,[S("div",NQ,[S("i",{class:We(h.icon)},null,2),S("p",OQ,K(s.formatIndex(p))+". "+K(s.formatSongName(h.file.name)),1)]),S("div",PQ,[h.isUploadComplete?Hr("",!0):(me(),_e("button",{key:0,class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(f=>s.deleteSong(p),["prevent"])},DQ,8,LQ))])])],2),h.isUploading?(me(),_e("div",MQ,[S("div",{class:We(["transition-all progress-bar",h.variant]),style:jr({width:h.current_progress+"%"})},null,6)])):Hr("",!0)]))),128)),S("div",FQ,[S("div",{class:We({"opacity-0":e.uid})},[S("span",UQ,K(e.$t("alertMsg.registered_yet")),1)],2),i.uploadAvilable?(me(),_e("button",{key:0,type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-rose-500 w-30 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",disabled:s.canBeSubmit,onClick:t[1]||(t[1]=(...h)=>s.submit&&s.submit(...h))},K(e.$t("button.confirm_upload")),9,VQ)):Hr("",!0)])])])],64)}const jQ=Nt(SQ,[["render",$Q]]),BQ={components:{UploadImageMakeAlbum:mQ,UploadSongMakeAlbum:jQ}},HQ={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},GQ={class:"container mx-auto pt-1 pr-1 md:pr-0"},zQ={class:"md:grid md:grid-cols-3 md:gap-4"},qQ={class:"col-span-1"},WQ={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},KQ={class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},YQ={class:"card-title"},XQ=S("i",{class:"fa fa-music float-right text-rose-400 text-xl"},null,-1),JQ={class:"col-span-2 mt-3 md:mt-0"},QQ={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},ZQ={class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},eZ={class:"card-title"},tZ=S("i",{class:"fa fa-upload float-right text-rose-400 text-xl"},null,-1);function nZ(e,t,n,r,i,s){const a=De("UploadImageMakeAlbum"),l=De("UploadSongMakeAlbum");return me(),_e("main",HQ,[S("section",GQ,[S("div",zQ,[S("div",qQ,[S("div",WQ,[S("div",KQ,[S("span",YQ,K(e.$t("makeAlbumPage.start_to_make_album_title")),1),XQ]),ae(a)])]),S("div",JQ,[S("div",QQ,[S("div",ZQ,[S("span",eZ,K(e.$t("makeAlbumPage.upload_your_song_title")),1),tZ]),ae(l)])])])])])}const rZ=Nt(BQ,[["render",nZ]]),iZ={data(){return{toggle:!1,message:"",tempCropperFile:{},uploadSignerImgTempUrl:"",uploadAlbumImgTempUrl:"",uploadSchema:{albumSinger:"required",albumName:"required",albumGenre:"required",albumDesc:"required|min:3"},userData:{albumGenre:"America"}}},props:["isClose"],components:{ToastMessage:Zi,CropperImag:OR},computed:{...Mt(ai,["albumEditTemp"])},methods:{async uploadSignerImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"signer"}},async uploadAlbumImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"album"}},isCloseCropper(e={}){const{isClose:t,file:n,imgUrl:r,imgType:i}=e;i==="signer"?(this.uploadSignerImgTempUrl=r,this.albumEditTemp.albumUploadSingnerImgFile=n):i==="album"&&(this.uploadAlbumImgTempUrl=r,this.albumEditTemp.albumUploadAlbumImgFile=n),t&&(this.tempCropperFile={})}},watch:{isClose(){this.isClose||(this.uploadSignerImgTempUrl="",this.uploadAlbumImgTempUrl="")}}},oZ={class:"md:order-1 md:w-[50%] w-full rounded border border-gray-200/70 px-3"},sZ={class:"px-1 pt-6 pb-3 font-bold border-b border-gray-200 flex justify-between"},aZ={class:"card-title"},uZ=S("i",{class:"fa fa-music float-right text-rose-400 text-xl"},null,-1),lZ={class:"flex justify-between gap-5 mt-3"},cZ={class:"relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid"},fZ=["src"],hZ={class:"absolute top-1 left-2 text-rose-500"},dZ={class:"relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid"},pZ=["src"],mZ={class:"absolute top-1 left-2 text-rose-500"},gZ=S("div",{class:"my-4 border-b-[1.5px] border-zinc-500"},null,-1),vZ={class:"flex justify-start pl-1"},yZ={class:"inline-flex items-center mb-3 cursor-pointer"},bZ={class:"mr-5 truncate"},_Z=S("div",{class:"relative w-9 h-5 bg-white/20 border-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-rose-300 dark:peer-focus:ring-rose-500 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-rose-200 after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-rose-500"},null,-1),wZ={key:0,class:"truncate pl-2 text-emerald-500"},EZ=S("i",{class:"fas fa-check-circle"},null,-1),TZ={key:1,class:"truncate pl-2 text-rose-600"},SZ=S("i",{class:"fas fa-bell"},null,-1),IZ={class:"flex gap-2 items-center mb-3"},AZ={class:"text-left"},xZ={class:"flex gap-2 items-center mb-3"},kZ={class:"text-left"},CZ={class:"flex gap-2 items-center mb-3"},NZ={class:"bg-gray-700 text-zinc-100",value:"Acoustic"},OZ={class:"bg-gray-700 text-zinc-100",value:"Blues"},PZ={class:"bg-gray-700 text-zinc-100",value:"Classical"},LZ={class:"bg-gray-700 text-zinc-100",value:"Country"},RZ={class:"bg-gray-700 text-zinc-100",value:"Dance"},DZ={class:"bg-gray-700 text-zinc-100",value:"Drones"},MZ={class:"bg-gray-700 text-zinc-100",value:"Dubstep"},FZ={class:"bg-gray-700 text-zinc-100",value:"Easy Listening"},UZ={class:"bg-gray-700 text-zinc-100",value:"Folk"},VZ={class:"bg-gray-700 text-zinc-100",value:"Funk"},$Z={class:"bg-gray-700 text-zinc-100",value:"Hip Hop"},jZ={class:"bg-gray-700 text-zinc-100",value:"House"},BZ={class:"bg-gray-700 text-zinc-100",value:"Kitsch"},HZ={class:"bg-gray-700 text-zinc-100",value:"Latin"},GZ={class:"bg-gray-700 text-zinc-100",value:"March"},zZ={class:"bg-gray-700 text-zinc-100",value:"Metal"},qZ={class:"bg-gray-700 text-zinc-100",value:"Opera"},WZ={class:"bg-gray-700 text-zinc-100",value:"Pop"},KZ={class:"bg-gray-700 text-zinc-100",value:"Rock"},YZ={class:"bg-gray-700 text-zinc-100",value:"Soul"},XZ={class:"bg-gray-700 text-zinc-100",value:"Urban / R&B"},JZ={class:"bg-gray-700 text-zinc-100",value:"World Music"},QZ={class:"bg-gray-700 text-zinc-100",value:"Other"},ZZ={class:"text-left"},eee={class:"flex gap-2 items-center mb-3"},tee={class:"text-left"},nee={class:"flex gap-2 items-center mb-3"},ree={class:"text-left"};function iee(e,t,n,r,i,s){const a=De("ToastMessage"),l=De("CropperImag"),c=De("vee-field"),h=De("ErrorMessage"),p=De("vee-form");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),i.tempCropperFile.file?(me(),ms(l,{key:0,tempCropperFile:i.tempCropperFile,onIsCloseCropper:s.isCloseCropper},null,8,["tempCropperFile","onIsCloseCropper"])):Hr("",!0),S("div",oZ,[S("div",sZ,[S("span",aZ,K(e.$t("memberMamagePage.editAlbum.album_info")),1),uZ]),S("div",lZ,[S("label",cZ,[S("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=f=>s.uploadSignerImg(f))},null,32),S("img",{src:i.uploadSignerImgTempUrl?i.uploadSignerImgTempUrl:e.albumEditTemp.albumSingerImg,alt:""},null,8,fZ),S("h6",hZ,K(e.$t("makeAlbumPage.singer_photo")),1)]),S("label",dZ,[S("input",{type:"file",class:"hidden",onChange:t[1]||(t[1]=f=>s.uploadAlbumImg(f))},null,32),S("img",{src:i.uploadAlbumImgTempUrl?i.uploadAlbumImgTempUrl:e.albumEditTemp.albumImg,alt:""},null,8,pZ),S("h6",mZ,K(e.$t("makeAlbumPage.album_cover")),1)])]),gZ,S("div",vZ,[S("label",yZ,[S("span",bZ,K(e.$t("memberMamagePage.editAlbum.make_album_public"))+" :",1),Sa(S("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=f=>e.albumEditTemp.isRelease=f),class:"sr-only peer",onChange:t[3]||(t[3]=(...f)=>e.updateRelease&&e.updateRelease(...f))},null,544),[[B$,e.albumEditTemp.isRelease]]),_Z,e.albumEditTemp.isRelease?(me(),_e("span",wZ,[Hc(K(e.$t("memberMamagePage.editAlbum.album_is_public"))+" ",1),EZ])):(me(),_e("span",TZ,[Hc(K(e.$t("memberMamagePage.editAlbum.album_is_private"))+" ",1),SZ]))])]),ae(p,{"validation-schema":i.uploadSchema,"initial-values":i.userData},{default:Wn(()=>[S("div",IZ,[S("label",{class:We({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},K(e.$t("memberMamagePage.editAlbum.singer_name"))+" :",3),ae(c,{type:"text",name:"albumSinger",class:"flex-1 py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.singer_name"),modelValue:e.albumEditTemp.albumSinger,"onUpdate:modelValue":t[4]||(t[4]=f=>e.albumEditTemp.albumSinger=f)},null,8,["placeholder","modelValue"])]),S("div",AZ,[ae(h,{class:"text-pink-600",name:"albumSinger"})]),S("div",xZ,[S("label",{class:We({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},K(e.$t("memberMamagePage.editAlbum.album_name"))+" :",3),ae(c,{type:"text",name:"albumName",class:"flex-1 py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.album_name"),modelValue:e.albumEditTemp.albumName,"onUpdate:modelValue":t[5]||(t[5]=f=>e.albumEditTemp.albumName=f)},null,8,["placeholder","modelValue"])]),S("div",kZ,[ae(h,{class:"text-pink-600",name:"albumName"})]),S("div",CZ,[S("label",{class:We({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},K(e.$t("memberMamagePage.editAlbum.album_genre"))+" :",3),ae(c,{as:"select",name:"albumGenre",class:"flex-1 h-10 max-w-[75%] md:max-w-full truncate px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",modelValue:e.albumEditTemp.albumGenre,"onUpdate:modelValue":t[6]||(t[6]=f=>e.albumEditTemp.albumGenre=f)},{default:Wn(()=>[S("option",NZ,K(e.$t("makeAlbumPage.albumGenre.Acoustic")),1),S("option",OZ,K(e.$t("makeAlbumPage.albumGenre.Blues")),1),S("option",PZ,K(e.$t("makeAlbumPage.albumGenre.Classical")),1),S("option",LZ,K(e.$t("makeAlbumPage.albumGenre.Country")),1),S("option",RZ,K(e.$t("makeAlbumPage.albumGenre.Dance_Electronica")),1),S("option",DZ,K(e.$t("makeAlbumPage.albumGenre.Drones")),1),S("option",MZ,K(e.$t("makeAlbumPage.albumGenre.Dubstep")),1),S("option",FZ,K(e.$t("makeAlbumPage.albumGenre.Easy_Listening")),1),S("option",UZ,K(e.$t("makeAlbumPage.albumGenre.Folk")),1),S("option",VZ,K(e.$t("makeAlbumPage.albumGenre.Funk")),1),S("option",$Z,K(e.$t("makeAlbumPage.albumGenre.Hip_Hop")),1),S("option",jZ,K(e.$t("makeAlbumPage.albumGenre.House")),1),S("option",BZ,K(e.$t("makeAlbumPage.albumGenre.Kitsch")),1),S("option",HZ,K(e.$t("makeAlbumPage.albumGenre.Latin")),1),S("option",GZ,K(e.$t("makeAlbumPage.albumGenre.March"))+"/option> ",1),S("option",zZ,K(e.$t("makeAlbumPage.albumGenre.Metal")),1),S("option",qZ,K(e.$t("makeAlbumPage.albumGenre.Opera")),1),S("option",WZ,K(e.$t("makeAlbumPage.albumGenre.Pop")),1),S("option",KZ,K(e.$t("makeAlbumPage.albumGenre.Rock")),1),S("option",YZ,K(e.$t("makeAlbumPage.albumGenre.Soul")),1),S("option",XZ,K(e.$t("makeAlbumPage.albumGenre.Urban_R&Bl")),1),S("option",JZ,K(e.$t("makeAlbumPage.albumGenre.World_Music")),1),S("option",QZ,K(e.$t("makeAlbumPage.albumGenre.Other")),1)]),_:1},8,["modelValue"])]),S("div",ZZ,[ae(h,{class:"text-pink-600",name:"albumGenre"})]),S("div",eee,[S("label",{class:We({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},K(e.$t("memberMamagePage.editAlbum.singer_desc"))+" :",3),ae(c,{as:"textarea",name:"albumSingerDesc",class:"flex-1 py-1.5 px-3 h-20 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.singer_desc"),modelValue:e.albumEditTemp.albumSingerDesc,"onUpdate:modelValue":t[7]||(t[7]=f=>e.albumEditTemp.albumSingerDesc=f)},null,8,["placeholder","modelValue"])]),S("div",tee,[ae(h,{class:"text-pink-600",name:"albumSingerDesc"})]),S("div",nee,[S("label",{class:We({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},K(e.$t("memberMamagePage.editAlbum.album_desc"))+" :",3),ae(c,{as:"textarea",name:"albumDesc",class:"flex-1 py-1.5 px-3 h-20 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.album_desc"),modelValue:e.albumEditTemp.albumDesc,"onUpdate:modelValue":t[8]||(t[8]=f=>e.albumEditTemp.albumDesc=f)},null,8,["placeholder","modelValue"])]),S("div",ree,[ae(h,{class:"text-pink-600",name:"albumDesc"})])]),_:1},8,["validation-schema","initial-values"])])],64)}const oee=Nt(iZ,[["render",iee]]),see={data(){return{showLoading:!1,toggle:!1,message:"",uploadsNesSongs:[],deleteAlbumSongs:[]}},props:["isClose"],components:{Loading:Kf,toastMessage:Zi},computed:{...Mt(ai,["albumEditTemp"]),...ln(Ln,["uid"])},methods:{...$n(ai,["initalbumEditTemp"]),async imageHandler(e){return new Promise((t,n)=>{const r=ri.ref(),i=this.albumEditTemp.albumUploadSingnerImgFile,s=this.albumEditTemp.albumUploadAlbumImgFile,a=ri.refFromURL(this.albumEditTemp.albumSingerImg),l=ri.refFromURL(this.albumEditTemp.albumImg);if(e==="singerImg"&&i.lastModified){const h=r.child(`images/${i.name}`).put(i);h.on("state_changed",p=>{},p=>{console.error("error => ",p),n(p)},async()=>{try{await a.delete();const p=await h.snapshot.ref.getDownloadURL();t(p)}catch(p){console.error("error => ",p)}})}else if(e==="albumImg"&&s.lastModified){const h=r.child(`images/${s.name}`).put(s);h.on("state_changed",p=>{},p=>{console.error("error => ",p),n(p)},async()=>{try{await l.delete();const p=await h.snapshot.ref.getDownloadURL();console.log("ImgUrl_album => ",p),t(p)}catch(p){console.error("error => ",p)}})}else t()})},async updateAlbumData(){const e=si.doc("fundraising"),t=await e.get(),n=e.collection(this.uid).doc(this.albumEditTemp.albumID),r={...this.albumEditTemp,albumGenre:this.albumEditTemp.albumGenre.toLocaleLowerCase()};delete r.albumUploadAlbumImgFile,delete r.albumUploadSingnerImgFile,delete r.albumSongs,delete r.isLoading;const i=t.data().items.map(s=>this.albumEditTemp.albumID===s.albumID?{...s,...r}:s);await e.update({items:i}),await n.update({...r})},async updateSongData(){console.log("this.albumEditTemp => ",this.albumEditTemp),(await zr.where("albumID","==",this.albumEditTemp.albumSongs[0].albumID).get()).forEach(t=>{t.ref.update({display_name:this.albumEditTemp.albumSinger,coverImg:this.albumEditTemp.albumImg,album:this.albumEditTemp.albumName})})},addNewSong(e){[...e.target.files].forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=this.$t("alertMsg.non_mp3_file_alert",{file:n.name});return}this.uploadsNesSongs.push(n)})},deleteAlbumSong(e,t,n){this.albumEditTemp.albumSongs.length>1?(this.deleteAlbumSongs.push({songUrl:e,docID:t}),this.albumEditTemp.albumSongs.splice(n,1)):(this.toggle=!this.toggle,this.message=this.$t("alertMsg.at_leaset_one_alert"))},async deleteSongFromStorage(){const e=this.deleteAlbumSongs;if(!(e.length<1))return new Promise((t,n)=>{e.forEach(async(r,i)=>{const s=ri.refFromURL(r.songUrl);console.log("songRef => ",s);try{await s.delete(),await zr.doc(r.docID).delete(),i===e.length-1&&t()}catch(a){console.log("catch_error => ",a)}})})},async storeToSong(){const e=this.uploadsNesSongs;if(!(e.length<1))return new Promise((t,n)=>{e.forEach((r,i)=>{const l=ri.ref().child(`fundraising_songss/${r.name}`).put(r);l.on("state_changed",c=>{},c=>{console.log("task_error => ",c)},async()=>{try{const c={albumID:this.albumEditTemp.albumID,album:this.albumEditTemp.albumName,coverImg:this.albumEditTemp.albumImg,uid:this.uid,display_name:this.albumEditTemp.albumSinger,original_name:l.snapshot.ref.name,modified_name:yn.formatSongName(l.snapshot.ref.name),genre:this.albumEditTemp.albumGenre.toLowerCase(),comment_count:0,type:"member_fundingraise",createdAt:Fe.firestore.FieldValue.serverTimestamp()};c.url=await l.snapshot.ref.getDownloadURL(),await zr.add(c),i===e.length-1&&t()}catch(c){console.log("catch_error => ",c);return}})})})},async submitHandler(){this.showLoading=!0,this.albumEditTemp.albumSingerImg=await this.imageHandler("singerImg")||this.albumEditTemp.albumSingerImg,this.albumEditTemp.albumImg=await this.imageHandler("albumImg")||this.albumEditTemp.albumImg,await this.updateAlbumData(),await this.updateSongData(),await this.storeToSong(),await this.deleteSongFromStorage(),window.location.reload()},deleteNewSong(e){this.uploadsNesSongs.length<1||this.uploadsNesSongs.splice(e,1)},formatIndex:yn.formatIndex,formatSongName:yn.formatSongName},watch:{isClose(){this.isClose||(this.deleteAlbumSongs=[],this.uploadsNesSongs=[])}}},aee={class:"md:order-2 flex-1 rounded border border-gray-200/70 px-3"},uee={class:"px-1 pt-6 pb-3 font-bold border-b border-gray-200 flex justify-between"},lee={class:"card-title"},cee=S("i",{class:"fa fa-upload float-right text-rose-400 text-xl"},null,-1),fee={class:"mt-3"},hee={class:"flex items-center justify-between"},dee={class:"overflow-hidden flex items-center"},pee=S("i",null,null,-1),mee={class:"pl-2 truncate"},gee={class:""},vee=["onClick"],yee=S("i",{class:"fa fa-times"},null,-1),bee=[yee],_ee={class:"flex items-center justify-between"},wee={class:"overflow-hidden flex items-center"},Eee=S("span",{class:"text-rose-500 italic"},"new",-1),Tee={class:"pl-2 truncate"},See={class:""},Iee=["onClick"],Aee=S("i",{class:"fa fa-times"},null,-1),xee=[Aee],kee={class:"flex justify-between items-center mb-3"},Cee={class:"cursor-pointer"},Nee=S("i",{class:"fas fa-plus-square text-rose-500 text-3xl md:text-2xl"},null,-1);function Oee(e,t,n,r,i,s){const a=De("Loading"),l=De("toastMessage");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),S("div",aee,[S("div",uee,[S("span",lee,K(e.$t("memberMamagePage.editAlbum.uploaded_song_list")),1),cee]),S("div",fee,[(me(!0),_e(vt,null,qi(e.albumEditTemp.albumSongs,(c,h)=>(me(),_e("div",{key:h,class:"border border-zinc-200 p-2 mb-4 rounded font-bold text-sm"},[S("div",hee,[S("div",dee,[pee,S("p",mee,K(s.formatIndex(h))+". "+K(c.modified_name),1)]),S("div",gee,[S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(p=>s.deleteAlbumSong(c.url,c.docID,h),["prevent"])},bee,8,vee)])])]))),128)),(me(!0),_e(vt,null,qi(i.uploadsNesSongs,(c,h)=>(me(),_e("div",{key:c.lastModified,class:"border border-zinc-200 p-2 mb-4 rounded text-sm"},[S("div",_ee,[S("div",wee,[Eee,S("p",Tee,K(s.formatSongName(c.name)),1)]),S("div",See,[S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(p=>s.deleteNewSong(h),["prevent"])},xee,8,Iee)])])]))),128)),S("div",kee,[S("label",Cee,[S("input",{type:"file",class:"hidden",multiple:"",onChange:t[0]||(t[0]=c=>s.addNewSong(c))},null,32),Nee]),S("button",{type:"button",class:"w-auto py-1 px-3 rounded text-zinc-100 bg-rose-500 w-30 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",onClick:t[1]||(t[1]=(...c)=>s.submitHandler&&s.submitHandler(...c))},K(e.$t("button.confirm")),1)])])])],64)}const Pee=Nt(see,[["render",Oee]]),Lee={data(){return{close:!0,showLoading:!1}},props:["toggle","albumID"],emits:["closeTheWindow"],components:{SongInfoEdit:oee,SongUploadedEdit:Pee,Loading:Kf},computed:{...ln(Xi,["isShowAlertConfirm"]),...ln(Ln,["uid"]),...Mt(ai,["albumEditTemp"])},methods:{...$n(ai,["initalbumEditTemp"]),closeAlbumInfo(){this.close=!0,this.$emit("closeTheWindow",{closed:!0}),this.initalbumEditTemp()},async getAlbumData(e){this.showLoading=!0;const n=(await si.doc("fundraising").collection(this.uid).doc(e).get()).data();this.albumEditTemp.albumDesc=n.albumDesc,this.albumEditTemp.isRelease=n.isRelease,this.albumEditTemp.albumGenre=n.albumGenre[0].toUpperCase()+n.albumGenre.substring(1),this.albumEditTemp.albumID=n.albumID,this.albumEditTemp.albumImg=n.albumImg,this.albumEditTemp.albumName=n.albumName,this.albumEditTemp.albumSinger=n.albumSinger,this.albumEditTemp.albumSingerDesc=n.albumSingerDesc,this.albumEditTemp.albumSingerImg=n.albumSingerImg},async getSongs(e){(await zr.where("albumID","==",e).get()).forEach(n=>{this.albumEditTemp.albumSongs.push({...n.data(),docID:n.id})})}},watch:{toggle(){this.close=!1},async albumID(){this.albumID&&(await this.getAlbumData(this.albumID),await this.getSongs(this.albumID),this.showLoading=!1)}}},Ree={class:"relative top-[10px] md:m-auto w-full max-w-5xl h-auto"},Dee={class:"relative py-2 text-center bg-zinc-800 rounded-lg shadow dark:bg-gray-800"},Mee=S("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),Fee=S("span",{class:"sr-only"},"Close modal",-1),Uee=[Mee,Fee],Vee={class:"mx-2 flex justify-between md:flex-row flex-col gap-3"};function $ee(e,t,n,r,i,s){const a=De("Loading"),l=De("SongInfoEdit"),c=De("SongUploadedEdit");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),S("div",{tabindex:"-1","aria-hidden":"true",class:We(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/70 right-0 left-0 z-40 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:i.close}])},[S("div",Ree,[S("div",Dee,[S("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[0]||(t[0]=(...h)=>s.closeAlbumInfo&&s.closeAlbumInfo(...h))},Uee),S("div",Vee,[ae(l,{isClose:i.close},null,8,["isClose"]),ae(c,{isClose:i.close},null,8,["isClose"])])])])],2)],64)}const jee=Nt(Lee,[["render",$ee]]),Bee={name:"Member-Manage",data(){return{deleteTempAlbum:{},albums:[],albumID:"",profileName:"",unsaveFlag:!1,toggle:!1,showLoading:!1}},components:{toastMessage:Zi,MemberSongEdit:jee,alertDeleteConfirm:pR,Loading:Kf},computed:{...Mt(Xi,["delData","deleteData","alertMessage"])},methods:{...$n(Xi,["fireShowAlertConfirm"]),async openAlbum(e){this.toggle=!this.toggle,this.albumID=e},async getAlbums(e){const{albums:t,name:n}=(await _w.doc(e).get()).data();(await si.doc("fundraising").collection(e).orderBy("createdAt","desc").get()).forEach(i=>{this.albums.push({...i.data()})}),this.profileName=n,t&&t.forEach(i=>{})},async deleteAlbum(e,t){this.deleteTempAlbum={...e,index:t,urls:[]},this.fireShowAlertConfirm({msg:this.$t("alertMsg.delete_album",{albumName:e.albumName})})},async deleteAlbumCollection(){const e=si.doc("fundraising"),t=await e.get(),n=e.collection(this.deleteTempAlbum.uid).doc(this.deleteTempAlbum.albumID),r=t.data().items.filter(i=>this.deleteTempAlbum.albumID!==i.albumID);try{await n.delete(),await e.update({items:r})}catch(i){console.log("deleteAlbumCollection_error => ",i)}},async deleteSongCollection(){const e=await zr.where("albumID","==",this.deleteTempAlbum.albumID).get();try{e.forEach(async t=>{this.deleteTempAlbum.urls.push(t.data().url),await t.ref.delete()})}catch(t){console.log("deleteSongCollection_error => ",t)}},async deleteImgStorage(){const e=ri.refFromURL(this.deleteTempAlbum.albumImg),t=ri.refFromURL(this.deleteTempAlbum.albumSingerImg);try{await e.delete(),await t.delete()}catch(n){console.log("deleteImgStorage_error => ",n)}},async deleteSongStorage(){try{this.deleteTempAlbum.urls.forEach(async(e,t)=>{await ri.refFromURL(e).delete()})}catch(e){console.log("deleteSongStorage => ",e)}},closeTheWindow(e){e.closed===!0&&(this.albumID="")}},watch:{async delData(){this.delData&&(this.showLoading=!0,await this.deleteAlbumCollection(),await this.deleteSongCollection(),await this.deleteImgStorage(),await this.deleteSongStorage(),window.location.reload())},alertMessage(){this.alertMessage||(this.deleteTempAlbum={})}},mounted(){this.getAlbums(this.$route.params.uid)}},Hee={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},Gee={class:"p-6 md:w-[550px] w-full bg-gradient-to-b from-zinc-900 to-zinc-700 rounded md:border border-transparent md:border-gray-200/40 mx-auto"},zee={class:"flex justify-around gap-0 items-center"},qee={class:"text-gray-500 flex justify-center w-28 h-28 rounded-full border-2 border-zinc-500"},Wee=S("svg",{"data-encore-id":"icon",role:"img",viewBox:"0 0 24 24",fill:"currentColor",class:"w-16 h-1w-16"},[S("path",{d:"M10.165 11.101a2.5 2.5 0 0 1-.67 3.766L5.5 17.173A2.998 2.998 0 0 0 4 19.771v.232h16.001v-.232a3 3 0 0 0-1.5-2.598l-3.995-2.306a2.5 2.5 0 0 1-.67-3.766l.521-.626.002-.002c.8-.955 1.303-1.987 1.375-3.19.041-.706-.088-1.433-.187-1.727a3.717 3.717 0 0 0-.768-1.334 3.767 3.767 0 0 0-5.557 0c-.34.37-.593.82-.768 1.334-.1.294-.228 1.021-.187 1.727.072 1.203.575 2.235 1.375 3.19l.002.002.521.626zm5.727.657-.52.624a.5.5 0 0 0 .134.753l3.995 2.306a5 5 0 0 1 2.5 4.33v2.232H2V19.77a5 5 0 0 1 2.5-4.33l3.995-2.306a.5.5 0 0 0 .134-.753l-.518-.622-.002-.002c-1-1.192-1.735-2.62-1.838-4.356-.056-.947.101-1.935.29-2.49A5.713 5.713 0 0 1 7.748 2.87a5.768 5.768 0 0 1 8.505 0 5.713 5.713 0 0 1 1.187 2.043c.189.554.346 1.542.29 2.489-.103 1.736-.838 3.163-1.837 4.355m-.001.001z"})],-1),Kee={class:"md:w-64 w-44"},Yee=S("hr",{class:"my-6"},null,-1),Xee={class:"mb-3"},Jee={class:"grid grid-cols-4 gap-2"},Qee=["onClick"],Zee=["src","onClick"];function ete(e,t,n,r,i,s){const a=De("Loading"),l=De("alertDeleteConfirm"),c=De("toastMessage"),h=De("MemberSongEdit");return me(),_e("main",Hee,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l),ae(c),ae(h,{toggle:i.toggle,albumID:i.albumID,onCloseTheWindow:s.closeTheWindow},null,8,["toggle","albumID","onCloseTheWindow"]),S("div",Gee,[S("div",zee,[S("label",qee,[S("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=p=>e.uploadSignerImg(p))},null,32),Wee]),S("div",Kee,[S("h5",null,K(e.$t("memberMamagePage.profile")),1),S("p",null,K(i.profileName),1)])]),Yee,S("p",Xee,K(e.$t("memberMamagePage.created_album")),1),S("div",Jee,[(me(!0),_e(vt,null,qi(i.albums,(p,f)=>(me(),_e("div",{key:p.albumID,class:"col-span-1 cursor-pointer relative"},[S("i",{class:"fas fa-trash-alt absolute left-1 text-rose-500 hover:text-teal-500 text-xl",onClick:qe(m=>s.deleteAlbum(p,f),["prevent"])},null,8,Qee),S("img",{class:"rounded-md",src:p.albumImg,alt:"",onClick:qe(m=>s.openAlbum(p.albumID),["prevent"])},null,8,Zee)]))),128))])])])}const tte=Nt(Bee,[["render",ete]]),nte=[{path:"/",name:"home",component:vX,meta:{requireScreen:!0}},{path:"/album/:gener/:albumSinger",name:"album",component:QX},{path:"/favSongList",name:"favSongList",component:C2},{path:"/makeAlbum",name:"makeAlbum",component:rZ},{name:"admin-backStage",path:"/admin",component:J3,children:[]},{name:"member-backStage",path:"/member/:uid",component:tte,children:[]},{path:"/:catchAll(.*)*",redirect:{path:"/"}}],PR=nY({history:OK("/vue-earphone-music"),routes:nte});PR.beforeEach((e,t,n)=>{const r=Ln();t.path!=="/"&&!r.userLoggedIn&&(e.meta.requireScreen=!1),n()});let ua=null;bo.onAuthStateChanged(()=>{ua||(ua=K$(Z9),ua.use(Q$()),ua.use(PR),ua.use(dB),ua.use($L),ua.mount("#app"))});
