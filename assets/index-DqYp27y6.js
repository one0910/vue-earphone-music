(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function y_(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ht={},Lu=[],ii=()=>{},SU=()=>!1,kp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),b_=e=>e.startsWith("onUpdate:"),Sn=Object.assign,__=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},IU=Object.prototype.hasOwnProperty,wt=(e,t)=>IU.call(e,t),Be=Array.isArray,Ru=e=>wf(e)==="[object Map]",pl=e=>wf(e)==="[object Set]",vS=e=>wf(e)==="[object Date]",Qe=e=>typeof e=="function",un=e=>typeof e=="string",ds=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",vk=e=>(Ut(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),yk=Object.prototype.toString,wf=e=>yk.call(e),AU=e=>wf(e).slice(8,-1),bk=e=>wf(e)==="[object Object]",w_=e=>un(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ic=y_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},xU=/-(\w)/g,zi=Cp(e=>e.replace(xU,(t,n)=>n?n.toUpperCase():"")),kU=/\B([A-Z])/g,ml=Cp(e=>e.replace(kU,"-$1").toLowerCase()),Np=Cp(e=>e.charAt(0).toUpperCase()+e.slice(1)),ny=Cp(e=>e?`on${Np(e)}`:""),ps=(e,t)=>!Object.is(e,t),yd=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Dd=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Uc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},CU=e=>{const t=un(e)?Number(e):NaN;return isNaN(t)?e:t};let yS;const _k=()=>yS||(yS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jr(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=un(r)?LU(r):jr(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(un(e)||Ut(e))return e}const NU=/;(?![^(]*\))/g,OU=/:([^]+)/,PU=/\/\*[^]*?\*\//g;function LU(e){const t={};return e.replace(PU,"").split(NU).forEach(n=>{if(n){const r=n.split(OU);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ke(e){let t="";if(un(e))t=e;else if(Be(e))for(let n=0;n<e.length;n++){const r=Ke(e[n]);r&&(t+=r+" ")}else if(Ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const RU="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",DU=y_(RU);function wk(e){return!!e||e===""}function MU(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ef(e[r],t[r]);return n}function Ef(e,t){if(e===t)return!0;let n=vS(e),r=vS(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ds(e),r=ds(t),n||r)return e===t;if(n=Be(e),r=Be(t),n||r)return n&&r?MU(e,t):!1;if(n=Ut(e),r=Ut(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!Ef(e[a],t[a]))return!1}}return String(e)===String(t)}function E_(e,t){return e.findIndex(n=>Ef(n,t))}const X=e=>un(e)?e:e==null?"":Be(e)||Ut(e)&&(e.toString===yk||!Qe(e.toString))?JSON.stringify(e,Ek,2):String(e),Ek=(e,t)=>t&&t.__v_isRef?Ek(e,t.value):Ru(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[ry(r,s)+" =>"]=i,n),{})}:pl(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ry(n))}:ds(t)?ry(t):Ut(t)&&!Be(t)&&!bk(t)?String(t):t,ry=(e,t="")=>{var n;return ds(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pr;class Tk{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pr,!t&&Pr&&(this.index=(Pr.scopes||(Pr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Pr;try{return Pr=this,t()}finally{Pr=n}}}on(){Pr=this}off(){Pr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function T_(e){return new Tk(e)}function FU(e,t=Pr){t&&t.active&&t.effects.push(e)}function Sk(){return Pr}function UU(e){Pr&&Pr.cleanups.push(e)}let ya;class S_{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,FU(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ra();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(VU(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Da()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=as,n=ya;try{return as=!0,ya=this,this._runnings++,bS(this),this.fn()}finally{_S(this),this._runnings--,ya=n,as=t}}stop(){var t;this.active&&(bS(this),_S(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function VU(e){return e.value}function bS(e){e._trackId++,e._depsLength=0}function _S(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ik(e.deps[t],e);e.deps.length=e._depsLength}}function Ik(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let as=!0,zy=0;const Ak=[];function Ra(){Ak.push(as),as=!1}function Da(){const e=Ak.pop();as=e===void 0?!0:e}function I_(){zy++}function A_(){for(zy--;!zy&&qy.length;)qy.shift()()}function xk(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Ik(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const qy=[];function kk(e,t,n){I_();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&qy.push(r.scheduler)))}A_()}const Ck=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Md=new WeakMap,ba=Symbol(""),Wy=Symbol("");function Ar(e,t,n){if(as&&ya){let r=Md.get(e);r||Md.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Ck(()=>r.delete(n))),xk(ya,i)}}function ho(e,t,n,r,i,s){const a=Md.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Be(e)){const c=Number(r);a.forEach((h,p)=>{(p==="length"||!ds(p)&&p>=c)&&l.push(h)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Be(e)?w_(n)&&l.push(a.get("length")):(l.push(a.get(ba)),Ru(e)&&l.push(a.get(Wy)));break;case"delete":Be(e)||(l.push(a.get(ba)),Ru(e)&&l.push(a.get(Wy)));break;case"set":Ru(e)&&l.push(a.get(ba));break}I_();for(const c of l)c&&kk(c,4);A_()}function $U(e,t){var n;return(n=Md.get(e))==null?void 0:n.get(t)}const jU=y_("__proto__,__v_isRef,__isVue"),Nk=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ds)),wS=BU();function BU(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=yt(this);for(let s=0,a=this.length;s<a;s++)Ar(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(yt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ra(),I_();const r=yt(this)[t].apply(this,n);return A_(),Da(),r}}),e}function HU(e){const t=yt(this);return Ar(t,"has",e),t.hasOwnProperty(e)}class Ok{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?nV:Dk:s?Rk:Lk).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=Be(t);if(!i){if(a&&wt(wS,n))return Reflect.get(wS,n,r);if(n==="hasOwnProperty")return HU}const l=Reflect.get(t,n,r);return(ds(n)?Nk.has(n):jU(n))||(i||Ar(t,"get",n),s)?l:zt(l)?a&&w_(n)?l:l.value:Ut(l)?i?C_(l):_o(l):l}}class Pk extends Ok{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const c=Bu(s);if(!Fd(r)&&!Bu(r)&&(s=yt(s),r=yt(r)),!Be(t)&&zt(s)&&!zt(r))return c?!1:(s.value=r,!0)}const a=Be(t)&&w_(n)?Number(n)<t.length:wt(t,n),l=Reflect.set(t,n,r,i);return t===yt(i)&&(a?ps(r,s)&&ho(t,"set",n,r):ho(t,"add",n,r)),l}deleteProperty(t,n){const r=wt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ho(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!ds(n)||!Nk.has(n))&&Ar(t,"has",n),r}ownKeys(t){return Ar(t,"iterate",Be(t)?"length":ba),Reflect.ownKeys(t)}}class GU extends Ok{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const zU=new Pk,qU=new GU,WU=new Pk(!0),x_=e=>e,Op=e=>Reflect.getPrototypeOf(e);function zh(e,t,n=!1,r=!1){e=e.__v_raw;const i=yt(e),s=yt(t);n||(ps(t,s)&&Ar(i,"get",t),Ar(i,"get",s));const{has:a}=Op(i),l=r?x_:n?O_:Vc;if(a.call(i,t))return l(e.get(t));if(a.call(i,s))return l(e.get(s));e!==i&&e.get(t)}function qh(e,t=!1){const n=this.__v_raw,r=yt(n),i=yt(e);return t||(ps(e,i)&&Ar(r,"has",e),Ar(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Wh(e,t=!1){return e=e.__v_raw,!t&&Ar(yt(e),"iterate",ba),Reflect.get(e,"size",e)}function ES(e){e=yt(e);const t=yt(this);return Op(t).has.call(t,e)||(t.add(e),ho(t,"add",e,e)),this}function TS(e,t){t=yt(t);const n=yt(this),{has:r,get:i}=Op(n);let s=r.call(n,e);s||(e=yt(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?ps(t,a)&&ho(n,"set",e,t):ho(n,"add",e,t),this}function SS(e){const t=yt(this),{has:n,get:r}=Op(t);let i=n.call(t,e);i||(e=yt(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&ho(t,"delete",e,void 0),s}function IS(){const e=yt(this),t=e.size!==0,n=e.clear();return t&&ho(e,"clear",void 0,void 0),n}function Kh(e,t){return function(r,i){const s=this,a=s.__v_raw,l=yt(a),c=t?x_:e?O_:Vc;return!e&&Ar(l,"iterate",ba),a.forEach((h,p)=>r.call(i,c(h),c(p),s))}}function Yh(e,t,n){return function(...r){const i=this.__v_raw,s=yt(i),a=Ru(s),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,h=i[e](...r),p=n?x_:t?O_:Vc;return!t&&Ar(s,"iterate",c?Wy:ba),{next(){const{value:f,done:m}=h.next();return m?{value:f,done:m}:{value:l?[p(f[0]),p(f[1])]:p(f),done:m}},[Symbol.iterator](){return this}}}}function Do(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function KU(){const e={get(s){return zh(this,s)},get size(){return Wh(this)},has:qh,add:ES,set:TS,delete:SS,clear:IS,forEach:Kh(!1,!1)},t={get(s){return zh(this,s,!1,!0)},get size(){return Wh(this)},has:qh,add:ES,set:TS,delete:SS,clear:IS,forEach:Kh(!1,!0)},n={get(s){return zh(this,s,!0)},get size(){return Wh(this,!0)},has(s){return qh.call(this,s,!0)},add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear"),forEach:Kh(!0,!1)},r={get(s){return zh(this,s,!0,!0)},get size(){return Wh(this,!0)},has(s){return qh.call(this,s,!0)},add:Do("add"),set:Do("set"),delete:Do("delete"),clear:Do("clear"),forEach:Kh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Yh(s,!1,!1),n[s]=Yh(s,!0,!1),t[s]=Yh(s,!1,!0),r[s]=Yh(s,!0,!0)}),[e,n,t,r]}const[YU,XU,JU,QU]=KU();function k_(e,t){const n=t?e?QU:JU:e?XU:YU;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(wt(n,i)&&i in r?n:r,i,s)}const ZU={get:k_(!1,!1)},eV={get:k_(!1,!0)},tV={get:k_(!0,!1)},Lk=new WeakMap,Rk=new WeakMap,Dk=new WeakMap,nV=new WeakMap;function rV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function iV(e){return e.__v_skip||!Object.isExtensible(e)?0:rV(AU(e))}function _o(e){return Bu(e)?e:N_(e,!1,zU,ZU,Lk)}function Mk(e){return N_(e,!1,WU,eV,Rk)}function C_(e){return N_(e,!0,qU,tV,Dk)}function N_(e,t,n,r,i){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=iV(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return i.set(e,l),l}function us(e){return Bu(e)?us(e.__v_raw):!!(e&&e.__v_isReactive)}function Bu(e){return!!(e&&e.__v_isReadonly)}function Fd(e){return!!(e&&e.__v_isShallow)}function Fk(e){return us(e)||Bu(e)}function yt(e){const t=e&&e.__v_raw;return t?yt(t):e}function Pp(e){return Object.isExtensible(e)&&Dd(e,"__v_skip",!0),e}const Vc=e=>Ut(e)?_o(e):e,O_=e=>Ut(e)?C_(e):e;class Uk{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new S_(()=>t(this._value),()=>bd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=yt(this);return(!t._cacheable||t.effect.dirty)&&ps(t._value,t._value=t.effect.run())&&bd(t,4),Vk(t),t.effect._dirtyLevel>=2&&bd(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function oV(e,t,n=!1){let r,i;const s=Qe(e);return s?(r=e,i=ii):(r=e.get,i=e.set),new Uk(r,i,s||!i,n)}function Vk(e){var t;as&&ya&&(e=yt(e),xk(ya,(t=e.dep)!=null?t:e.dep=Ck(()=>e.dep=void 0,e instanceof Uk?e:void 0)))}function bd(e,t=4,n){e=yt(e);const r=e.dep;r&&kk(r,t)}function zt(e){return!!(e&&e.__v_isRef===!0)}function ht(e){return $k(e,!1)}function Lp(e){return $k(e,!0)}function $k(e,t){return zt(e)?e:new sV(e,t)}class sV{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:yt(t),this._value=n?t:Vc(t)}get value(){return Vk(this),this._value}set value(t){const n=this.__v_isShallow||Fd(t)||Bu(t);t=n?t:yt(t),ps(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Vc(t),bd(this,4))}}function Et(e){return zt(e)?e.value:e}function It(e){return Qe(e)?e():Et(e)}const aV={get:(e,t,n)=>Et(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return zt(i)&&!zt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function jk(e){return us(e)?e:new Proxy(e,aV)}function uV(e){const t=Be(e)?new Array(e.length):{};for(const n in e)t[n]=Bk(e,n);return t}class lV{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return $U(yt(this._object),this._key)}}class cV{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function la(e,t,n){return zt(e)?e:Qe(e)?new cV(e):Ut(e)&&arguments.length>1?Bk(e,t,n):ht(e)}function Bk(e,t,n){const r=e[t];return zt(r)?r:new lV(e,t,n)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ls(e,t,n,r){try{return r?e(...r):e()}catch(i){Rp(i,t,n)}}function oi(e,t,n,r){if(Qe(e)){const s=ls(e,t,n,r);return s&&vk(s)&&s.catch(a=>{Rp(a,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(oi(e[s],t,n,r));return i}function Rp(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const h=s.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,a,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){ls(c,null,10,[e,a,l]);return}}fV(e,n,i,r)}function fV(e,t,n,r=!0){console.error(e)}let $c=!1,Ky=!1;const Hn=[];let Vi=0;const Du=[];let qo=null,ca=0;const Hk=Promise.resolve();let P_=null;function or(e){const t=P_||Hk;return e?t.then(this?e.bind(this):e):t}function hV(e){let t=Vi+1,n=Hn.length;for(;t<n;){const r=t+n>>>1,i=Hn[r],s=jc(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function L_(e){(!Hn.length||!Hn.includes(e,$c&&e.allowRecurse?Vi+1:Vi))&&(e.id==null?Hn.push(e):Hn.splice(hV(e.id),0,e),Gk())}function Gk(){!$c&&!Ky&&(Ky=!0,P_=Hk.then(qk))}function dV(e){const t=Hn.indexOf(e);t>Vi&&Hn.splice(t,1)}function pV(e){Be(e)?Du.push(...e):(!qo||!qo.includes(e,e.allowRecurse?ca+1:ca))&&Du.push(e),Gk()}function AS(e,t,n=$c?Vi+1:0){for(;n<Hn.length;n++){const r=Hn[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Hn.splice(n,1),n--,r()}}}function zk(e){if(Du.length){const t=[...new Set(Du)].sort((n,r)=>jc(n)-jc(r));if(Du.length=0,qo){qo.push(...t);return}for(qo=t,ca=0;ca<qo.length;ca++)qo[ca]();qo=null,ca=0}}const jc=e=>e.id==null?1/0:e.id,mV=(e,t)=>{const n=jc(e)-jc(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function qk(e){Ky=!1,$c=!0,Hn.sort(mV);try{for(Vi=0;Vi<Hn.length;Vi++){const t=Hn[Vi];t&&t.active!==!1&&ls(t,null,14)}}finally{Vi=0,Hn.length=0,zk(),$c=!1,P_=null,(Hn.length||Du.length)&&qk()}}function gV(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ht;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:m}=r[p]||Ht;m&&(i=n.map(v=>un(v)?v.trim():v)),f&&(i=n.map(Uc))}let l,c=r[l=ny(t)]||r[l=ny(zi(t))];!c&&s&&(c=r[l=ny(ml(t))]),c&&oi(c,e,6,i);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,oi(h,e,6,i)}}function Wk(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},l=!1;if(!Qe(e)){const c=h=>{const p=Wk(h,t,!0);p&&(l=!0,Sn(a,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(Ut(e)&&r.set(e,null),null):(Be(s)?s.forEach(c=>a[c]=null):Sn(a,s),Ut(e)&&r.set(e,a),a)}function Dp(e,t){return!e||!kp(t)?!1:(t=t.slice(2).replace(/Once$/,""),wt(e,t[0].toLowerCase()+t.slice(1))||wt(e,ml(t))||wt(e,t))}let Gn=null,Mp=null;function Ud(e){const t=Gn;return Gn=e,Mp=e&&e.type.__scopeId||null,t}function R_(e){Mp=e}function D_(){Mp=null}function Wn(e,t=Gn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&US(-1);const s=Ud(t);let a;try{a=e(...i)}finally{Ud(s),r._d&&US(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function iy(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:l,attrs:c,emit:h,render:p,renderCache:f,data:m,setupState:v,ctx:y,inheritAttrs:_}=e;let w,E;const k=Ud(e);try{if(n.shapeFlag&4){const C=i||r,M=C;w=Ui(p.call(M,C,f,s,v,m,y)),E=c}else{const C=t;w=Ui(C.length>1?C(s,{attrs:c,slots:l,emit:h}):C(s,null)),E=t.props?c:vV(c)}}catch(C){xc.length=0,Rp(C,e,1),w=ae(Ei)}let I=w;if(E&&_!==!1){const C=Object.keys(E),{shapeFlag:M}=I;C.length&&M&7&&(a&&C.some(b_)&&(E=yV(E,a)),I=gs(I,E))}return n.dirs&&(I=gs(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),w=I,Ud(k),w}const vV=e=>{let t;for(const n in e)(n==="class"||n==="style"||kp(n))&&((t||(t={}))[n]=e[n]);return t},yV=(e,t)=>{const n={};for(const r in e)(!b_(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function bV(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:l,patchFlag:c}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?xS(r,a,h):!!a;if(c&8){const p=t.dynamicProps;for(let f=0;f<p.length;f++){const m=p[f];if(a[m]!==r[m]&&!Dp(h,m))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?xS(r,a,h):!0:!!a;return!1}function xS(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Dp(n,s))return!0}return!1}function _V({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const M_="components";function De(e,t){return Yk(M_,e,!0,t)||e}const Kk=Symbol.for("v-ndc");function Fp(e){return un(e)?Yk(M_,e,!1)||e:e||Kk}function Yk(e,t,n=!0,r=!1){const i=Gn||Nn;if(i){const s=i.type;if(e===M_){const l=h$(s,!1);if(l&&(l===t||l===zi(t)||l===Np(zi(t))))return s}const a=kS(i[e]||s[e],t)||kS(i.appContext[e],t);return!a&&r?s:a}}function kS(e,t){return e&&(e[t]||e[zi(t)]||e[Np(zi(t))])}const wV=e=>e.__isSuspense;function EV(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):pV(e)}const TV=Symbol.for("v-scx"),SV=()=>Br(TV);function Xk(e,t){return F_(e,null,t)}const Xh={};function Kn(e,t,n){return F_(e,t,n)}function F_(e,t,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:l}=Ht){if(t&&s){const A=t;t=(...j)=>{A(...j),M()}}const c=Nn,h=A=>r===!0?A:da(A,r===!1?1:void 0);let p,f=!1,m=!1;if(zt(e)?(p=()=>e.value,f=Fd(e)):us(e)?(p=()=>h(e),f=!0):Be(e)?(m=!0,f=e.some(A=>us(A)||Fd(A)),p=()=>e.map(A=>{if(zt(A))return A.value;if(us(A))return h(A);if(Qe(A))return ls(A,c,2)})):Qe(e)?t?p=()=>ls(e,c,2):p=()=>(v&&v(),oi(e,c,3,[y])):p=ii,t&&r){const A=p;p=()=>da(A())}let v,y=A=>{v=I.onStop=()=>{ls(A,c,4),v=I.onStop=void 0}},_;if(jp)if(y=ii,t?n&&oi(t,c,3,[p(),m?[]:void 0,y]):p(),i==="sync"){const A=SV();_=A.__watcherHandles||(A.__watcherHandles=[])}else return ii;let w=m?new Array(e.length).fill(Xh):Xh;const E=()=>{if(!(!I.active||!I.dirty))if(t){const A=I.run();(r||f||(m?A.some((j,U)=>ps(j,w[U])):ps(A,w)))&&(v&&v(),oi(t,c,3,[A,w===Xh?void 0:m&&w[0]===Xh?[]:w,y]),w=A)}else I.run()};E.allowRecurse=!!t;let k;i==="sync"?k=E:i==="post"?k=()=>_r(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),k=()=>L_(E));const I=new S_(p,ii,k),C=Sk(),M=()=>{I.stop(),C&&__(C.effects,I)};return t?n?E():w=I.run():i==="post"?_r(I.run.bind(I),c&&c.suspense):I.run(),_&&_.push(M),M}function IV(e,t,n){const r=this.proxy,i=un(e)?e.includes(".")?Jk(r,e):()=>r[e]:e.bind(r,r);let s;Qe(t)?s=t:(s=t.handler,n=t);const a=If(this),l=F_(i,s.bind(r),n);return a(),l}function Jk(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function da(e,t,n=0,r){if(!Ut(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),zt(e))da(e.value,t,n,r);else if(Be(e))for(let i=0;i<e.length;i++)da(e[i],t,n,r);else if(pl(e)||Ru(e))e.forEach(i=>{da(i,t,n,r)});else if(bk(e))for(const i in e)da(e[i],t,n,r);return e}function Sa(e,t){if(Gn===null)return e;const n=Bp(Gn)||Gn.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,l,c=Ht]=t[i];s&&(Qe(s)&&(s={mounted:s,updated:s}),s.deep&&da(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Zs(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const l=i[a];s&&(l.oldValue=s[a].value);let c=l.dir[r];c&&(Ra(),oi(c,n,8,[e.el,l,e,t]),Da())}}const Wo=Symbol("_leaveCb"),Jh=Symbol("_enterCb");function AV(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ma(()=>{e.isMounted=!0}),Tf(()=>{e.isUnmounting=!0}),e}const ei=[Function,Array],Qk={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ei,onEnter:ei,onAfterEnter:ei,onEnterCancelled:ei,onBeforeLeave:ei,onLeave:ei,onAfterLeave:ei,onLeaveCancelled:ei,onBeforeAppear:ei,onAppear:ei,onAfterAppear:ei,onAppearCancelled:ei},xV={name:"BaseTransition",props:Qk,setup(e,{slots:t}){const n=Wi(),r=AV();return()=>{const i=t.default&&eC(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const m of i)if(m.type!==Ei){s=m;break}}const a=yt(e),{mode:l}=a;if(r.isLeaving)return oy(s);const c=CS(s);if(!c)return oy(s);const h=Yy(c,a,r,n);Xy(c,h);const p=n.subTree,f=p&&CS(p);if(f&&f.type!==Ei&&!fa(c,f)){const m=Yy(f,a,r,n);if(Xy(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},oy(s);l==="in-out"&&c.type!==Ei&&(m.delayLeave=(v,y,_)=>{const w=Zk(r,f);w[String(f.key)]=f,v[Wo]=()=>{y(),v[Wo]=void 0,delete h.delayedLeave},h.delayedLeave=_})}return s}}},kV=xV;function Zk(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Yy(e,t,n,r){const{appear:i,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:f,onLeave:m,onAfterLeave:v,onLeaveCancelled:y,onBeforeAppear:_,onAppear:w,onAfterAppear:E,onAppearCancelled:k}=t,I=String(e.key),C=Zk(n,e),M=(U,P)=>{U&&oi(U,r,9,P)},A=(U,P)=>{const z=P[1];M(U,P),Be(U)?U.every(L=>L.length<=1)&&z():U.length<=1&&z()},j={mode:s,persisted:a,beforeEnter(U){let P=l;if(!n.isMounted)if(i)P=_||l;else return;U[Wo]&&U[Wo](!0);const z=C[I];z&&fa(e,z)&&z.el[Wo]&&z.el[Wo](),M(P,[U])},enter(U){let P=c,z=h,L=p;if(!n.isMounted)if(i)P=w||c,z=E||h,L=k||p;else return;let q=!1;const ee=U[Jh]=Te=>{q||(q=!0,Te?M(L,[U]):M(z,[U]),j.delayedLeave&&j.delayedLeave(),U[Jh]=void 0)};P?A(P,[U,ee]):ee()},leave(U,P){const z=String(e.key);if(U[Jh]&&U[Jh](!0),n.isUnmounting)return P();M(f,[U]);let L=!1;const q=U[Wo]=ee=>{L||(L=!0,P(),ee?M(y,[U]):M(v,[U]),U[Wo]=void 0,C[z]===e&&delete C[z])};C[z]=e,m?A(m,[U,q]):q()},clone(U){return Yy(U,t,n,r)}};return j}function oy(e){if(Up(e))return e=gs(e),e.children=null,e}function CS(e){return Up(e)?e.children?e.children[0]:void 0:e}function Xy(e,t){e.shapeFlag&6&&e.component?Xy(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function eC(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let a=e[s];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===vt?(a.patchFlag&128&&i++,r=r.concat(eC(a.children,t,l))):(t||a.type!==Ei)&&r.push(l!=null?gs(a,{key:l}):a)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ss(e,t){return Qe(e)?Sn({name:e.name},t,{setup:e}):e}const _d=e=>!!e.type.__asyncLoader,Up=e=>e.type.__isKeepAlive;function CV(e,t){tC(e,"a",t)}function NV(e,t){tC(e,"da",t)}function tC(e,t,n=Nn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Vp(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Up(i.parent.vnode)&&OV(r,t,n,i),i=i.parent}}function OV(e,t,n,r){const i=Vp(t,e,r,!0);V_(()=>{__(r[t],i)},n)}function Vp(e,t,n=Nn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Ra();const l=If(n),c=oi(t,n,e,a);return l(),Da(),c});return r?i.unshift(s):i.push(s),s}}const Eo=e=>(t,n=Nn)=>(!jp||e==="sp")&&Vp(e,(...r)=>t(...r),n),nC=Eo("bm"),Ma=Eo("m"),rC=Eo("bu"),U_=Eo("u"),Tf=Eo("bum"),V_=Eo("um"),PV=Eo("sp"),LV=Eo("rtg"),RV=Eo("rtc");function DV(e,t=Nn){Vp("ec",e,t)}function qi(e,t,n,r){let i;const s=n&&n[r];if(Be(e)||un(e)){i=new Array(e.length);for(let a=0,l=e.length;a<l;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(Ut(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];i[l]=t(e[h],h,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}const Jy=e=>e?gC(e)?Bp(e)||e.proxy:Jy(e.parent):null,Ac=Sn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jy(e.parent),$root:e=>Jy(e.root),$emit:e=>e.emit,$options:e=>$_(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,L_(e.update)}),$nextTick:e=>e.n||(e.n=or.bind(e.proxy)),$watch:e=>IV.bind(e)}),sy=(e,t)=>e!==Ht&&!e.__isScriptSetup&&wt(e,t),MV={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(sy(r,t))return a[t]=1,r[t];if(i!==Ht&&wt(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&wt(h,t))return a[t]=3,s[t];if(n!==Ht&&wt(n,t))return a[t]=4,n[t];Qy&&(a[t]=0)}}const p=Ac[t];let f,m;if(p)return t==="$attrs"&&Ar(e,"get",t),p(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Ht&&wt(n,t))return a[t]=4,n[t];if(m=c.config.globalProperties,wt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return sy(i,t)?(i[t]=n,!0):r!==Ht&&wt(r,t)?(r[t]=n,!0):wt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let l;return!!n[a]||e!==Ht&&wt(e,a)||sy(t,a)||(l=s[0])&&wt(l,a)||wt(r,a)||wt(Ac,a)||wt(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:wt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function NS(e){return Be(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qy=!0;function FV(e){const t=$_(e),n=e.proxy,r=e.ctx;Qy=!1,t.beforeCreate&&OS(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:l,provide:c,inject:h,created:p,beforeMount:f,mounted:m,beforeUpdate:v,updated:y,activated:_,deactivated:w,beforeDestroy:E,beforeUnmount:k,destroyed:I,unmounted:C,render:M,renderTracked:A,renderTriggered:j,errorCaptured:U,serverPrefetch:P,expose:z,inheritAttrs:L,components:q,directives:ee,filters:Te}=t;if(h&&UV(h,r,null),a)for(const Re in a){const Me=a[Re];Qe(Me)&&(r[Re]=Me.bind(n))}if(i){const Re=i.call(n,n);Ut(Re)&&(e.data=_o(Re))}if(Qy=!0,s)for(const Re in s){const Me=s[Re],Xe=Qe(Me)?Me.bind(n,n):Qe(Me.get)?Me.get.bind(n,n):ii,xt=!Qe(Me)&&Qe(Me.set)?Me.set.bind(n):ii,it=He({get:Xe,set:xt});Object.defineProperty(r,Re,{enumerable:!0,configurable:!0,get:()=>it.value,set:dt=>it.value=dt})}if(l)for(const Re in l)iC(l[Re],r,n,Re);if(c){const Re=Qe(c)?c.call(n):c;Reflect.ownKeys(Re).forEach(Me=>{cs(Me,Re[Me])})}p&&OS(p,e,"c");function ie(Re,Me){Be(Me)?Me.forEach(Xe=>Re(Xe.bind(n))):Me&&Re(Me.bind(n))}if(ie(nC,f),ie(Ma,m),ie(rC,v),ie(U_,y),ie(CV,_),ie(NV,w),ie(DV,U),ie(RV,A),ie(LV,j),ie(Tf,k),ie(V_,C),ie(PV,P),Be(z))if(z.length){const Re=e.exposed||(e.exposed={});z.forEach(Me=>{Object.defineProperty(Re,Me,{get:()=>n[Me],set:Xe=>n[Me]=Xe})})}else e.exposed||(e.exposed={});M&&e.render===ii&&(e.render=M),L!=null&&(e.inheritAttrs=L),q&&(e.components=q),ee&&(e.directives=ee)}function UV(e,t,n=ii){Be(e)&&(e=Zy(e));for(const r in e){const i=e[r];let s;Ut(i)?"default"in i?s=Br(i.from||r,i.default,!0):s=Br(i.from||r):s=Br(i),zt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function OS(e,t,n){oi(Be(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function iC(e,t,n,r){const i=r.includes(".")?Jk(n,r):()=>n[r];if(un(e)){const s=t[e];Qe(s)&&Kn(i,s)}else if(Qe(e))Kn(i,e.bind(n));else if(Ut(e))if(Be(e))e.forEach(s=>iC(s,t,n,r));else{const s=Qe(e.handler)?e.handler.bind(n):t[e.handler];Qe(s)&&Kn(i,s,e)}}function $_(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let c;return l?c=l:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(h=>Vd(c,h,a,!0)),Vd(c,t,a)),Ut(t)&&s.set(t,c),c}function Vd(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Vd(e,s,n,!0),i&&i.forEach(a=>Vd(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const l=VV[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const VV={data:PS,props:LS,emits:LS,methods:wc,computed:wc,beforeCreate:rr,created:rr,beforeMount:rr,mounted:rr,beforeUpdate:rr,updated:rr,beforeDestroy:rr,beforeUnmount:rr,destroyed:rr,unmounted:rr,activated:rr,deactivated:rr,errorCaptured:rr,serverPrefetch:rr,components:wc,directives:wc,watch:jV,provide:PS,inject:$V};function PS(e,t){return t?e?function(){return Sn(Qe(e)?e.call(this,this):e,Qe(t)?t.call(this,this):t)}:t:e}function $V(e,t){return wc(Zy(e),Zy(t))}function Zy(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function rr(e,t){return e?[...new Set([].concat(e,t))]:t}function wc(e,t){return e?Sn(Object.create(null),e,t):t}function LS(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:Sn(Object.create(null),NS(e),NS(t??{})):t}function jV(e,t){if(!e)return t;if(!t)return e;const n=Sn(Object.create(null),e);for(const r in t)n[r]=rr(e[r],t[r]);return n}function oC(){return{app:null,config:{isNativeTag:SU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let BV=0;function HV(e,t){return function(r,i=null){Qe(r)||(r=Sn({},r)),i!=null&&!Ut(i)&&(i=null);const s=oC(),a=new WeakSet;let l=!1;const c=s.app={_uid:BV++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:p$,get config(){return s.config},set config(h){},use(h,...p){return a.has(h)||(h&&Qe(h.install)?(a.add(h),h.install(c,...p)):Qe(h)&&(a.add(h),h(c,...p))),c},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),c},component(h,p){return p?(s.components[h]=p,c):s.components[h]},directive(h,p){return p?(s.directives[h]=p,c):s.directives[h]},mount(h,p,f){if(!l){const m=ae(r,i);return m.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),p&&t?t(m,h):e(m,h,f),l=!0,c._container=h,h.__vue_app__=c,Bp(m.component)||m.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,p){return s.provides[h]=p,c},runWithContext(h){const p=Mu;Mu=c;try{return h()}finally{Mu=p}}};return c}}let Mu=null;function cs(e,t){if(Nn){let n=Nn.provides;const r=Nn.parent&&Nn.parent.provides;r===n&&(n=Nn.provides=Object.create(r)),n[e]=t}}function Br(e,t,n=!1){const r=Nn||Gn;if(r||Mu){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Mu._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Qe(t)?t.call(r&&r.proxy):t}}function GV(){return!!(Nn||Gn||Mu)}function zV(e,t,n,r=!1){const i={},s={};Dd(s,$p,1),e.propsDefaults=Object.create(null),sC(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:Mk(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function qV(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,l=yt(i),[c]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let f=0;f<p.length;f++){let m=p[f];if(Dp(e.emitsOptions,m))continue;const v=t[m];if(c)if(wt(s,m))v!==s[m]&&(s[m]=v,h=!0);else{const y=zi(m);i[y]=eb(c,l,y,v,e,!1)}else v!==s[m]&&(s[m]=v,h=!0)}}}else{sC(e,t,i,s)&&(h=!0);let p;for(const f in l)(!t||!wt(t,f)&&((p=ml(f))===f||!wt(t,p)))&&(c?n&&(n[f]!==void 0||n[p]!==void 0)&&(i[f]=eb(c,l,f,void 0,e,!0)):delete i[f]);if(s!==l)for(const f in s)(!t||!wt(t,f))&&(delete s[f],h=!0)}h&&ho(e,"set","$attrs")}function sC(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Ic(c))continue;const h=t[c];let p;i&&wt(i,p=zi(c))?!s||!s.includes(p)?n[p]=h:(l||(l={}))[p]=h:Dp(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,a=!0)}if(s){const c=yt(n),h=l||Ht;for(let p=0;p<s.length;p++){const f=s[p];n[f]=eb(i,c,f,h[f],e,!wt(h,f))}}return a}function eb(e,t,n,r,i,s){const a=e[n];if(a!=null){const l=wt(a,"default");if(l&&r===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Qe(c)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const p=If(i);r=h[n]=c.call(null,t),p()}}else r=c}a[0]&&(s&&!l?r=!1:a[1]&&(r===""||r===ml(n))&&(r=!0))}return r}function aC(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},l=[];let c=!1;if(!Qe(e)){const p=f=>{c=!0;const[m,v]=aC(f,t,!0);Sn(a,m),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!s&&!c)return Ut(e)&&r.set(e,Lu),Lu;if(Be(s))for(let p=0;p<s.length;p++){const f=zi(s[p]);RS(f)&&(a[f]=Ht)}else if(s)for(const p in s){const f=zi(p);if(RS(f)){const m=s[p],v=a[f]=Be(m)||Qe(m)?{type:m}:Sn({},m);if(v){const y=FS(Boolean,v.type),_=FS(String,v.type);v[0]=y>-1,v[1]=_<0||y<_,(y>-1||wt(v,"default"))&&l.push(f)}}}const h=[a,l];return Ut(e)&&r.set(e,h),h}function RS(e){return e[0]!=="$"&&!Ic(e)}function DS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function MS(e,t){return DS(e)===DS(t)}function FS(e,t){return Be(t)?t.findIndex(n=>MS(n,e)):Qe(t)&&MS(t,e)?0:-1}const uC=e=>e[0]==="_"||e==="$stable",j_=e=>Be(e)?e.map(Ui):[Ui(e)],WV=(e,t,n)=>{if(t._n)return t;const r=Wn((...i)=>j_(t(...i)),n);return r._c=!1,r},lC=(e,t,n)=>{const r=e._ctx;for(const i in e){if(uC(i))continue;const s=e[i];if(Qe(s))t[i]=WV(i,s,r);else if(s!=null){const a=j_(s);t[i]=()=>a}}},cC=(e,t)=>{const n=j_(t);e.slots.default=()=>n},KV=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=yt(t),Dd(t,"_",n)):lC(t,e.slots={})}else e.slots={},t&&cC(e,t);Dd(e.slots,$p,1)},YV=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=Ht;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Sn(i,t),!n&&l===1&&delete i._):(s=!t.$stable,lC(t,i)),a=t}else t&&(cC(e,t),a={default:1});if(s)for(const l in i)!uC(l)&&a[l]==null&&delete i[l]};function tb(e,t,n,r,i=!1){if(Be(e)){e.forEach((m,v)=>tb(m,t&&(Be(t)?t[v]:t),n,r,i));return}if(_d(r)&&!i)return;const s=r.shapeFlag&4?Bp(r.component)||r.component.proxy:r.el,a=i?null:s,{i:l,r:c}=e,h=t&&t.r,p=l.refs===Ht?l.refs={}:l.refs,f=l.setupState;if(h!=null&&h!==c&&(un(h)?(p[h]=null,wt(f,h)&&(f[h]=null)):zt(h)&&(h.value=null)),Qe(c))ls(c,l,12,[a,p]);else{const m=un(c),v=zt(c);if(m||v){const y=()=>{if(e.f){const _=m?wt(f,c)?f[c]:p[c]:c.value;i?Be(_)&&__(_,s):Be(_)?_.includes(s)||_.push(s):m?(p[c]=[s],wt(f,c)&&(f[c]=p[c])):(c.value=[s],e.k&&(p[e.k]=c.value))}else m?(p[c]=a,wt(f,c)&&(f[c]=a)):v&&(c.value=a,e.k&&(p[e.k]=a))};a?(y.id=-1,_r(y,n)):y()}}}const _r=EV;function XV(e){return JV(e)}function JV(e,t){const n=_k();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:l,createComment:c,setText:h,setElementText:p,parentNode:f,nextSibling:m,setScopeId:v=ii,insertStaticContent:y}=e,_=(D,O,H,te=null,Y=null,fe=null,pe=void 0,N=null,R=!!O.dynamicChildren)=>{if(D===O)return;D&&!fa(D,O)&&(te=W(D),dt(D,Y,fe,!0),D=null),O.patchFlag===-2&&(R=!1,O.dynamicChildren=null);const{type:$,ref:Z,shapeFlag:we}=O;switch($){case Sf:w(D,O,H,te);break;case Ei:E(D,O,H,te);break;case wd:D==null&&k(O,H,te,pe);break;case vt:q(D,O,H,te,Y,fe,pe,N,R);break;default:we&1?M(D,O,H,te,Y,fe,pe,N,R):we&6?ee(D,O,H,te,Y,fe,pe,N,R):(we&64||we&128)&&$.process(D,O,H,te,Y,fe,pe,N,R,Ee)}Z!=null&&Y&&tb(Z,D&&D.ref,fe,O||D,!O)},w=(D,O,H,te)=>{if(D==null)r(O.el=l(O.children),H,te);else{const Y=O.el=D.el;O.children!==D.children&&h(Y,O.children)}},E=(D,O,H,te)=>{D==null?r(O.el=c(O.children||""),H,te):O.el=D.el},k=(D,O,H,te)=>{[D.el,D.anchor]=y(D.children,O,H,te,D.el,D.anchor)},I=({el:D,anchor:O},H,te)=>{let Y;for(;D&&D!==O;)Y=m(D),r(D,H,te),D=Y;r(O,H,te)},C=({el:D,anchor:O})=>{let H;for(;D&&D!==O;)H=m(D),i(D),D=H;i(O)},M=(D,O,H,te,Y,fe,pe,N,R)=>{O.type==="svg"?pe="svg":O.type==="math"&&(pe="mathml"),D==null?A(O,H,te,Y,fe,pe,N,R):P(D,O,Y,fe,pe,N,R)},A=(D,O,H,te,Y,fe,pe,N)=>{let R,$;const{props:Z,shapeFlag:we,transition:oe,dirs:G}=D;if(R=D.el=a(D.type,fe,Z&&Z.is,Z),we&8?p(R,D.children):we&16&&U(D.children,R,null,te,Y,ay(D,fe),pe,N),G&&Zs(D,null,te,"created"),j(R,D,D.scopeId,pe,te),Z){for(const ge in Z)ge!=="value"&&!Ic(ge)&&s(R,ge,null,Z[ge],fe,D.children,te,Y,Ne);"value"in Z&&s(R,"value",null,Z.value,fe),($=Z.onVnodeBeforeMount)&&Mi($,te,D)}G&&Zs(D,null,te,"beforeMount");const J=QV(Y,oe);J&&oe.beforeEnter(R),r(R,O,H),(($=Z&&Z.onVnodeMounted)||J||G)&&_r(()=>{$&&Mi($,te,D),J&&oe.enter(R),G&&Zs(D,null,te,"mounted")},Y)},j=(D,O,H,te,Y)=>{if(H&&v(D,H),te)for(let fe=0;fe<te.length;fe++)v(D,te[fe]);if(Y){let fe=Y.subTree;if(O===fe){const pe=Y.vnode;j(D,pe,pe.scopeId,pe.slotScopeIds,Y.parent)}}},U=(D,O,H,te,Y,fe,pe,N,R=0)=>{for(let $=R;$<D.length;$++){const Z=D[$]=N?Ko(D[$]):Ui(D[$]);_(null,Z,O,H,te,Y,fe,pe,N)}},P=(D,O,H,te,Y,fe,pe)=>{const N=O.el=D.el;let{patchFlag:R,dynamicChildren:$,dirs:Z}=O;R|=D.patchFlag&16;const we=D.props||Ht,oe=O.props||Ht;let G;if(H&&ea(H,!1),(G=oe.onVnodeBeforeUpdate)&&Mi(G,H,O,D),Z&&Zs(O,D,H,"beforeUpdate"),H&&ea(H,!0),$?z(D.dynamicChildren,$,N,H,te,ay(O,Y),fe):pe||Me(D,O,N,null,H,te,ay(O,Y),fe,!1),R>0){if(R&16)L(N,O,we,oe,H,te,Y);else if(R&2&&we.class!==oe.class&&s(N,"class",null,oe.class,Y),R&4&&s(N,"style",we.style,oe.style,Y),R&8){const J=O.dynamicProps;for(let ge=0;ge<J.length;ge++){const V=J[ge],B=we[V],ne=oe[V];(ne!==B||V==="value")&&s(N,V,B,ne,Y,D.children,H,te,Ne)}}R&1&&D.children!==O.children&&p(N,O.children)}else!pe&&$==null&&L(N,O,we,oe,H,te,Y);((G=oe.onVnodeUpdated)||Z)&&_r(()=>{G&&Mi(G,H,O,D),Z&&Zs(O,D,H,"updated")},te)},z=(D,O,H,te,Y,fe,pe)=>{for(let N=0;N<O.length;N++){const R=D[N],$=O[N],Z=R.el&&(R.type===vt||!fa(R,$)||R.shapeFlag&70)?f(R.el):H;_(R,$,Z,null,te,Y,fe,pe,!0)}},L=(D,O,H,te,Y,fe,pe)=>{if(H!==te){if(H!==Ht)for(const N in H)!Ic(N)&&!(N in te)&&s(D,N,H[N],null,pe,O.children,Y,fe,Ne);for(const N in te){if(Ic(N))continue;const R=te[N],$=H[N];R!==$&&N!=="value"&&s(D,N,$,R,pe,O.children,Y,fe,Ne)}"value"in te&&s(D,"value",H.value,te.value,pe)}},q=(D,O,H,te,Y,fe,pe,N,R)=>{const $=O.el=D?D.el:l(""),Z=O.anchor=D?D.anchor:l("");let{patchFlag:we,dynamicChildren:oe,slotScopeIds:G}=O;G&&(N=N?N.concat(G):G),D==null?(r($,H,te),r(Z,H,te),U(O.children||[],H,Z,Y,fe,pe,N,R)):we>0&&we&64&&oe&&D.dynamicChildren?(z(D.dynamicChildren,oe,H,Y,fe,pe,N),(O.key!=null||Y&&O===Y.subTree)&&fC(D,O,!0)):Me(D,O,H,Z,Y,fe,pe,N,R)},ee=(D,O,H,te,Y,fe,pe,N,R)=>{O.slotScopeIds=N,D==null?O.shapeFlag&512?Y.ctx.activate(O,H,te,pe,R):Te(O,H,te,Y,fe,pe,R):xe(D,O,R)},Te=(D,O,H,te,Y,fe,pe)=>{const N=D.component=a$(D,te,Y);if(Up(D)&&(N.ctx.renderer=Ee),u$(N),N.asyncDep){if(Y&&Y.registerDep(N,ie),!D.el){const R=N.subTree=ae(Ei);E(null,R,O,H)}}else ie(N,D,O,H,Y,fe,pe)},xe=(D,O,H)=>{const te=O.component=D.component;if(bV(D,O,H))if(te.asyncDep&&!te.asyncResolved){Re(te,O,H);return}else te.next=O,dV(te.update),te.effect.dirty=!0,te.update();else O.el=D.el,te.vnode=O},ie=(D,O,H,te,Y,fe,pe)=>{const N=()=>{if(D.isMounted){let{next:Z,bu:we,u:oe,parent:G,vnode:J}=D;{const ve=hC(D);if(ve){Z&&(Z.el=J.el,Re(D,Z,pe)),ve.asyncDep.then(()=>{D.isUnmounted||N()});return}}let ge=Z,V;ea(D,!1),Z?(Z.el=J.el,Re(D,Z,pe)):Z=J,we&&yd(we),(V=Z.props&&Z.props.onVnodeBeforeUpdate)&&Mi(V,G,Z,J),ea(D,!0);const B=iy(D),ne=D.subTree;D.subTree=B,_(ne,B,f(ne.el),W(ne),D,Y,fe),Z.el=B.el,ge===null&&_V(D,B.el),oe&&_r(oe,Y),(V=Z.props&&Z.props.onVnodeUpdated)&&_r(()=>Mi(V,G,Z,J),Y)}else{let Z;const{el:we,props:oe}=O,{bm:G,m:J,parent:ge}=D,V=_d(O);if(ea(D,!1),G&&yd(G),!V&&(Z=oe&&oe.onVnodeBeforeMount)&&Mi(Z,ge,O),ea(D,!0),we&&st){const B=()=>{D.subTree=iy(D),st(we,D.subTree,D,Y,null)};V?O.type.__asyncLoader().then(()=>!D.isUnmounted&&B()):B()}else{const B=D.subTree=iy(D);_(null,B,H,te,D,Y,fe),O.el=B.el}if(J&&_r(J,Y),!V&&(Z=oe&&oe.onVnodeMounted)){const B=O;_r(()=>Mi(Z,ge,B),Y)}(O.shapeFlag&256||ge&&_d(ge.vnode)&&ge.vnode.shapeFlag&256)&&D.a&&_r(D.a,Y),D.isMounted=!0,O=H=te=null}},R=D.effect=new S_(N,ii,()=>L_($),D.scope),$=D.update=()=>{R.dirty&&R.run()};$.id=D.uid,ea(D,!0),$()},Re=(D,O,H)=>{O.component=D;const te=D.vnode.props;D.vnode=O,D.next=null,qV(D,O.props,te,H),YV(D,O.children,H),Ra(),AS(D),Da()},Me=(D,O,H,te,Y,fe,pe,N,R=!1)=>{const $=D&&D.children,Z=D?D.shapeFlag:0,we=O.children,{patchFlag:oe,shapeFlag:G}=O;if(oe>0){if(oe&128){xt($,we,H,te,Y,fe,pe,N,R);return}else if(oe&256){Xe($,we,H,te,Y,fe,pe,N,R);return}}G&8?(Z&16&&Ne($,Y,fe),we!==$&&p(H,we)):Z&16?G&16?xt($,we,H,te,Y,fe,pe,N,R):Ne($,Y,fe,!0):(Z&8&&p(H,""),G&16&&U(we,H,te,Y,fe,pe,N,R))},Xe=(D,O,H,te,Y,fe,pe,N,R)=>{D=D||Lu,O=O||Lu;const $=D.length,Z=O.length,we=Math.min($,Z);let oe;for(oe=0;oe<we;oe++){const G=O[oe]=R?Ko(O[oe]):Ui(O[oe]);_(D[oe],G,H,null,Y,fe,pe,N,R)}$>Z?Ne(D,Y,fe,!0,!1,we):U(O,H,te,Y,fe,pe,N,R,we)},xt=(D,O,H,te,Y,fe,pe,N,R)=>{let $=0;const Z=O.length;let we=D.length-1,oe=Z-1;for(;$<=we&&$<=oe;){const G=D[$],J=O[$]=R?Ko(O[$]):Ui(O[$]);if(fa(G,J))_(G,J,H,null,Y,fe,pe,N,R);else break;$++}for(;$<=we&&$<=oe;){const G=D[we],J=O[oe]=R?Ko(O[oe]):Ui(O[oe]);if(fa(G,J))_(G,J,H,null,Y,fe,pe,N,R);else break;we--,oe--}if($>we){if($<=oe){const G=oe+1,J=G<Z?O[G].el:te;for(;$<=oe;)_(null,O[$]=R?Ko(O[$]):Ui(O[$]),H,J,Y,fe,pe,N,R),$++}}else if($>oe)for(;$<=we;)dt(D[$],Y,fe,!0),$++;else{const G=$,J=$,ge=new Map;for($=J;$<=oe;$++){const et=O[$]=R?Ko(O[$]):Ui(O[$]);et.key!=null&&ge.set(et.key,$)}let V,B=0;const ne=oe-J+1;let ve=!1,Ie=0;const Pe=new Array(ne);for($=0;$<ne;$++)Pe[$]=0;for($=G;$<=we;$++){const et=D[$];if(B>=ne){dt(et,Y,fe,!0);continue}let mt;if(et.key!=null)mt=ge.get(et.key);else for(V=J;V<=oe;V++)if(Pe[V-J]===0&&fa(et,O[V])){mt=V;break}mt===void 0?dt(et,Y,fe,!0):(Pe[mt-J]=$+1,mt>=Ie?Ie=mt:ve=!0,_(et,O[mt],H,null,Y,fe,pe,N,R),B++)}const Ze=ve?ZV(Pe):Lu;for(V=Ze.length-1,$=ne-1;$>=0;$--){const et=J+$,mt=O[et],_t=et+1<Z?O[et+1].el:te;Pe[$]===0?_(null,mt,H,_t,Y,fe,pe,N,R):ve&&(V<0||$!==Ze[V]?it(mt,H,_t,2):V--)}}},it=(D,O,H,te,Y=null)=>{const{el:fe,type:pe,transition:N,children:R,shapeFlag:$}=D;if($&6){it(D.component.subTree,O,H,te);return}if($&128){D.suspense.move(O,H,te);return}if($&64){pe.move(D,O,H,Ee);return}if(pe===vt){r(fe,O,H);for(let we=0;we<R.length;we++)it(R[we],O,H,te);r(D.anchor,O,H);return}if(pe===wd){I(D,O,H);return}if(te!==2&&$&1&&N)if(te===0)N.beforeEnter(fe),r(fe,O,H),_r(()=>N.enter(fe),Y);else{const{leave:we,delayLeave:oe,afterLeave:G}=N,J=()=>r(fe,O,H),ge=()=>{we(fe,()=>{J(),G&&G()})};oe?oe(fe,J,ge):ge()}else r(fe,O,H)},dt=(D,O,H,te=!1,Y=!1)=>{const{type:fe,props:pe,ref:N,children:R,dynamicChildren:$,shapeFlag:Z,patchFlag:we,dirs:oe}=D;if(N!=null&&tb(N,null,H,D,!0),Z&256){O.ctx.deactivate(D);return}const G=Z&1&&oe,J=!_d(D);let ge;if(J&&(ge=pe&&pe.onVnodeBeforeUnmount)&&Mi(ge,O,D),Z&6)Se(D.component,H,te);else{if(Z&128){D.suspense.unmount(H,te);return}G&&Zs(D,null,O,"beforeUnmount"),Z&64?D.type.remove(D,O,H,Y,Ee,te):$&&(fe!==vt||we>0&&we&64)?Ne($,O,H,!1,!0):(fe===vt&&we&384||!Y&&Z&16)&&Ne(R,O,H),te&&pt(D)}(J&&(ge=pe&&pe.onVnodeUnmounted)||G)&&_r(()=>{ge&&Mi(ge,O,D),G&&Zs(D,null,O,"unmounted")},H)},pt=D=>{const{type:O,el:H,anchor:te,transition:Y}=D;if(O===vt){en(H,te);return}if(O===wd){C(D);return}const fe=()=>{i(H),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(D.shapeFlag&1&&Y&&!Y.persisted){const{leave:pe,delayLeave:N}=Y,R=()=>pe(H,fe);N?N(D.el,fe,R):R()}else fe()},en=(D,O)=>{let H;for(;D!==O;)H=m(D),i(D),D=H;i(O)},Se=(D,O,H)=>{const{bum:te,scope:Y,update:fe,subTree:pe,um:N}=D;te&&yd(te),Y.stop(),fe&&(fe.active=!1,dt(pe,D,O,H)),N&&_r(N,O),_r(()=>{D.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},Ne=(D,O,H,te=!1,Y=!1,fe=0)=>{for(let pe=fe;pe<D.length;pe++)dt(D[pe],O,H,te,Y)},W=D=>D.shapeFlag&6?W(D.component.subTree):D.shapeFlag&128?D.suspense.next():m(D.anchor||D.el);let le=!1;const re=(D,O,H)=>{D==null?O._vnode&&dt(O._vnode,null,null,!0):_(O._vnode||null,D,O,null,null,null,H),le||(le=!0,AS(),zk(),le=!1),O._vnode=D},Ee={p:_,um:dt,m:it,r:pt,mt:Te,mc:U,pc:Me,pbc:z,n:W,o:e};let Ge,st;return t&&([Ge,st]=t(Ee)),{render:re,hydrate:Ge,createApp:HV(re,Ge)}}function ay({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ea({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function QV(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function fC(e,t,n=!1){const r=e.children,i=t.children;if(Be(r)&&Be(i))for(let s=0;s<r.length;s++){const a=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=Ko(i[s]),l.el=a.el),n||fC(a,l)),l.type===Sf&&(l.el=a.el)}}function ZV(e){const t=e.slice(),n=[0];let r,i,s,a,l;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)l=s+a>>1,e[n[l]]<h?s=l+1:a=l;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function hC(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:hC(t)}const e$=e=>e.__isTeleport,vt=Symbol.for("v-fgt"),Sf=Symbol.for("v-txt"),Ei=Symbol.for("v-cmt"),wd=Symbol.for("v-stc"),xc=[];let yi=null;function me(e=!1){xc.push(yi=e?null:[])}function t$(){xc.pop(),yi=xc[xc.length-1]||null}let Bc=1;function US(e){Bc+=e}function dC(e){return e.dynamicChildren=Bc>0?yi||Lu:null,t$(),Bc>0&&yi&&yi.push(e),e}function _e(e,t,n,r,i,s){return dC(S(e,t,n,r,i,s,!0))}function ms(e,t,n,r,i){return dC(ae(e,t,n,r,i,!0))}function nb(e){return e?e.__v_isVNode===!0:!1}function fa(e,t){return e.type===t.type&&e.key===t.key}const $p="__vInternal",pC=({key:e})=>e??null,Ed=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?un(e)||zt(e)||Qe(e)?{i:Gn,r:e,k:t,f:!!n}:e:null);function S(e,t=null,n=null,r=0,i=null,s=e===vt?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&pC(t),ref:t&&Ed(t),scopeId:Mp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gn};return l?(B_(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=un(n)?8:16),Bc>0&&!a&&yi&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&yi.push(c),c}const ae=n$;function n$(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===Kk)&&(e=Ei),nb(e)){const l=gs(e,t,!0);return n&&B_(l,n),Bc>0&&!s&&yi&&(l.shapeFlag&6?yi[yi.indexOf(e)]=l:yi.push(l)),l.patchFlag|=-2,l}if(d$(e)&&(e=e.__vccOpts),t){t=r$(t);let{class:l,style:c}=t;l&&!un(l)&&(t.class=Ke(l)),Ut(c)&&(Fk(c)&&!Be(c)&&(c=Sn({},c)),t.style=jr(c))}const a=un(e)?1:wV(e)?128:e$(e)?64:Ut(e)?4:Qe(e)?2:0;return S(e,t,n,r,i,a,s,!0)}function r$(e){return e?Fk(e)||$p in e?Sn({},e):e:null}function gs(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=e,l=t?mC(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&pC(l),ref:t&&t.ref?n&&i?Be(i)?i.concat(Ed(t)):[i,Ed(t)]:Ed(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==vt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gs(e.ssContent),ssFallback:e.ssFallback&&gs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Hc(e=" ",t=0){return ae(Sf,null,e,t)}function i$(e,t){const n=ae(wd,null,e);return n.staticCount=t,n}function Hr(e="",t=!1){return t?(me(),ms(Ei,null,e)):ae(Ei,null,e)}function Ui(e){return e==null||typeof e=="boolean"?ae(Ei):Be(e)?ae(vt,null,e.slice()):typeof e=="object"?Ko(e):ae(Sf,null,String(e))}function Ko(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gs(e)}function B_(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Be(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),B_(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!($p in t)?t._ctx=Gn:i===3&&Gn&&(Gn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qe(t)?(t={default:t,_ctx:Gn},n=32):(t=String(t),r&64?(n=16,t=[Hc(t)]):n=8);e.children=t,e.shapeFlag|=n}function mC(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Ke([t.class,r.class]));else if(i==="style")t.style=jr([t.style,r.style]);else if(kp(i)){const s=t[i],a=r[i];a&&s!==a&&!(Be(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Mi(e,t,n,r=null){oi(e,t,7,[n,r])}const o$=oC();let s$=0;function a$(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||o$,s={uid:s$++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:aC(r,i),emitsOptions:Wk(r,i),emit:null,emitted:null,propsDefaults:Ht,inheritAttrs:r.inheritAttrs,ctx:Ht,data:Ht,props:Ht,attrs:Ht,slots:Ht,refs:Ht,setupState:Ht,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=gV.bind(null,s),e.ce&&e.ce(s),s}let Nn=null;const Wi=()=>Nn||Gn;let $d,rb;{const e=_k(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};$d=t("__VUE_INSTANCE_SETTERS__",n=>Nn=n),rb=t("__VUE_SSR_SETTERS__",n=>jp=n)}const If=e=>{const t=Nn;return $d(e),e.scope.on(),()=>{e.scope.off(),$d(t)}},VS=()=>{Nn&&Nn.scope.off(),$d(null)};function gC(e){return e.vnode.shapeFlag&4}let jp=!1;function u$(e,t=!1){t&&rb(t);const{props:n,children:r}=e.vnode,i=gC(e);zV(e,n,i,t),KV(e,r);const s=i?l$(e,t):void 0;return t&&rb(!1),s}function l$(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Pp(new Proxy(e.ctx,MV));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?f$(e):null,s=If(e);Ra();const a=ls(r,e,0,[e.props,i]);if(Da(),s(),vk(a)){if(a.then(VS,VS),t)return a.then(l=>{$S(e,l,t)}).catch(l=>{Rp(l,e,0)});e.asyncDep=a}else $S(e,a,t)}else vC(e,t)}function $S(e,t,n){Qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=jk(t)),vC(e,n)}let jS;function vC(e,t,n){const r=e.type;if(!e.render){if(!t&&jS&&!r.render){const i=r.template||$_(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,h=Sn(Sn({isCustomElement:s,delimiters:l},a),c);r.render=jS(i,h)}}e.render=r.render||ii}{const i=If(e);Ra();try{FV(e)}finally{Da(),i()}}}function c$(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ar(e,"get","$attrs"),t[n]}}))}function f$(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return c$(e)},slots:e.slots,emit:e.emit,expose:t}}function Bp(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(jk(Pp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ac)return Ac[n](e)},has(t,n){return n in t||n in Ac}}))}function h$(e,t=!0){return Qe(e)?e.displayName||e.name:e.name||t&&e.__name}function d$(e){return Qe(e)&&"__vccOpts"in e}const He=(e,t)=>oV(e,t,jp);function mn(e,t,n){const r=arguments.length;return r===2?Ut(t)&&!Be(t)?nb(t)?ae(e,null,[t]):ae(e,t):ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&nb(n)&&(n=[n]),ae(e,t,n))}const p$="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const m$="http://www.w3.org/2000/svg",g$="http://www.w3.org/1998/Math/MathML",Yo=typeof document<"u"?document:null,BS=Yo&&Yo.createElement("template"),v$={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Yo.createElementNS(m$,e):t==="mathml"?Yo.createElementNS(g$,e):Yo.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Yo.createTextNode(e),createComment:e=>Yo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{BS.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const l=BS.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mo="transition",cc="animation",Gc=Symbol("_vtc"),H_=(e,{slots:t})=>mn(kV,y$(e),t);H_.displayName="Transition";const yC={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};H_.props=Sn({},Qk,yC);const ta=(e,t=[])=>{Be(e)?e.forEach(n=>n(...t)):e&&e(...t)},HS=e=>e?Be(e)?e.some(t=>t.length>1):e.length>1:!1;function y$(e){const t={};for(const q in e)q in yC||(t[q]=e[q]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:h=a,appearToClass:p=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,y=b$(i),_=y&&y[0],w=y&&y[1],{onBeforeEnter:E,onEnter:k,onEnterCancelled:I,onLeave:C,onLeaveCancelled:M,onBeforeAppear:A=E,onAppear:j=k,onAppearCancelled:U=I}=t,P=(q,ee,Te)=>{na(q,ee?p:l),na(q,ee?h:a),Te&&Te()},z=(q,ee)=>{q._isLeaving=!1,na(q,f),na(q,v),na(q,m),ee&&ee()},L=q=>(ee,Te)=>{const xe=q?j:k,ie=()=>P(ee,q,Te);ta(xe,[ee,ie]),GS(()=>{na(ee,q?c:s),Fo(ee,q?p:l),HS(xe)||zS(ee,r,_,ie)})};return Sn(t,{onBeforeEnter(q){ta(E,[q]),Fo(q,s),Fo(q,a)},onBeforeAppear(q){ta(A,[q]),Fo(q,c),Fo(q,h)},onEnter:L(!1),onAppear:L(!0),onLeave(q,ee){q._isLeaving=!0;const Te=()=>z(q,ee);Fo(q,f),E$(),Fo(q,m),GS(()=>{q._isLeaving&&(na(q,f),Fo(q,v),HS(C)||zS(q,r,w,Te))}),ta(C,[q,Te])},onEnterCancelled(q){P(q,!1),ta(I,[q])},onAppearCancelled(q){P(q,!0),ta(U,[q])},onLeaveCancelled(q){z(q),ta(M,[q])}})}function b$(e){if(e==null)return null;if(Ut(e))return[uy(e.enter),uy(e.leave)];{const t=uy(e);return[t,t]}}function uy(e){return CU(e)}function Fo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Gc]||(e[Gc]=new Set)).add(t)}function na(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Gc];n&&(n.delete(t),n.size||(e[Gc]=void 0))}function GS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _$=0;function zS(e,t,n,r){const i=e._endId=++_$,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:a,timeout:l,propCount:c}=w$(e,t);if(!a)return r();const h=a+"end";let p=0;const f=()=>{e.removeEventListener(h,m),s()},m=v=>{v.target===e&&++p>=c&&f()};setTimeout(()=>{p<c&&f()},l+1),e.addEventListener(h,m)}function w$(e,t){const n=window.getComputedStyle(e),r=y=>(n[y]||"").split(", "),i=r(`${Mo}Delay`),s=r(`${Mo}Duration`),a=qS(i,s),l=r(`${cc}Delay`),c=r(`${cc}Duration`),h=qS(l,c);let p=null,f=0,m=0;t===Mo?a>0&&(p=Mo,f=a,m=s.length):t===cc?h>0&&(p=cc,f=h,m=c.length):(f=Math.max(a,h),p=f>0?a>h?Mo:cc:null,m=p?p===Mo?s.length:c.length:0);const v=p===Mo&&/\b(transform|all)(,|$)/.test(r(`${Mo}Property`).toString());return{type:p,timeout:f,propCount:m,hasTransform:v}}function qS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>WS(n)+WS(e[r])))}function WS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function E$(){return document.body.offsetHeight}function T$(e,t,n){const r=e[Gc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const jd=Symbol("_vod"),bC=Symbol("_vsh"),Bd={beforeMount(e,{value:t},{transition:n}){e[jd]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):fc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),fc(e,!0),r.enter(e)):r.leave(e,()=>{fc(e,!1)}):fc(e,t))},beforeUnmount(e,{value:t}){fc(e,t)}};function fc(e,t){e.style.display=t?e[jd]:"none",e[bC]=!t}const S$=Symbol(""),I$=/(^|;)\s*display\s*:/;function A$(e,t,n){const r=e.style,i=un(n);let s=!1;if(n&&!i){if(t)if(un(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Td(r,l,"")}else for(const a in t)n[a]==null&&Td(r,a,"");for(const a in n)a==="display"&&(s=!0),Td(r,a,n[a])}else if(i){if(t!==n){const a=r[S$];a&&(n+=";"+a),r.cssText=n,s=I$.test(n)}}else t&&e.removeAttribute("style");jd in e&&(e[jd]=s?r.display:"",e[bC]&&(r.display="none"))}const KS=/\s*!important$/;function Td(e,t,n){if(Be(n))n.forEach(r=>Td(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=x$(e,t);KS.test(n)?e.setProperty(ml(r),n.replace(KS,""),"important"):e[r]=n}}const YS=["Webkit","Moz","ms"],ly={};function x$(e,t){const n=ly[t];if(n)return n;let r=zi(t);if(r!=="filter"&&r in e)return ly[t]=r;r=Np(r);for(let i=0;i<YS.length;i++){const s=YS[i]+r;if(s in e)return ly[t]=s}return t}const XS="http://www.w3.org/1999/xlink";function k$(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(XS,t.slice(6,t.length)):e.setAttributeNS(XS,t,n);else{const s=DU(t);n==null||s&&!wk(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function C$(e,t,n,r,i,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?e.getAttribute("value")||"":e.value,p=n??"";(h!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=wk(n):n==null&&h==="string"?(n="",c=!0):h==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function Qo(e,t,n,r){e.addEventListener(t,n,r)}function N$(e,t,n,r){e.removeEventListener(t,n,r)}const JS=Symbol("_vei");function O$(e,t,n,r,i=null){const s=e[JS]||(e[JS]={}),a=s[t];if(r&&a)a.value=r;else{const[l,c]=P$(t);if(r){const h=s[t]=D$(r,i);Qo(e,l,h,c)}else a&&(N$(e,l,a,c),s[t]=void 0)}}const QS=/(?:Once|Passive|Capture)$/;function P$(e){let t;if(QS.test(e)){t={};let r;for(;r=e.match(QS);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ml(e.slice(2)),t]}let cy=0;const L$=Promise.resolve(),R$=()=>cy||(L$.then(()=>cy=0),cy=Date.now());function D$(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;oi(M$(r,n.value),t,5,[r])};return n.value=e,n.attached=R$(),n}function M$(e,t){if(Be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const ZS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,F$=(e,t,n,r,i,s,a,l,c)=>{const h=i==="svg";t==="class"?T$(e,r,h):t==="style"?A$(e,n,r):kp(t)?b_(t)||O$(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):U$(e,t,r,h))?C$(e,t,r,s,a,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),k$(e,t,r,h))};function U$(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ZS(t)&&Qe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ZS(t)&&un(n)?!1:t in e}const Hu=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?n=>yd(t,n):t};function V$(e){e.target.composing=!0}function eI(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const po=Symbol("_assign"),$$={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[po]=Hu(i);const s=r||i.props&&i.props.type==="number";Qo(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),s&&(l=Uc(l)),e[po](l)}),n&&Qo(e,"change",()=>{e.value=e.value.trim()}),t||(Qo(e,"compositionstart",V$),Qo(e,"compositionend",eI),Qo(e,"change",eI))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e[po]=Hu(s),e.composing)return;const a=i||e.type==="number"?Uc(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===l)||(e.value=l))}},j$={deep:!0,created(e,t,n){e[po]=Hu(n),Qo(e,"change",()=>{const r=e._modelValue,i=zc(e),s=e.checked,a=e[po];if(Be(r)){const l=E_(r,i),c=l!==-1;if(s&&!c)a(r.concat(i));else if(!s&&c){const h=[...r];h.splice(l,1),a(h)}}else if(pl(r)){const l=new Set(r);s?l.add(i):l.delete(i),a(l)}else a(_C(e,s))})},mounted:tI,beforeUpdate(e,t,n){e[po]=Hu(n),tI(e,t,n)}};function tI(e,{value:t,oldValue:n},r){e._modelValue=t,Be(t)?e.checked=E_(t,r.props.value)>-1:pl(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Ef(t,_C(e,!0)))}const B$={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=pl(t);Qo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Uc(zc(a)):zc(a));e[po](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,or(()=>{e._assigning=!1})}),e[po]=Hu(r)},mounted(e,{value:t,modifiers:{number:n}}){nI(e,t,n)},beforeUpdate(e,t,n){e[po]=Hu(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||nI(e,t,n)}};function nI(e,t,n){const r=e.multiple,i=Be(t);if(!(r&&!i&&!pl(t))){for(let s=0,a=e.options.length;s<a;s++){const l=e.options[s],c=zc(l);if(r)if(i){const h=typeof c;h==="string"||h==="number"?l.selected=t.includes(n?Uc(c):c):l.selected=E_(t,c)>-1}else l.selected=t.has(c);else if(Ef(zc(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function zc(e){return"_value"in e?e._value:e.value}function _C(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const H$=["ctrl","shift","alt","meta"],G$={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>H$.some(n=>e[`${n}Key`]&&!t.includes(n))},qe=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let a=0;a<t.length;a++){const l=G$[t[a]];if(l&&l(i,t))return}return e(i,...s)})},z$=Sn({patchProp:F$},v$);let rI;function q$(){return rI||(rI=XV(z$))}const W$=(...e)=>{const t=q$().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Y$(r);if(!i)return;const s=t._component;!Qe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,K$(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function K$(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Y$(e){return un(e)?document.querySelector(e):e}var X$=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let wC;const Hp=e=>wC=e,EC=Symbol();function ib(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var kc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(kc||(kc={}));function J$(){const e=T_(!0),t=e.run(()=>ht({}));let n=[],r=[];const i=Pp({install(s){Hp(i),i._a=s,s.provide(EC,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!X$?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const TC=()=>{};function iI(e,t,n,r=TC){e.push(t);const i=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&Sk()&&UU(i),i}function vu(e,...t){e.slice().forEach(n=>{n(...t)})}const Q$=e=>e();function ob(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];ib(i)&&ib(r)&&e.hasOwnProperty(n)&&!zt(r)&&!us(r)?e[n]=ob(i,r):e[n]=r}return e}const Z$=Symbol();function ej(e){return!ib(e)||!e.hasOwnProperty(Z$)}const{assign:Go}=Object;function tj(e){return!!(zt(e)&&e.effect)}function nj(e,t,n,r){const{state:i,actions:s,getters:a}=t,l=n.state.value[e];let c;function h(){l||(n.state.value[e]=i?i():{});const p=uV(n.state.value[e]);return Go(p,s,Object.keys(a||{}).reduce((f,m)=>(f[m]=Pp(He(()=>{Hp(n);const v=n._s.get(e);return a[m].call(v,v)})),f),{}))}return c=SC(e,h,t,n,r,!0),c}function SC(e,t,n={},r,i,s){let a;const l=Go({actions:{}},n),c={deep:!0};let h,p,f=[],m=[],v;const y=r.state.value[e];!s&&!y&&(r.state.value[e]={}),ht({});let _;function w(U){let P;h=p=!1,typeof U=="function"?(U(r.state.value[e]),P={type:kc.patchFunction,storeId:e,events:v}):(ob(r.state.value[e],U),P={type:kc.patchObject,payload:U,storeId:e,events:v});const z=_=Symbol();or().then(()=>{_===z&&(h=!0)}),p=!0,vu(f,P,r.state.value[e])}const E=s?function(){const{state:P}=n,z=P?P():{};this.$patch(L=>{Go(L,z)})}:TC;function k(){a.stop(),f=[],m=[],r._s.delete(e)}function I(U,P){return function(){Hp(r);const z=Array.from(arguments),L=[],q=[];function ee(ie){L.push(ie)}function Te(ie){q.push(ie)}vu(m,{args:z,name:U,store:M,after:ee,onError:Te});let xe;try{xe=P.apply(this&&this.$id===e?this:M,z)}catch(ie){throw vu(q,ie),ie}return xe instanceof Promise?xe.then(ie=>(vu(L,ie),ie)).catch(ie=>(vu(q,ie),Promise.reject(ie))):(vu(L,xe),xe)}}const C={_p:r,$id:e,$onAction:iI.bind(null,m),$patch:w,$reset:E,$subscribe(U,P={}){const z=iI(f,U,P.detached,()=>L()),L=a.run(()=>Kn(()=>r.state.value[e],q=>{(P.flush==="sync"?p:h)&&U({storeId:e,type:kc.direct,events:v},q)},Go({},c,P)));return z},$dispose:k},M=_o(C);r._s.set(e,M);const j=(r._a&&r._a.runWithContext||Q$)(()=>r._e.run(()=>(a=T_()).run(t)));for(const U in j){const P=j[U];if(zt(P)&&!tj(P)||us(P))s||(y&&ej(P)&&(zt(P)?P.value=y[U]:ob(P,y[U])),r.state.value[e][U]=P);else if(typeof P=="function"){const z=I(U,P);j[U]=z,l.actions[U]=P}}return Go(M,j),Go(yt(M),j),Object.defineProperty(M,"$state",{get:()=>r.state.value[e],set:U=>{w(P=>{Go(P,U)})}}),r._p.forEach(U=>{Go(M,a.run(()=>U({store:M,app:r._a,pinia:r,options:l})))}),y&&s&&n.hydrate&&n.hydrate(M.$state,y),h=!0,p=!0,M}function Fa(e,t,n){let r,i;const s=typeof t=="function";typeof e=="string"?(r=e,i=s?n:t):(i=e,r=e.id);function a(l,c){const h=GV();return l=l||(h?Br(EC,null):null),l&&Hp(l),l=wC,l._s.has(r)||(s?SC(r,t,i,l):nj(r,i,l)),l._s.get(r)}return a.$id=r,a}function ln(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const i=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,i):i[s]},n),{})}function Vn(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...i){return e(this.$pinia)[r](...i)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...i){return e(this.$pinia)[t[r]](...i)},n),{})}function Mt(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(i){return e(this.$pinia)[r]=i}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(i){return e(this.$pinia)[t[r]]=i}},n),{})}/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */function Rn(e){return typeof e=="function"}function IC(e){return e==null}const Ia=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function G_(e){return Number(e)>=0}function rj(e){const t=parseFloat(e);return isNaN(t)?e:t}function ij(e){return typeof e=="object"&&e!==null}function oj(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function oI(e){if(!ij(e)||oj(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function qc(e,t){return Object.keys(t).forEach(n=>{if(oI(t[n])&&oI(e[n])){e[n]||(e[n]={}),qc(e[n],t[n]);return}e[n]=t[n]}),e}function Ec(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(G_(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const AC={};function pi(e,t){aj(e,t),AC[e]=t}function sj(e){return AC[e]}function aj(e,t){if(!Rn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function sI(e,t,n){typeof n.value=="object"&&(n.value=Dt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Dt(e){if(typeof e!="object")return e;var t=0,n,r,i,s=Object.prototype.toString.call(e);if(s==="[object Object]"?i=Object.create(e.__proto__||null):s==="[object Array]"?i=Array(e.length):s==="[object Set]"?(i=new Set,e.forEach(function(a){i.add(Dt(a))})):s==="[object Map]"?(i=new Map,e.forEach(function(a,l){i.set(Dt(l),Dt(a))})):s==="[object Date]"?i=new Date(+e):s==="[object RegExp]"?i=new RegExp(e.source,e.flags):s==="[object DataView]"?i=new e.constructor(Dt(e.buffer)):s==="[object ArrayBuffer]"?i=e.slice(0):s.slice(-6)==="Array]"&&(i=new e.constructor(e)),i){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)sI(i,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(i,n=r[t])&&i[n]===e[n]||sI(i,n,Object.getOwnPropertyDescriptor(e,n))}return i||e}const Gp=Symbol("vee-validate-form"),uj=Symbol("vee-validate-field-instance"),Hd=Symbol("Default empty value"),lj=typeof window<"u";function sb(e){return Rn(e)&&!!e.__locatorRef}function bi(e){return!!e&&Rn(e.parse)&&e.__type==="VVTypedSchema"}function Gd(e){return!!e&&Rn(e.validate)}function Af(e){return e==="checkbox"||e==="radio"}function cj(e){return Ia(e)||Array.isArray(e)}function fj(e){return Array.isArray(e)?e.length===0:Ia(e)&&Object.keys(e).length===0}function zp(e){return/^\[.+\]$/i.test(e)}function hj(e){return xC(e)&&e.multiple}function xC(e){return e.tagName==="SELECT"}function dj(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function pj(e,t){return!dj(e,t)&&t.type!=="file"&&!Af(t.type)}function kC(e){return z_(e)&&e.target&&"submit"in e.target}function z_(e){return e?!!(typeof Event<"u"&&Rn(Event)&&e instanceof Event||e&&e.srcElement):!1}function aI(e,t){return t in e&&e[t]!==Hd}function hr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!hr(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!hr(r[1],t.get(r[0])))return!1;return!0}if(uI(e)&&uI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(i=Object.keys(e),n=i.length,r=n;r--!==0;){var s=i[r];if(!hr(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function uI(e){return lj?e instanceof File:!1}function q_(e){return zp(e)?e.replace(/\[|\]/gi,""):e}function Tr(e,t,n){return e?zp(t)?e[q_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((i,s)=>cj(i)&&s in i?i[s]:n,e):n}function zo(e,t,n){if(zp(t)){e[q_(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<r.length;s++){if(s===r.length-1){i[r[s]]=n;return}(!(r[s]in i)||IC(i[r[s]]))&&(i[r[s]]=G_(r[s+1])?[]:{}),i=i[r[s]]}}function fy(e,t){if(Array.isArray(e)&&G_(t)){e.splice(Number(t),1);return}Ia(e)&&delete e[t]}function lI(e,t){if(zp(t)){delete e[q_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){fy(r,n[s]);break}if(!(n[s]in r)||IC(r[n[s]]))break;r=r[n[s]]}const i=n.map((s,a)=>Tr(e,n.slice(0,a).join(".")));for(let s=i.length-1;s>=0;s--)if(fj(i[s])){if(s===0){fy(e,n[0]);continue}fy(i[s-1],n[s-1])}}function Lr(e){return Object.keys(e)}function CC(e,t=void 0){const n=Wi();return(n==null?void 0:n.provides[e])||Br(e,t)}function cI(e,t,n){if(Array.isArray(e)){const r=[...e],i=r.findIndex(s=>hr(s,t));return i>=0?r.splice(i,1):r.push(t),r}return hr(e,t)?n:t}function fI(e,t=0){let n=null,r=[];return function(...i){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...i);r.forEach(a=>a(s)),r=[]},t),new Promise(s=>r.push(s))}}function mj(e,t){return Ia(t)&&t.number?rj(e):e}function ab(e,t){let n;return async function(...i){const s=e(...i);n=s;const a=await s;return s!==n?a:(n=void 0,t(a,i))}}function ub(e){return Array.isArray(e)?e:e?[e]:[]}function Qh(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function gj(e){let t=null,n=[];return function(...r){const i=or(()=>{if(t!==i)return;const s=e(...r);n.forEach(a=>a(s)),n=[],t=null});return t=i,new Promise(s=>n.push(s))}}function W_(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,i;return(i=(r=t.slots).default)===null||i===void 0?void 0:i.call(r,n())}}:t.slots.default}function hy(e){if(NC(e))return e._value}function NC(e){return"_value"in e}function vj(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function zd(e){if(!z_(e))return e;const t=e.target;if(Af(t.type)&&NC(t))return hy(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(hj(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(hy);if(xC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?hy(n):t.value}return vj(t)}function OC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ia(e)&&e._$$isNormalized?e:Ia(e)?Object.keys(e).reduce((n,r)=>{const i=yj(e[r]);return e[r]!==!1&&(n[r]=hI(i)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const i=bj(r);return i.name&&(n[i.name]=hI(i.params)),n},t):t}function yj(e){return e===!0?[]:Array.isArray(e)||Ia(e)?e:[e]}function hI(e){const t=n=>typeof n=="string"&&n[0]==="@"?_j(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const bj=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function _j(e){const t=n=>Tr(n,e)||n[e];return t.__locatorRef=e,t}function wj(e){return Array.isArray(e)?e.filter(sb):Lr(e).filter(t=>sb(e[t])).map(t=>e[t])}const Ej={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let lb=Object.assign({},Ej);const pa=()=>lb,Tj=e=>{lb=Object.assign(Object.assign({},lb),e)},Sj=Tj;async function PC(e,t,n={}){const r=n==null?void 0:n.bails,i={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},a=(await Ij(i,e)).errors;return{errors:a,valid:!a.length}}async function Ij(e,t){if(bi(e.rules)||Gd(e.rules))return xj(t,e.rules);if(Rn(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],c=l.length,h=[];for(let p=0;p<c;p++){const f=l[p],m=await f(t,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))h.push(...m);else{const y=typeof m=="string"?m:RC(a);h.push(y)}if(e.bails)return{errors:h}}}return{errors:h}}const n=Object.assign(Object.assign({},e),{rules:OC(e.rules)}),r=[],i=Object.keys(n.rules),s=i.length;for(let a=0;a<s;a++){const l=i[a],c=await kj(n,t,{name:l,params:n.rules[l]});if(c.error&&(r.push(c.error),e.bails))return{errors:r}}return{errors:r}}function Aj(e){return!!e&&e.name==="ValidationError"}function LC(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(i){if(!Aj(i))throw i;if(!(!((r=i.inner)===null||r===void 0)&&r.length)&&i.errors.length)return{errors:[{path:i.path,errors:i.errors}]};const s=i.inner.reduce((a,l)=>{const c=l.path||"";return a[c]||(a[c]={errors:[],path:c}),a[c].errors.push(...l.errors),a},{});return{errors:Object.values(s)}}}}}async function xj(e,t){const r=await(bi(t)?t:LC(t)).parse(e),i=[];for(const s of r.errors)s.errors.length&&i.push(...s.errors);return{errors:i}}async function kj(e,t,n){const r=sj(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const i=Cj(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:i})},a=await r(t,i,s);return typeof a=="string"?{error:a}:{error:a?void 0:RC(s)}}function RC(e){const t=pa().generateMessage;return t?t(e):"Field is invalid"}function Cj(e,t){const n=r=>sb(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,i)=>(r[i]=n(e[i]),r),{})}async function Nj(e,t){const r=await(bi(e)?e:LC(e)).parse(Dt(t)),i={},s={};for(const a of r.errors){const l=a.errors,c=(a.path||"").replace(/\["(\d+)"\]/g,(h,p)=>`[${p}]`);i[c]={valid:!l.length,errors:l},l.length&&(s[c]=l[0])}return{valid:!r.errors.length,results:i,errors:s,values:r.value}}async function Oj(e,t,n){const i=Lr(e).map(async h=>{var p,f,m;const v=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[h],y=await PC(Tr(t,h),e[h],{name:(v==null?void 0:v.name)||h,label:v==null?void 0:v.label,values:t,bails:(m=(f=n==null?void 0:n.bailsMap)===null||f===void 0?void 0:f[h])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},y),{path:h})});let s=!0;const a=await Promise.all(i),l={},c={};for(const h of a)l[h.path]={valid:h.valid,errors:h.errors},h.valid||(s=!1,c[h.path]=h.errors[0]);return{valid:s,results:l,errors:c}}let dI=0;function Pj(e,t){const{value:n,initialValue:r,setInitialValue:i}=Lj(e,t.modelValue,t.form);if(!t.form){let c=function(v){var y;"value"in v&&(n.value=v.value),"errors"in v&&p(v.errors),"touched"in v&&(m.touched=(y=v.touched)!==null&&y!==void 0?y:m.touched),"initialValue"in v&&i(v.initialValue)};const{errors:h,setErrors:p}=Mj(),f=dI>=Number.MAX_SAFE_INTEGER?0:++dI,m=Dj(n,r,h,t.schema);return{id:f,path:e,value:n,initialValue:r,meta:m,flags:{pendingUnmount:{[f]:!1},pendingReset:!1},errors:h,setState:c}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate,schema:t.schema}),a=He(()=>s.errors);function l(c){var h,p,f;"value"in c&&(n.value=c.value),"errors"in c&&((h=t.form)===null||h===void 0||h.setFieldError(Et(e),c.errors)),"touched"in c&&((p=t.form)===null||p===void 0||p.setFieldTouched(Et(e),(f=c.touched)!==null&&f!==void 0?f:!1)),"initialValue"in c&&i(c.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:a,meta:s,initialValue:r,flags:s.__flags,setState:l}}function Lj(e,t,n){const r=ht(Et(t));function i(){return n?Tr(n.initialValues.value,Et(e),Et(r)):Et(r)}function s(h){if(!n){r.value=h;return}n.setFieldInitialValue(Et(e),h,!0)}const a=He(i);if(!n)return{value:ht(i()),initialValue:a,setInitialValue:s};const l=Rj(t,n,a,e);return n.stageInitialValue(Et(e),l,!0),{value:He({get(){return Tr(n.values,Et(e))},set(h){n.setFieldValue(Et(e),h,!1)}}),initialValue:a,setInitialValue:s}}function Rj(e,t,n,r){return zt(e)?Et(e):e!==void 0?e:Tr(t.values,Et(r),Et(n))}function Dj(e,t,n,r){var i,s;const a=(s=(i=r==null?void 0:r.describe)===null||i===void 0?void 0:i.call(r).required)!==null&&s!==void 0?s:!1,l=_o({touched:!1,pending:!1,valid:!0,required:a,validated:!!Et(n).length,initialValue:He(()=>Et(t)),dirty:He(()=>!hr(Et(e),Et(t)))});return Kn(n,c=>{l.valid=!c.length},{immediate:!0,flush:"sync"}),l}function Mj(){const e=ht([]);return{errors:e,setErrors:t=>{e.value=ub(t)}}}function Fj(e,t,n){return Af(n==null?void 0:n.type)?Vj(e,t,n):DC(e,t,n)}function DC(e,t,n){const{initialValue:r,validateOnMount:i,bails:s,type:a,checkedValue:l,label:c,validateOnValueUpdate:h,uncheckedValue:p,controlled:f,keepValueOnUnmount:m,syncVModel:v,form:y}=Uj(n),_=f?CC(Gp):void 0,w=y||_,E=He(()=>Ec(It(e))),k=He(()=>{if(It(w==null?void 0:w.schema))return;const Ne=Et(t);return Gd(Ne)||bi(Ne)||Rn(Ne)||Array.isArray(Ne)?Ne:OC(Ne)}),{id:I,value:C,initialValue:M,meta:A,setState:j,errors:U,flags:P}=Pj(E,{modelValue:r,form:w,bails:s,label:c,type:a,validate:k.value?xe:void 0,schema:bi(t)?t:void 0}),z=He(()=>U.value[0]);v&&$j({value:C,prop:v,handleChange:ie,shouldValidate:()=>h&&!P.pendingReset});const L=(Se,Ne=!1)=>{A.touched=!0,Ne&&ee()};async function q(Se){var Ne,W;if(w!=null&&w.validateSchema){const{results:le}=await w.validateSchema(Se);return(Ne=le[It(E)])!==null&&Ne!==void 0?Ne:{valid:!0,errors:[]}}return k.value?PC(C.value,k.value,{name:It(E),label:It(c),values:(W=w==null?void 0:w.values)!==null&&W!==void 0?W:{},bails:s}):{valid:!0,errors:[]}}const ee=ab(async()=>(A.pending=!0,A.validated=!0,q("validated-only")),Se=>(P.pendingUnmount[pt.id]||(j({errors:Se.errors}),A.pending=!1,A.valid=Se.valid),Se)),Te=ab(async()=>q("silent"),Se=>(A.valid=Se.valid,Se));function xe(Se){return(Se==null?void 0:Se.mode)==="silent"?Te():ee()}function ie(Se,Ne=!0){const W=zd(Se);xt(W,Ne)}Ma(()=>{if(i)return ee();(!w||!w.validateSchema)&&Te()});function Re(Se){A.touched=Se}function Me(Se){var Ne;const W=Se&&"value"in Se?Se.value:M.value;j({value:Dt(W),initialValue:Dt(W),touched:(Ne=Se==null?void 0:Se.touched)!==null&&Ne!==void 0?Ne:!1,errors:(Se==null?void 0:Se.errors)||[]}),A.pending=!1,A.validated=!1,Te()}const Xe=Wi();function xt(Se,Ne=!0){C.value=Xe&&v?mj(Se,Xe.props.modelModifiers):Se,(Ne?ee:Te)()}function it(Se){j({errors:Array.isArray(Se)?Se:[Se]})}const dt=He({get(){return C.value},set(Se){xt(Se,h)}}),pt={id:I,name:E,label:c,value:dt,meta:A,errors:U,errorMessage:z,type:a,checkedValue:l,uncheckedValue:p,bails:s,keepValueOnUnmount:m,resetField:Me,handleReset:()=>Me(),validate:xe,handleChange:ie,handleBlur:L,setState:j,setTouched:Re,setErrors:it,setValue:xt};if(cs(uj,pt),zt(t)&&typeof Et(t)!="function"&&Kn(t,(Se,Ne)=>{hr(Se,Ne)||(A.validated?ee():Te())},{deep:!0}),!w)return pt;const en=He(()=>{const Se=k.value;return!Se||Rn(Se)||Gd(Se)||bi(Se)||Array.isArray(Se)?{}:Object.keys(Se).reduce((Ne,W)=>{const le=wj(Se[W]).map(re=>re.__locatorRef).reduce((re,Ee)=>{const Ge=Tr(w.values,Ee)||w.values[Ee];return Ge!==void 0&&(re[Ee]=Ge),re},{});return Object.assign(Ne,le),Ne},{})});return Kn(en,(Se,Ne)=>{if(!Object.keys(Se).length)return;!hr(Se,Ne)&&(A.validated?ee():Te())}),Tf(()=>{var Se;const Ne=(Se=It(pt.keepValueOnUnmount))!==null&&Se!==void 0?Se:It(w.keepValuesOnUnmount),W=It(E);if(Ne||!w||P.pendingUnmount[pt.id]){w==null||w.removePathState(W,I);return}P.pendingUnmount[pt.id]=!0;const le=w.getPathState(W);if(Array.isArray(le==null?void 0:le.id)&&(le!=null&&le.multiple)?le!=null&&le.id.includes(pt.id):(le==null?void 0:le.id)===pt.id){if(le!=null&&le.multiple&&Array.isArray(le.value)){const Ee=le.value.findIndex(Ge=>hr(Ge,It(pt.checkedValue)));if(Ee>-1){const Ge=[...le.value];Ge.splice(Ee,1),w.setFieldValue(W,Ge)}Array.isArray(le.id)&&le.id.splice(le.id.indexOf(pt.id),1)}else w.unsetPathValue(It(E));w.removePathState(W,I)}}),pt}function Uj(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",i=n&&!("initialValue"in(e||{}))?cb(Wi(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:i});const s="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:i,controlled:a??!0,checkedValue:s,syncVModel:l})}function Vj(e,t,n){const r=n!=null&&n.standalone?void 0:CC(Gp),i=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function a(l){const c=l.handleChange,h=He(()=>{const f=It(l.value),m=It(i);return Array.isArray(f)?f.findIndex(v=>hr(v,m))>=0:hr(m,f)});function p(f,m=!0){var v,y;if(h.value===((v=f==null?void 0:f.target)===null||v===void 0?void 0:v.checked)){m&&l.validate();return}const _=It(e),w=r==null?void 0:r.getPathState(_),E=zd(f);let k=(y=It(i))!==null&&y!==void 0?y:E;r&&(w!=null&&w.multiple)&&w.type==="checkbox"?k=cI(Tr(r.values,_)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=cI(It(l.value),k,It(s))),c(k,m)}return Object.assign(Object.assign({},l),{checked:h,checkedValue:i,uncheckedValue:s,handleChange:p})}return a(DC(e,t,n))}function $j({prop:e,value:t,handleChange:n,shouldValidate:r}){const i=Wi();if(!i||!e)return;const s=typeof e=="string"?e:"modelValue",a=`update:${s}`;s in i.props&&(Kn(t,l=>{hr(l,cb(i,s))||i.emit(a,l)}),Kn(()=>cb(i,s),l=>{if(l===Hd&&t.value===void 0)return;const c=l===Hd?void 0:l;hr(c,t.value)||n(c,r())}))}function cb(e,t){if(e)return e.props[t]}const jj=Ss({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>pa().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Hd},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=la(e,"rules"),r=la(e,"name"),i=la(e,"label"),s=la(e,"uncheckedValue"),a=la(e,"keepValue"),{errors:l,value:c,errorMessage:h,validate:p,handleChange:f,handleBlur:m,setTouched:v,resetField:y,handleReset:_,meta:w,checked:E,setErrors:k}=Fj(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Hj(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:i,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),I=function(P,z=!0){f(P,z)},C=He(()=>{const{validateOnInput:U,validateOnChange:P,validateOnBlur:z,validateOnModelUpdate:L}=Bj(e);function q(ie){m(ie,z),Rn(t.attrs.onBlur)&&t.attrs.onBlur(ie)}function ee(ie){I(ie,U),Rn(t.attrs.onInput)&&t.attrs.onInput(ie)}function Te(ie){I(ie,P),Rn(t.attrs.onChange)&&t.attrs.onChange(ie)}const xe={name:e.name,onBlur:q,onInput:ee,onChange:Te};return xe["onUpdate:modelValue"]=ie=>I(ie,L),xe}),M=He(()=>{const U=Object.assign({},C.value);Af(t.attrs.type)&&E&&(U.checked=E.value);const P=pI(e,t);return pj(P,t.attrs)&&(U.value=c.value),U}),A=He(()=>Object.assign(Object.assign({},C.value),{modelValue:c.value}));function j(){return{field:M.value,componentField:A.value,value:c.value,meta:w,errors:l.value,errorMessage:h.value,validate:p,resetField:y,handleChange:I,handleInput:U=>I(U,!1),handleReset:_,handleBlur:C.value.onBlur,setTouched:v,setErrors:k}}return t.expose({value:c,meta:w,errors:l,errorMessage:h,setErrors:k,setTouched:v,reset:y,validate:p,handleChange:f}),()=>{const U=Fp(pI(e,t)),P=W_(U,t,j);return U?mn(U,Object.assign(Object.assign({},t.attrs),M.value),P):P}}});function pI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function Bj(e){var t,n,r,i;const{validateOnInput:s,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:c}=pa();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(i=e.validateOnModelUpdate)!==null&&i!==void 0?i:c}}function Hj(e,t){return Af(t.attrs.type)?aI(e,"modelValue")?e.modelValue:void 0:aI(e,"modelValue")?e.modelValue:t.attrs.value}const Gj=jj;let zj=0;const Zh=["bails","fieldsCount","id","multiple","type","validate"];function MC(e){const t=Object.assign({},It((e==null?void 0:e.initialValues)||{})),n=Et(e==null?void 0:e.validationSchema);return n&&bi(n)&&Rn(n.cast)?Dt(n.cast(t)||{}):Dt(t)}function qj(e){var t;const n=zj++;let r=0;const i=ht(!1),s=ht(!1),a=ht(0),l=[],c=_o(MC(e)),h=ht([]),p=ht({}),f=ht({}),m=gj(()=>{f.value=h.value.reduce((V,B)=>(V[Ec(It(B.path))]=B,V),{})});function v(V,B){const ne=ie(V);if(!ne){typeof V=="string"&&(p.value[Ec(V)]=ub(B));return}if(typeof V=="string"){const ve=Ec(V);p.value[ve]&&delete p.value[ve]}ne.errors=ub(B),ne.valid=!ne.errors.length}function y(V){Lr(V).forEach(B=>{v(B,V[B])})}e!=null&&e.initialErrors&&y(e.initialErrors);const _=He(()=>{const V=h.value.reduce((B,ne)=>(ne.errors.length&&(B[ne.path]=ne.errors),B),{});return Object.assign(Object.assign({},p.value),V)}),w=He(()=>Lr(_.value).reduce((V,B)=>{const ne=_.value[B];return ne!=null&&ne.length&&(V[B]=ne[0]),V},{})),E=He(()=>h.value.reduce((V,B)=>(V[B.path]={name:B.path||"",label:B.label||""},V),{})),k=He(()=>h.value.reduce((V,B)=>{var ne;return V[B.path]=(ne=B.bails)!==null&&ne!==void 0?ne:!0,V},{})),I=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:M,originalInitialValues:A,setInitialValues:j}=Kj(h,c,e),U=Wj(h,c,A,w),P=He(()=>h.value.reduce((V,B)=>{const ne=Tr(c,B.path);return zo(V,B.path,ne),V},{})),z=e==null?void 0:e.validationSchema;function L(V,B){var ne,ve;const Ie=He(()=>Tr(M.value,It(V))),Pe=f.value[It(V)],Ze=(B==null?void 0:B.type)==="checkbox"||(B==null?void 0:B.type)==="radio";if(Pe&&Ze){Pe.multiple=!0;const pr=r++;return Array.isArray(Pe.id)?Pe.id.push(pr):Pe.id=[Pe.id,pr],Pe.fieldsCount++,Pe.__flags.pendingUnmount[pr]=!1,Pe}const et=He(()=>Tr(c,It(V))),mt=It(V),_t=Me.findIndex(pr=>pr===mt);_t!==-1&&Me.splice(_t,1);const Lt=He(()=>{var pr,xi,Ao,xl,ki,Wa;return bi(z)?(Ao=(xi=(pr=z).describe)===null||xi===void 0?void 0:xi.call(pr,It(V)).required)!==null&&Ao!==void 0?Ao:!1:bi(B==null?void 0:B.schema)&&(Wa=(ki=(xl=B==null?void 0:B.schema).describe)===null||ki===void 0?void 0:ki.call(xl).required)!==null&&Wa!==void 0?Wa:!1}),Vt=r++,An=_o({id:Vt,path:V,touched:!1,pending:!1,valid:!0,validated:!!(!((ne=I[mt])===null||ne===void 0)&&ne.length),required:Lt,initialValue:Ie,errors:Lp([]),bails:(ve=B==null?void 0:B.bails)!==null&&ve!==void 0?ve:!1,label:B==null?void 0:B.label,type:(B==null?void 0:B.type)||"default",value:et,multiple:!1,__flags:{pendingUnmount:{[Vt]:!1},pendingReset:!1},fieldsCount:1,validate:B==null?void 0:B.validate,dirty:He(()=>!hr(Et(et),Et(Ie)))});return h.value.push(An),f.value[mt]=An,m(),w.value[mt]&&!I[mt]&&or(()=>{pe(mt,{mode:"silent"})}),zt(V)&&Kn(V,pr=>{m();const xi=Dt(et.value);f.value[pr]=An,or(()=>{zo(c,pr,xi)})}),An}const q=fI(Z,5),ee=fI(Z,5),Te=ab(async V=>await(V==="silent"?q():ee()),(V,[B])=>{const ne=Lr(Ne.errorBag.value),Ie=[...new Set([...Lr(V.results),...h.value.map(Pe=>Pe.path),...ne])].sort().reduce((Pe,Ze)=>{var et;const mt=Ze,_t=ie(mt)||Re(mt),Lt=((et=V.results[mt])===null||et===void 0?void 0:et.errors)||[],Vt=It(_t==null?void 0:_t.path)||mt,An=Yj({errors:Lt,valid:!Lt.length},Pe.results[Vt]);return Pe.results[Vt]=An,An.valid||(Pe.errors[Vt]=An.errors[0]),_t&&p.value[Vt]&&delete p.value[Vt],_t?(_t.valid=An.valid,B==="silent"||B==="validated-only"&&!_t.validated||v(_t,An.errors),Pe):(v(Vt,Lt),Pe)},{valid:V.valid,results:{},errors:{}});return V.values&&(Ie.values=V.values),Lr(Ie.results).forEach(Pe=>{var Ze;const et=ie(Pe);et&&B!=="silent"&&(B==="validated-only"&&!et.validated||v(et,(Ze=Ie.results[Pe])===null||Ze===void 0?void 0:Ze.errors))}),Ie});function xe(V){h.value.forEach(V)}function ie(V){const B=typeof V=="string"?Ec(V):V;return typeof B=="string"?f.value[B]:B}function Re(V){return h.value.filter(ne=>V.startsWith(ne.path)).reduce((ne,ve)=>ne?ve.path.length>ne.path.length?ve:ne:ve,void 0)}let Me=[],Xe;function xt(V){return Me.push(V),Xe||(Xe=or(()=>{[...Me].sort().reverse().forEach(ne=>{lI(c,ne)}),Me=[],Xe=null})),Xe}function it(V){return function(ne,ve){return function(Pe){return Pe instanceof Event&&(Pe.preventDefault(),Pe.stopPropagation()),xe(Ze=>Ze.touched=!0),i.value=!0,a.value++,fe().then(Ze=>{const et=Dt(c);if(Ze.valid&&typeof ne=="function"){const mt=Dt(P.value);let _t=V?mt:et;return Ze.values&&(_t=Ze.values),ne(_t,{evt:Pe,controlledValues:mt,setErrors:y,setFieldError:v,setTouched:H,setFieldTouched:Ge,setValues:re,setFieldValue:W,resetForm:Y,resetField:te})}!Ze.valid&&typeof ve=="function"&&ve({values:et,evt:Pe,errors:Ze.errors,results:Ze.results})}).then(Ze=>(i.value=!1,Ze),Ze=>{throw i.value=!1,Ze})}}}const pt=it(!1);pt.withControlled=it(!0);function en(V,B){const ne=h.value.findIndex(Ie=>Ie.path===V&&(Array.isArray(Ie.id)?Ie.id.includes(B):Ie.id===B)),ve=h.value[ne];if(!(ne===-1||!ve)){if(or(()=>{pe(V,{mode:"silent",warn:!1})}),ve.multiple&&ve.fieldsCount&&ve.fieldsCount--,Array.isArray(ve.id)){const Ie=ve.id.indexOf(B);Ie>=0&&ve.id.splice(Ie,1),delete ve.__flags.pendingUnmount[B]}(!ve.multiple||ve.fieldsCount<=0)&&(h.value.splice(ne,1),N(V),m(),delete f.value[V])}}function Se(V){Lr(f.value).forEach(B=>{B.startsWith(V)&&delete f.value[B]}),h.value=h.value.filter(B=>!B.path.startsWith(V)),or(()=>{m()})}const Ne={formId:n,values:c,controlledValues:P,errorBag:_,errors:w,schema:z,submitCount:a,meta:U,isSubmitting:i,isValidating:s,fieldArrays:l,keepValuesOnUnmount:C,validateSchema:Et(z)?Te:void 0,validate:fe,setFieldError:v,validateField:pe,setFieldValue:W,setValues:re,setErrors:y,setFieldTouched:Ge,setTouched:H,resetForm:Y,resetField:te,handleSubmit:pt,useFieldModel:G,defineInputBinds:J,defineComponentBinds:ge,defineField:oe,stageInitialValue:R,unsetInitialValue:N,setFieldInitialValue:$,createPathState:L,getPathState:ie,unsetPathValue:xt,removePathState:en,initialValues:M,getAllPathStates:()=>h.value,destroyPath:Se,isFieldTouched:st,isFieldDirty:D,isFieldValid:O};function W(V,B,ne=!0){const ve=Dt(B),Ie=typeof V=="string"?V:V.path;ie(Ie)||L(Ie),zo(c,Ie,ve),ne&&pe(Ie)}function le(V,B=!0){Lr(c).forEach(ne=>{delete c[ne]}),Lr(V).forEach(ne=>{W(ne,V[ne],!1)}),B&&fe()}function re(V,B=!0){qc(c,V),l.forEach(ne=>ne&&ne.reset()),B&&fe()}function Ee(V,B){const ne=ie(It(V))||L(V);return He({get(){return ne.value},set(ve){var Ie;const Pe=It(V);W(Pe,ve,(Ie=It(B))!==null&&Ie!==void 0?Ie:!1)}})}function Ge(V,B){const ne=ie(V);ne&&(ne.touched=B)}function st(V){const B=ie(V);return B?B.touched:h.value.filter(ne=>ne.path.startsWith(V)).some(ne=>ne.touched)}function D(V){const B=ie(V);return B?B.dirty:h.value.filter(ne=>ne.path.startsWith(V)).some(ne=>ne.dirty)}function O(V){const B=ie(V);return B?B.valid:h.value.filter(ne=>ne.path.startsWith(V)).every(ne=>ne.valid)}function H(V){if(typeof V=="boolean"){xe(B=>{B.touched=V});return}Lr(V).forEach(B=>{Ge(B,!!V[B])})}function te(V,B){var ne;const ve=B&&"value"in B?B.value:Tr(M.value,V),Ie=ie(V);Ie&&(Ie.__flags.pendingReset=!0),$(V,Dt(ve),!0),W(V,ve,!1),Ge(V,(ne=B==null?void 0:B.touched)!==null&&ne!==void 0?ne:!1),v(V,(B==null?void 0:B.errors)||[]),or(()=>{Ie&&(Ie.__flags.pendingReset=!1)})}function Y(V,B){let ne=Dt(V!=null&&V.values?V.values:A.value);ne=B!=null&&B.force?ne:qc(A.value,ne),ne=bi(z)&&Rn(z.cast)?z.cast(ne):ne,j(ne),xe(ve=>{var Ie;ve.__flags.pendingReset=!0,ve.validated=!1,ve.touched=((Ie=V==null?void 0:V.touched)===null||Ie===void 0?void 0:Ie[ve.path])||!1,W(ve.path,Tr(ne,ve.path),!1),v(ve.path,void 0)}),B!=null&&B.force?le(ne,!1):re(ne,!1),y((V==null?void 0:V.errors)||{}),a.value=(V==null?void 0:V.submitCount)||0,or(()=>{fe({mode:"silent"}),xe(ve=>{ve.__flags.pendingReset=!1})})}async function fe(V){const B=(V==null?void 0:V.mode)||"force";if(B==="force"&&xe(Pe=>Pe.validated=!0),Ne.validateSchema)return Ne.validateSchema(B);s.value=!0;const ne=await Promise.all(h.value.map(Pe=>Pe.validate?Pe.validate(V).then(Ze=>({key:Pe.path,valid:Ze.valid,errors:Ze.errors})):Promise.resolve({key:Pe.path,valid:!0,errors:[]})));s.value=!1;const ve={},Ie={};for(const Pe of ne)ve[Pe.key]={valid:Pe.valid,errors:Pe.errors},Pe.errors.length&&(Ie[Pe.key]=Pe.errors[0]);return{valid:ne.every(Pe=>Pe.valid),results:ve,errors:Ie}}async function pe(V,B){var ne;const ve=ie(V);if(ve&&(B==null?void 0:B.mode)!=="silent"&&(ve.validated=!0),z){const{results:Ie}=await Te((B==null?void 0:B.mode)||"validated-only");return Ie[V]||{errors:[],valid:!0}}return ve!=null&&ve.validate?ve.validate(B):(!ve&&(ne=B==null?void 0:B.warn),Promise.resolve({errors:[],valid:!0}))}function N(V){lI(M.value,V)}function R(V,B,ne=!1){$(V,B),zo(c,V,B),ne&&!(e!=null&&e.initialValues)&&zo(A.value,V,Dt(B))}function $(V,B,ne=!1){zo(M.value,V,Dt(B)),ne&&zo(A.value,V,Dt(B))}async function Z(){const V=Et(z);if(!V)return{valid:!0,results:{},errors:{}};s.value=!0;const B=Gd(V)||bi(V)?await Nj(V,c):await Oj(V,c,{names:E.value,bailsMap:k.value});return s.value=!1,B}const we=pt((V,{evt:B})=>{kC(B)&&B.target.submit()});Ma(()=>{if(e!=null&&e.initialErrors&&y(e.initialErrors),e!=null&&e.initialTouched&&H(e.initialTouched),e!=null&&e.validateOnMount){fe();return}Ne.validateSchema&&Ne.validateSchema("silent")}),zt(z)&&Kn(z,()=>{var V;(V=Ne.validateSchema)===null||V===void 0||V.call(Ne,"validated-only")}),cs(Gp,Ne);function oe(V,B){const ne=Rn(B)||B==null?void 0:B.label,ve=ie(It(V))||L(V,{label:ne}),Ie=()=>Rn(B)?B(Qh(ve,Zh)):B||{};function Pe(){var Lt;ve.touched=!0,((Lt=Ie().validateOnBlur)!==null&&Lt!==void 0?Lt:pa().validateOnBlur)&&pe(ve.path)}function Ze(){var Lt;((Lt=Ie().validateOnInput)!==null&&Lt!==void 0?Lt:pa().validateOnInput)&&or(()=>{pe(ve.path)})}function et(){var Lt;((Lt=Ie().validateOnChange)!==null&&Lt!==void 0?Lt:pa().validateOnChange)&&or(()=>{pe(ve.path)})}const mt=He(()=>{const Lt={onChange:et,onInput:Ze,onBlur:Pe};return Rn(B)?Object.assign(Object.assign({},Lt),B(Qh(ve,Zh)).props||{}):B!=null&&B.props?Object.assign(Object.assign({},Lt),B.props(Qh(ve,Zh))):Lt});return[Ee(V,()=>{var Lt,Vt,An;return(An=(Lt=Ie().validateOnModelUpdate)!==null&&Lt!==void 0?Lt:(Vt=pa())===null||Vt===void 0?void 0:Vt.validateOnModelUpdate)!==null&&An!==void 0?An:!0}),mt]}function G(V){return Array.isArray(V)?V.map(B=>Ee(B,!0)):Ee(V)}function J(V,B){const[ne,ve]=oe(V,B);function Ie(){ve.value.onBlur()}function Pe(et){const mt=zd(et);W(It(V),mt,!1),ve.value.onInput()}function Ze(et){const mt=zd(et);W(It(V),mt,!1),ve.value.onChange()}return He(()=>Object.assign(Object.assign({},ve.value),{onBlur:Ie,onInput:Pe,onChange:Ze,value:ne.value}))}function ge(V,B){const[ne,ve]=oe(V,B),Ie=ie(It(V));function Pe(Ze){ne.value=Ze}return He(()=>{const Ze=Rn(B)?B(Qh(Ie,Zh)):B||{};return Object.assign({[Ze.model||"modelValue"]:ne.value,[`onUpdate:${Ze.model||"modelValue"}`]:Pe},ve.value)})}return Object.assign(Object.assign({},Ne),{values:C_(c),handleReset:()=>Y(),submitForm:we})}function Wj(e,t,n,r){const i={touched:"some",pending:"some",valid:"every"},s=He(()=>!hr(t,Et(n)));function a(){const c=e.value;return Lr(i).reduce((h,p)=>{const f=i[p];return h[p]=c[f](m=>m[p]),h},{})}const l=_o(a());return Xk(()=>{const c=a();l.touched=c.touched,l.valid=c.valid,l.pending=c.pending}),He(()=>Object.assign(Object.assign({initialValues:Et(n)},l),{valid:l.valid&&!Lr(r.value).length,dirty:s.value}))}function Kj(e,t,n){const r=MC(n),i=ht(r),s=ht(Dt(r));function a(l,c=!1){i.value=qc(Dt(i.value)||{},Dt(l)),s.value=qc(Dt(s.value)||{},Dt(l)),c&&e.value.forEach(h=>{if(h.touched)return;const f=Tr(i.value,h.path);zo(t,h.path,Dt(f))})}return{initialValues:i,originalInitialValues:s,setInitialValues:a}}function Yj(e,t){return t?{valid:e.valid&&t.valid,errors:[...e.errors,...t.errors]}:e}const Xj=Ss({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=la(e,"validationSchema"),r=la(e,"keepValues"),{errors:i,errorBag:s,values:a,meta:l,isSubmitting:c,isValidating:h,submitCount:p,controlledValues:f,validate:m,validateField:v,handleReset:y,resetForm:_,handleSubmit:w,setErrors:E,setFieldError:k,setFieldValue:I,setValues:C,setFieldTouched:M,setTouched:A,resetField:j}=qj({validationSchema:n.value?n:void 0,initialValues:e.initialValues,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:r}),U=w((ie,{evt:Re})=>{kC(Re)&&Re.target.submit()},e.onInvalidSubmit),P=e.onSubmit?w(e.onSubmit,e.onInvalidSubmit):U;function z(ie){z_(ie)&&ie.preventDefault(),y(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function L(ie,Re){return w(typeof ie=="function"&&!Re?ie:Re,e.onInvalidSubmit)(ie)}function q(){return Dt(a)}function ee(){return Dt(l.value)}function Te(){return Dt(i.value)}function xe(){return{meta:l.value,errors:i.value,errorBag:s.value,values:a,isSubmitting:c.value,isValidating:h.value,submitCount:p.value,controlledValues:f.value,validate:m,validateField:v,handleSubmit:L,handleReset:y,submitForm:U,setErrors:E,setFieldError:k,setFieldValue:I,setValues:C,setFieldTouched:M,setTouched:A,resetForm:_,resetField:j,getValues:q,getMeta:ee,getErrors:Te}}return t.expose({setFieldError:k,setErrors:E,setFieldValue:I,setValues:C,setFieldTouched:M,setTouched:A,resetForm:_,validate:m,validateField:v,resetField:j,getValues:q,getMeta:ee,getErrors:Te,values:a,meta:l,errors:i}),function(){const Re=e.as==="form"?e.as:e.as?Fp(e.as):null,Me=W_(Re,t,xe);return Re?mn(Re,Object.assign(Object.assign(Object.assign({},Re==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:P,onReset:z}),Me):Me}}}),Jj=Xj,Qj=Ss({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=Br(Gp,void 0),r=He(()=>n==null?void 0:n.errors.value[e.name]);function i(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Fp(e.as):e.as,a=W_(s,t,i),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?mn(s||"span",l,r.value):mn(s,l,a)}}}),Zj=Qj;/**
  * vee-validate v4.12.6
  * (c) 2024 Abdelrahman Awad
  * @license MIT
  */const ed={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},eB=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function xf(e,t){return Array.isArray(e)?e[0]:e[t]}function Is(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const FC=(e,t)=>{if(Is(e))return!0;const n=eB(t);if(Array.isArray(e))return e.every(i=>FC(i,{locale:n}));const r=String(e);return n?(ed[n]||ed.en).test(r):Object.keys(ed).some(i=>ed[i].test(r))},tB=(e,t)=>{const n=xf(t,"target");return String(e)===String(n)},mI=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nB=e=>Is(e)?!0:Array.isArray(e)?e.every(t=>mI.test(String(t))):mI.test(String(e)),UC=(e,t)=>{if(Is(e))return!0;const n=xf(t,"length");return Array.isArray(e)?e.every(r=>UC(r,{length:n})):[...String(e)].length<=Number(n)},VC=(e,t)=>{if(Is(e))return!0;const n=xf(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>VC(r,{max:n})):Number(e)<=Number(n)},$C=(e,t)=>{if(Is(e))return!0;const n=xf(t,"length");return Array.isArray(e)?e.every(r=>$C(r,{length:n})):[...String(e)].length>=Number(n)},jC=(e,t)=>{if(Is(e))return!0;const n=xf(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>jC(r,{min:n})):Number(e)>=Number(n)},BC=(e,t)=>Is(e)?!0:Array.isArray(e)?e.every(n=>BC(n,t)):Array.from(t).some(n=>n==e),gI=(e,t)=>Is(e)?!0:!BC(e,t);function rB(e){return e==null}function iB(e){return Array.isArray(e)&&e.length===0}const vI=e=>rB(e)||iB(e)||e===!1?!1:!!String(e).trim().length,Jn=Fa("common",{state:()=>({language:"",isMoblieScreen:window.matchMedia("(max-width: 768px)").matches}),actions:{setLanguage(e){this.language=e},setMoblieScreen(e){this.isMoblieScreen=e}}}),Gu={"Maroon 5":{name:"Maroon 5",desc:"Maroon 5 is an American pop rock band from Los Angeles, California.[3][4] It consists of lead vocalist and guitarist Adam Levine, rhythm guitarist and keyboardist Jesse Carmichael, lead guitarist James Valentine, drummer Matt Flynn, keyboardist PJ Morton and multi-instrumentalist and bassist Sam Farrar. Original members Levine, Carmichael, bassist Mickey Madden, and drummer Ryan Dusick first came together as Kara's Flowers in 1994, while they were in high school."},"Charlie Puth":{name:"Charlie Puth",desc:"Charles Otto Puth Jr. (/puːθ/; born December 2, 1991) is an American singer-songwriter. His initial exposure came through the viral success of his song covers uploaded to YouTube. Puth signed with the record label eleveneleven in 2011 after performing on The Ellen DeGeneres Show, during which he contributed songwriting and production work for other artists."},"Carly Rae Jepsen":{name:"Carly Rae Jepsen",desc:"Carly Rae Jepsen (born November 21, 1985)[2][3] is a Canadian singer and songwriter. After studying musical theatre for most of her school life and while in university, Jepsen garnered mainstream attention after placing third on the fifth season of Canadian Idol in 2007. In 2008, Jepsen released her folk-influenced debut studio album Tug of War in Canada before it was internationally released in 2011."},Echosmith:{name:"Echosmith",desc:`Echosmith is an American all-sibling alternative pop band formed in Toluca Lake, Los Angeles, in February 2009. The group is best known for their song Cool Kids, which reached number 13 on the Billboard Hot 100 and was certified double platinum in the United States and Australia. The band's debut album, Talking Dreams, was released on October 8, 2013. Their second album "Lonely Generation" was released on January 10, 2020.`},"Taylor Swift":{name:"Taylor Swift",desc:"Taylor Alison Swift (born December 13, 1989) is an American singer-songwriter. Recognized for her genre-spanning discography, songwriting, and artistic reinventions, Swift is a prominent cultural figure who has been cited as an influence on a generation of music artists."},Madonna:{name:"Madonna",desc:"Madonna Louise Ciccone (born August 16, 1958) is an American singer-songwriter, dancer, actress, author, director, philanthropist, businesswoman, record producer, film director, and humanitarian. Madonna was born in Bay City, Michigan, but she moved to New York City in 1977 to pursue a career in modern dance."},"Meghan Trainor":{name:"Meghan Trainor",desc:'Meghan Elizabeth Trainor (born December 22, 1993) is an American singer-songwriter and television personality. She rose to prominence after signing with Epic Records in 2014 and releasing her debut single "All About That Bass", which reached number one on the U.S. Billboard Hot 100 chart and sold 11 million copies worldwide. Trainor has released six studio albums with the label and has received various accolades, including the 2016 Grammy Award for Best New Artist.'},"Freya Lim":{name:"Freya Lim",desc:"Freya Lim (Chinese: 林凡; pinyin: Lin Fan; Pe̍h-ōe-jī: Lîm Hoân; born 20 November 1979), also known as Freya Lin, is a Malaysian Mandopop singer and radio deejay based in Taiwan. She is a Taiwanese PR. Her father is a Chinese Malaysian and her mother is a Taiwanese."},SISTAR:{name:"SISTAR",desc:'Sistar (Korean: 씨스타; stylized in all caps) was a South Korean girl group formed in 2010 by Starship Entertainment. The group consisted of Hyolyn, Bora, Soyou and Dasom. They made their official debut with the song "Push Push" on 3 June 2010.Their debut studio album So Cool was released on 9 August 2011.'},防彈少年團:{name:"BTS",desc:"BTS (Korean: 방탄소년단; RR: Bangtan Sonyeondan; lit. Bulletproof Boy Scouts), also known as the Bangtan Boys, is a South Korean boy band formed in 2010. The band consists of Jin, Suga, J-Hope, RM, Jimin, V, and Jungkook, who co-write or co-produce much of their material."},Lovelyz:{name:"Lovelyz",desc:"Lovelyz (Korean: 러블리즈) is a South Korean girl group formed in 2014 by Woollim Entertainment and is the company's first girl group. The group consists of eight members: Baby Soul, Jiae, Jisoo, Mijoo, Kei, Jin, Sujeong and Yein. Their debut album, Girls' Invasion, was released on November 17, 2014."},Apink:{name:"Apink",desc:"Apink (Korean: 에이핑크; RR: Eipingkeu; Japanese: エーピンク) is a South Korean girl group formed by IST Entertainment, (formerly Play M Entertainment, A Cube Entertainment, and Plan A Entertainment) and managed by Choi Creative Lab as of April, 2024."},徐英真:{name:"Suh Young-Eun",desc:'Suh Young-Eun, born in Seoul, South Korea in 1973, is a renowned South Korean singer. A graduate of Biology from Catholic University of Korea, she made her debut in the Korean music industry in 1998 with her first full-length album, "Softly whispering "I Love U"". Her unique voice, characterized by its sincere sorrow and crystal-clear clarity, has earned her immense popularity. Additionally, Seo has contributed to numerous popular Korean drama soundtracks.'},CNBLUE:{name:"CNBLUE",desc:"CNBLUE (씨엔블루) is a three-member pop rock boy band under FNC Entertainment. They began as an indie band in Japan, releasing their first mini-album Now or Never on August 18, 2009 and later debuted in Korea on January 14, 2010 with the mini-album Bluetory."},KARA:{name:"KARA",desc:"Kara (Korean: 카라; Japanese: カラ; often stylized in all caps) /ˈkɑːrə/ is a South Korean girl group formed by DSP Media in 2007. The group's current lineup is Gyuri, Seungyeon, Nicole, Jiyoung, and Youngji."},TWICE:{name:"TWICE",desc:"Twice (Korean: 트와이스; RR: Teuwaiseu; Japanese: トゥワイス, Hepburn: Tuwaisu; commonly stylized in all caps) is a South Korean girl group formed by JYP Entertainment."},宇多田光:{name:"Hikaru Utada",desc:"Hikaru Utada (宇多田 ヒカル, Utada Hikaru, born January 19, 1983), also known by the mononym Utada,[2] is an American and Japanese singer, songwriter and producer. Utada is one of the most influential, bestselling musical artists in Japan."},"B'z":{name:"B'z",desc:`B'z (Japanese: ビーズ, Hepburn: Bīzu) is a Japanese rock duo consisting of guitarist, composer and producer Takahiro "Tak" Matsumoto and vocalist and lyricist Koshi Inaba, known for their energetic hard rock tracks and pop rock ballads.`},生物股長:{name:"Ikimonogakari",desc:'Ikimonogakari (いきものがかり) is a musical group founded on February 1, 1999, by Mizuno Yoshiki and Yamashita Hotaka, who had attended the same primary, junior high, and high schools. The name "Ikimonogakari" comes from the fact that they were both first-year elementary school students who worked together as "students in charge of feeding animals".'},靈魂出竅:{name:"Soul'd Out",desc:`Soul'd Out (usually styled as SOUL'd OUT) was a Japanese hip-hop trio, consisting of Diggy-MO' (MC), Bro.Hi (MC/Beatboxer), and Shinnosuke (DJ). Their name is a portmanteau of "soul" and "sold out", and the group is sometimes referred to by their initials, S.O. On 30 January 2014, the group announced on Facebook that they would disband after their final album, To From, was released on 9 April 2014.`},"Every Little Thing":{name:"Every Little Thing",desc:'Every Little Thing (also known as ELT by their fans) is a pop/soft rock duo from Japan who debuted in August 1996 with the release of their first single called "Feel My Heart". Their name is usually written in English, and only rarely in katakana.'},西村由紀江:{name:"Yukie Nishimura",desc:"Yukie Nishimura (西村 由紀江, Nishimura Yukie, born May 8, 1967 in Toyonaka, Osaka) is a prolific Japanese pianist and compos"},海淪珍尼:{name:"Helen Chen",desc:""},西斯派瑟:{name:"Cissy Spicer",desc:""},伊莉莎白卡蜜拉:{name:"Elizabeth Camilla",desc:""},"Dua  LaLa":{name:"Dua LaLa",desc:""},"珍妮 伯孜":{name:"Jenny Bozzi",desc:""},雅各利亞:{name:"Jacob Ria",desc:""},派特少年:{name:"Pat Boy",desc:""}},Wc={V:{name:"V",desc:"2013-2014; Conway Studios, Hollywood Kingston Sound, Los Angeles Luke's in the Boo, Malibu Matzah Ball, New York City MXM Studios, Stockholm Patriot Studios, Denver Record Plant, Los Angeles"},Voicenotes:{name:"Voicenotes",desc:"Voicenotes is Charlie Puth's second studio album that was released on May 11, 2018 by Artist Partners and Atlantic Records."},Curiosity:{name:"Curiosity",desc:"Curiosity was the intended sophomore studio album from Carly Rae Jepsen, set to be released on February 14th 2012 through 604 Records, exclusively in Canada."},"Talking Dreams":{name:"Talking Dreams",desc:"Talking Dreams is the debut studio album by American indie pop band Echosmith. The album was released on October 1, 2013, through Warner Bros. Records.[5] All songs on the album were co-written by the four Sierota siblings and their father, Jeffery David."},Red:{name:"Red",desc:"Red (occasionally stylized as RED) is the fourth studio album by American singer and songwriter Taylor Swift, released on October 22, 2012, through Big Machine Records. The title is the color to which Swift associated the tumultuous emotions she was experiencing from lost love while conceiving the album."},"Hard Candy":{name:"Hard Candy",desc:"Hard Candy is Madonna's 12th studio album that was released on April 19, 2006 by Warner Bros. Records."},Tilite:{name:"Tilite",desc:'Title is the fourth studio album and debut major-label studio album by Meghan Trainor. The album released on January 9, 2015, by record label Epic. The album comes after the success of her debut single "All About That Bass" which had peaked atop of the Billboard Hot 100.'},非愛不可:{name:"Freya's Love Songs",desc:"Freya's Love Songs (Chinese: 非愛不可。心林凡) is the third studio album of Taiwan-born Malaysian Mandopop artist Freya Lim (Chinese: 林凡). It was released on 3 August 2007 by Linfair Records."},"SHAKE IT":{name:"SHAKE IT",desc:"Shake It is the third extended play by South Korean girl group Sistar. It was released on June 22, 2015, by Starship Entertainment and distributed by LOEN Entertainment."},"Permission to Dance":{name:"Permission to Dance",desc:'"Permission to Dance" is a song by South Korean boy band BTS. It was released through Big Hit Music and Sony Music on July 9, 2021, as a stand-alone single.'},lovelyz8:{name:"lovelyz8",desc:'Lovelyz8 is the first extended play by South Korean girl group Lovelyz. It was released on October 1, 2015.The EP contains seven tracks with the title track "Ah-Choo" and pre-release single "Shooting Star".'},"Pink MEMORY":{name:"Pink MEMORY",desc:'Pink Memory (stylized as Pink MEMORY) is the second full-length studio album by South Korean girl group Apink. It was released on July 16, 2015. The title track, "Remember", was used to promote the album.'},"서진영 - The Best ":{name:"서진영 - The Best ",desc:'In 2004, Suh Young-Eun delighted fans with a compilation album featuring a curated selection of her most memorable tracks. The album includes soundtracks from beloved Korean dramas like "Nine-Tailed Fox" and "Summer Scent."'},Bluetory:{name:"Bluetory",desc:"Bluetory is the Korean debut mini-album by South Korean pop-rock idol band CNBLUE. It was released on January 14, 2010, under FNC Music and distributed by Mnet Media. After being signed to the record label, the quartet was sent to Japan, where it independently released two mini-albums."},Revolution:{name:"Revolution",desc:"Revolution is the second studio album and second Korean material release by South Korean girl group Kara, released on July 30, 2009, by DSP Media."},"TWICEcoaster: LANE 1":{name:"TWICEcoaster: LANE 1",desc:"Twicecoaster: Lane 1 is the third extended play (EP) by South Korean girl group Twice. The EP was released digitally and physically on October 24, 2016, by JYP Entertainment and distributed by KT Music."},"First Love":{name:"First Love",desc:'"First Love" is a song by the Japanese-American singer-songwriter Hikaru Utada. It was released on April 28, 1999, as the third Japanese language single from her second studio album, First Love, which was issued a month previously. It was certified double platinum for 800,000 copies shipped to stores in Japan.'},"The Best ULTRA Pleasure":{name:"The Best ULTRA Pleasure",desc:`B'z The Best "Ultra Pleasure" is a compilation double-album by the Japanese hard rock duo B'z. It was released on June 18, 2008, and it is part of their 20th anniversary celebration. It peaked at #1 at Oricon charts and Billboard Japan Top Albums`},啟程之歌:{name:"Hajimari no Uta",desc:'Hajimari no Uta (ハジマリノウタ, First Song) is the fourth studio album by Ikimonogakari, released in Japan on December 23, 2009. A limited edition version included a bonus DVD with footage from their concert "Ikimono Gakari no Minasan, Konni Tour!! 2009 - My song Your song -" performance on May 25, 2009 at Shibuya C.C. Lemon Hall, plus special booklet, and ikimono card 017.'},"Flip Side Collection":{name:"Flip Side Collection",desc:"This compilation album is a chronological collection of B-sides, including previously released singles and unreleased tracks from the artist's discography."},COMPLETE:{name:"COMPLETE",desc:'Every Little Thing has unveiled their most comprehensive collection of singles to date, titled "Every Best Single ~COMPLETE~".'},看見幸福:{name:"Seeing Happiness",desc:`Yukie Nishimura's 2002 compilation album, "Seeing Happiness," featuring her greatest hits.`},"Indie-Rock":{name:"Indie-Rock",desc:"Hot Sketch, a band that expertly blends alternative, folk, and rock, consistently delivers new songs that paint a delightful picture of a leisurely afternoon in the city."},深夜安眠曲:{name:"Midnight Serenade",desc:"If you've ever dreamed of a highway escape, then you need to listen to Shark Psychedelic. Their live performances create an urgent sense that they could drop their guitars and hit the road at any moment. With their new sound, they're offering a fresh take on what it means to be a band. Their cinematic journey is just beginning."},"Where's my Moustache":{name:"Where's my Moustache",desc:"As a street musician, Elizabeth Camilla has evolved from folk to a blend of jazz and blues, transforming inner demons into playful musical creatures. She's also challenged the boundaries of street music, exploring more diverse and open-minded themes. Her unique perspective is making waves in the independent music scene."},"Dua  Lipa":{name:"Dua LaLa",desc:"Pop has never been so dangerous, and it's never been so sweet. Dua Lipa, the global pop sensation, has rewritten the rules of the UK music industry, winning the MTV Europe Music Award for Best New Act. Her ability to capture the feelings of a generation has made her a style icon and a role model for young women worldwide."},"Thank You":{name:"Thank You",desc:"In the grimy corners of the city, it's rare to find a band as raw and engaging as Seal Police. Their music is full of imperfections that somehow make it all the more charming. Seeing them live is never a dull experience."},鯊魚二世:{name:"Shark II",desc:"Album Description: If you've ever dreamed of a highway escape, then you need to listen to Shark Psychedelic. Their live performances create an urgent sense that they could drop their guitars and hit the road at any moment. With their new sound, they're offering a fresh take on what it means to be a band. Their cinematic journey is just beginning."},龐貝城中沒人:{name:"No One in Pompeii",desc:`This album is a more polished effort compared to their previous works, but don't let that fool you. This chaotic band still packs a punch with their raw punk energy and noisy undertones. Tracks like "Fake Rock Star" show their disregard for outside opinions and their commitment to staying true to themselves.`}},K_=e=>({albumSinger:"歌手名稱",albumName:"專輯名稱",albumCoverImgUrl:"專輯封面",email:"email",password:"密碼",albumGenre:"專輯類型",albumDesc:"專輯描述"})[e]||e,oB=e=>{const{language:t}=Jn();return t==="zh"?`${K_(e)}欄位不可為空白`:`The field ${e} is required.`},sB=e=>{const{language:t}=Jn();return t==="zh"?`${K_(e)}欄位所輸入文字長度太短`:`The field ${e} is too short`},aB=e=>{const{language:t}=Jn();return t==="zh"?`${K_(e)}欄位所輸入文字長度太長`:`The field ${e} is too long`},HC=e=>{if(!e)return;const{language:t}=Jn();return t==="zh"?e:Gu[e]&&Gu[e].name},uB=(e,t)=>{if(!e)return;const{language:n}=Jn();return n==="zh"?t:Gu[e]&&Gu[e].desc},GC=e=>{if(!e)return;const{language:t}=Jn();return t==="zh"?e:Wc[e]&&Wc[e].name},lB=(e,t)=>{if(!e)return;const{language:n}=Jn();return n==="zh"?t:Wc[e].desc},zC=(e,t,n)=>{const{language:r}=Jn();if(e){if(t==="member_fundraising"&&n===!0&&r==="en")return Gu[e].name;if(t==="member_fundraising")return e}},cB=(e,t,n,r)=>{const{language:i}=Jn();if(e){if(n==="member_fundraising"&&r===!0&&i==="en")return Gu[e].desc;if(n==="member_fundraising")return t}},qC=(e,t,n)=>{const{language:r}=Jn();if(e){if(t==="member_fundraising"&&n===!0&&r==="en")return Wc[e].name;if(t==="member_fundraising")return e}},fB=(e,t,n,r)=>{const{language:i}=Jn();if(e){if(n==="member_fundraising"&&r===!0&&i==="en")return Wc[e].desc;if(n==="member_fundraising")return t}},hB={install(e){e.component("VeeForm",Jj),e.component("VeeField",Gj),e.component("ErrorMessage",Zj),pi("required",vI),pi("tos",vI),pi("min",$C),pi("max",UC),pi("alpha_spaces",FC),pi("email",nB),pi("min_value",jC),pi("max_value",VC),pi("passwords_mismatch",tB),pi("excluded",gI),pi("contry_excluded",gI),Sj({generateMessage:t=>{const n={required:oB(t.field),min:sB(t.field),max:aB(t.field),alpha_spaces:`The field ${t.field} may only contain alphabetic characters and spaces.`,email:`請使用有效的${t.field}格式`,min_value:`The field ${t.field} is too low.`,max_value:`The field ${t.field} is too high.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,contry_excluded:"Due to restrictions, we do not accept users from this laction",passwords_mismatch:"與所輸入的密碼不符合",tos:"You must accept the Terms of Service."};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qd=function(){return qd=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qd.apply(this,arguments)};function WC(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fb=function(e,t){return fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fb(e,t)};function dB(e,t){fb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(e){return Kc(void 0,e)}function Kc(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!mB(r)||(e[r]=Kc(e[r],t[r]));return e}function mB(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gB=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Aa())}function yB(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bB(){return typeof self=="object"&&self.self===self}function _B(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function wB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EB(){return Aa().indexOf("Electron/")>=0}function TB(){var e=Aa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function SB(){return Aa().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IB="FirebaseError",KC=function(e){dB(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=IB,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Y_.prototype.create),s}return t}(Error),Y_=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?AB(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new KC(s,c,i);return h},e}();function AB(e,t){return e.replace(xB,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var xB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kB(e,t){var n=new CB(e,t);return n.subscribe.bind(n)}var CB=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NB(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=dy),s.error===void 0&&(s.error=dy),s.complete===void 0&&(s.complete=dy);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function NB(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function dy(){}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hb=function(){return hb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},hb.apply(this,arguments)};function OB(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(f){a(f)}}function c(p){try{h(r.throw(p))}catch(f){a(f)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function PB(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function LB(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function YC(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function RB(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(YC(arguments[t]));return e}var kf=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DB=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Eu);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new gB;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=hb({identifier:Eu,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(l){if(i)return null;throw l}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,FB(t))try{this.getOrInitializeService(Eu)}catch{}try{for(var i=LB(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=YC(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService(h);c.resolve(p)}catch{}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Eu),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return OB(this,void 0,void 0,function(){var t;return PB(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(RB(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.getOrInitializeService=function(t){var n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,MB(t)),this.instances.set(t,n)),n||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Eu:t},e}();function MB(e){return e===Eu?void 0:e}function FB(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UB=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new DB(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function vi(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra,X_=[],St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));var XC={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},VB=St.INFO,$B=(ra={},ra[St.DEBUG]="log",ra[St.VERBOSE]="log",ra[St.INFO]="info",ra[St.WARN]="warn",ra[St.ERROR]="error",ra),jB=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=$B[t];if(s)console[s].apply(console,vi(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},JC=function(){function e(t){this.name=t,this._logLevel=VB,this._logHandler=jB,this._userLogHandler=null,X_.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in St))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?XC[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.DEBUG],t)),this._logHandler.apply(this,vi([this,St.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.VERBOSE],t)),this._logHandler.apply(this,vi([this,St.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.INFO],t)),this._logHandler.apply(this,vi([this,St.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.WARN],t)),this._logHandler.apply(this,vi([this,St.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,vi([this,St.ERROR],t)),this._logHandler.apply(this,vi([this,St.ERROR],t))},e}();function BB(e){X_.forEach(function(t){t.setLogLevel(e)})}function HB(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=XC[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],f=2;f<arguments.length;f++)p[f-2]=arguments[f];var m=p.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");h>=(l??c.logLevel)&&e({level:St[h].toLowerCase(),message:m,args:p,type:c.name})}},r=0,i=X_;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo,GB=(Uo={},Uo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Uo["bad-app-name"]="Illegal App name: '{$appName}",Uo["duplicate-app"]="Firebase App named '{$appName}' already exists",Uo["app-deleted"]="Firebase App named '{$appName}' already deleted",Uo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Uo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Uo),Tu=new Y_("app","Firebase",GB),QC="@firebase/app",zB="0.6.14",qB="@firebase/analytics",WB="@firebase/auth",KB="@firebase/database",YB="@firebase/functions",XB="@firebase/installations",JB="@firebase/messaging",QB="@firebase/performance",ZB="@firebase/remote-config",eH="@firebase/storage",tH="@firebase/firestore",nH="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Wd="[DEFAULT]",rH=(tr={},tr[QC]="fire-core",tr[qB]="fire-analytics",tr[WB]="fire-auth",tr[KB]="fire-rtdb",tr[YB]="fire-fn",tr[XB]="fire-iid",tr[JB]="fire-fcm",tr[QB]="fire-perf",tr[ZB]="fire-rc",tr[eH]="fire-gcs",tr[tH]="fire-fst",tr["fire-js"]="fire-js",tr[nH]="fire-js-all",tr);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zu=new JC("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sd=function(){function e(t,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=pB(t),this.container=new UB(n.name),this._addComponent(new kf("app",function(){return a},"PUBLIC"));try{for(var l=WC(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next()){var h=c.value;this._addComponent(h)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Wd),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Wd),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){zu.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Tu.create("app-deleted",{appName:this.name_})},e}();Sd.prototype.name&&Sd.prototype.options||Sd.prototype.delete||console.log("dc");var iH="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:BB,onLog:p,apps:null,SDK_VERSION:iH,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||Wd,!yI(t,m))throw Tu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var y=v;v={name:y}}var _=v;_.name===void 0&&(_.name=Wd);var w=_.name;if(typeof w!="string"||!w)throw Tu.create("bad-app-name",{appName:String(w)});if(yI(t,w))throw Tu.create("duplicate-app",{appName:w});var E=new e(m,_,r);return t[w]=E,E}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var v,y,_=m.name;if(n.has(_))return zu.debug("There were multiple attempts to register component "+_+"."),m.type==="PUBLIC"?r[_]:null;if(n.set(_,m),m.type==="PUBLIC"){var w=function(C){if(C===void 0&&(C=s()),typeof C[_]!="function")throw Tu.create("invalid-app-argument",{appName:_});return C[_]()};m.serviceProps!==void 0&&Kc(w,m.serviceProps),r[_]=w,e.prototype[_]=function(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];var A=this._getService.bind(this,_);return A.apply(this,m.multipleInstances?C:[])}}try{for(var E=WC(Object.keys(t)),k=E.next();!k.done;k=E.next()){var I=k.value;t[I]._addComponent(m)}}catch(C){v={error:C}}finally{try{k&&!k.done&&(y=E.return)&&y.call(E)}finally{if(v)throw v.error}}return m.type==="PUBLIC"?r[_]:null}function h(m,v,y){var _,w=(_=rH[m])!==null&&_!==void 0?_:m;y&&(w+="-"+y);var E=w.match(/\s|\//),k=v.match(/\s|\//);if(E||k){var I=['Unable to register library "'+w+'" with version "'+v+'":'];E&&I.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),E&&k&&I.push("and"),k&&I.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),zu.warn(I.join(" "));return}c(new kf(w+"-version",function(){return{library:w,version:v}},"VERSION"))}function p(m,v){if(m!==null&&typeof m!="function")throw Tu.create("invalid-log-argument",{appName:name});HB(m,v)}function f(m,v){if(v==="serverAuth")return null;var y=v;return y}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){var e=oH(Sd);e.INTERNAL=qd(qd({},e.INTERNAL),{createFirebaseNamespace:ZC,extendNamespace:t,createSubscribe:kB,ErrorFactory:Y_,deepExtend:Kc});function t(n){Kc(e,n)}return e}var J_=ZC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sH=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(aH(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function aH(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(e,t){e.INTERNAL.registerComponent(new kf("platform-logger",function(n){return new sH(n)},"PRIVATE")),e.registerVersion(QC,zB,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(bB()&&self.firebase!==void 0){zu.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var bI=self.firebase.SDK_VERSION;bI&&bI.indexOf("LITE")>=0&&zu.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var lH=J_.initializeApp;J_.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yB()&&zu.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),lH.apply(void 0,e)};var Fe=J_;uH(Fe);var cH="firebase",fH="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fe.registerVersion(cH,fH,"app");(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){o!=Array.prototype&&o!=Object.prototype&&(o[u]=d.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}return globalThis}var r=n(this);function i(o,u){if(u){var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var b=o[g];b in d||(d[b]={}),d=d[b]}o=o[o.length-1],g=d[o],u=u(g),u!=g&&u!=null&&t(d,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(x){this.b=0,this.c=void 0,this.a=[];var F=this.f();try{x(F.resolve,F.reject)}catch(Q){F.reject(Q)}}function d(){this.a=null}function g(x){return x instanceof u?x:new u(function(F){F(x)})}if(o)return o;d.prototype.b=function(x){if(this.a==null){this.a=[];var F=this;this.c(function(){F.g()})}this.a.push(x)};var b=r.setTimeout;d.prototype.c=function(x){b(x,0)},d.prototype.g=function(){for(;this.a&&this.a.length;){var x=this.a;this.a=[];for(var F=0;F<x.length;++F){var Q=x[F];x[F]=null;try{Q()}catch(se){this.f(se)}}}this.a=null},d.prototype.f=function(x){this.c(function(){throw x})},u.prototype.f=function(){function x(se){return function(Ye){Q||(Q=!0,se.call(F,Ye))}}var F=this,Q=!1;return{resolve:x(this.m),reject:x(this.g)}},u.prototype.m=function(x){if(x===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(x instanceof u)this.s(x);else{e:switch(typeof x){case"object":var F=x!=null;break e;case"function":F=!0;break e;default:F=!1}F?this.v(x):this.h(x)}},u.prototype.v=function(x){var F=void 0;try{F=x.then}catch(Q){this.g(Q);return}typeof F=="function"?this.u(F,x):this.h(x)},u.prototype.g=function(x){this.i(2,x)},u.prototype.h=function(x){this.i(1,x)},u.prototype.i=function(x,F){if(this.b!=0)throw Error("Cannot settle("+x+", "+F+"): Promise already settled in state"+this.b);this.b=x,this.c=F,this.l()},u.prototype.l=function(){if(this.a!=null){for(var x=0;x<this.a.length;++x)T.b(this.a[x]);this.a=null}};var T=new d;return u.prototype.s=function(x){var F=this.f();x.Qa(F.resolve,F.reject)},u.prototype.u=function(x,F){var Q=this.f();try{x.call(F,Q.resolve,Q.reject)}catch(se){Q.reject(se)}},u.prototype.then=function(x,F){function Q(Tt,xn){return typeof Tt=="function"?function(io){try{se(Tt(io))}catch(ty){Ye(ty)}}:xn}var se,Ye,Ot=new u(function(Tt,xn){se=Tt,Ye=xn});return this.Qa(Q(x,se),Q(F,Ye)),Ot},u.prototype.catch=function(x){return this.then(void 0,x)},u.prototype.Qa=function(x,F){function Q(){switch(se.b){case 1:x(se.c);break;case 2:F(se.c);break;default:throw Error("Unexpected state: "+se.b)}}var se=this;this.a==null?T.b(Q):this.a.push(Q)},u.resolve=g,u.reject=function(x){return new u(function(F,Q){Q(x)})},u.race=function(x){return new u(function(F,Q){for(var se=a(x),Ye=se.next();!Ye.done;Ye=se.next())g(Ye.value).Qa(F,Q)})},u.all=function(x){var F=a(x),Q=F.next();return Q.done?g([]):new u(function(se,Ye){function Ot(io){return function(ty){Tt[io]=ty,xn--,xn==0&&se(Tt)}}var Tt=[],xn=0;do Tt.push(void 0),xn++,g(Q.value).Qa(Ot(Tt.length-1),Ye),Q=F.next();while(!Q.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function f(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function v(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function y(o){var u=v(o);return u=="array"||u=="object"&&typeof o.length=="number"}function _(o){return v(o)=="function"}function w(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function E(o){return Object.prototype.hasOwnProperty.call(o,k)&&o[k]||(o[k]=++I)}var k="closure_uid_"+(1e9*Math.random()>>>0),I=0;function C(o,u,d){return o.call.apply(o.bind,arguments)}function M(o,u,d){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function A(o,u,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A=C:A=M,A.apply(null,arguments)}function j(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}var U=Date.now;function P(o,u){function d(){}d.prototype=u.prototype,o.ab=u.prototype,o.prototype=new d,o.prototype.constructor=o}function z(o){return o}function L(o,u,d){this.code=ee+o,this.message=u||Te[o]||"",this.a=d||null}P(L,Error),L.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},L.prototype.toJSON=function(){return this.w()};function q(o){var u=o&&o.code;return u?new L(u.substring(ee.length),o.message,o.serverResponse):null}var ee="auth/",Te={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},xe={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ie(o){for(var u in xe)if(xe[u].id===o)return o=xe[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Re;Re=ie("__EID__")?"__EID__":void 0;function Me(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Xe(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Xe);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}P(Xe,Error),Xe.prototype.name="CustomError";function xt(o,u){o=o.split("%s");for(var d="",g=o.length-1,b=0;b<g;b++)d+=o[b]+(b<u.length?u[b]:"%s");Xe.call(this,d+o[g])}P(xt,Xe),xt.prototype.name="AssertionError";function it(o,u){throw new xt("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function dt(o,u){this.c=o,this.f=u,this.b=0,this.a=null}dt.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function pt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function en(){this.b=this.a=null}var Se=new dt(function(){return new W},function(o){o.reset()});en.prototype.add=function(o,u){var d=Se.get();d.set(o,u),this.b?this.b.next=d:this.a=d,this.b=d};function Ne(){var o=eE,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function W(){this.next=this.b=this.a=null}W.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var le=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var d=0;d<o.length;d++)if(d in o&&o[d]===u)return d;return-1},re=Array.prototype.forEach?function(o,u,d){Array.prototype.forEach.call(o,u,d)}:function(o,u,d){for(var g=o.length,b=typeof o=="string"?o.split(""):o,T=0;T<g;T++)T in b&&u.call(d,b[T],T,o)};function Ee(o,u){for(var d=typeof o=="string"?o.split(""):o,g=o.length-1;0<=g;--g)g in d&&u.call(void 0,d[g],g,o)}var Ge=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var d=o.length,g=[],b=0,T=typeof o=="string"?o.split(""):o,x=0;x<d;x++)if(x in T){var F=T[x];u.call(void 0,F,x,o)&&(g[b++]=F)}return g},st=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var d=o.length,g=Array(d),b=typeof o=="string"?o.split(""):o,T=0;T<d;T++)T in b&&(g[T]=u.call(void 0,b[T],T,o));return g},D=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var d=o.length,g=typeof o=="string"?o.split(""):o,b=0;b<d;b++)if(b in g&&u.call(void 0,g[b],b,o))return!0;return!1};function O(o){e:{for(var u=rM,d=o.length,g=typeof o=="string"?o.split(""):o,b=0;b<d;b++)if(b in g&&u.call(void 0,g[b],b,o)){u=b;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function H(o,u){return 0<=le(o,u)}function te(o,u){u=le(o,u);var d;return(d=0<=u)&&Array.prototype.splice.call(o,u,1),d}function Y(o,u){var d=0;Ee(o,function(g,b){u.call(void 0,g,b,o)&&Array.prototype.splice.call(o,b,1).length==1&&d++})}function fe(o){return Array.prototype.concat.apply([],arguments)}function pe(o){var u=o.length;if(0<u){for(var d=Array(u),g=0;g<u;g++)d[g]=o[g];return d}return[]}var N=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},R=/&/g,$=/</g,Z=/>/g,we=/"/g,oe=/'/g,G=/\x00/g,J=/[\x00&<>"']/;function ge(o,u){return o.indexOf(u)!=-1}function V(o,u){return o<u?-1:o>u?1:0}var B;e:{var ne=c.navigator;if(ne){var ve=ne.userAgent;if(ve){B=ve;break e}}B=""}function Ie(o){return ge(B,o)}function Pe(o,u){for(var d in o)u.call(void 0,o[d],d,o)}function Ze(o){for(var u in o)return!1;return!0}function et(o){var u={},d;for(d in o)u[d]=o[d];return u}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _t(o,u){for(var d,g,b=1;b<arguments.length;b++){g=arguments[b];for(d in g)o[d]=g[d];for(var T=0;T<mt.length;T++)d=mt[T],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function Lt(o,u){e:{try{var d=o&&o.ownerDocument,g=d&&(d.defaultView||d.parentWindow);if(g=g||c,g.Element&&g.Location){var b=g;break e}}catch{}b=null}if(b&&typeof b[u]<"u"&&(!o||!(o instanceof b[u])&&(o instanceof b.Location||o instanceof b.Element))){if(w(o))try{var T=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{T="<object could not be stringified>"}else T=o===void 0?"undefined":o===null?"null":typeof o;it("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,T)}}function Vt(o,u){this.a=o===xi&&u||"",this.b=pr}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a},Vt.prototype.toString=function(){return"Const{"+this.a+"}"};function An(o){return o instanceof Vt&&o.constructor===Vt&&o.b===pr?o.a:(it("expected object of type Const, got '"+o+"'"),"type_error:Const")}var pr={},xi={},Ao;function xl(){if(Ao===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:z,createScript:z,createScriptURL:z})}catch(d){c.console&&c.console.error(d.message)}Ao=o}else Ao=o}return Ao}function ki(o,u){this.a=u===Uw?o:""}ki.prototype.sa=!0,ki.prototype.ra=function(){return this.a.toString()},ki.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Wa(o){return o instanceof ki&&o.constructor===ki?o.a:(it("expected object of type TrustedResourceUrl, got '"+o+"' of type "+v(o)),"type_error:TrustedResourceUrl")}function Om(o,u){var d=An(o);if(!LR.test(d))throw Error("Invalid TrustedResourceUrl format: "+d);return o=d.replace(PR,function(g,b){if(!Object.prototype.hasOwnProperty.call(u,b))throw Error('Found marker, "'+b+'", in format string, "'+d+'", but no valid label mapping found in args: '+JSON.stringify(u));return g=u[b],g instanceof Vt?An(g):encodeURIComponent(String(g))}),RR(o)}var PR=/%{(\w+)}/g,LR=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Uw={};function RR(o){var u=xl();return o=u?u.createScriptURL(o):o,new ki(o,Uw)}function mr(o,u){this.a=u===kl?o:""}mr.prototype.sa=!0,mr.prototype.ra=function(){return this.a.toString()},mr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Kf(o){return o instanceof mr&&o.constructor===mr?o.a:(it("expected object of type SafeUrl, got '"+o+"' of type "+v(o)),"type_error:SafeUrl")}var DR=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,MR=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Vw=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function $w(o){if(o instanceof mr)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),Vw.test(o))o=new mr(o,kl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(MR);o=u&&DR.test(u[1])?new mr(o,kl):null}return o}function jw(o){return o instanceof mr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),Vw.test(o)||(o="about:invalid#zClosurez"),new mr(o,kl))}var kl={},Bw=new mr("about:invalid#zClosurez",kl);function Ka(o,u,d){this.a=d===Hw?o:""}Ka.prototype.sa=!0,Ka.prototype.ra=function(){return this.a.toString()},Ka.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function FR(o){return o instanceof Ka&&o.constructor===Ka?o.a:(it("expected object of type SafeHtml, got '"+o+"' of type "+v(o)),"type_error:SafeHtml")}var Hw={};function UR(o,u){Lt(o,"HTMLScriptElement"),o.src=Wa(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=f(u.document):(p===null&&(p=f(c.document)),u=p),u&&o.setAttribute("nonce",u)}function Gw(o,u,d,g){return o=o instanceof mr?o:jw(o),u=u||c,d=d instanceof Vt?An(d):d||"",u.open(Kf(o),d,g,void 0)}function zw(o,u){for(var d=o.split("%s"),g="",b=Array.prototype.slice.call(arguments,1);b.length&&1<d.length;)g+=d.shift()+b.shift();return g+d.join("%s")}function Pm(o){return J.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(R,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace($,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(Z,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(we,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(oe,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(G,"&#0;"))),o}function Lm(o){return Lm[" "](o),o}Lm[" "]=m;function VR(o,u){var d=HR;return Object.prototype.hasOwnProperty.call(d,o)?d[o]:d[o]=u(o)}var $R=Ie("Opera"),ui=Ie("Trident")||Ie("MSIE"),qw=Ie("Edge"),jR=qw||ui,Ww=Ie("Gecko")&&!(ge(B.toLowerCase(),"webkit")&&!Ie("Edge"))&&!(Ie("Trident")||Ie("MSIE"))&&!Ie("Edge"),BR=ge(B.toLowerCase(),"webkit")&&!Ie("Edge");function Kw(){var o=c.document;return o?o.documentMode:void 0}var Yf;e:{var Rm="",Dm=function(){var o=B;if(Ww)return/rv:([^\);]+)(\)|;)/.exec(o);if(qw)return/Edge\/([\d\.]+)/.exec(o);if(ui)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(BR)return/WebKit\/(\S+)/.exec(o);if($R)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Dm&&(Rm=Dm?Dm[1]:""),ui){var Mm=Kw();if(Mm!=null&&Mm>parseFloat(Rm)){Yf=String(Mm);break e}}Yf=Rm}var HR={};function Yw(o){return VR(o,function(){for(var u=0,d=N(String(Yf)).split("."),g=N(String(o)).split("."),b=Math.max(d.length,g.length),T=0;u==0&&T<b;T++){var x=d[T]||"",F=g[T]||"";do{if(x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],F=/(\d*)(\D*)(.*)/.exec(F)||["","","",""],x[0].length==0&&F[0].length==0)break;u=V(x[1].length==0?0:parseInt(x[1],10),F[1].length==0?0:parseInt(F[1],10))||V(x[2].length==0,F[2].length==0)||V(x[2],F[2]),x=x[3],F=F[3]}while(u==0)}return 0<=u})}var Fm;if(c.document&&ui){var Xw=Kw();Fm=Xw||parseInt(Yf,10)||void 0}else Fm=void 0;var xo=Fm;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var GR=!ui||9<=Number(xo);function Cl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function Jw(o,u){Pe(u,function(d,g){d&&typeof d=="object"&&d.sa&&(d=d.ra()),g=="style"?o.style.cssText=d:g=="class"?o.className=d:g=="for"?o.htmlFor=d:Qw.hasOwnProperty(g)?o.setAttribute(Qw[g],d):g.lastIndexOf("aria-",0)==0||g.lastIndexOf("data-",0)==0?o.setAttribute(g,d):o[g]=d})}var Qw={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function zR(o,u,d){var g=arguments,b=document,T=String(g[0]),x=g[1];if(!GR&&x&&(x.name||x.type)){if(T=["<",T],x.name&&T.push(' name="',Pm(x.name),'"'),x.type){T.push(' type="',Pm(x.type),'"');var F={};_t(F,x),delete F.type,x=F}T.push(">"),T=T.join("")}return T=Xf(b,T),x&&(typeof x=="string"?T.className=x:Array.isArray(x)?T.className=x.join(" "):Jw(T,x)),2<g.length&&qR(b,T,g),T}function qR(o,u,d){function g(F){F&&u.appendChild(typeof F=="string"?o.createTextNode(F):F)}for(var b=2;b<d.length;b++){var T=d[b];if(!y(T)||w(T)&&0<T.nodeType)g(T);else{e:{if(T&&typeof T.length=="number"){if(w(T)){var x=typeof T.item=="function"||typeof T.item=="string";break e}if(_(T)){x=typeof T.item=="function";break e}}x=!1}re(x?pe(T):T,g)}}}function Xf(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function Zw(o){c.setTimeout(function(){throw o},0)}var Um;function WR(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Ie("Presto")&&(o=function(){var b=Xf(document,"IFRAME");b.style.display="none",document.documentElement.appendChild(b);var T=b.contentWindow;b=T.document,b.open(),b.close();var x="callImmediate"+Math.random(),F=T.location.protocol=="file:"?"*":T.location.protocol+"//"+T.location.host;b=A(function(Q){(F=="*"||Q.origin==F)&&Q.data==x&&this.port1.onmessage()},this),T.addEventListener("message",b,!1),this.port1={},this.port2={postMessage:function(){T.postMessage(x,F)}}}),typeof o<"u"&&!Ie("Trident")&&!Ie("MSIE")){var u=new o,d={},g=d;return u.port1.onmessage=function(){if(d.next!==void 0){d=d.next;var b=d.Gb;d.Gb=null,b()}},function(b){g.next={Gb:b},g=g.next,u.port2.postMessage(0)}}return function(b){c.setTimeout(b,0)}}function Jf(o,u){Qf||KR(),Vm||(Qf(),Vm=!0),eE.add(o,u)}var Qf;function KR(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Qf=function(){o.then(tE)}}else Qf=function(){var u=tE;!_(c.setImmediate)||c.Window&&c.Window.prototype&&!Ie("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Um||(Um=WR()),Um(u)):c.setImmediate(u)}}var Vm=!1,eE=new en;function tE(){for(var o;o=Ne();){try{o.a.call(o.b)}catch(u){Zw(u)}pt(Se,o)}Vm=!1}function at(o,u){if(this.a=Rs,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var d=this;o.call(u,function(g){Ds(d,Nl,g)},function(g){if(!(g instanceof Ya))try{throw g instanceof Error?g:Error("Promise rejected.")}catch{}Ds(d,eo,g)})}catch(g){Ds(this,eo,g)}}var Rs=0,Nl=2,eo=3;function nE(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}nE.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var rE=new dt(function(){return new nE},function(o){o.reset()});function $m(o,u,d){var g=rE.get();return g.g=o,g.b=u,g.f=d,g}function je(o){if(o instanceof at)return o;var u=new at(m);return Ds(u,Nl,o),u}function qt(o){return new at(function(u,d){d(o)})}function iE(o,u,d){uE(o,u,d,null)||Jf(j(u,o))}function YR(o){return new at(function(u,d){var g=o.length,b=[];if(g)for(var T=function(se,Ye){g--,b[se]=Ye,g==0&&u(b)},x=function(se){d(se)},F=0,Q;F<o.length;F++)Q=o[F],iE(Q,j(T,F),x);else u(b)})}function oE(o){return new at(function(u){var d=o.length,g=[];if(d)for(var b=function(F,Q,se){d--,g[F]=Q?{Pb:!0,value:se}:{Pb:!1,reason:se},d==0&&u(g)},T=0,x;T<o.length;T++)x=o[T],iE(x,j(b,T,!0),j(b,T,!1));else u(g)})}at.prototype.then=function(o,u,d){return aE(this,_(o)?o:null,_(u)?u:null,d)},at.prototype.$goog_Thenable=!0,e=at.prototype,e.oa=function(o,u){return o=$m(o,o,u),o.c=!0,jm(this,o),this},e.o=function(o,u){return aE(this,null,o,u)},e.cancel=function(o){if(this.a==Rs){var u=new Ya(o);Jf(function(){sE(this,u)},this)}};function sE(o,u){if(o.a==Rs)if(o.c){var d=o.c;if(d.b){for(var g=0,b=null,T=null,x=d.b;x&&(x.c||(g++,x.a==o&&(b=x),!(b&&1<g)));x=x.next)b||(T=x);b&&(d.a==Rs&&g==1?sE(d,u):(T?(g=T,g.next==d.f&&(d.f=g),g.next=g.next.next):cE(d),fE(d,b,eo,u)))}o.c=null}else Ds(o,eo,u)}function jm(o,u){o.b||o.a!=Nl&&o.a!=eo||lE(o),o.f?o.f.next=u:o.b=u,o.f=u}function aE(o,u,d,g){var b=$m(null,null,null);return b.a=new at(function(T,x){b.g=u?function(F){try{var Q=u.call(g,F);T(Q)}catch(se){x(se)}}:T,b.b=d?function(F){try{var Q=d.call(g,F);Q===void 0&&F instanceof Ya?x(F):T(Q)}catch(se){x(se)}}:x}),b.a.c=o,jm(o,b),b.a}e.$c=function(o){this.a=Rs,Ds(this,Nl,o)},e.ad=function(o){this.a=Rs,Ds(this,eo,o)};function Ds(o,u,d){o.a==Rs&&(o===d&&(u=eo,d=new TypeError("Promise cannot resolve to itself")),o.a=1,uE(d,o.$c,o.ad,o)||(o.i=d,o.a=u,o.c=null,lE(o),u!=eo||d instanceof Ya||JR(o,d)))}function uE(o,u,d,g){if(o instanceof at)return jm(o,$m(u||m,d||null,g)),!0;if(Me(o))return o.then(u,d,g),!0;if(w(o))try{var b=o.then;if(_(b))return XR(o,b,u,d,g),!0}catch(T){return d.call(g,T),!0}return!1}function XR(o,u,d,g,b){function T(Q){F||(F=!0,g.call(b,Q))}function x(Q){F||(F=!0,d.call(b,Q))}var F=!1;try{u.call(o,x,T)}catch(Q){T(Q)}}function lE(o){o.h||(o.h=!0,Jf(o.gc,o))}function cE(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=cE(this);)fE(this,o,this.a,this.i);this.h=!1};function fE(o,u,d,g){if(d==eo&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,hE(u,d,g);else try{u.c?u.g.call(u.f):hE(u,d,g)}catch(b){dE.call(null,b)}pt(rE,u)}function hE(o,u,d){u==Nl?o.g.call(o.f,d):o.b&&o.b.call(o.f,d)}function JR(o,u){o.g=!0,Jf(function(){o.g&&dE.call(null,u)})}var dE=Zw;function Ya(o){Xe.call(this,o)}P(Ya,Xe),Ya.prototype.name="cancel";function Zf(){this.xa=this.xa,this.pa=this.pa}var QR=0;Zf.prototype.xa=!1;function pE(o){!o.xa&&(o.xa=!0,o.Da(),QR!=0)&&E(o)}Zf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var ZR=Object.freeze||function(o){return o},mE=!ui||9<=Number(xo),eD=ui&&!Yw("9"),tD=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function gr(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}gr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ms(o,u){if(gr.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(Ww){e:{try{Lm(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:nD[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}P(Ms,gr);var nD=ZR({2:"touch",3:"pen",4:"mouse"});Ms.prototype.preventDefault=function(){Ms.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,eD)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ms.prototype.g=function(){return this.a};var Ol="closure_listenable_"+(1e6*Math.random()|0),rD=0;function iD(o,u,d,g,b){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!g,this.Va=b,this.key=++rD,this.va=this.Pa=!1}function eh(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function th(o){this.src=o,this.a={},this.b=0}th.prototype.add=function(o,u,d,g,b){var T=o.toString();o=this.a[T],o||(o=this.a[T]=[],this.b++);var x=Hm(o,u,g,b);return-1<x?(u=o[x],d||(u.Pa=!1)):(u=new iD(u,this.src,T,!!g,b),u.Pa=d,o.push(u)),u};function Bm(o,u){var d=u.type;d in o.a&&te(o.a[d],u)&&(eh(u),o.a[d].length==0&&(delete o.a[d],o.b--))}function Hm(o,u,d,g){for(var b=0;b<o.length;++b){var T=o[b];if(!T.va&&T.listener==u&&T.capture==!!d&&T.Va==g)return b}return-1}var Gm="closure_lm_"+(1e6*Math.random()|0),zm={};function Xr(o,u,d,g,b){if(g&&g.once)qm(o,u,d,g,b);else if(Array.isArray(u))for(var T=0;T<u.length;T++)Xr(o,u[T],d,g,b);else d=Km(d),o&&o[Ol]?wE(o,u,d,w(g)?!!g.capture:!!g,b):gE(o,u,d,!1,g,b)}function gE(o,u,d,g,b,T){if(!u)throw Error("Invalid event type");var x=w(b)?!!b.capture:!!b,F=nh(o);if(F||(o[Gm]=F=new th(o)),d=F.add(u,d,g,x,T),!d.proxy)if(g=oD(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)tD||(b=x),b===void 0&&(b=!1),o.addEventListener(u.toString(),g,b);else if(o.attachEvent)o.attachEvent(yE(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.")}function oD(){var o=sD,u=mE?function(d){return o.call(u.src,u.listener,d)}:function(d){if(d=o.call(u.src,u.listener,d),!d)return d};return u}function qm(o,u,d,g,b){if(Array.isArray(u))for(var T=0;T<u.length;T++)qm(o,u[T],d,g,b);else d=Km(d),o&&o[Ol]?Ym(o,u,d,w(g)?!!g.capture:!!g,b):gE(o,u,d,!0,g,b)}function Cr(o,u,d,g,b){if(Array.isArray(u))for(var T=0;T<u.length;T++)Cr(o,u[T],d,g,b);else g=w(g)?!!g.capture:!!g,d=Km(d),o&&o[Ol]?(o=o.v,u=String(u).toString(),u in o.a&&(T=o.a[u],d=Hm(T,d,g,b),-1<d&&(eh(T[d]),Array.prototype.splice.call(T,d,1),T.length==0&&(delete o.a[u],o.b--)))):o&&(o=nh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Hm(u,d,g,b)),(d=-1<o?u[o]:null)&&vE(d))}function vE(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[Ol])Bm(u.v,o);else{var d=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(d,g,o.capture):u.detachEvent?u.detachEvent(yE(d),g):u.addListener&&u.removeListener&&u.removeListener(g),(d=nh(u))?(Bm(d,o),d.b==0&&(d.src=null,u[Gm]=null)):eh(o)}}}function yE(o){return o in zm?zm[o]:zm[o]="on"+o}function bE(o,u,d,g){var b=!0;if((o=nh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var T=u[o];T&&T.capture==d&&!T.va&&(T=_E(T,g),b=b&&T!==!1)}return b}function _E(o,u){var d=o.listener,g=o.Va||o.src;return o.Pa&&vE(o),d.call(g,u)}function sD(o,u){if(o.va)return!0;if(!mE){if(!u)e:{u=["window","event"];for(var d=c,g=0;g<u.length;g++)if(d=d[u[g]],d==null){u=null;break e}u=d}if(g=u,u=new Ms(g,this),d=!0,!(0>g.keyCode||g.returnValue!=null)){e:{var b=!1;if(g.keyCode==0)try{g.keyCode=-1;break e}catch{b=!0}(b||g.returnValue==null)&&(g.returnValue=!0)}for(g=[],b=u.b;b;b=b.parentNode)g.push(b);for(o=o.type,b=g.length-1;0<=b;b--){u.b=g[b];var T=bE(g[b],o,!0,u);d=d&&T}for(b=0;b<g.length;b++)u.b=g[b],T=bE(g[b],o,!1,u),d=d&&T}return d}return _E(o,new Ms(u,this))}function nh(o){return o=o[Gm],o instanceof th?o:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(o){return _(o)?o:(o[Wm]||(o[Wm]=function(u){return o.handleEvent(u)}),o[Wm])}function Zn(){Zf.call(this),this.v=new th(this),this.ac=this,this.gb=null}P(Zn,Zf),Zn.prototype[Ol]=!0,Zn.prototype.addEventListener=function(o,u,d,g){Xr(this,o,u,d,g)},Zn.prototype.removeEventListener=function(o,u,d,g){Cr(this,o,u,d,g)},Zn.prototype.dispatchEvent=function(o){var u,d=this.gb;if(d)for(u=[];d;d=d.gb)u.push(d);d=this.ac;var g=o.type||o;if(typeof o=="string")o=new gr(o,d);else if(o instanceof gr)o.target=o.target||d;else{var b=o;o=new gr(g,d),_t(o,b)}if(b=!0,u)for(var T=u.length-1;0<=T;T--){var x=o.b=u[T];b=rh(x,g,!0,o)&&b}if(x=o.b=d,b=rh(x,g,!0,o)&&b,b=rh(x,g,!1,o)&&b,u)for(T=0;T<u.length;T++)x=o.b=u[T],b=rh(x,g,!1,o)&&b;return b},Zn.prototype.Da=function(){if(Zn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var d=o.a[u],g=0;g<d.length;g++)eh(d[g]);delete o.a[u],o.b--}}this.gb=null};function wE(o,u,d,g,b){o.v.add(String(u),d,!1,g,b)}function Ym(o,u,d,g,b){o.v.add(String(u),d,!0,g,b)}function rh(o,u,d,g){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var b=!0,T=0;T<u.length;++T){var x=u[T];if(x&&!x.va&&x.capture==d){var F=x.listener,Q=x.Va||x.src;x.Pa&&Bm(o.v,x),b=F.call(Q,g)!==!1&&b}}return b&&!g.defaultPrevented}function Xm(o,u,d){if(_(o))d&&(o=A(o,d));else if(o&&typeof o.handleEvent=="function")o=A(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Xa(o){var u=null;return new at(function(d,g){u=Xm(function(){d(void 0)},o),u==-1&&g(Error("Failed to schedule timer."))}).o(function(d){throw c.clearTimeout(u),d})}function EE(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(y(o)){for(var u=[],d=o.length,g=0;g<d;g++)u.push(o[g]);return u}u=[],d=0;for(g in o)u[d++]=o[g];return u}function TE(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(y(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(var g in o)u[d++]=g;return u}}function aD(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(y(o)||typeof o=="string")re(o,u,void 0);else for(var d=TE(o),g=EE(o),b=g.length,T=0;T<b;T++)u.call(void 0,g[T],d&&d[T],o)}function Ja(o,u){this.b={},this.a=[],this.c=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var g=0;g<d;g+=2)this.set(arguments[g],arguments[g+1])}else if(o)if(o instanceof Ja)for(d=o.Y(),g=0;g<d.length;g++)this.set(d[g],o.get(d[g]));else for(g in o)this.set(g,o[g])}e=Ja.prototype,e.W=function(){Jm(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Jm(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Jm(o){if(o.c!=o.a.length){for(var u=0,d=0;u<o.a.length;){var g=o.a[u];Fs(o.b,g)&&(o.a[d++]=g),u++}o.a.length=d}if(o.c!=o.a.length){var b={};for(d=u=0;u<o.a.length;)g=o.a[u],Fs(b,g)||(o.a[d++]=g,b[g]=1),u++;o.a.length=d}}e.get=function(o,u){return Fs(this.b,o)?this.b[o]:u},e.set=function(o,u){Fs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var d=this.Y(),g=0;g<d.length;g++){var b=d[g],T=this.get(b);o.call(u,T,b,this)}};function Fs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var SE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uD(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var g=o[d].indexOf("="),b=null;if(0<=g){var T=o[d].substring(0,g);b=o[d].substring(g+1)}else T=o[d];u(T,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ko(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var d;o instanceof ko?(this.i=u!==void 0?u:o.i,Pl(this,o.c),this.l=o.l,this.a=o.a,Ll(this,o.g),this.f=o.f,Qm(this,kE(o.b)),this.h=o.h):o&&(d=String(o).match(SE))?(this.i=!!u,Pl(this,d[1]||"",!0),this.l=Rl(d[2]||""),this.a=Rl(d[3]||"",!0),Ll(this,d[4]),this.f=Rl(d[5]||"",!0),Qm(this,d[6]||"",!0),this.h=Rl(d[7]||"")):(this.i=!!u,this.b=new Us(null,this.i))}ko.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Dl(u,IE,!0),":");var d=this.a;return(d||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Dl(u,IE,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.g,d!=null&&o.push(":",String(d))),(d=this.f)&&(this.a&&d.charAt(0)!="/"&&o.push("/"),o.push(Dl(d,d.charAt(0)=="/"?fD:cD,!0))),(d=this.b.toString())&&o.push("?",d),(d=this.h)&&o.push("#",Dl(d,dD)),o.join("")},ko.prototype.resolve=function(o){var u=new ko(this),d=!!o.c;d?Pl(u,o.c):d=!!o.l,d?u.l=o.l:d=!!o.a,d?u.a=o.a:d=o.g!=null;var g=o.f;if(d)Ll(u,o.g);else if(d=!!o.f){if(g.charAt(0)!="/")if(this.a&&!this.f)g="/"+g;else{var b=u.f.lastIndexOf("/");b!=-1&&(g=u.f.substr(0,b+1)+g)}if(b=g,b==".."||b==".")g="";else if(ge(b,"./")||ge(b,"/.")){g=b.lastIndexOf("/",0)==0,b=b.split("/");for(var T=[],x=0;x<b.length;){var F=b[x++];F=="."?g&&x==b.length&&T.push(""):F==".."?((1<T.length||T.length==1&&T[0]!="")&&T.pop(),g&&x==b.length&&T.push("")):(T.push(F),g=!0)}g=T.join("/")}else g=b}return d?u.f=g:d=o.b.toString()!=="",d?Qm(u,kE(o.b)):d=!!o.h,d&&(u.h=o.h),u};function Pl(o,u,d){o.c=d?Rl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Ll(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Qm(o,u,d){u instanceof Us?(o.b=u,pD(o.b,o.i)):(d||(u=Dl(u,hD)),o.b=new Us(u,o.i))}function rn(o,u,d){o.b.set(u,d)}function Jr(o,u){return o.b.get(u)}function vr(o){return o instanceof ko?new ko(o):new ko(o,void 0)}function ih(o,u,d,g){var b=new ko(null,void 0);return o&&Pl(b,o),u&&(b.a=u),d&&Ll(b,d),g&&(b.f=g),b}function Rl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Dl(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,lD),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function lD(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var IE=/[#\/\?@]/g,cD=/[#\?:]/g,fD=/[#\?]/g,hD=/[#\?@]/g,dD=/#/g;function Us(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Co(o){o.a||(o.a=new Ja,o.b=0,o.c&&uD(o.c,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}function AE(o){var u=TE(o);if(typeof u>"u")throw Error("Keys are undefined");var d=new Us(null,void 0);o=EE(o);for(var g=0;g<u.length;g++){var b=u[g],T=o[g];Array.isArray(T)?xE(d,b,T):d.add(b,T)}return d}e=Us.prototype,e.add=function(o,u){Co(this),this.c=null,o=Qa(this,o);var d=this.a.get(o);return d||this.a.set(o,d=[]),d.push(u),this.b+=1,this};function Ci(o,u){Co(o),u=Qa(o,u),Fs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Fs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Jm(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Zm(o,u){return Co(o),u=Qa(o,u),Fs(o.a.b,u)}e.forEach=function(o,u){Co(this),this.a.forEach(function(d,g){re(d,function(b){o.call(u,b,g,this)},this)},this)},e.Y=function(){Co(this);for(var o=this.a.W(),u=this.a.Y(),d=[],g=0;g<u.length;g++)for(var b=o[g],T=0;T<b.length;T++)d.push(u[g]);return d},e.W=function(o){Co(this);var u=[];if(typeof o=="string")Zm(this,o)&&(u=fe(u,this.a.get(Qa(this,o))));else{o=this.a.W();for(var d=0;d<o.length;d++)u=fe(u,o[d])}return u},e.set=function(o,u){return Co(this),this.c=null,o=Qa(this,o),Zm(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function xE(o,u,d){Ci(o,u),0<d.length&&(o.c=null,o.a.set(Qa(o,u),pe(d)),o.b+=d.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),d=0;d<u.length;d++){var g=u[d],b=encodeURIComponent(String(g));g=this.W(g);for(var T=0;T<g.length;T++){var x=b;g[T]!==""&&(x+="="+encodeURIComponent(String(g[T]))),o.push(x)}}return this.c=o.join("&")};function kE(o){var u=new Us;return u.c=o.c,o.a&&(u.a=new Ja(o.a),u.b=o.b),u}function Qa(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function pD(o,u){u&&!o.f&&(Co(o),o.c=null,o.a.forEach(function(d,g){var b=g.toLowerCase();g!=b&&(Ci(this,g),xE(this,b,d))},o)),o.f=u}function CE(o){var u=[];return eg(new mD,o,u),u.join("")}function mD(){}function eg(o,u,d){if(u==null)d.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var g=u;u=g.length,d.push("[");for(var b="",T=0;T<u;T++)d.push(b),eg(o,g[T],d),b=",";d.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{d.push("{"),b="";for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&(T=u[g],typeof T!="function"&&(d.push(b),OE(g,d),d.push(":"),eg(o,T,d),b=","));d.push("}");return}}switch(typeof u){case"string":OE(u,d);break;case"number":d.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":d.push(String(u));break;case"function":d.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var NE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},gD=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function OE(o,u){u.push('"',o.replace(gD,function(d){var g=NE[d];return g||(g="\\u"+(d.charCodeAt(0)|65536).toString(16).substr(1),NE[d]=g),g}),'"')}function tg(){var o=Ln();return ui&&!!xo&&xo==11||/Edge\/\d+/.test(o)}function Ml(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function PE(o,u){u=u||c.window;var d="about:blank";o&&(d=Kf($w(o)||Bw)),u.location.href=d}function LE(o,u){var d=[],g;for(g in o)g in u?typeof o[g]!=typeof u[g]?d.push(g):typeof o[g]=="object"&&o[g]!=null&&u[g]!=null?0<LE(o[g],u[g]).length&&d.push(g):o[g]!==u[g]&&d.push(g):d.push(g);for(g in u)g in o||d.push(g);return d}function vD(){var o=Ln();return o=Za(o)!=FE?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!ui||!xo||9<xo}function RE(o){return o=(o||Ln()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Vs(o){o=o||c.window;try{o.close()}catch{}}function DE(o,u,d){var g=Math.floor(1e9*Math.random()).toString();u=u||500,d=d||600;var b=(window.screen.availHeight-d)/2,T=(window.screen.availWidth-u)/2;u={width:u,height:d,top:0<b?b:0,left:0<T?T:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},d=Ln().toLowerCase(),g&&(u.target=g,ge(d,"crios/")&&(u.target="_blank")),Za(Ln())==ig&&(o=o||"http://localhost",u.scrollbars=!0),d=o||"",(o=u)||(o={}),g=window,u=d instanceof mr?d:$w(typeof d.href<"u"?d.href:String(d))||Bw,d=o.target||d.target,b=[];for(x in o)switch(x){case"width":case"height":case"top":case"left":b.push(x+"="+o[x]);break;case"target":case"noopener":case"noreferrer":break;default:b.push(x+"="+(o[x]?1:0))}var x=b.join(",");if((Ie("iPhone")&&!Ie("iPod")&&!Ie("iPad")||Ie("iPad")||Ie("iPod"))&&g.navigator&&g.navigator.standalone&&d&&d!="_self"?(x=Xf(document,"A"),Lt(x,"HTMLAnchorElement"),u=u instanceof mr?u:jw(u),x.href=Kf(u),x.setAttribute("target",d),o.noreferrer&&x.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,g,1),x.dispatchEvent(o),x={}):o.noreferrer?(x=Gw("",g,d,x),o=Kf(u),x&&(jR&&ge(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),x.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Pm(o)+'">',o=(g=xl())?g.createHTML(o):o,o=new Ka(o,null,Hw),g=x.document)&&(g.write(FR(o)),g.close())):(x=Gw(u,g,d,x))&&o.noopener&&(x.opener=null),x)try{x.focus()}catch{}return x}function yD(o){return new at(function(u){function d(){Xa(2e3).then(function(){if(!o||o.closed)u();else return d()})}return d()})}var bD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_D=/^[^@]+@[^@]+$/;function oh(){var o=null;return new at(function(u){c.document.readyState=="complete"?u():(o=function(){u()},qm(window,"load",o))}).o(function(u){throw Cr(window,"load",o),u})}function wD(){return ng(void 0)?oh().then(function(){return new at(function(o,u){var d=c.document,g=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);d.addEventListener("deviceready",function(){clearTimeout(g),o()},!1)})}):qt(Error("Cordova must run in an Android or iOS file scheme."))}function ng(o){return o=o||Ln(),!(tu()!=="file:"&&tu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function rg(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function li(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Ni(){return Fe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fe.INTERNAL.hasOwnProperty("node")?"Node":li()?"Worker":"Browser"}function ME(){var o=Ni();return o==="ReactNative"||o==="Node"}function ED(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var ig="Firefox",FE="Chrome";function Za(o){var u=o.toLowerCase();if(ge(u,"opera/")||ge(u,"opr/")||ge(u,"opios/"))return"Opera";if(ge(u,"iemobile"))return"IEMobile";if(ge(u,"msie")||ge(u,"trident/"))return"IE";if(ge(u,"edge/"))return"Edge";if(ge(u,"firefox/"))return ig;if(ge(u,"silk/"))return"Silk";if(ge(u,"blackberry"))return"Blackberry";if(ge(u,"webos"))return"Webos";if(!ge(u,"safari/")||ge(u,"chrome/")||ge(u,"crios/")||ge(u,"android"))if(!ge(u,"chrome/")&&!ge(u,"crios/")||ge(u,"edge/")){if(ge(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return FE;else return"Safari";return"Other"}var UE={md:"FirebaseCore-web",od:"FirebaseUI-web"};function eu(o,u){u=u||[];var d=[],g={},b;for(b in UE)g[UE[b]]=!0;for(b=0;b<u.length;b++)typeof g[u[b]]<"u"&&(delete g[u[b]],d.push(u[b]));return d.sort(),u=d,u.length||(u=["FirebaseCore-web"]),d=Ni(),d==="Browser"?(g=Ln(),d=Za(g)):d==="Worker"&&(g=Ln(),d=Za(g)+"-"+d),d+"/JsCore/"+o+"/"+u.join(",")}function Ln(){return c.navigator&&c.navigator.userAgent||""}function Wt(o,u){o=o.split("."),u=u||c;for(var d=0;d<o.length&&typeof u=="object"&&u!=null;d++)u=u[o[d]];return d!=o.length&&(u=void 0),u}function og(){try{var o=c.localStorage,u=js();if(o)return o.setItem(u,"1"),o.removeItem(u),tg()?!!c.indexedDB:!0}catch{return li()&&!!c.indexedDB}return!1}function $s(){return(sh()||tu()==="chrome-extension:"||ng())&&!ME()&&og()&&!li()}function sh(){return tu()==="http:"||tu()==="https:"}function tu(){return c.location&&c.location.protocol||null}function Fl(o){return o=o||Ln(),!(RE(o)||Za(o)==ig)}function Ul(o){return typeof o>"u"?null:CE(o)}function VE(o){var u={},d;for(d in o)o.hasOwnProperty(d)&&o[d]!==null&&o[d]!==void 0&&(u[d]=o[d]);return u}function nu(o){if(o!==null)return JSON.parse(o)}function js(o){return o||Math.floor(1e9*Math.random()).toString()}function $E(o){return o=o||Ln(),!(Za(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function jE(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var d=0;d<o.CP.length;d++)o.CP[d]=null}}function No(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Ln(),u=Ni(),this.b=RE(o)||u==="ReactNative"}No.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(sh()||tu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function sg(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function TD(){var o=c.document,u=null;return sg()||!o?je():new at(function(d){u=function(){sg()&&(o.removeEventListener("visibilitychange",u,!1),d())},o.addEventListener("visibilitychange",u,!1)}).o(function(d){throw o.removeEventListener("visibilitychange",u,!1),d})}function Vl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function BE(){return!(!Wt("fireauth.oauthhelper",c)&&!Wt("fireauth.iframe",c))}function SD(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function ID(){var o=c.navigator;return o&&o.serviceWorker?je().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):je(null)}var HE={};function ag(o){HE[o]||(HE[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var ug;try{var lg={};Object.defineProperty(lg,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(lg,"abcd",{configurable:!0,enumerable:!0,value:2}),ug=lg.abcd==2}catch{ug=!1}function Le(o,u,d){ug?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:d}):o[u]=d}function er(o,u){if(u)for(var d in u)u.hasOwnProperty(d)&&Le(o,d,u[d])}function Oi(o){var u={};return er(u,o),u}function AD(o){var u={},d;for(d in o)o.hasOwnProperty(d)&&(u[d]=o[d]);return u}function xD(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var d=0;d<u.length;d++){var g=o[u[d]];if(g==null||g==="")return!1}return!0}function cg(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var d in o)Le(u,d,cg(o[d]))}return u}function fg(o){var u=o&&(o[mg]?"phone":null);if(u&&o&&o[pg]){Le(this,"uid",o[pg]),Le(this,"displayName",o[GE]||null);var d=null;o[dg]&&(d=new Date(o[dg]).toUTCString()),Le(this,"enrollmentTime",d),Le(this,"factorId",u)}else throw new L("internal-error","Internal assert: invalid MultiFactorInfo object")}fg.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function hg(o){try{var u=new $l(o)}catch{u=null}return u}var GE="displayName",dg="enrolledAt",pg="mfaEnrollmentId",mg="phoneInfo";function $l(o){fg.call(this,o),Le(this,"phoneNumber",o[mg])}P($l,fg),$l.prototype.w=function(){var o=$l.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function kD(o){var u={},d=o[CD],g=o[OD],b=o[PD];if(o=hg(o[ND]),!b||b!=ah&&b!=jl&&!d||b==jl&&!g||b==gg&&!o)throw Error("Invalid checkActionCode response!");b==jl?(u[qE]=d||null,u[WE]=d||null,u[zE]=g):(u[qE]=g||null,u[WE]=g||null,u[zE]=d||null),u[LD]=o||null,Le(this,DD,b),Le(this,RD,cg(u))}var gg="REVERT_SECOND_FACTOR_ADDITION",ah="EMAIL_SIGNIN",jl="VERIFY_AND_CHANGE_EMAIL",CD="email",ND="mfaInfo",OD="newEmail",PD="requestType",zE="email",qE="fromEmail",LD="multiFactorInfo",WE="previousEmail",RD="data",DD="operation";function vg(o){o=vr(o);var u=Jr(o,KE)||null,d=Jr(o,YE)||null,g=Jr(o,XE)||null;if(g=g&&VD[g]||null,!u||!d||!g)throw new L("argument-error",KE+", "+YE+"and "+XE+" are required in a valid action code URL.");er(this,{apiKey:u,operation:g,code:d,continueUrl:Jr(o,MD)||null,languageCode:Jr(o,FD)||null,tenantId:Jr(o,UD)||null})}var KE="apiKey",YE="oobCode",MD="continueUrl",FD="languageCode",XE="mode",UD="tenantId",VD={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:gg,signIn:ah,verifyAndChangeEmail:jl,verifyEmail:"VERIFY_EMAIL"};function JE(o){try{return new vg(o)}catch{return null}}function uh(o){var u=o[$D];if(typeof u>"u")throw new L("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new L("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var d=o[QE];if(d&&typeof d=="object"){u=d[r1];var g=d[t1];if(d=d[n1],typeof u=="string"&&u.length){if(this.a=u,typeof g<"u"&&typeof g!="boolean")throw new L("argument-error",t1+" property must be a boolean when specified.");if(this.g=!!g,typeof d<"u"&&(typeof d!="string"||typeof d=="string"&&!d.length))throw new L("argument-error",n1+" property must be a non empty string when specified.");this.b=d||null}else{if(typeof u<"u")throw new L("argument-error",r1+" property must be a non empty string when specified.");if(typeof g<"u"||typeof d<"u")throw new L("missing-android-pkg-name")}}else if(typeof d<"u")throw new L("argument-error",QE+" property must be a non null object when specified.");if(this.f=null,(u=o[e1])&&typeof u=="object"){if(u=u[i1],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new L("argument-error",i1+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new L("argument-error",e1+" property must be a non null object when specified.");if(u=o[yg],typeof u<"u"&&typeof u!="boolean")throw new L("argument-error",yg+" property must be a boolean when specified.");if(this.c=!!u,o=o[ZE],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new L("argument-error",ZE+" property must be a non empty string when specified.");this.i=o||null}var QE="android",ZE="dynamicLinkDomain",yg="handleCodeInApp",e1="iOS",$D="url",t1="installApp",n1="minimumVersion",r1="packageName",i1="bundleId";function lh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var d in u)u[d]===null&&delete u[d];return u}function jD(o){return st(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Bl=null;function BD(o){var u=[];return HD(o,function(d){u.push(d)}),u}function HD(o,u){function d(Q){for(;g<o.length;){var se=o.charAt(g++),Ye=Bl[se];if(Ye!=null)return Ye;if(!/^[\s\xa0]*$/.test(se))throw Error("Unknown base64 encoding at char: "+se)}return Q}GD();for(var g=0;;){var b=d(-1),T=d(0),x=d(64),F=d(64);if(F===64&&b===-1)break;u(b<<2|T>>4),x!=64&&(u(T<<4&240|x>>2),F!=64&&u(x<<6&192|F))}}function GD(){if(!Bl){Bl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],d=0;5>d;d++)for(var g=o.concat(u[d].split("")),b=0;b<g.length;b++){var T=g[b];Bl[T]===void 0&&(Bl[T]=b)}}}function ch(o){var u=o1(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}ch.prototype.T=function(){return this.f},ch.prototype.l=function(){return this.c},ch.prototype.toString=function(){return this.h};function fh(o){try{return new ch(o)}catch{return null}}function o1(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,d=0;d<u;d++)o+=".";try{var g=BD(o);for(o=[],d=u=0;u<g.length;){var b=g[u++];if(128>b)o[d++]=String.fromCharCode(b);else if(191<b&&224>b){var T=g[u++];o[d++]=String.fromCharCode((b&31)<<6|T&63)}else if(239<b&&365>b){T=g[u++];var x=g[u++],F=g[u++],Q=((b&7)<<18|(T&63)<<12|(x&63)<<6|F&63)-65536;o[d++]=String.fromCharCode(55296+(Q>>10)),o[d++]=String.fromCharCode(56320+(Q&1023))}else T=g[u++],x=g[u++],o[d++]=String.fromCharCode((b&15)<<12|(T&63)<<6|x&63)}return JSON.parse(o.join(""))}catch{}return null}var s1="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),hh=["client_id","response_type","scope","redirect_uri","state"],bg={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:hh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:hh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:hh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:s1},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function _g(o){for(var u in bg)if(bg[u].fa==o)return bg[u];return null}function a1(o){var u={};u["facebook.com"]=l1,u["google.com"]=f1,u["github.com"]=c1,u["twitter.com"]=h1;var d=o&&o[u1];try{if(d)return u[d]?new u[d](o):new Pi(o);if(typeof o[wg]<"u")return new Eg(o)}catch{}return null}var wg="idToken",u1="providerId";function Eg(o){var u=o[u1];if(!u&&o[wg]){var d=fh(o[wg]);d&&d.b&&(u=d.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),d=!1,typeof o.isNewUser<"u"?d=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(d=!0),Le(this,"providerId",u),Le(this,"isNewUser",d)}function Pi(o){Eg.call(this,o),o=nu(o.rawUserInfo||"{}"),Le(this,"profile",cg(o||{}))}P(Pi,Eg);function l1(o){if(Pi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}P(l1,Pi);function c1(o){if(Pi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");Le(this,"username",this.profile&&this.profile.login||null)}P(c1,Pi);function f1(o){if(Pi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}P(f1,Pi);function h1(o){if(Pi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Le(this,"username",o.screenName||null)}P(h1,Pi);function d1(o){var u=vr(o),d=Jr(u,"link"),g=Jr(vr(d),"link");return u=Jr(u,"deep_link_id"),Jr(vr(u),"link")||u||g||d||o}function dh(o,u){if(!o&&!u)throw new L("internal-error","Internal assert: no raw session string available");if(o&&u)throw new L("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Hl:ph}var Hl="enroll",ph="signin";dh.prototype.Ha=function(){return this.a?je(this.a):je(this.b)},dh.prototype.w=function(){return this.type==Hl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ru(){}ru.prototype.ka=function(){},ru.prototype.b=function(){},ru.prototype.c=function(){},ru.prototype.w=function(){};function iu(o,u){return o.then(function(d){if(d[hi]){var g=fh(d[hi]);if(!g||u!=g.i)throw new L("user-mismatch");return d}throw new L("user-mismatch")}).o(function(d){throw d&&d.code&&d.code==ee+"user-not-found"?new L("user-mismatch"):d})}function Bs(o,u){if(u)this.a=u;else throw new L("internal-error","failed to construct a credential");Le(this,"providerId",o),Le(this,"signInMethod",o)}Bs.prototype.ka=function(o){return qg(o,Tg(this))},Bs.prototype.b=function(o,u){var d=Tg(this);return d.idToken=u,Wg(o,d)},Bs.prototype.c=function(o,u){return iu(Kg(o,Tg(this)),u)};function Tg(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Bs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function zD(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Bs(o.providerId,o.pendingToken)}catch{}return null}function to(o,u,d){if(this.a=null,u.idToken||u.accessToken)u.idToken&&Le(this,"idToken",u.idToken),u.accessToken&&Le(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&Le(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)Le(this,"accessToken",u.oauthToken),Le(this,"secret",u.oauthTokenSecret);else throw new L("internal-error","failed to construct a credential");Le(this,"providerId",o),Le(this,"signInMethod",d)}to.prototype.ka=function(o){return qg(o,Sg(this))},to.prototype.b=function(o,u){var d=Sg(this);return d.idToken=u,Wg(o,d)},to.prototype.c=function(o,u){var d=Sg(this);return iu(Kg(o,d),u)};function Sg(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:AE(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}to.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function qD(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new to(o.providerId,u,o.signInMethod)}catch{}}return null}function Hs(o,u){this.Qc=u||[],er(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(_g(o)||{}).Ja||null,this.ob=null}Hs.prototype.Ka=function(o){return this.Ib=et(o),this};function p1(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new L("argument-error",'SAML provider IDs must be prefixed with "saml."');Hs.call(this,o,[])}P(p1,Hs);function Nr(o){Hs.call(this,o,hh),this.a=[]}P(Nr,Hs),Nr.prototype.Ca=function(o){return H(this.a,o)||this.a.push(o),this},Nr.prototype.Qb=function(){return pe(this.a)},Nr.prototype.credential=function(o,u){var d;if(w(o)?d={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:d={idToken:o||null,accessToken:u||null},!d.idToken&&!d.accessToken)throw new L("argument-error","credential failed: must provide the ID token and/or the access token.");return new to(this.providerId,d,this.providerId)};function Gs(){Nr.call(this,"facebook.com")}P(Gs,Nr),Le(Gs,"PROVIDER_ID","facebook.com"),Le(Gs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function m1(o){if(!o)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new Gs().credential({accessToken:u})}function zs(){Nr.call(this,"github.com")}P(zs,Nr),Le(zs,"PROVIDER_ID","github.com"),Le(zs,"GITHUB_SIGN_IN_METHOD","github.com");function g1(o){if(!o)throw new L("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return w(o)&&(u=o.accessToken),new zs().credential({accessToken:u})}function qs(){Nr.call(this,"google.com"),this.Ca("profile")}P(qs,Nr),Le(qs,"PROVIDER_ID","google.com"),Le(qs,"GOOGLE_SIGN_IN_METHOD","google.com");function v1(o,u){var d=o;return w(o)&&(d=o.idToken,u=o.accessToken),new qs().credential({idToken:d,accessToken:u})}function ou(){Hs.call(this,"twitter.com",s1)}P(ou,Hs),Le(ou,"PROVIDER_ID","twitter.com"),Le(ou,"TWITTER_SIGN_IN_METHOD","twitter.com");function y1(o,u){var d=o;if(w(d)||(d={oauthToken:o,oauthTokenSecret:u}),!d.oauthToken||!d.oauthTokenSecret)throw new L("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new to("twitter.com",d,"twitter.com")}function Oo(o,u,d){this.a=o,this.f=u,Le(this,"providerId","password"),Le(this,"signInMethod",d===Qr.EMAIL_LINK_SIGN_IN_METHOD?Qr.EMAIL_LINK_SIGN_IN_METHOD:Qr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Oo.prototype.ka=function(o){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?lt(o,NM,{email:this.a,oobCode:this.f}):lt(o,q1,{email:this.a,password:this.f})},Oo.prototype.b=function(o,u){return this.signInMethod==Qr.EMAIL_LINK_SIGN_IN_METHOD?lt(o,OM,{idToken:u,email:this.a,oobCode:this.f}):lt(o,z1,{idToken:u,email:this.a,password:this.f})},Oo.prototype.c=function(o,u){return iu(this.ka(o),u)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function WD(o){return o&&o.email&&o.password?new Oo(o.email,o.password,o.signInMethod):null}function Qr(){er(this,{providerId:"password",isOAuthProvider:!1})}function b1(o,u){if(u=Ig(u),!u)throw new L("argument-error","Invalid email link!");return new Oo(o,u.code,Qr.EMAIL_LINK_SIGN_IN_METHOD)}function Ig(o){return o=d1(o),(o=JE(o))&&o.operation===ah?o:null}er(Qr,{PROVIDER_ID:"password"}),er(Qr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),er(Qr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Po(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new L("internal-error");this.a=o,Le(this,"providerId","phone"),this.fa="phone",Le(this,"signInMethod","phone")}Po.prototype.ka=function(o){return o.fb(Gl(this))},Po.prototype.b=function(o,u){var d=Gl(this);return d.idToken=u,lt(o,JM,d)},Po.prototype.c=function(o,u){var d=Gl(this);return d.operation="REAUTH",o=lt(o,QM,d),iu(o,u)},Po.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function KD(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return re(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(d){o[d]&&(u[d]=o[d])}),new Po(u)}return null}function Gl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function no(o){try{this.a=o||Fe.auth()}catch{throw new L("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}er(this,{providerId:"phone",isOAuthProvider:!1})}no.prototype.fb=function(o,u){var d=this.a.a;return je(u.verify()).then(function(g){if(typeof g!="string")throw new L("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var b=w(o)?o.session:null,T=w(o)?o.phoneNumber:o,x;return b&&b.type==Hl?x=b.Ha().then(function(F){return wM(d,{idToken:F,phoneEnrollmentInfo:{phoneNumber:T,recaptchaToken:g}})}):b&&b.type==ph?x=b.Ha().then(function(F){return EM(d,{mfaPendingCredential:F,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:g}})}):x=_M(d,{phoneNumber:T,recaptchaToken:g}),x.then(function(F){return typeof u.reset=="function"&&u.reset(),F},function(F){throw typeof u.reset=="function"&&u.reset(),F});default:throw new L("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function _1(o,u){if(!o)throw new L("missing-verification-id");if(!u)throw new L("missing-verification-code");return new Po({eb:o,cb:u})}er(no,{PROVIDER_ID:"phone"}),er(no,{PHONE_SIGN_IN_METHOD:"phone"});function Ag(o){if(o.temporaryProof&&o.phoneNumber)return new Po({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var d=o&&o.oauthAccessToken,g=o&&o.oauthTokenSecret,b=o&&o.nonce,T=o&&o.oauthIdToken,x=o&&o.pendingToken;try{switch(u){case"google.com":return v1(T,d);case"facebook.com":return m1(d);case"github.com":return g1(d);case"twitter.com":return y1(d,g);default:return d||g||T||x?x?u.indexOf("saml.")==0?new Bs(u,x):new to(u,{pendingToken:x,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Nr(u).credential({idToken:T,accessToken:d,rawNonce:b}):null}}catch{return null}}function xg(o){if(!o.isOAuthProvider)throw new L("invalid-oauth-provider")}function ci(o,u,d,g,b,T,x){if(this.c=o,this.b=u||null,this.g=d||null,this.f=g||null,this.i=T||null,this.h=x||null,this.a=b||null,this.g||this.a){if(this.g&&this.a)throw new L("invalid-auth-event");if(this.g&&!this.f)throw new L("invalid-auth-event")}else throw new L("invalid-auth-event")}ci.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},ci.prototype.T=function(){return this.h},ci.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function w1(o){return o=o||{},o.type?new ci(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&q(o.error),o.postBody,o.tenantId):null}function YD(){this.b=null,this.a=[]}var kg=null;function XD(o){var u=kg;u.a.push(o),u.b||(u.b=function(d){for(var g=0;g<u.a.length;g++)u.a[g](d)},o=Wt("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Cg(o){var u="unauthorized-domain",d=void 0,g=vr(o);o=g.a,g=g.c,g=="chrome-extension"?d=zw("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):g=="http"||g=="https"?d=zw("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",L.call(this,u,d)}P(Cg,L);function zl(o,u,d){L.call(this,o,d),o=u||{},o.Jb&&Le(this,"email",o.Jb),o.ea&&Le(this,"phoneNumber",o.ea),o.credential&&Le(this,"credential",o.credential),o.Zb&&Le(this,"tenantId",o.Zb)}P(zl,L),zl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&_t(o,u),o},zl.prototype.toJSON=function(){return this.w()};function mh(o){if(o.code){var u=o.code||"";u.indexOf(ee)==0&&(u=u.substring(ee.length));var d={credential:Ag(o),Zb:o.tenantId};if(o.email)d.Jb=o.email;else if(o.phoneNumber)d.ea=o.phoneNumber;else if(!d.credential)return new L(u,o.message||void 0);return new zl(u,d,o.message)}return null}function ql(){}ql.prototype.c=null;function E1(o){return o.c||(o.c=o.b())}var Ng;function gh(){}P(gh,ql),gh.prototype.a=function(){var o=T1(this);return o?new ActiveXObject(o):new XMLHttpRequest},gh.prototype.b=function(){var o={};return T1(this)&&(o[0]=!0,o[1]=!0),o};function T1(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<u.length;d++){var g=u[d];try{return new ActiveXObject(g),o.f=g}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Ng=new gh;function vh(){}P(vh,ql),vh.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new S1;throw Error("Unsupported browser")},vh.prototype.b=function(){return{}};function S1(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=A(this.qc,this),this.a.onerror=A(this.Sb,this),this.a.onprogress=A(this.rc,this),this.a.ontimeout=A(this.vc,this)}e=S1.prototype,e.open=function(o,u,d){if(d!=null&&!d)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Og(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Og(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Og(this,1)};function Og(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Pg(o,u,d){this.reset(o,u,d,void 0,void 0)}Pg.prototype.a=null,Pg.prototype.reset=function(o,u,d,g,b){delete this.a};function Lg(o){this.f=o,this.b=this.c=this.a=null}function Wl(o,u){this.name=o,this.value=u}Wl.prototype.toString=function(){return this.name};var I1=new Wl("SEVERE",1e3),Rg=new Wl("WARNING",900),JD=new Wl("CONFIG",700),QD=new Wl("FINE",500);function A1(o){return o.c?o.c:o.a?A1(o.a):(it("Root logger has no level set."),null)}Lg.prototype.log=function(o,u,d){if(o.value>=A1(this).value)for(_(u)&&(u=u()),o=new Pg(o,String(u),this.f),d&&(o.a=d),d=this;d;)d=d.a};var Dg={},yh=null;function Mg(o){yh||(yh=new Lg(""),Dg[""]=yh,yh.c=JD);var u;if(!(u=Dg[o])){u=new Lg(o);var d=o.lastIndexOf("."),g=o.substr(d+1);d=Mg(o.substr(0,d)),d.b||(d.b={}),d.b[g]=u,u.a=d,Dg[o]=u}return u}function Zr(o,u){o&&o.log(QD,u,void 0)}function bh(o){this.f=o}P(bh,ql),bh.prototype.a=function(){return new _h(this.f)},bh.prototype.b=function(o){return function(){return o}}({});function _h(o){Zn.call(this),this.u=o,this.h=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Mg("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}P(_h,Zn);var Fg=0;e=_h.prototype,e.open=function(o,u){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Yl(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Kl(this)),this.readyState=Fg},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Yl(this)),this.a&&(this.readyState=3,Yl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,x1(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function x1(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Kl(this):Yl(this),this.readyState==3&&x1(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Kl(this))},e.sc=function(o){this.a&&(this.response=o,Kl(this))},e.Ua=function(o){var u=this.i;u&&u.log(Rg,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Kl(this)};function Kl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Yl(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Rg,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Rg,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Yl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Xl(o){Zn.call(this),this.headers=new Ja,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=k1,this.u=this.S=!1}P(Xl,Zn);var k1="";Xl.prototype.b=Mg("goog.net.XhrIo");var ZD=/^https?$/i,eM=["POST","PUT"];function tM(o,u,d,g,b){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);d=d?d.toUpperCase():"GET",o.l=u,o.h="",o.R=d,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Ng.a(),o.C=o.D?E1(o.D):E1(Ng),o.a.onreadystatechange=A(o.Vb,o);try{Zr(o.b,ro(o,"Opening Xhr")),o.O=!0,o.a.open(d,String(u),!0),o.O=!1}catch(x){Zr(o.b,ro(o,"Error opening Xhr: "+x.message)),C1(o,x);return}u=g||"";var T=new Ja(o.headers);b&&aD(b,function(x,F){T.set(F,x)}),b=O(T.Y()),g=c.FormData&&u instanceof c.FormData,!H(eM,d)||b||g||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),T.forEach(function(x,F){this.a.setRequestHeader(F,x)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{P1(o),0<o.g&&(o.u=nM(o.a),Zr(o.b,ro(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=A(o.Ma,o)):o.s=Xm(o.Ma,o.g,o)),Zr(o.b,ro(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(x){Zr(o.b,ro(o,"Send error: "+x.message)),C1(o,x)}}function nM(o){return ui&&Yw(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function rM(o){return o.toLowerCase()=="content-type"}e=Xl.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Zr(this.b,ro(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function C1(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,N1(o),wh(o)}function N1(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Zr(this.b,ro(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wh(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wh(this,!0)),Xl.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?O1(this):this.Jc())},e.Jc=function(){O1(this)};function O1(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Jl(o)==4&&Eh(o)==2)Zr(o.b,ro(o,"Local request error detected and ignored"));else if(o.i&&Jl(o)==4)Xm(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),Jl(o)==4){Zr(o.b,ro(o,"Request complete")),o.c=!1;try{var u=Eh(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var b;if(b=u===0){var T=String(o.l).match(SE)[1]||null;if(!T&&c.self&&c.self.location){var x=c.self.location.protocol;T=x.substr(0,x.length-1)}b=!ZD.test(T?T.toLowerCase():"")}g=b}if(g)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var F=2<Jl(o)?o.a.statusText:""}catch(Q){Zr(o.b,"Can not get status: "+Q.message),F=""}o.h=F+" ["+Eh(o)+"]",N1(o)}}finally{wh(o)}}}}function wh(o,u){if(o.a){P1(o);var d=o.a,g=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{d.onreadystatechange=g}catch(b){(o=o.b)&&o.log(I1,"Problem encountered resetting onreadystatechange: "+b.message,void 0)}}}function P1(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Jl(o){return o.a?o.a.readyState:0}function Eh(o){try{return 2<Jl(o)?o.a.status:-1}catch{return-1}}function iM(o){try{return o.a?o.a.responseText:""}catch(u){return Zr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case k1:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(I1,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Zr(this.b,"Can not get response: "+u.message),null}};function ro(o,u){return u+" ["+o.R+" "+o.l+" "+Eh(o)+"]"}function Ws(o){var u=aM;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ws.prototype.cancel=function(o){if(this.a)this.c instanceof Ws&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Zl,Th(this),Ql(this,!1,o))}},Ws.prototype.m=function(o,u){this.i=!1,Ql(this,o,u)};function Ql(o,u,d){o.a=!0,o.c=d,o.f=!u,R1(o)}function Th(o){if(o.a){if(!o.v)throw new Sh;o.v=!1}}function oM(o,u){Ug(o,null,u,void 0)}function Ug(o,u,d,g){o.g.push([u,d,g]),o.a&&R1(o)}Ws.prototype.then=function(o,u,d){var g,b,T=new at(function(x,F){g=x,b=F});return Ug(this,g,function(x){x instanceof Zl?T.cancel():b(x)}),T.then(o,u,d)},Ws.prototype.$goog_Thenable=!0;function L1(o){return D(o.g,function(u){return _(u[1])})}function R1(o){if(o.h&&o.a&&L1(o)){var u=o.h,d=Ih[u];d&&(c.clearTimeout(d.a),delete Ih[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var g=d=!1;o.g.length&&!o.i;){var b=o.g.shift(),T=b[0],x=b[1];if(b=b[2],T=o.f?x:T)try{var F=T.call(b||o.s,u);F!==void 0&&(o.f=o.f&&(F==u||F instanceof Error),o.c=u=F),(Me(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(g=!0,o.i=!0)}catch(Q){u=Q,o.f=!0,L1(o)||(d=!0)}}o.c=u,g&&(F=A(o.m,o,!0),g=A(o.m,o,!1),u instanceof Ws?(Ug(u,F,g),u.C=!0):u.then(F,g)),d&&(u=new D1(u),Ih[u.a]=u,o.h=u.a)}function Sh(){Xe.call(this)}P(Sh,Xe),Sh.prototype.message="Deferred has already fired",Sh.prototype.name="AlreadyCalledError";function Zl(){Xe.call(this)}P(Zl,Xe),Zl.prototype.message="Deferred was canceled",Zl.prototype.name="CanceledError";function D1(o){this.a=c.setTimeout(A(this.c,this),0),this.b=o}D1.prototype.c=function(){throw delete Ih[this.a],this.b};var Ih={};function Vg(o){var u={},d=u.document||document,g=Wa(o).toString(),b=Xf(document,"SCRIPT"),T={Wb:b,Ma:void 0},x=new Ws(T),F=null,Q=u.timeout!=null?u.timeout:5e3;return 0<Q&&(F=window.setTimeout(function(){Ah(b,!0);var se=new $g(lM,"Timeout reached for loading script "+g);Th(x),Ql(x,!1,se)},Q),T.Ma=F),b.onload=b.onreadystatechange=function(){b.readyState&&b.readyState!="loaded"&&b.readyState!="complete"||(Ah(b,u.xd||!1,F),Th(x),Ql(x,!0,null))},b.onerror=function(){Ah(b,!0,F);var se=new $g(uM,"Error while loading script "+g);Th(x),Ql(x,!1,se)},T=u.attributes||{},_t(T,{type:"text/javascript",charset:"UTF-8"}),Jw(b,T),UR(b,o),sM(d).appendChild(b),x}function sM(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function aM(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&Ah(o,!0,this.Ma)}}function Ah(o,u,d){d!=null&&c.clearTimeout(d),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var uM=0,lM=1;function $g(o,u){var d="Jsloader error (code #"+o+")";u&&(d+=": "+u),Xe.call(this,d),this.code=o}P($g,Xe);function xh(o){this.f=o}P(xh,ql),xh.prototype.a=function(){return new this.f},xh.prototype.b=function(){return{}};function fi(o,u,d){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||cM,this.g=et(o.secureTokenHeaders||fM),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||hM,this.a=et(o.firebaseHeaders||dM),d&&(this.a["X-Client-Version"]=d,this.g["X-Client-Version"]=d),d=Ni()=="Node",d=c.XMLHttpRequest||d&&Fe.INTERNAL.node&&Fe.INTERNAL.node.XMLHttpRequest,!d&&!li())throw new L("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,li()?this.f=new bh(self):ME()?this.f=new xh(d):this.f=new vh,this.b=null}var jg,hi="idToken",cM=new No(3e4,6e4),fM={"Content-Type":"application/x-www-form-urlencoded"},hM=new No(3e4,6e4),dM={"Content-Type":"application/json"};function M1(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function su(o,u){u&&(o.l=Bg("https://securetoken.googleapis.com/v1/token",u),o.h=Bg("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Bg("https://identitytoolkit.googleapis.com/v2/",u))}function Bg(o,u){return o=vr(o),u=vr(u.url),o.f=o.a+o.f,Pl(o,u.c),o.a=u.a,Ll(o,u.g),o.toString()}function F1(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}fi.prototype.T=function(){return this.b};function U1(o,u,d,g,b,T,x){vD()||li()?o=A(o.u,o):(jg||(jg=new at(function(F,Q){mM(F,Q)})),o=A(o.s,o)),o(u,d,g,b,T,x)}fi.prototype.u=function(o,u,d,g,b,T){if(li()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new L("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var x=new Xl(this.f);if(T){x.g=Math.max(0,T);var F=setTimeout(function(){x.dispatchEvent("timeout")},T)}wE(x,"complete",function(){F&&clearTimeout(F);var Q=null;try{Q=JSON.parse(iM(this))||null}catch{Q=null}u&&u(Q)}),Ym(x,"ready",function(){F&&clearTimeout(F),pE(this)}),Ym(x,"timeout",function(){F&&clearTimeout(F),pE(this),u&&u(null)}),tM(x,o,d,g,b)};var pM=new Vt(xi,"https://apis.google.com/js/client.js?onload=%{onload}"),V1="__fcb"+Math.floor(1e6*Math.random()).toString();function mM(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[V1]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var d=Om(pM,{onload:V1});oM(Vg(d),function(){u(Error("CORS_UNSUPPORTED"))})}}fi.prototype.s=function(o,u,d,g,b){var T=this;jg.then(function(){window.gapi.client.setApiKey(T.c);var x=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:d,body:g,headers:b,authType:"none",callback:function(F){window.gapi.auth.setToken(x),u&&u(F)}})}).o(function(x){u&&u({error:{message:x&&x.message||"CORS_UNSUPPORTED"}})})};function gM(o,u){return new at(function(d,g){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?U1(o,o.l+"?key="+encodeURIComponent(o.c),function(b){b?b.error?g(Xg(b)):b.access_token&&b.refresh_token?d(b):g(new L("internal-error")):g(new L("network-request-failed"))},"POST",AE(u).toString(),o.g,o.m.get()):g(new L("internal-error"))})}function $1(o,u,d,g,b,T,x){var F=vr(u+d);rn(F,"key",o.c),x&&rn(F,"cb",U().toString());var Q=g=="GET";if(Q)for(var se in b)b.hasOwnProperty(se)&&rn(F,se,b[se]);return new at(function(Ye,Ot){U1(o,F.toString(),function(Tt){Tt?Tt.error?Ot(Xg(Tt,T||{})):Ye(Tt):Ot(new L("network-request-failed"))},g,Q?void 0:CE(VE(b)),o.a,o.v.get())})}function Ks(o){if(o=o.email,typeof o!="string"||!_D.test(o))throw new L("invalid-email")}function j1(o){"email"in o&&Ks(o)}function vM(o,u){return lt(o,xM,{identifier:u,continueUri:sh()?Ml():"http://localhost"}).then(function(d){return d.signinMethods||[]})}function yM(o){return lt(o,VM,{}).then(function(u){return u.authorizedDomains||[]})}function yr(o){if(!o[hi])throw o.mfaPendingCredential?new L("multi-factor-auth-required",null,et(o)):new L("internal-error")}function Hg(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new L("internal-error")}else{if(!o.sessionInfo)throw new L("missing-verification-id");if(!o.code)throw new L("missing-verification-code")}}fi.prototype.zb=function(){return lt(this,HM,{})},fi.prototype.Bb=function(o,u){return lt(this,G1,{idToken:o,email:u})},fi.prototype.Cb=function(o,u){return lt(this,z1,{idToken:o,password:u})};var bM={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=fi.prototype,e.Db=function(o,u){var d={idToken:o},g=[];return Pe(bM,function(b,T){var x=u[T];x===null?g.push(b):T in u&&(d[T]=x)}),g.length&&(d.deleteAttribute=g),lt(this,G1,d)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},_t(o,u),lt(this,UM,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},_t(o,u),lt(this,DM,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},_t(o,u),lt(this,MM,o)},e.Eb=function(o,u,d){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},_t(o,d),lt(this,FM,o)};function _M(o,u){return lt(o,BM,u)}e.fb=function(o){return lt(this,XM,o)};function wM(o,u){return lt(o,GM,u).then(function(d){return d.phoneSessionInfo.sessionInfo})}function B1(o){if(!o.phoneVerificationInfo)throw new L("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new L("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new L("missing-verification-code")}function EM(o,u){return lt(o,zM,u).then(function(d){return d.phoneResponseInfo.sessionInfo})}function TM(o,u,d){return lt(o,CM,{idToken:u,deleteProvider:d})}function Gg(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new L("internal-error")}function zg(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Us(o.postBody),Zm(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function H1(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=mh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=mh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=mh(o)):o.errorMessage&&(u=W1(o.errorMessage)),u)throw u;yr(o)}function qg(o,u){return u.returnIdpCredential=!0,lt(o,qM,u)}function Wg(o,u){return u.returnIdpCredential=!0,lt(o,KM,u)}function Kg(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,lt(o,WM,u)}function Yg(o){if(!o.oobCode)throw new L("invalid-action-code")}e.nb=function(o,u){return lt(this,jM,{oobCode:o,newPassword:u})},e.Ra=function(o){return lt(this,IM,{oobCode:o})},e.jb=function(o){return lt(this,SM,{oobCode:o})};var SM={endpoint:"setAccountInfo",A:Yg,Z:"email",B:!0},IM={endpoint:"resetPassword",A:Yg,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},B:!0},AM={endpoint:"signupNewUser",A:function(o){if(Ks(o),!o.password)throw new L("weak-password")},G:yr,V:!0,B:!0},xM={endpoint:"createAuthUri",B:!0},kM={endpoint:"deleteAccount",N:["idToken"]},CM={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new L("internal-error")}},NM={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ks,G:yr,V:!0,B:!0},OM={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ks,G:yr,V:!0},PM={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:B1,G:yr,B:!0,Na:!0},LM={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:B1,G:yr,B:!0,Na:!0},RM={endpoint:"getAccountInfo"},DM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new L("internal-error");Ks(o)},Z:"email",B:!0},MM={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new L("internal-error")},Z:"email",B:!0},FM={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new L("internal-error")},Z:"email",B:!0},UM={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new L("internal-error");Ks(o)},Z:"email",B:!0},VM={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},$M={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new L("internal-error")}},jM={endpoint:"resetPassword",A:Yg,Z:"email",B:!0},BM={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},G1={endpoint:"setAccountInfo",N:["idToken"],A:j1,V:!0},z1={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(j1(o),!o.password)throw new L("weak-password")},G:yr,V:!0},HM={endpoint:"signupNewUser",G:yr,V:!0,B:!0},GM={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new L("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new L("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},zM={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new L("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new L("internal-error")},B:!0,Na:!0},qM={endpoint:"verifyAssertion",A:Gg,Ya:zg,G:H1,V:!0,B:!0},WM={endpoint:"verifyAssertion",A:Gg,Ya:zg,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new L("user-not-found");if(o.errorMessage)throw W1(o.errorMessage);yr(o)},V:!0,B:!0},KM={endpoint:"verifyAssertion",A:function(o){if(Gg(o),!o.idToken)throw new L("internal-error")},Ya:zg,G:H1,V:!0},YM={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new L("invalid-custom-token")},G:yr,V:!0,B:!0},q1={endpoint:"verifyPassword",A:function(o){if(Ks(o),!o.password)throw new L("wrong-password")},G:yr,V:!0,B:!0},XM={endpoint:"verifyPhoneNumber",A:Hg,G:yr,B:!0},JM={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new L("internal-error");Hg(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",mh(o);yr(o)}},QM={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Hg,G:yr,B:!0},ZM={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[hi]^!!o.refreshToken)throw new L("internal-error")},B:!0,Na:!0};function lt(o,u,d){if(!xD(d,u.N))return qt(new L("internal-error"));var g=!!u.Na,b=u.Ub||"POST",T;return je(d).then(u.A).then(function(){return u.V&&(d.returnSecureToken=!0),u.B&&o.b&&typeof d.tenantId>"u"&&(d.tenantId=o.b),g?$1(o,o.i,u.endpoint,b,d,u.Hb,u.lb||!1):$1(o,o.h,u.endpoint,b,d,u.Hb,u.lb||!1)}).then(function(x){return T=x,u.Ya?u.Ya(d,T):T}).then(u.G).then(function(){if(!u.Z)return T;if(!(u.Z in T))throw new L("internal-error");return T[u.Z]})}function W1(o){return Xg({error:{errors:[{message:o}],code:400,message:o}})}function Xg(o,u){var d=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",g={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(d=g[d]?new L(g[d]):null)return d;d=o.error&&o.error.message||"",g={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},_t(g,u||{}),u=(u=d.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var b in g)if(d.indexOf(b)===0)return new L(g[b],u);return!u&&o&&(u=Ul(o)),new L("internal-error",u)}function eF(o){this.b=o,this.a=null,this.rb=tF(this)}function tF(o){return aF().then(function(){return new at(function(u,d){Wt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(g){function b(){clearTimeout(T),u()}o.a=g,o.a.restyle({setHideOnLeave:!1});var T=setTimeout(function(){d(Error("Network Error"))},sF.get());g.ping(b).then(b,function(){d(Error("Network Error"))})})})})}function nF(o,u){return o.rb.then(function(){return new at(function(d){o.a.send(u.type,u,d,Wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function rF(o,u){o.rb.then(function(){o.a.register("authEvent",u,Wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var iF=new Vt(xi,"https://apis.google.com/js/api.js?onload=%{onload}"),oF=new No(3e4,6e4),sF=new No(5e3,15e3),kh=null;function aF(){return kh||(kh=new at(function(o,u){function d(){jE(),Wt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){jE(),u(Error("Network Error"))},timeout:oF.get()})}if(Wt("gapi.iframes.Iframe"))o();else if(Wt("gapi.load"))d();else{var g="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[g]=function(){Wt("gapi.load")?d():u(Error("Network Error"))},g=Om(iF,{onload:g}),je(Vg(g)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw kh=null,o}))}function K1(o,u,d,g){this.l=o,this.h=u,this.i=d,this.g=g,this.f=null,this.g?(o=vr(this.g.url),o=ih(o.c,o.a,o.g,"/emulator/auth/iframe")):o=ih("https",this.l,null,"/__/auth/iframe"),this.a=o,rn(this.a,"apiKey",this.h),rn(this.a,"appName",this.i),this.b=null,this.c=[]}K1.prototype.toString=function(){return this.f?rn(this.a,"v",this.f):Ci(this.a.b,"v"),this.b?rn(this.a,"eid",this.b):Ci(this.a.b,"eid"),this.c.length?rn(this.a,"fw",this.c.join(",")):Ci(this.a.b,"fw"),this.a.toString()};function Jg(o,u,d,g,b,T){this.u=o,this.s=u,this.c=d,this.m=g,this.v=T,this.i=this.g=this.l=null,this.a=b,this.h=this.f=null}Jg.prototype.yb=function(o){return this.h=o,this},Jg.prototype.toString=function(){if(this.v){var o=vr(this.v.url);o=ih(o.c,o.a,o.g,"/emulator/auth/handler")}else o=ih("https",this.u,null,"/__/auth/handler");if(rn(o,"apiKey",this.s),rn(o,"appName",this.c),rn(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var d=Fe.app(this.c).auth().la()}catch{d=null}u.ob=d,rn(o,"providerId",this.a.providerId),d=this.a,u=VE(d.Ib);for(var g in u)u[g]=u[g].toString();g=d.Qc,u=et(u);for(var b=0;b<g.length;b++){var T=g[b];T in u&&delete u[T]}d.pb&&d.ob&&!u[d.pb]&&(u[d.pb]=d.ob),Ze(u)||rn(o,"customParameters",Ul(u))}if(typeof this.a.Qb=="function"&&(d=this.a.Qb(),d.length&&rn(o,"scopes",d.join(","))),this.l?rn(o,"redirectUrl",this.l):Ci(o.b,"redirectUrl"),this.g?rn(o,"eventId",this.g):Ci(o.b,"eventId"),this.i?rn(o,"v",this.i):Ci(o.b,"v"),this.b)for(var x in this.b)this.b.hasOwnProperty(x)&&!Jr(o,x)&&rn(o,x,this.b[x]);return this.h?rn(o,"tid",this.h):Ci(o.b,"tid"),this.f?rn(o,"eid",this.f):Ci(o.b,"eid"),x=Qg(this.c),x.length&&rn(o,"fw",x.join(",")),o.toString()};function Qg(o){try{return Fe.app(o).auth().Ga()}catch{return[]}}function Y1(o,u,d,g,b,T){this.s=o,this.g=u,this.b=d,this.f=T,this.c=g||null,this.i=b||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function X1(o){var u=Ml();return yM(o).then(function(d){e:{var g=vr(u),b=g.c;g=g.a;for(var T=0;T<d.length;T++){var x=d[T],F=g,Q=b;if(x.indexOf("chrome-extension://")==0?F=vr(x).a==F&&Q=="chrome-extension":Q!="http"&&Q!="https"?F=!1:bD.test(x)?F=F==x:(x=x.split(".").join("\\."),F=new RegExp("^(.+\\."+x+"|"+x+")$","i").test(F)),F){d=!0;break e}}d=!1}if(!d)throw new Cg(Ml())})}function J1(o){return o.m||(o.m=oh().then(function(){if(!o.u){var u=o.c,d=o.i,g=Qg(o.b),b=new K1(o.s,o.g,o.b,o.f);b.f=u,b.b=d,b.c=pe(g||[]),o.u=b.toString()}o.v=new eF(o.u),uF(o)})),o.m}e=Y1.prototype,e.Ob=function(o,u,d){var g=new L("popup-closed-by-user"),b=new L("web-storage-unsupported"),T=this,x=!1;return this.ma().then(function(){lF(T).then(function(F){F||(o&&Vs(o),u(b),x=!0)})}).o(function(){}).then(function(){if(!x)return yD(o)}).then(function(){if(!x)return Xa(d).then(function(){u(g)})})},e.Xb=function(){var o=Ln();return!Fl(o)&&!$E(o)},e.Tb=function(){return!1},e.Mb=function(o,u,d,g,b,T,x,F){if(!o)return qt(new L("popup-blocked"));if(x&&!Fl())return this.ma().o(function(se){Vs(o),b(se)}),g(),je();this.a||(this.a=X1(Q1(this)));var Q=this;return this.a.then(function(){var se=Q.ma().o(function(Ye){throw Vs(o),b(Ye),Ye});return g(),se}).then(function(){if(xg(d),!x){var se=ec(Q.s,Q.g,Q.b,u,d,null,T,Q.c,void 0,Q.i,F,Q.f);PE(se,o)}}).o(function(se){throw se.code=="auth/network-request-failed"&&(Q.a=null),se})};function Q1(o){return o.l||(o.C=o.c?eu(o.c,Qg(o.b)):null,o.l=new fi(o.g,ie(o.i),o.C),o.f&&su(o.l,o.f)),o.l}e.Nb=function(o,u,d,g){this.a||(this.a=X1(Q1(this)));var b=this;return this.a.then(function(){xg(u);var T=ec(b.s,b.g,b.b,o,u,Ml(),d,b.c,void 0,b.i,g,b.f);PE(T)}).o(function(T){throw T.code=="auth/network-request-failed"&&(b.a=null),T})},e.ma=function(){var o=this;return J1(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new L("network-request-failed")})},e.$b=function(){return!0};function ec(o,u,d,g,b,T,x,F,Q,se,Ye,Ot){return o=new Jg(o,u,d,g,b,Ot),o.l=T,o.g=x,o.i=F,o.b=et(Q||null),o.f=se,o.yb(Ye).toString()}function uF(o){if(!o.v)throw Error("IfcHandler must be initialized!");rF(o.v,function(u){var d={};if(u&&u.authEvent){var g=!1;for(u=w1(u.authEvent),d=0;d<o.h.length;d++)g=o.h[d](u)||g;return d={},d.status=g?"ACK":"ERROR",je(d)}return d.status="ERROR",je(d)})}function lF(o){var u={type:"webStorageSupport"};return J1(o).then(function(){return nF(o.v,u)}).then(function(d){if(d&&d.length&&typeof d[0].webStorageSupport<"u")return d[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){Y(this.h,function(u){return u==o})};function Z1(o){if(this.a=o||Fe.INTERNAL.reactNative&&Fe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new L("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=Z1.prototype,e.get=function(o){return je(this.a.getItem(o)).then(function(u){return u&&nu(u)})},e.set=function(o,u){return je(this.a.setItem(o,Ul(u)))},e.U=function(o){return je(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function eT(o){this.b=o,this.a={},this.f=A(this.c,this)}var tT=[];function cF(){var o=li()?self:null;if(re(tT,function(d){d.b==o&&(u=d)}),!u){var u=new eT(o);tT.push(u)}return u}eT.prototype.c=function(o){var u=o.data.eventType,d=o.data.eventId,g=this.a[u];if(g&&0<g.length){o.ports[0].postMessage({status:"ack",eventId:d,eventType:u,response:null});var b=[];re(g,function(T){b.push(je().then(function(){return T(o.origin,o.data.data)}))}),oE(b).then(function(T){var x=[];re(T,function(F){x.push({fulfilled:F.Pb,value:F.value,reason:F.reason?F.reason.message:void 0})}),re(x,function(F){for(var Q in F)typeof F[Q]>"u"&&delete F[Q]}),o.ports[0].postMessage({status:"done",eventId:d,eventType:u,response:x})})}};function nT(o,u,d){Ze(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(d)}function rT(o){this.a=o}rT.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function iT(o){this.c=o,this.b=!1,this.a=[]}function oT(o,u,d,g){var b,T=d||{},x,F,Q,se=null;if(o.b)return qt(Error("connection_unavailable"));var Ye=g?800:50,Ot=typeof MessageChannel<"u"?new MessageChannel:null;return new at(function(Tt,xn){Ot?(b=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ot.port1.start(),F=setTimeout(function(){xn(Error("unsupported_event"))},Ye),x=function(io){io.data.eventId===b&&(io.data.status==="ack"?(clearTimeout(F),Q=setTimeout(function(){xn(Error("timeout"))},3e3)):io.data.status==="done"?(clearTimeout(Q),typeof io.data.response<"u"?Tt(io.data.response):xn(Error("unknown_error"))):(clearTimeout(F),clearTimeout(Q),xn(Error("invalid_response"))))},se={messageChannel:Ot,onMessage:x},o.a.push(se),Ot.port1.addEventListener("message",x),o.c.postMessage({eventType:u,eventId:b,data:T},[Ot.port2])):xn(Error("connection_unavailable"))}).then(function(Tt){return Zg(o,se),Tt}).o(function(Tt){throw Zg(o,se),Tt})}function Zg(o,u){if(u){var d=u.messageChannel,g=u.onMessage;d&&(d.port1.removeEventListener("message",g),d.port1.close()),Y(o.a,function(b){return b==u})}}iT.prototype.close=function(){for(;0<this.a.length;)Zg(this,this.a[0]);this.b=!0};function sT(){if(!nv())throw new L("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;li()&&self?(this.v=cF(),nT(this.v,"keyChanged",function(u,d){return lT(o).then(function(g){return 0<g.length&&re(o.a,function(b){b(g)}),{keyProcessed:H(g,d.key)}})}),nT(this.v,"ping",function(){return je(["keyChanged"])})):ID().then(function(u){(o.h=u)&&(o.g=new iT(new rT(u)),oT(o.g,"ping",null,!0).then(function(d){d[0].fulfilled&&H(d[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var ev;function fF(o){return new at(function(u,d){var g=o.m.deleteDatabase("firebaseLocalStorageDb");g.onsuccess=function(){u()},g.onerror=function(b){d(Error(b.target.error))}})}function aT(o){return new at(function(u,d){var g=o.m.open("firebaseLocalStorageDb",1);g.onerror=function(b){try{b.preventDefault()}catch{}d(Error(b.target.error))},g.onupgradeneeded=function(b){b=b.target.result;try{b.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(T){d(T)}},g.onsuccess=function(b){b=b.target.result,b.objectStoreNames.contains("firebaseLocalStorage")?u(b):fF(o).then(function(){return aT(o)}).then(function(T){u(T)}).o(function(T){d(T)})}})}function tv(o){return o.i||(o.i=aT(o)),o.i}function Ch(o,u){function d(b,T){tv(o).then(u).then(b).o(function(x){if(3<++g)T(x);else return tv(o).then(function(F){return F.close(),o.i=void 0,d(b,T)}).o(function(F){T(F)})})}var g=0;return new at(d)}function nv(){try{return!!c.indexedDB}catch{return!1}}function tc(o){return o.objectStore("firebaseLocalStorage")}function nc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function au(o){return new at(function(u,d){o.onsuccess=function(g){g&&g.target?u(g.target.result):u()},o.onerror=function(g){d(g.target.error)}})}e=sT.prototype,e.set=function(o,u){var d=this,g=!1;return Ch(this,function(b){return b=tc(nc(b,!0)),au(b.get(o))}).then(function(b){return Ch(d,function(T){if(T=tc(nc(T,!0)),b)return b.value=u,au(T.put(b));d.b++,g=!0;var x={};return x.fbase_key=o,x.value=u,au(T.add(x))})}).then(function(){return d.c[o]=u,uT(d,o)}).oa(function(){g&&d.b--})};function uT(o,u){return o.g&&o.h&&SD()===o.h?oT(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):je()}e.get=function(o){return Ch(this,function(u){return au(tc(nc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,d=!1;return Ch(this,function(g){return d=!0,u.b++,au(tc(nc(g,!0)).delete(o))}).then(function(){return delete u.c[o],uT(u,o)}).oa(function(){d&&u.b--})};function lT(o){return tv(o).then(function(u){var d=tc(nc(u,!1));return d.getAll?au(d.getAll()):new at(function(g,b){var T=[],x=d.openCursor();x.onsuccess=function(F){(F=F.target.result)?(T.push(F.value),F.continue()):g(T)},x.onerror=function(F){b(F.target.error)}})}).then(function(u){var d={},g=[];if(o.b==0){for(g=0;g<u.length;g++)d[u[g].fbase_key]=u[g].value;g=LE(o.c,d),o.c=d}return g})}e.ca=function(o){this.a.length==0&&hF(this),this.a.push(o)},e.ia=function(o){Y(this.a,function(u){return u==o}),this.a.length==0&&cT(this)};function hF(o){function u(){o.f=setTimeout(function(){o.l=lT(o).then(function(d){0<d.length&&re(o.a,function(g){g(d)})}).then(function(){u()}).o(function(d){d.message!="STOP_EVENT"&&u()})},800)}cT(o),u()}function cT(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function fT(o){var u=this,d=null;this.a=[],this.type="indexedDB",this.c=o,this.b=je().then(function(){if(nv()){var g=js(),b="__sak"+g;return ev||(ev=new sT),d=ev,d.set(b,g).then(function(){return d.get(b)}).then(function(T){if(T!==g)throw Error("indexedDB not supported!");return d.U(b)}).then(function(){return d}).o(function(){return u.c})}return u.c}).then(function(g){return u.type=g.type,g.ca(function(b){re(u.a,function(T){T(b)})}),g})}e=fT.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(d){return d.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){Y(this.a,function(u){return u==o})};function rc(){this.a={},this.type="inMemory"}e=rc.prototype,e.get=function(o){return je(this.a[o])},e.set=function(o,u){return this.a[o]=u,je()},e.U=function(o){return delete this.a[o],je()},e.ca=function(){},e.ia=function(){};function Nh(){if(!dF())throw Ni()=="Node"?new L("internal-error","The LocalStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=hT()||Fe.INTERNAL.node.localStorage,this.type="localStorage"}function hT(){try{var o=c.localStorage,u=js();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function dF(){var o=Ni()=="Node";if(o=hT()||o&&Fe.INTERNAL.node&&Fe.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Nh.prototype,e.get=function(o){var u=this;return je().then(function(){var d=u.a.getItem(o);return nu(d)})},e.set=function(o,u){var d=this;return je().then(function(){var g=Ul(u);g===null?d.U(o):d.a.setItem(o,g)})},e.U=function(o){var u=this;return je().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&Xr(c.window,"storage",o)},e.ia=function(o){c.window&&Cr(c.window,"storage",o)};function rv(){this.type="nullStorage"}e=rv.prototype,e.get=function(){return je(null)},e.set=function(){return je()},e.U=function(){return je()},e.ca=function(){},e.ia=function(){};function iv(){if(!pF())throw Ni()=="Node"?new L("internal-error","The SessionStorage compatibility library was not found."):new L("web-storage-unsupported");this.a=dT()||Fe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function dT(){try{var o=c.sessionStorage,u=js();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function pF(){var o=Ni()=="Node";if(o=dT()||o&&Fe.INTERNAL.node&&Fe.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=iv.prototype,e.get=function(o){var u=this;return je().then(function(){var d=u.a.getItem(o);return nu(d)})},e.set=function(o,u){var d=this;return je().then(function(){var g=Ul(u);g===null?d.U(o):d.a.setItem(o,g)})},e.U=function(o){var u=this;return je().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function mF(){var o={};o.Browser=gF,o.Node=vF,o.ReactNative=yF,o.Worker=bF,this.a=o[Ni()]}var ov,gF={F:Nh,bb:iv},vF={F:Nh,bb:iv},yF={F:Z1,bb:rv},bF={F:Nh,bb:rv},uu={rd:"local",NONE:"none",td:"session"};function _F(o){var u=new L("invalid-persistence-type"),d=new L("unsupported-persistence-type");e:{for(g in uu)if(uu[g]==o){var g=!0;break e}g=!1}if(!g||typeof o!="string")throw u;switch(Ni()){case"ReactNative":if(o==="session")throw d;break;case"Node":if(o!=="none")throw d;break;case"Worker":if(o==="session"||!nv()&&o!=="none")throw d;break;default:if(!og()&&o!=="none")throw d}}function pT(){var o=!!(!$E(Ln())&&rg()),u=Fl(),d=og();this.m=o,this.h=u,this.l=d,this.a={},ov||(ov=new mF),o=ov;try{this.g=!tg()&&BE()||!c.indexedDB?new o.a.F:new fT(li()?new rc:new o.a.F)}catch{this.g=new rc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new rc}this.v=new rc,this.f=A(this.Yb,this),this.b={}}var sv;function ic(){return sv||(sv=new pT),sv}function Ys(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function lu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function wF(o,u,d){var g=lu(u,d),b=Ys(o,u.F);return o.get(u,d).then(function(T){var x=null;try{x=nu(c.localStorage.getItem(g))}catch{}if(x&&!T)return c.localStorage.removeItem(g),o.set(u,x,d);x&&T&&b.type!="localStorage"&&c.localStorage.removeItem(g)})}e=pT.prototype,e.get=function(o,u){return Ys(this,o.F).get(lu(o,u))};function cu(o,u,d){return d=lu(u,d),u.F=="local"&&(o.b[d]=null),Ys(o,u.F).U(d)}e.set=function(o,u,d){var g=lu(o,d),b=this,T=Ys(this,o.F);return T.set(g,u).then(function(){return T.get(g)}).then(function(x){o.F=="local"&&(b.b[g]=x)})},e.addListener=function(o,u,d){o=lu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),Ze(this.a)&&(Ys(this,"local").ca(this.f),this.h||(tg()||!BE())&&c.indexedDB||!this.l||EF(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(d)},e.removeListener=function(o,u,d){o=lu(o,u),this.a[o]&&(Y(this.a[o],function(g){return g==d}),this.a[o].length==0&&delete this.a[o]),Ze(this.a)&&(Ys(this,"local").ia(this.f),av(this))};function EF(o){av(o),o.c=setInterval(function(){for(var u in o.a){var d=c.localStorage.getItem(u),g=o.b[u];d!=g&&(o.b[u]=d,d=new Ms({type:"storage",key:u,target:window,oldValue:g,newValue:d,a:!0}),o.Yb(d))}},1e3)}function av(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var d in this.a){var g=this.b[d];typeof g>"u"&&(g=null);var b=c.localStorage.getItem(d);b!==g&&(this.b[d]=b,this.mb(d))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ys(this,"local").ia(this.f):av(this),this.m){if(d=c.localStorage.getItem(u),g=o.a.newValue,g!==d)g!==null?c.localStorage.setItem(u,g):c.localStorage.removeItem(u);else if(this.b[u]===g&&typeof o.a.a>"u")return}var T=this;d=function(){(typeof o.a.a<"u"||T.b[u]!==c.localStorage.getItem(u))&&(T.b[u]=c.localStorage.getItem(u),T.mb(u))},ui&&xo&&xo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(d,10):d()}}else re(o,A(this.mb,this))},e.mb=function(o){this.a[o]&&re(this.a[o],function(u){u()})};function TF(o){this.a=o,this.b=ic()}var uv={name:"authEvent",F:"local"};function SF(o){return o.b.get(uv,o.a).then(function(u){return w1(u)})}function IF(){this.a=ic()}function AF(){this.b=-1}function Oh(o,u){this.b=mT,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),Ph===void 0&&(c.Int32Array?Ph=new Int32Array(yT):Ph=yT),this.reset()}var Ph;P(Oh,AF);for(var mT=64,xF=mT-1,gT=[],lv=0;lv<xF;lv++)gT[lv]=0;var vT=fe(128,gT);Oh.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):pe(this.h)};function cv(o){for(var u=o.f,d=o.l,g=0,b=0;b<u.length;)d[g++]=u[b]<<24|u[b+1]<<16|u[b+2]<<8|u[b+3],b=4*g;for(u=16;64>u;u++){b=d[u-15]|0,g=d[u-2]|0;var T=(d[u-16]|0)+((b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3)|0,x=(d[u-7]|0)+((g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)|0;d[u]=T+x|0}g=o.a[0]|0,b=o.a[1]|0;var F=o.a[2]|0,Q=o.a[3]|0,se=o.a[4]|0,Ye=o.a[5]|0,Ot=o.a[6]|0;for(T=o.a[7]|0,u=0;64>u;u++){var Tt=((g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10))+(g&b^g&F^b&F)|0;x=se&Ye^~se&Ot,T=T+((se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7))|0,x=x+(Ph[u]|0)|0,x=T+(x+(d[u]|0)|0)|0,T=Ot,Ot=Ye,Ye=se,se=Q+x|0,Q=F,F=b,b=g,g=x+Tt|0}o.a[0]=o.a[0]+g|0,o.a[1]=o.a[1]+b|0,o.a[2]=o.a[2]+F|0,o.a[3]=o.a[3]+Q|0,o.a[4]=o.a[4]+se|0,o.a[5]=o.a[5]+Ye|0,o.a[6]=o.a[6]+Ot|0,o.a[7]=o.a[7]+T|0}function fv(o,u,d){d===void 0&&(d=u.length);var g=0,b=o.c;if(typeof u=="string")for(;g<d;)o.f[b++]=u.charCodeAt(g++),b==o.b&&(cv(o),b=0);else if(y(u))for(;g<d;){var T=u[g++];if(!(typeof T=="number"&&0<=T&&255>=T&&T==(T|0)))throw Error("message must be a byte array");o.f[b++]=T,b==o.b&&(cv(o),b=0)}else throw Error("message must be string or array");o.c=b,o.g+=d}var yT=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bT(){Oh.call(this,8,kF)}P(bT,Oh);var kF=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _T(o,u,d,g,b,T){this.v=o,this.i=u,this.l=d,this.m=g||null,this.u=b||null,this.s=T,this.h=u+":"+d,this.C=new IF,this.g=new TF(this.h),this.f=null,this.b=[],this.a=this.c=null}function Lh(o){return new L("invalid-cordova-configuration",o)}e=_T.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=wD().then(function(){if(typeof Wt("universalLinks.subscribe",c)!="function")throw Lh("cordova-universal-links-plugin-fix is not installed");if(typeof Wt("BuildInfo.packageName",c)>"u")throw Lh("cordova-plugin-buildinfo is not installed");if(typeof Wt("cordova.plugins.browsertab.openUrl",c)!="function")throw Lh("cordova-plugin-browsertab is not installed");if(typeof Wt("cordova.InAppBrowser.open",c)!="function")throw Lh("cordova-plugin-inappbrowser is not installed")},function(){throw new L("cordova-not-ready")})};function CF(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function NF(o){var u=new bT;fv(u,o),o=[];var d=8*u.g;56>u.c?fv(u,vT,56-u.c):fv(u,vT,u.b-(u.c-56));for(var g=63;56<=g;g--)u.f[g]=d&255,d/=256;for(cv(u),g=d=0;g<u.i;g++)for(var b=24;0<=b;b-=8)o[d++]=u.a[g]>>b&255;return jD(o)}e.Ob=function(o,u){return u(new L("operation-not-supported-in-this-environment")),je()},e.Mb=function(){return qt(new L("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,d,g){if(this.c)return qt(new L("redirect-operation-pending"));var b=this,T=c.document,x=null,F=null,Q=null,se=null;return this.c=je().then(function(){return xg(u),ET(b)}).then(function(){return OF(b,o,u,d,g)}).then(function(){return new at(function(Ye,Ot){F=function(){var Tt=Wt("cordova.plugins.browsertab.close",c);return Ye(),typeof Tt=="function"&&Tt(),b.a&&typeof b.a.close=="function"&&(b.a.close(),b.a=null),!1},b.Ea(F),Q=function(){x||(x=Xa(2e3).then(function(){Ot(new L("redirect-cancelled-by-user"))}))},se=function(){sg()&&Q()},T.addEventListener("resume",Q,!1),Ln().toLowerCase().match(/android/)||T.addEventListener("visibilitychange",se,!1)}).o(function(Ye){return hv(b).then(function(){throw Ye})})}).oa(function(){Q&&T.removeEventListener("resume",Q,!1),se&&T.removeEventListener("visibilitychange",se,!1),x&&x.cancel(),F&&b.Sa(F),b.c=null})};function OF(o,u,d,g,b){var T=CF(),x=new ci(u,g,null,T,new L("no-auth-event"),null,b),F=Wt("BuildInfo.packageName",c);if(typeof F!="string")throw new L("invalid-cordova-configuration");var Q=Wt("BuildInfo.displayName",c),se={};if(Ln().toLowerCase().match(/iphone|ipad|ipod/))se.ibi=F;else if(Ln().toLowerCase().match(/android/))se.apn=F;else return qt(new L("operation-not-supported-in-this-environment"));Q&&(se.appDisplayName=Q),T=NF(T),se.sessionId=T;var Ye=ec(o.v,o.i,o.l,u,d,null,g,o.m,se,o.u,b,o.s);return o.ma().then(function(){var Ot=o.h;return o.C.a.set(uv,x.w(),Ot)}).then(function(){var Ot=Wt("cordova.plugins.browsertab.isAvailable",c);if(typeof Ot!="function")throw new L("invalid-cordova-configuration");var Tt=null;Ot(function(xn){if(xn){if(Tt=Wt("cordova.plugins.browsertab.openUrl",c),typeof Tt!="function")throw new L("invalid-cordova-configuration");Tt(Ye)}else{if(Tt=Wt("cordova.InAppBrowser.open",c),typeof Tt!="function")throw new L("invalid-cordova-configuration");xn=Ln(),o.a=Tt(Ye,xn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||xn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function wT(o,u){for(var d=0;d<o.b.length;d++)try{o.b[d](u)}catch{}}function ET(o){return o.f||(o.f=o.ma().then(function(){return new at(function(u){function d(g){return u(g),o.Sa(d),!1}o.Ea(d),PF(o)})})),o.f}function hv(o){var u=null;return SF(o.g).then(function(d){return u=d,d=o.g,cu(d.b,uv,d.a)}).then(function(){return u})}function PF(o){function u(x){g=!0,b&&b.cancel(),hv(o).then(function(F){var Q=d;if(F&&x&&x.url){var se=null;Q=d1(x.url),Q.indexOf("/__/auth/callback")!=-1&&(se=vr(Q),se=nu(Jr(se,"firebaseError")||null),se=(se=typeof se=="object"?q(se):null)?new ci(F.c,F.b,null,null,se,null,F.T()):new ci(F.c,F.b,Q,F.f,null,null,F.T())),Q=se||d}wT(o,Q)})}var d=new ci("unknown",null,null,null,new L("no-auth-event")),g=!1,b=Xa(500).then(function(){return hv(o).then(function(){g||wT(o,d)})}),T=c.handleOpenURL;c.handleOpenURL=function(x){if(x.toLowerCase().indexOf(Wt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:x}),typeof T=="function")try{T(x)}catch(F){console.error(F)}},kg||(kg=new YD),XD(u)}e.Ea=function(o){this.b.push(o),ET(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new ci("unknown",null,null,null,new L("no-auth-event")),o(u))})},e.Sa=function(o){Y(this.b,function(u){return u==o})};function LF(o){this.a=o,this.b=ic()}var dv={name:"pendingRedirect",F:"session"};function RF(o){return o.b.set(dv,"pending",o.a)}function pv(o){return cu(o.b,dv,o.a)}function DF(o){return o.b.get(dv,o.a).then(function(u){return u=="pending"})}function Rh(o,u,d,g){this.i={},this.u=0,this.D=o,this.v=u,this.m=d,this.J=g,this.h=[],this.f=!1,this.l=A(this.s,this),this.b=new Dh,this.C=new RT,this.g=new LF(NT(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=TT(this.D,this.v,this.m,Re,this.J)}function TT(o,u,d,g,b){var T=Fe.SDK_VERSION||null;return ng()?new _T(o,u,d,T,g,b):new Y1(o,u,d,T,g,b)}Rh.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=TT(this.D,this.v,this.m,null,this.J),this.i={}};function ST(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(d){throw o.a==u&&o.reset(),d})}function IT(o){o.a.Xb()&&ST(o).o(function(u){var d=new ci("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));gv(u)&&o.s(d)}),o.a.Tb()||PT(o.b)}function mv(o,u){H(o.h,u)||o.h.push(u),o.f||DF(o.g).then(function(d){d?pv(o.g).then(function(){ST(o).o(function(g){var b=new ci("unknown",null,null,null,new L("operation-not-supported-in-this-environment"));gv(g)&&o.s(b)})}):IT(o)}).o(function(){IT(o)})}function AT(o,u){Y(o.h,function(d){return d==u})}Rh.prototype.s=function(o){if(!o)throw new L("invalid-auth-event");if(6e5<=U()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,d=0;d<this.h.length;d++){var g=this.h[d];if(g.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,g),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=U())),u=!0;break}}return PT(this.b),u};var MF=new No(2e3,1e4),FF=new No(3e4,6e4);Rh.prototype.qa=function(){return this.b.qa()};function xT(o,u,d,g,b,T,x){return o.a.Mb(u,d,g,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},b,T,x)}function gv(o){return!!(o&&o.code=="auth/cordova-not-ready")}function kT(o,u,d,g,b){var T;return RF(o.g).then(function(){return o.a.Nb(u,d,g,b).o(function(x){if(gv(x))throw new L("operation-not-supported-in-this-environment");return T=x,pv(o.g).then(function(){throw T})}).then(function(){return o.a.$b()?new at(function(){}):pv(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function CT(o,u,d,g,b){return o.a.Ob(g,function(T){u.na(d,null,T,b)},MF.get())}var vv={};function NT(o,u,d){return o=o+":"+u,d&&(o=o+":"+d.url),o}function OT(o,u,d,g){var b=NT(u,d,g);return vv[b]||(vv[b]=new Rh(o,u,d,g)),vv[b]}function Dh(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Dh.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dh.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var d=o.c,g=o.b,b=o.a&&o.a.code=="auth/web-storage-unsupported",T=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!b&&!T),d!="unknown"||b||T?o.a?(Xs(this,!0,null,o.a),je()):u.Fa(d,g)?UF(this,o,u):qt(new L("invalid-auth-event")):(Xs(this,!1,null,null),je())}else qt(new L("invalid-auth-event"))};function PT(o){o.g||(o.g=!0,Xs(o,!1,null,null))}function Mh(o){o.g&&!o.i&&Xs(o,!1,null,null)}function UF(o,u,d){d=d.Fa(u.c,u.b);var g=u.g,b=u.f,T=u.i,x=u.T(),F=!!u.c.match(/Redirect$/);d(g,b,x,T).then(function(Q){Xs(o,F,Q,null)}).o(function(Q){Xs(o,F,null,Q)})}function VF(o,u){if(o.b=function(){return qt(u)},o.c.length)for(var d=0;d<o.c.length;d++)o.c[d](u)}function LT(o,u){if(o.b=function(){return je(u)},o.f.length)for(var d=0;d<o.f.length;d++)o.f[d](u)}function Xs(o,u,d,g){u?g?VF(o,g):LT(o,d):LT(o,{user:null}),o.f=[],o.c=[]}Dh.prototype.qa=function(){var o=this;return new at(function(u,d){o.b?o.b().then(u,d):(o.f.push(u),o.c.push(d),$F(o))})};function $F(o){var u=new L("timeout");o.a&&o.a.cancel(),o.a=Xa(FF.get()).then(function(){o.b||(o.g=!0,Xs(o,!0,null,u))})}function RT(){}RT.prototype.h=function(o,u){if(o){var d=o.c,g=o.b;o.a?(u.na(o.c,null,o.a,o.b),je()):u.Fa(d,g)?jF(o,u):qt(new L("invalid-auth-event"))}else qt(new L("invalid-auth-event"))};function jF(o,u){var d=o.b,g=o.c;u.Fa(g,d)(o.g,o.f,o.T(),o.i).then(function(b){u.na(g,b,null,d)}).o(function(b){u.na(g,null,b,d)})}function DT(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function yv(o,u){this.a=u,Le(this,"verificationId",o)}yv.prototype.confirm=function(o){return o=_1(this.verificationId,o),this.a(o)};function bv(o,u,d,g){return new no(o).fb(u,d).then(function(b){return new yv(b,g)})}function BF(o){var u=o1(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new L("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");er(this,{token:o,expirationTime:Vl(1e3*u.exp),authTime:Vl(1e3*u.auth_time),issuedAtTime:Vl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function _v(o,u,d){var g=u&&u[FT];if(!g)throw new L("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=et(u),this.g=d,this.c=new dh(null,g),this.b=[];var b=this;re(u[MT]||[],function(T){(T=hg(T))&&b.b.push(T)}),Le(this,"auth",this.a),Le(this,"session",this.c),Le(this,"hints",this.b)}var MT="mfaInfo",FT="mfaPendingCredential";_v.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(d){var g=et(u.f);return delete g[MT],delete g[FT],_t(g,d),u.g(g)})};function wv(o,u,d,g){L.call(this,"multi-factor-auth-required",g,u),this.b=new _v(o,u,d),Le(this,"resolver",this.b)}P(wv,L);function UT(o,u,d){if(o&&w(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new wv(u,o.serverResponse,d,o.message)}catch{}return null}function VT(){}VT.prototype.sb=function(o,u,d){return u.type==Hl?HF(this,o,u,d):GF(this,o,u)};function HF(o,u,d,g){return d.Ha().then(function(b){return b={idToken:b},typeof g<"u"&&(b.displayName=g),_t(b,{phoneVerificationInfo:Gl(o.a)}),lt(u,PM,b)})}function GF(o,u,d){return d.Ha().then(function(g){return g={mfaPendingCredential:g},_t(g,{phoneVerificationInfo:Gl(o.a)}),lt(u,LM,g)})}function Ev(o){Le(this,"factorId",o.fa),this.a=o}P(Ev,VT);function $T(o){if(Ev.call(this,o),this.a.fa!=no.PROVIDER_ID)throw new L("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}P($T,Ev);function fu(o,u){gr.call(this,o);for(var d in u)this[d]=u[d]}P(fu,gr);function Tv(o,u){this.a=o,this.b=[],this.c=A(this.yc,this),Xr(this.a,"userReloaded",this.c);var d=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&re(u.multiFactor.enrolledFactors,function(g){var b=null,T={};if(g){g.uid&&(T[pg]=g.uid),g.displayName&&(T[GE]=g.displayName),g.enrollmentTime&&(T[dg]=new Date(g.enrollmentTime).toISOString()),g.phoneNumber&&(T[mg]=g.phoneNumber);try{b=new $l(T)}catch{}g=b}else g=null;g&&d.push(g)}),Fh(this,d)}function zF(o){var u=[];return re(o.mfaInfo||[],function(d){(d=hg(d))&&u.push(d)}),u}e=Tv.prototype,e.yc=function(o){Fh(this,zF(o.hd))};function Fh(o,u){o.b=u,Le(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new dh(o,null)})},e.fc=function(o,u){var d=this,g=this.a.a;return this.Rb().then(function(b){return o.sb(g,b,u)}).then(function(b){return Li(d.a,b),d.a.reload()})},e.bd=function(o){var u=this,d=typeof o=="string"?o:o.uid,g=this.a.a;return this.a.I().then(function(b){return lt(g,ZM,{idToken:b,mfaEnrollmentId:d})}).then(function(b){var T=Ge(u.b,function(x){return x.uid!=d});return Fh(u,T),Li(u.a,b),u.a.reload().o(function(x){if(x.code!="auth/user-token-expired")throw x})})},e.w=function(){return{multiFactor:{enrolledFactors:st(this.b,function(o){return o.w()})}}};function Sv(o,u,d){if(this.h=o,this.i=u,this.g=d,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Sv.prototype.start=function(){this.a=this.c,Iv(this,!0)};function qF(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Iv(o,u){o.stop(),o.b=Xa(qF(o,u)).then(function(){return TD()}).then(function(){return o.h()}).then(function(){Iv(o,!0)}).o(function(d){o.i(d)&&Iv(o,!1)})}Sv.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Av(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Av.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function jT(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function BT(o,u){o.b=fh(u[hi]||""),o.a=u.refreshToken,u=u.expiresIn,jT(o,typeof u<"u"?Number(u):void 0)}function WF(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function KF(o,u){return gM(o.f,u).then(function(d){return o.b=fh(d.access_token),o.a=d.refresh_token,jT(o,d.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(d){throw d.code=="auth/user-token-expired"&&(o.a=null),d})}Av.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?qt(new L("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?KF(this,{grant_type:"refresh_token",refresh_token:this.a}):je(null):je({accessToken:this.b.toString(),refreshToken:this.a})};function Uh(o,u){this.a=o||null,this.b=u||null,er(this,{lastSignInTime:Vl(u||null),creationTime:Vl(o||null)})}function YF(o){return new Uh(o.a,o.b)}Uh.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function XF(o,u,d,g,b,T){er(this,{uid:o,displayName:g||null,photoURL:b||null,email:d||null,phoneNumber:T||null,providerId:u})}function Or(o,u,d){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var g=Fe.SDK_VERSION?eu(Fe.SDK_VERSION):null;this.a=new fi(this.l,ie(Re),g),o.emulatorConfig&&su(this.a,o.emulatorConfig),this.b=new Av(this.a),Pv(this,u[hi]),BT(this.b,u),Le(this,"refreshToken",this.b.a),GT(this,d||{}),Zn.call(this),this.R=!1,this.s&&$s()&&(this.i=OT(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=JF(this),this.aa=A(this.hb,this);var b=this;this.ya=null,this.Oa=function(T){b.wa(T.h)},this.ja=null,this.Aa=function(T){su(b.a,T.c)},this.X=null,this.$=[],this.Ba=function(T){oc(b,T.f)},this.ba=null,this.O=new Tv(this,d),Le(this,"multiFactor",this.O)}P(Or,Zn),Or.prototype.wa=function(o){this.ya=o,M1(this.a,o)},Or.prototype.la=function(){return this.ya};function xv(o,u){o.ja&&Cr(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Xr(u,"languageCodeChanged",o.Oa)}function kv(o,u){o.X&&Cr(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Xr(u,"emulatorConfigChanged",o.Aa)}function oc(o,u){o.$=u,F1(o.a,Fe.SDK_VERSION?eu(Fe.SDK_VERSION,o.$):null)}Or.prototype.Ga=function(){return pe(this.$)};function Cv(o,u){o.ba&&Cr(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Xr(u,"frameworkChanged",o.Ba)}Or.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Nv(o){try{return Fe.app(o.m).auth()}catch{throw new L("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function JF(o){return new Sv(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function HT(o){o.D||o.u.b||(o.u.start(),Cr(o,"tokenChanged",o.aa),Xr(o,"tokenChanged",o.aa))}function Ov(o){Cr(o,"tokenChanged",o.aa),o.u.stop()}function Pv(o,u){o.za=u,Le(o,"_lat",u)}function QF(o,u){Y(o.S,function(d){return d==u})}function Js(o){for(var u=[],d=0;d<o.S.length;d++)u.push(o.S[d](o));return oE(u).then(function(){return o})}function sc(o){o.i&&!o.R&&(o.R=!0,mv(o.i,o))}function GT(o,u){er(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Uh(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}Le(Or.prototype,"providerId","firebase");function zT(){}function Lv(o){return je().then(function(){if(o.D)throw new L("app-deleted")})}function Rv(o){return st(o.providerData,function(u){return u.providerId})}function Dv(o,u){u&&(qT(o,u.providerId),o.providerData.push(u))}function qT(o,u){Y(o.providerData,function(d){return d.providerId==u})}function Lo(o,u,d){(u!="uid"||d)&&o.hasOwnProperty(u)&&Le(o,u,d)}function Vh(o,u){o!=u&&(er(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?Le(o,"metadata",YF(u.metadata)):Le(o,"metadata",new Uh),re(u.providerData,function(d){Dv(o,d)}),WF(o.b,u.b),Le(o,"refreshToken",o.b.a),Fh(o.O,u.O.b))}e=Or.prototype,e.reload=function(){var o=this;return bn(this,Lv(this).then(function(){return Mv(o).then(function(){return Js(o)}).then(zT)}))};function Mv(o){return o.I().then(function(u){var d=o.isAnonymous;return ZF(o,u).then(function(){return d||Lo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new BF(u)})},e.I=function(o){var u=this;return bn(this,Lv(this).then(function(){return u.b.getToken(o)}).then(function(d){if(!d)throw new L("internal-error");return d.accessToken!=u.za&&(Pv(u,d.accessToken),u.dispatchEvent(new fu("tokenChanged"))),Lo(u,"refreshToken",d.refreshToken),d.accessToken}))};function Li(o,u){u[hi]&&o.za!=u[hi]&&(BT(o.b,u),o.dispatchEvent(new fu("tokenChanged")),Pv(o,u[hi]),Lo(o,"refreshToken",o.b.a))}function ZF(o,u){return lt(o.a,RM,{idToken:u}).then(A(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new L("internal-error");o=o[0],GT(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=eU(o),d=0;d<u.length;d++)Dv(this,u[d]);Lo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new fu("userReloaded",{hd:o}))};function eU(o){return(o=o.providerUserInfo)&&o.length?st(o,function(u){return new XF(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return ag("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,d=null;return bn(this,o.c(this.a,this.uid).then(function(g){return Li(u,g),d=ac(u,g,"reauthenticate"),u.h=null,u.reload()}).then(function(){return d}),!0)};function $h(o,u){return Mv(o).then(function(){if(H(Rv(o),u))return Js(o).then(function(){throw new L("provider-already-linked")})})}e.Cc=function(o){return ag("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,d=null;return bn(this,$h(this,o.providerId).then(function(){return u.I()}).then(function(g){return o.b(u.a,g)}).then(function(g){return d=ac(u,g,"link"),WT(u,g)}).then(function(){return d}))},e.Dc=function(o,u){var d=this;return bn(this,$h(this,"phone").then(function(){return bv(Nv(d),o,u,A(d.qb,d))}))},e.Mc=function(o,u){var d=this;return bn(this,je().then(function(){return bv(Nv(d),o,u,A(d.tb,d))}),!0)};function ac(o,u,d){var g=Ag(u);return u=a1(u),Oi({user:o,credential:g,additionalUserInfo:u,operationType:d})}function WT(o,u){return Li(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return bn(this,this.I().then(function(d){return u.a.Bb(d,o)}).then(function(d){return Li(u,d),u.reload()}))},e.ed=function(o){var u=this;return bn(this,this.I().then(function(d){return o.b(u.a,d)}).then(function(d){return Li(u,d),u.reload()}))},e.Cb=function(o){var u=this;return bn(this,this.I().then(function(d){return u.a.Cb(d,o)}).then(function(d){return Li(u,d),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Lv(this);var u=this;return bn(this,this.I().then(function(d){return u.a.Db(d,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(d){return Li(u,d),Lo(u,"displayName",d.displayName||null),Lo(u,"photoURL",d.photoUrl||null),re(u.providerData,function(g){g.providerId==="password"&&(Le(g,"displayName",u.displayName),Le(g,"photoURL",u.photoURL))}),Js(u)}).then(zT))},e.cd=function(o){var u=this;return bn(this,Mv(this).then(function(d){return H(Rv(u),o)?TM(u.a,d,[o]).then(function(g){var b={};return re(g.providerUserInfo||[],function(T){b[T.providerId]=!0}),re(Rv(u),function(T){b[T]||qT(u,T)}),b[no.PROVIDER_ID]||Le(u,"phoneNumber",null),Js(u)}):Js(u).then(function(){throw new L("no-such-provider")})}))},e.delete=function(){var o=this;return bn(this,this.I().then(function(u){return lt(o.a,kM,{idToken:u})}).then(function(){o.dispatchEvent(new fu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");xv(o,null),kv(o,null),Cv(o,null),o.J=[],o.D=!0,Ov(o),Le(o,"refreshToken",null),o.i&&AT(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,d,g){o!="linkViaPopup"&&o!="reauthViaPopup"||g!=(this.g||null)||(d&&this.C?this.C(d):u&&!d&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?A(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?A(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?A(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?A(this.Lb,this):null},e.Ec=function(o){var u=this;return KT(this,"linkViaPopup",o,function(){return $h(u,o.providerId).then(function(){return Js(u)})},!1)},e.Nc=function(o){return KT(this,"reauthViaPopup",o,function(){return je()},!0)};function KT(o,u,d,g,b){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));if(o.h&&!b)return qt(o.h);var T=_g(d.providerId),x=js(o.uid+":::"),F=null;(!Fl()||rg())&&o.s&&d.isOAuthProvider&&(F=ec(o.s,o.l,o.m,u,d,null,x,Fe.SDK_VERSION||null,null,null,o.tenantId));var Q=DE(F,T&&T.ua,T&&T.ta);return g=g().then(function(){if(XT(o),!b)return o.I().then(function(){})}).then(function(){return xT(o.i,Q,u,d,x,!!F,o.tenantId)}).then(function(){return new at(function(se,Ye){o.na(u,null,new L("cancelled-popup-request"),o.g||null),o.f=se,o.C=Ye,o.g=x,o.c=CT(o.i,o,u,Q,x)})}).then(function(se){return Q&&Vs(Q),se?Oi(se):null}).o(function(se){throw Q&&Vs(Q),se}),bn(o,g,b)}e.Fc=function(o){var u=this;return YT(this,"linkViaRedirect",o,function(){return $h(u,o.providerId)},!1)},e.Oc=function(o){return YT(this,"reauthViaRedirect",o,function(){return je()},!0)};function YT(o,u,d,g,b){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));if(o.h&&!b)return qt(o.h);var T=null,x=js(o.uid+":::");return g=g().then(function(){if(XT(o),!b)return o.I().then(function(){})}).then(function(){return o.ga=x,Js(o)}).then(function(F){return o.ha&&(F=o.ha,F=F.b.set(Fv,o.w(),F.a)),F}).then(function(){return kT(o.i,u,d,x,o.tenantId)}).o(function(F){if(T=F,o.ha)return QT(o.ha);throw T}).then(function(){if(T)throw T}),bn(o,g,b)}function XT(o){if(!o.i||!o.R)throw o.i&&!o.R?new L("internal-error"):new L("auth-domain-config-required")}e.Kb=function(o,u,d,g){var b=this;this.c&&(this.c.cancel(),this.c=null);var T=null;return d=this.I().then(function(x){return Wg(b.a,{requestUri:o,postBody:g,sessionId:u,idToken:x})}).then(function(x){return T=ac(b,x,"link"),WT(b,x)}).then(function(){return T}),bn(this,d)},e.Lb=function(o,u,d,g){var b=this;this.c&&(this.c.cancel(),this.c=null);var T=null,x=je().then(function(){return iu(Kg(b.a,{requestUri:o,sessionId:u,postBody:g,tenantId:d}),b.uid)}).then(function(F){return T=ac(b,F,"reauthenticate"),Li(b,F),b.h=null,b.reload()}).then(function(){return T});return bn(this,x,!0)},e.ub=function(o){var u=this,d=null;return bn(this,this.I().then(function(g){return d=g,typeof o>"u"||Ze(o)?{}:lh(new uh(o))}).then(function(g){return u.a.ub(d,g)}).then(function(g){if(u.email!=g)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var d=this,g=null;return bn(this,this.I().then(function(b){return g=b,typeof u>"u"||Ze(u)?{}:lh(new uh(u))}).then(function(b){return d.a.Eb(g,o,b)}).then(function(b){if(d.email!=b)return d.reload()}).then(function(){}))};function bn(o,u,d){var g=tU(o,u,d);return o.J.push(g),g.oa(function(){te(o.J,g)}),g.o(function(b){var T=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(T=UT(b.w(),Nv(o),A(o.jc,o))),T||b})}e.jc=function(o){var u=null,d=this;return o=iu(je(o),d.uid).then(function(g){return u=ac(d,g,"reauthenticate"),Li(d,g),d.h=null,d.reload()}).then(function(){return u}),bn(this,o,!0)};function tU(o,u,d){return o.h&&!d?(u.cancel(),qt(o.h)):u.o(function(g){throw!g||g.code!="auth/user-disabled"&&g.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new fu("userInvalidated")),o.h=g),g})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&_t(o,this.metadata.w()),re(this.providerData,function(u){o.providerData.push(AD(u))}),_t(o,this.O.w()),o};function JT(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},d={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){d[hi]=o.stsTokenManager.accessToken,d.refreshToken=o.stsTokenManager.refreshToken||null;var g=o.stsTokenManager.expirationTime;g&&(d.expiresIn=(g-Date.now())/1e3)}else return null;var b=new Or(u,d,o);return o.providerData&&re(o.providerData,function(T){T&&Dv(b,Oi(T))}),o.redirectEventId&&(b.ga=o.redirectEventId),b}function nU(o,u,d,g){var b=new Or(o,u);return d&&(b.ha=d),g&&oc(b,g),b.reload().then(function(){return b})}function rU(o,u,d,g){var b=o.b,T={};return T[hi]=b.b&&b.b.toString(),T.refreshToken=b.a,u=new Or(u||{apiKey:o.l,authDomain:o.s,appName:o.m},T),d&&(u.ha=d),g&&oc(u,g),Vh(u,o),u}function iU(o){this.a=o,this.b=ic()}var Fv={name:"redirectUser",F:"session"};function QT(o){return cu(o.b,Fv,o.a)}function oU(o,u){return o.b.get(Fv,o.a).then(function(d){return d&&u&&(d.authDomain=u),JT(d||{})})}function Uv(o){this.a=o,this.b=ic(),this.c=null,this.f=sU(this),this.b.addListener(Ri("local"),this.a,A(this.g,this))}Uv.prototype.g=function(){var o=this,u=Ri("local");hu(this,function(){return je().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(d){if(d)return Vv(o,"local").then(function(){o.c=u})})})};function Vv(o,u){var d=[],g;for(g in uu)uu[g]!==u&&d.push(cu(o.b,Ri(uu[g]),o.a));return d.push(cu(o.b,$v,o.a)),YR(d)}function sU(o){var u=Ri("local"),d=Ri("session"),g=Ri("none");return wF(o.b,u,o.a).then(function(){return o.b.get(d,o.a)}).then(function(b){return b?d:o.b.get(g,o.a).then(function(T){return T?g:o.b.get(u,o.a).then(function(x){return x?u:o.b.get($v,o.a).then(function(F){return F?Ri(F):u})})})}).then(function(b){return o.c=b,Vv(o,b.F)}).o(function(){o.c||(o.c=u)})}var $v={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}Uv.prototype.xb=function(o){var u=null,d=this;return _F(o),hu(this,function(){return o!=d.c.F?d.b.get(d.c,d.a).then(function(g){return u=g,Vv(d,o)}).then(function(){if(d.c=Ri(o),u)return d.b.set(d.c,u,d.a)}):je()})};function aU(o){return hu(o,function(){return o.b.set($v,o.c.F,o.a)})}function ZT(o,u){return hu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function eS(o){return hu(o,function(){return cu(o.b,o.c,o.a)})}function tS(o,u,d){return hu(o,function(){return o.b.get(o.c,o.a).then(function(g){return g&&u&&(g.authDomain=u),g&&d&&(g.emulatorConfig=d),JT(g||{})})})}function hu(o,u){return o.f=o.f.then(u,u),o.f}function di(o){if(this.l=!1,Le(this,"settings",new DT),Le(this,"app",o),Rt(this).options&&Rt(this).options.apiKey)o=Fe.SDK_VERSION?eu(Fe.SDK_VERSION):null,this.a=new fi(Rt(this).options&&Rt(this).options.apiKey,ie(Re),o);else throw new L("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=Fe.INTERNAL.createSubscribe(A(this.zc,this)),this.X=void 0,this.bc=Fe.INTERNAL.createSubscribe(A(this.Ac,this)),du(this,null),this.i=new Uv(Rt(this).options.apiKey+":"+Rt(this).name),this.D=new iU(Rt(this).options.apiKey+":"+Rt(this).name),this.$=tn(this,dU(this)),this.h=tn(this,pU(this)),this.ba=!1,this.ja=A(this.Zc,this),this.Ba=A(this.da,this),this.ya=A(this.mc,this),this.za=A(this.wc,this),this.Aa=A(this.xc,this),this.b=null,cU(this),this.INTERNAL={},this.INTERNAL.delete=A(this.delete,this),this.INTERNAL.logFramework=A(this.Gc,this),this.u=0,Zn.call(this),lU(this),this.J=[],this.P=null}P(di,Zn);function nS(o){gr.call(this,"languageCodeChanged"),this.h=o}P(nS,gr);function rS(o){gr.call(this,"emulatorConfigChanged"),this.c=o}P(rS,gr);function iS(o){gr.call(this,"frameworkChanged"),this.f=o}P(iS,gr),e=di.prototype,e.xb=function(o){return o=this.i.xb(o),tn(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,M1(this.a,this.aa),this.dispatchEvent(new nS(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new L("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,uU(u),this.P={url:o,ec:u},this.settings.ib=!0,su(this.a,this.P),this.dispatchEvent(new rS(this.P))}};function uU(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&oh().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),F1(this.a,Fe.SDK_VERSION?eu(Fe.SDK_VERSION,this.J):null),this.dispatchEvent(new iS(this.J))},e.Ga=function(){return pe(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function lU(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=vr(this.P.url);u=Oi({protocol:u.c,host:u.a,port:u.g,options:Oi({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Rt(this).options.apiKey,authDomain:Rt(this).options.authDomain,appName:Rt(this).name,currentUser:nt(this)&&nt(this).w()}};function jv(o){return o.Oa||qt(new L("auth-domain-config-required"))}function cU(o){var u=Rt(o).options.authDomain,d=Rt(o).options.apiKey;u&&$s()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=OT(u,d,Rt(o).name,o.P),mv(o.b,o),nt(o)&&sc(nt(o)),o.m){sc(o.m);var g=o.m;g.wa(o.la()),xv(g,o),g=o.m,oc(g,o.J),Cv(g,o),g=o.m,su(g.a,o.P),kv(g,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,d,g){o=="signInViaPopup"&&this.g==g&&(d&&this.C?this.C(d):u&&!d&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?A(this.ic,this):null},e.ic=function(o,u,d,g){var b=this,T={requestUri:o,postBody:g,sessionId:u,tenantId:d};return this.c&&(this.c.cancel(),this.c=null),b.$.then(function(){return Qs(b,qg(b.a,T))})},e.Xc=function(o){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));var u=this,d=_g(o.providerId),g=js(),b=null;(!Fl()||rg())&&Rt(this).options.authDomain&&o.isOAuthProvider&&(b=ec(Rt(this).options.authDomain,Rt(this).options.apiKey,Rt(this).name,"signInViaPopup",o,null,g,Fe.SDK_VERSION||null,null,null,this.T(),this.P));var T=DE(b,d&&d.ua,d&&d.ta);return d=jv(this).then(function(x){return xT(x,T,"signInViaPopup",o,g,!!b,u.T())}).then(function(){return new at(function(x,F){u.na("signInViaPopup",null,new L("cancelled-popup-request"),u.g),u.f=x,u.C=F,u.g=g,u.c=CT(u.b,u,"signInViaPopup",T,g)})}).then(function(x){return T&&Vs(T),x?Oi(x):null}).o(function(x){throw T&&Vs(T),x}),tn(this,d)},e.Yc=function(o){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));var u=this,d=jv(this).then(function(){return aU(u.i)}).then(function(){return kT(u.b,"signInViaRedirect",o,void 0,u.T())});return tn(this,d)};function oS(o){if(!$s())return qt(new L("operation-not-supported-in-this-environment"));var u=jv(o).then(function(){return o.b.qa()}).then(function(d){return d?Oi(d):null});return tn(o,u)}e.qa=function(){var o=this;return oS(this).then(function(u){return o.b&&Mh(o.b.b),u}).o(function(u){throw o.b&&Mh(o.b.b),u})},e.dd=function(o){if(!o)return qt(new L("null-user"));if(this.S!=o.tenantId)return qt(new L("tenant-id-mismatch"));var u=this,d={};d.apiKey=Rt(this).options.apiKey,d.authDomain=Rt(this).options.authDomain,d.appName=Rt(this).name;var g=rU(o,d,u.D,u.Ga());return tn(this,this.h.then(function(){if(Rt(u).options.apiKey!=o.l)return g.reload()}).then(function(){return nt(u)&&o.uid==nt(u).uid?(Vh(nt(u),o),u.da(o)):(du(u,g),sc(g),u.da(g))}).then(function(){uc(u)}))};function fU(o,u){var d={};return d.apiKey=Rt(o).options.apiKey,d.authDomain=Rt(o).options.authDomain,d.appName=Rt(o).name,o.P&&(d.emulatorConfig=o.P),o.$.then(function(){return nU(d,u,o.D,o.Ga())}).then(function(g){return nt(o)&&g.uid==nt(o).uid?(Vh(nt(o),g),o.da(g)):(du(o,g),sc(g),o.da(g))}).then(function(){uc(o)})}function du(o,u){nt(o)&&(QF(nt(o),o.Ba),Cr(nt(o),"tokenChanged",o.ya),Cr(nt(o),"userDeleted",o.za),Cr(nt(o),"userInvalidated",o.Aa),Ov(nt(o))),u&&(u.S.push(o.Ba),Xr(u,"tokenChanged",o.ya),Xr(u,"userDeleted",o.za),Xr(u,"userInvalidated",o.Aa),0<o.u&&HT(u)),Le(o,"currentUser",u),u&&(u.wa(o.la()),xv(u,o),oc(u,o.J),Cv(u,o),su(u.a,o.P),kv(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Mh(o.b.b),nt(o)?(du(o,null),eS(o.i).then(function(){uc(o)})):je()});return tn(this,u)};function hU(o){var u=oU(o.D,Rt(o).options.authDomain).then(function(d){return(o.m=d)&&(d.ha=o.D),QT(o.D)});return tn(o,u)}function dU(o){var u=Rt(o).options.authDomain,d=hU(o).then(function(){return tS(o.i,u,o.P)}).then(function(g){return g?(g.ha=o.D,o.m&&(o.m.ga||null)==(g.ga||null)?g:g.reload().then(function(){return ZT(o.i,g).then(function(){return g})}).o(function(b){return b.code=="auth/network-request-failed"?g:eS(o.i)})):null}).then(function(g){du(o,g||null)});return tn(o,d)}function pU(o){return o.$.then(function(){return oS(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return tS(this.i,Rt(this).options.authDomain).then(function(u){if(!o.l){var d;if(d=nt(o)&&u){d=nt(o).uid;var g=u.uid;d=d==null||d===""||g===void 0||g===null||g===""?!1:d==g}if(d)return Vh(nt(o),u),nt(o).I();(nt(o)||u)&&(du(o,u),u&&(sc(u),u.ha=o.D),o.b&&mv(o.b,o),uc(o))}})},e.da=function(o){return ZT(this.i,o)},e.mc=function(){uc(this),this.da(nt(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Qs(o,u){var d=null,g=null;return tn(o,u.then(function(b){return d=Ag(b),g=a1(b),fU(o,b)},function(b){var T=null;throw b&&b.code==="auth/multi-factor-auth-required"&&(T=UT(b.w(),o,A(o.kc,o))),T||b}).then(function(){return Oi({user:nt(o),credential:d,additionalUserInfo:g,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Qs(u,je(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(nt(u))})},e.Ac=function(o){var u=this;mU(this,function(){o.next(nt(u))})},e.Ic=function(o,u,d){var g=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(nt(g)):typeof o.next=="function"&&o.next(nt(g))}),this.hb(o,u,d)},e.Hc=function(o,u,d){var g=this;return this.ba&&Promise.resolve().then(function(){g.X=g.getUid(),typeof o=="function"?o(nt(g)):typeof o.next=="function"&&o.next(nt(g))}),this.bc(o,u,d)},e.nc=function(o){var u=this,d=this.h.then(function(){return nt(u)?nt(u).I(o).then(function(g){return{accessToken:g}}):null});return tn(this,d)},e.Tc=function(o){var u=this;return this.h.then(function(){return Qs(u,lt(u.a,YM,{token:o}))}).then(function(d){var g=d.user;return Lo(g,"isAnonymous",!1),u.da(g),d})},e.Uc=function(o,u){var d=this;return this.h.then(function(){return Qs(d,lt(d.a,q1,{email:o,password:u}))})},e.dc=function(o,u){var d=this;return this.h.then(function(){return Qs(d,lt(d.a,AM,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Qs(u,o.ka(u.a))})},e.Sc=function(o){return ag("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=nt(o);if(u&&u.isAnonymous){var d=Oi({providerId:null,isNewUser:!1});return Oi({user:u,credential:null,additionalUserInfo:d,operationType:"signIn"})}return Qs(o,o.a.zb()).then(function(g){var b=g.user;return Lo(b,"isAnonymous",!0),o.da(b),g})})};function Rt(o){return o.app}function nt(o){return o.currentUser}e.getUid=function(){return nt(this)&&nt(this).uid||null};function jh(o){return nt(o)&&nt(o)._lat||null}function uc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](jh(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](jh(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&nt(this)&&HT(nt(this))},e.Pc=function(o){var u=this;re(this.s,function(d){d==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&nt(this)&&Ov(nt(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),tn(this,this.h.then(function(){u.l||H(u.s,o)&&o(jh(u))}))},e.removeAuthTokenListener=function(o){Y(this.s,function(u){return u==o})};function mU(o,u){o.O.push(u),tn(o,o.h.then(function(){!o.l&&H(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(jh(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(AT(this.b,this),Mh(this.b.b)),Promise.resolve()};function tn(o,u){return o.R.push(u),u.oa(function(){te(o.R,u)}),u}e.hc=function(o){return tn(this,vM(this.a,o))},e.Bc=function(o){return!!Ig(o)},e.wb=function(o,u){var d=this;return tn(this,je().then(function(){var g=new uh(u);if(!g.c)throw new L("argument-error",yg+" must be true when sending sign in link to email");return lh(g)}).then(function(g){return d.a.wb(o,g)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return tn(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return tn(this,this.a.Ra(o).then(function(u){return new kD(u)}))},e.jb=function(o){return tn(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var d=this;return tn(this,je().then(function(){return typeof u>"u"||Ze(u)?{}:lh(new uh(u))}).then(function(g){return d.a.vb(o,g)}).then(function(){}))},e.Wc=function(o,u){return tn(this,bv(this,o,u,A(this.$a,this)))},e.Vc=function(o,u){var d=this;return tn(this,je().then(function(){var g=u||Ml(),b=b1(o,g);if(g=Ig(g),!g)throw new L("argument-error","Invalid email link!");if(g.tenantId!==d.T())throw new L("tenant-id-mismatch");return d.$a(b)}))};function lc(){}lc.prototype.render=function(){},lc.prototype.reset=function(){},lc.prototype.getResponse=function(){},lc.prototype.execute=function(){};function pu(){this.a={},this.b=1e12}var Bv=null;pu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Bh(o,u),this.b++},pu.prototype.reset=function(o){var u=Hv(this,o);o=sS(o),u&&o&&(u.delete(),delete this.a[o])},pu.prototype.getResponse=function(o){return(o=Hv(this,o))?o.getResponse():null},pu.prototype.execute=function(o){(o=Hv(this,o))&&o.execute()};function Hv(o,u){return(u=sS(u))&&o.a[u]||null}function sS(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Bh(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Cl(o);var d=this;this.i=function(){d.execute()},this.h?this.execute():Xr(this.f,"click",this.i)}Bh.prototype.getResponse=function(){return Gv(this),this.b},Bh.prototype.execute=function(){Gv(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=ED();var u=o.c.callback,d=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,d)try{d()}catch{}o.h&&o.execute()},6e4)},500))},Bh.prototype.delete=function(){Gv(this),this.g=!0,clearTimeout(this.a),this.a=null,Cr(this.f,"click",this.i)};function Gv(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function zv(){}Le(zv,"FACTOR_ID","phone");function qv(){}qv.prototype.g=function(){return Bv||(Bv=new pu),je(Bv)},qv.prototype.c=function(){};var Wv=null;function Kv(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var gU=new Vt(xi,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),vU=new No(3e4,6e4);Kv.prototype.g=function(o){var u=this;return new at(function(d,g){var b=setTimeout(function(){g(new L("network-request-failed"))},vU.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var x=c.grecaptcha.render;c.grecaptcha.render=function(F,Q){return F=x(F,Q),u.b++,F},clearTimeout(b),d(c.grecaptcha)}else clearTimeout(b),g(new L("internal-error"));delete c[u.a]};var T=Om(gU,{onload:u.a,hl:o||""});je(Vg(T)).o(function(){clearTimeout(b),g(new L("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(b),d(c.grecaptcha)})},Kv.prototype.c=function(){this.b--};var Yv=null;function Xv(o,u,d,g,b,T,x){if(Le(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,x?(Wv||(Wv=new qv),x=Wv):(Yv||(Yv=new Kv),x=Yv),this.m=x,this.a=d||{theme:"light",type:"image"},this.h=[],this.a[lS])throw new L("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[yU]==="invisible",!c.document)throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Cl(u)||!this.i&&Cl(u).hasChildNodes())throw new L("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new fi(o,T||null,b||null),this.u=g||function(){return null};var F=this;this.l=[];var Q=this.a[aS];this.a[aS]=function(Ye){if(cS(F,Ye),typeof Q=="function")Q(Ye);else if(typeof Q=="string"){var Ot=Wt(Q,c);typeof Ot=="function"&&Ot(Ye)}};var se=this.a[uS];this.a[uS]=function(){if(cS(F,null),typeof se=="function")se();else if(typeof se=="string"){var Ye=Wt(se,c);typeof Ye=="function"&&Ye()}}}var aS="callback",uS="expired-callback",lS="sitekey",yU="size";function cS(o,u){for(var d=0;d<o.l.length;d++)try{o.l[d](u)}catch{}}function bU(o,u){Y(o.l,function(d){return d==u})}function Jv(o,u){return o.h.push(u),u.oa(function(){te(o.h,u)}),u}e=Xv.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Jv(this,je().then(function(){if(sh()&&!li())return oh();throw new L("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,lt(o.s,$M,{})}).then(function(u){o.a[lS]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Hh(this);var o=this;return Jv(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var d=Cl(u);u=zR("DIV"),d.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Hh(this);var o=this;return Jv(this,this.render().then(function(u){return new at(function(d){var g=o.g.getResponse(u);if(g)d(g);else{var b=function(T){T&&(bU(o,b),d(T))};o.l.push(b),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Hh(this),this.c!==null&&this.g.reset(this.c)};function Hh(o){if(o.D)throw new L("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Hh(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Cl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Qv(o,u,d){var g=!1;try{this.b=d||Fe.app()}catch{throw new L("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)d=this.b.options.apiKey;else throw new L("invalid-api-key");var b=this,T=null;try{T=this.b.auth().Ga()}catch{}try{g=this.b.auth().settings.appVerificationDisabledForTesting}catch{}T=Fe.SDK_VERSION?eu(Fe.SDK_VERSION,T):null,Xv.call(this,d,o,u,function(){try{var x=b.b.auth().la()}catch{x=null}return x},T,ie(Re),g)}P(Qv,Xv);function fS(o,u,d,g){e:{d=Array.prototype.slice.call(d);for(var b=0,T=!1,x=0;x<u.length;x++)if(u[x].optional)T=!0;else{if(T)throw new L("internal-error","Argument validator encountered a required argument after an optional argument.");b++}if(T=u.length,d.length<b||T<d.length)g="Expected "+(b==T?b==1?"1 argument":b+" arguments":b+"-"+T+" arguments")+" but got "+d.length+".";else{for(b=0;b<d.length;b++)if(T=u[b].optional&&d[b]===void 0,!u[b].M(d[b])&&!T){if(u=u[b],0>b||b>=hS.length)throw new L("internal-error","Argument validator received an unsupported number of arguments.");d=hS[b],g=(g?"":d+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}g=null}}if(g)throw new L("argument-error",o+" failed: "+g)}var hS="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Oe(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(d){return typeof d=="string"}}}function Zv(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(d){return typeof d=="boolean"}}}function fn(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:w}}function mu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(d){return typeof d=="function"}}}function Di(o,u){return{name:o||"",K:"null",optional:!!u,M:function(d){return d===null}}}function _U(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function wU(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof di)}}}function EU(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof Fe.app.App)}}}function Ro(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var d=!o||u.providerId===o;return!(!u.ka||!d)}}}function dS(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function gu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function ey(o,u){return w(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function pS(o){return w(o)&&typeof o.uid=="string"}function Gh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function on(o,u,d,g){return{name:d||"",K:o.K+" or "+u.K,optional:!!g,M:function(b){return o.M(b)||u.M(b)}}}function Jt(o,u){for(var d in u){var g=u[d].name;o[g]=gS(g,o[d],u[d].j)}}function mS(o,u){for(var d in u){var g=u[d].name;g!==d&&Object.defineProperty(o,g,{get:j(function(b){return this[b]},d),set:j(function(b,T,x,F){fS(b,[x],[F],!0),this[T]=F},g,d,u[d].kb),enumerable:!0})}}function sn(o,u,d,g){o[u]=gS(u,d,g)}function gS(o,u,d){function g(){var x=Array.prototype.slice.call(arguments);return fS(b,d,x),u.apply(this,x)}if(!d)return u;var b=TU(o),T;for(T in u)g[T]=u[T];for(T in u.prototype)g.prototype[T]=u.prototype[T];return g}function TU(o){return o=o.split("."),o[o.length-1]}Jt(di.prototype,{jb:{name:"applyActionCode",j:[Oe("code")]},Ra:{name:"checkActionCode",j:[Oe("code")]},nb:{name:"confirmPasswordReset",j:[Oe("code"),Oe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Oe("email"),Oe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Oe("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Oe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[on(fn(),mu(),"nextOrObserver"),mu("opt_error",!0),mu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[on(fn(),mu(),"nextOrObserver"),mu("opt_error",!0),mu("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Oe("email"),on(fn("opt_actionCodeSettings",!0),Di(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Oe("email"),fn("actionCodeSettings")]},xb:{name:"setPersistence",j:[Oe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ro()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ro()]},Tc:{name:"signInWithCustomToken",j:[Oe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Oe("email"),Oe("password")]},Vc:{name:"signInWithEmailLink",j:[Oe("email"),Oe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Oe("phoneNumber"),Gh()]},Xc:{name:"signInWithPopup",j:[gu()]},Yc:{name:"signInWithRedirect",j:[gu()]},dd:{name:"updateCurrentUser",j:[on(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Or)}}}(),Di(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Oe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Oe("url"),fn("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Oe("code")]}}),mS(di.prototype,{lc:{name:"languageCode",kb:on(Oe(),Di(),"languageCode")},ti:{name:"tenantId",kb:on(Oe(),Di(),"tenantId")}}),di.Persistence=uu,di.Persistence.LOCAL="local",di.Persistence.SESSION="session",di.Persistence.NONE="none",Jt(Or.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zv("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zv("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ro()]},qb:{name:"linkWithCredential",j:[Ro()]},Dc:{name:"linkWithPhoneNumber",j:[Oe("phoneNumber"),Gh()]},Ec:{name:"linkWithPopup",j:[gu()]},Fc:{name:"linkWithRedirect",j:[gu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ro()]},tb:{name:"reauthenticateWithCredential",j:[Ro()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Oe("phoneNumber"),Gh()]},Nc:{name:"reauthenticateWithPopup",j:[gu()]},Oc:{name:"reauthenticateWithRedirect",j:[gu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[on(fn("opt_actionCodeSettings",!0),Di(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Oe(null,!0)]},cd:{name:"unlink",j:[Oe("provider")]},Bb:{name:"updateEmail",j:[Oe("email")]},Cb:{name:"updatePassword",j:[Oe("password")]},ed:{name:"updatePhoneNumber",j:[Ro("phone")]},Db:{name:"updateProfile",j:[fn("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Oe("email"),on(fn("opt_actionCodeSettings",!0),Di(null,!0),"opt_actionCodeSettings",!0)]}}),Jt(pu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jt(lc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Jt(at.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),mS(DT.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Zv("appVerificationDisabledForTesting")}}),Jt(yv.prototype,{confirm:{name:"confirm",j:[Oe("verificationCode")]}}),sn(ru,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,d=[qD,WD,KD,zD],g=0;g<d.length;g++)if(u=d[g](o))return u;return null},[on(Oe(),fn(),"json")]),sn(Qr,"credential",function(o,u){return new Oo(o,u)},[Oe("email"),Oe("password")]),Jt(Oo.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(Gs.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(Gs,"credential",m1,[on(Oe(),fn(),"token")]),sn(Qr,"credentialWithLink",b1,[Oe("email"),Oe("emailLink")]),Jt(zs.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(zs,"credential",g1,[on(Oe(),fn(),"token")]),Jt(qs.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(qs,"credential",v1,[on(Oe(),on(fn(),Di()),"idToken"),on(Oe(),Di(),"accessToken",!0)]),Jt(ou.prototype,{Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),sn(ou,"credential",y1,[on(Oe(),fn(),"token"),Oe("secret",!0)]),Jt(Nr.prototype,{Ca:{name:"addScope",j:[Oe("scope")]},credential:{name:"credential",j:[on(Oe(),on(fn(),Di()),"optionsOrIdToken"),on(Oe(),Di(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[fn("customOAuthParameters")]}}),Jt(to.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(Bs.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),sn(no,"credential",_1,[Oe("verificationId"),Oe("verificationCode")]),Jt(no.prototype,{fb:{name:"verifyPhoneNumber",j:[on(Oe(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(d){return d?d.session&&d.phoneNumber?ey(d.session,Hl)&&typeof d.phoneNumber=="string":d.session&&d.multiFactorHint?ey(d.session,ph)&&pS(d.multiFactorHint):d.session&&d.multiFactorUid?ey(d.session,ph)&&typeof d.multiFactorUid=="string":d.phoneNumber?typeof d.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Gh()]}}),Jt(Po.prototype,{w:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(L.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(zl.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(Cg.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(wv.prototype,{toJSON:{name:"toJSON",j:[Oe(null,!0)]}}),Jt(_v.prototype,{Rc:{name:"resolveSignIn",j:[dS()]}}),Jt(Tv.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[dS(),Oe("displayName",!0)]},bd:{name:"unenroll",j:[on({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:pS},Oe(),"multiFactorInfoIdentifier")]}}),Jt(Qv.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sn(vg,"parseLink",JE,[Oe("link")]),sn(zv,"assertion",function(o){return new $T(o)},[Ro("phone")]),function(){if(typeof Fe<"u"&&Fe.INTERNAL&&Fe.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ah,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:gg,VERIFY_AND_CHANGE_EMAIL:jl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:di,AuthCredential:ru,Error:L};sn(o,"EmailAuthProvider",Qr,[]),sn(o,"FacebookAuthProvider",Gs,[]),sn(o,"GithubAuthProvider",zs,[]),sn(o,"GoogleAuthProvider",qs,[]),sn(o,"TwitterAuthProvider",ou,[]),sn(o,"OAuthProvider",Nr,[Oe("providerId")]),sn(o,"SAMLAuthProvider",p1,[Oe("providerId")]),sn(o,"PhoneAuthProvider",no,[wU()]),sn(o,"RecaptchaVerifier",Qv,[on(Oe(),_U(),"recaptchaContainer"),fn("recaptchaParameters",!0),EU()]),sn(o,"ActionCodeURL",vg,[]),sn(o,"PhoneMultiFactorGenerator",zv,[]),Fe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new di(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),Fe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:A(u.getUid,u),getToken:A(u.nc,u),addAuthTokenListener:A(u.cc,u),removeAuthTokenListener:A(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fe.registerVersion("@firebase/auth","0.16.3"),Fe.INTERNAL.extendNamespace({User:Or})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var db=function(e,t){return db=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},db(e,t)};function hH(e,t){db(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function eN(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var dH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve,Q_=Q_||{},tt=dH||self;function Kd(){}function pb(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Cf(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function pH(e){return Object.prototype.hasOwnProperty.call(e,py)&&e[py]||(e[py]=++mH)}var py="closure_uid_"+(1e9*Math.random()>>>0),mH=0;function gH(e,t,n){return e.call.apply(e.bind,arguments)}function vH(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Yn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yn=gH:Yn=vH,Yn.apply(null,arguments)}function td(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Qi(){return Date.now()}function dr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function As(){this.j=this.j,this.i=this.i}var yH=0;As.prototype.j=!1;As.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),yH!=0)&&pH(this)};As.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var tN=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},nN=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function bH(e){e:{for(var t=u4,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function _I(e){return Array.prototype.concat.apply([],arguments)}function Z_(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yd(e){return/^[\s\xa0]*$/.test(e)}var wI=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ur(e,t){return e.indexOf(t)!=-1}function my(e,t){return e<t?-1:e>t?1:0}var lr;e:{var EI=tt.navigator;if(EI){var TI=EI.userAgent;if(TI){lr=TI;break e}}lr=""}function e0(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rN(e){var t={};for(var n in e)t[n]=e[n];return t}var SI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iN(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<SI.length;s++)n=SI[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function t0(e){return t0[" "](e),e}t0[" "]=Kd;function _H(e,t){var n=TH;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var wH=ur(lr,"Opera"),vs=ur(lr,"Trident")||ur(lr,"MSIE"),oN=ur(lr,"Edge"),mb=oN||vs,sN=ur(lr,"Gecko")&&!(ur(lr.toLowerCase(),"webkit")&&!ur(lr,"Edge"))&&!(ur(lr,"Trident")||ur(lr,"MSIE"))&&!ur(lr,"Edge"),EH=ur(lr.toLowerCase(),"webkit")&&!ur(lr,"Edge");function aN(){var e=tt.document;return e?e.documentMode:void 0}var Xd;e:{var gy="",vy=function(){var e=lr;if(sN)return/rv:([^\);]+)(\)|;)/.exec(e);if(oN)return/Edge\/([\d\.]+)/.exec(e);if(vs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(EH)return/WebKit\/(\S+)/.exec(e);if(wH)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(vy&&(gy=vy?vy[1]:""),vs){var yy=aN();if(yy!=null&&yy>parseFloat(gy)){Xd=String(yy);break e}}Xd=gy}var TH={};function uN(e){return _H(e,function(){for(var t=0,n=wI(String(Xd)).split("."),r=wI(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=my(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||my(a[2].length==0,l[2].length==0)||my(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var gb;if(tt.document&&vs){var II=aN();gb=II||parseInt(Xd,10)||void 0}else gb=void 0;var lN=gb,n0=!vs||9<=Number(lN),SH=vs&&!uN("9"),IH=function(){if(!tt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tt.addEventListener("test",Kd,t),tt.removeEventListener("test",Kd,t)}catch{}return e}();function Xn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Xn.prototype.b=function(){this.defaultPrevented=!0};function Yc(e,t){if(Xn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(sN){e:{try{t0(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:AH[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}dr(Yc,Xn);var AH={2:"touch",3:"pen",4:"mouse"};Yc.prototype.b=function(){Yc.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,SH)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Nf="closure_listenable_"+(1e6*Math.random()|0),xH=0;function kH(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++xH,this.Y=this.Z=!1}function qp(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Wp(e){this.src=e,this.a={},this.b=0}Wp.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=yb(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new kH(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function vb(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=tN(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qp(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function yb(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var r0="closure_lm_"+(1e6*Math.random()|0),by={};function i0(e,t,n,r,i){if(r&&r.once)return fN(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)i0(e,t[s],n,r,i);return null}return n=a0(n),e&&e[Nf]?e.va(t,n,Cf(r)?!!r.capture:!!r,i):cN(e,t,n,!1,r,i)}function cN(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Cf(i)?!!i.capture:!!i;if(a&&!n0)return null;var l=s0(e);if(l||(e[r0]=l=new Wp(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=CH(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)IH||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dN(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function CH(){var e=NH,t=n0?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function fN(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)fN(e,t[s],n,r,i);return null}return n=a0(n),e&&e[Nf]?e.wa(t,n,Cf(r)?!!r.capture:!!r,i):cN(e,t,n,!0,r,i)}function hN(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)hN(e,t[s],n,r,i);else r=Cf(r)?!!r.capture:!!r,n=a0(n),e&&e[Nf]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=yb(s,n,r,i),-1<n&&(qp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=s0(e))&&(t=e.a[t.toString()],e=-1,t&&(e=yb(t,n,r,i)),(n=-1<e?t[e]:null)&&o0(n))}function o0(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Nf])vb(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dN(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=s0(t))?(vb(n,e),n.b==0&&(n.src=null,t[r0]=null)):qp(e)}}}function dN(e){return e in by?by[e]:by[e]="on"+e}function AI(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&o0(e),n.call(r,t)}function NH(e,t){if(e.Y)return!0;if(!n0){if(!t)e:{t=["window","event"];for(var n=tt,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new Yc(t,this),AI(e,t)}return AI(e,new Yc(t,this))}function s0(e){return e=e[r0],e instanceof Wp?e:null}var _y="__closure_events_fn_"+(1e9*Math.random()>>>0);function a0(e){return typeof e=="function"?e:(e[_y]||(e[_y]=function(t){return e.handleEvent(t)}),e[_y])}function qr(){As.call(this),this.c=new Wp(this),this.J=this,this.C=null}dr(qr,As);qr.prototype[Nf]=!0;Ve=qr.prototype;Ve.addEventListener=function(e,t,n,r){i0(this,e,t,n,r)};Ve.removeEventListener=function(e,t,n,r){hN(this,e,t,n,r)};function Mn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Xn(t,e);else if(t instanceof Xn)t.target=t.target||e;else{var i=t;t=new Xn(r,e),iN(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=nd(a,r,!0,t)&&i}if(a=t.a=e,i=nd(a,r,!0,t)&&i,i=nd(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=nd(a,r,!1,t)&&i}Ve.G=function(){if(qr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)qp(n[r]);delete e.a[t],e.b--}}this.C=null};Ve.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};Ve.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function nd(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&vb(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var u0=tt.JSON.stringify;function pN(){this.b=this.a=null}var mN=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new l0},function(e){e.reset()});pN.prototype.add=function(e,t){var n=mN.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function OH(){var e=vN,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function l0(){this.next=this.b=this.a=null}l0.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};l0.prototype.reset=function(){this.next=this.b=this.a=null};function PH(e){tt.setTimeout(function(){throw e},0)}function gN(e,t){bb||LH(),_b||(bb(),_b=!0),vN.add(e,t)}var bb;function LH(){var e=tt.Promise.resolve(void 0);bb=function(){e.then(RH)}}var _b=!1,vN=new pN;function RH(){for(var e;e=OH();){try{e.a.call(e.b)}catch(n){PH(n)}var t=mN;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}_b=!1}function Kp(e,t){qr.call(this),this.b=e||1,this.a=t||tt,this.f=Yn(this.Za,this),this.g=Qi()}dr(Kp,qr);Ve=Kp.prototype;Ve.aa=!1;Ve.M=null;Ve.Za=function(){if(this.aa){var e=Qi()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Mn(this,"tick"),this.aa&&(c0(this),this.start()))}};Ve.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Qi())};function c0(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}Ve.G=function(){Kp.X.G.call(this),c0(this),delete this.a};function f0(e,t,n){if(typeof e=="function")n&&(e=Yn(e,n));else if(e&&typeof e.handleEvent=="function")e=Yn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:tt.setTimeout(e,t||0)}function yN(e){e.a=f0(function(){e.a=null,e.c&&(e.c=!1,yN(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var DH=function(e){hH(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:yN(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(tt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(As);function Xc(e){As.call(this),this.b=e,this.a={}}dr(Xc,As);var xI=[];function bN(e,t,n,r){Array.isArray(n)||(n&&(xI[0]=n.toString()),n=xI);for(var i=0;i<n.length;i++){var s=i0(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function _N(e){e0(e.a,function(t,n){this.a.hasOwnProperty(n)&&o0(t)},e),e.a={}}Xc.prototype.G=function(){Xc.X.G.call(this),_N(this)};Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function h0(){this.a=!0}function MH(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var f=p.split("_");a=2<=f.length&&f[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function FH(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function ku(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+VH(e,n)+(r?" "+r:"")})}function UH(e,t){e.info(function(){return"TIMEOUT: "+t})}h0.prototype.info=function(){};function VH(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return u0(n)}catch{return t}}var Ua={},kI=null;function Yp(){return kI=kI||new qr}Ua.Fa="serverreachability";function wN(e){Xn.call(this,Ua.Fa,e)}dr(wN,Xn);function Jc(e){var t=Yp();Mn(t,new wN(t))}Ua.STAT_EVENT="statevent";function EN(e,t){Xn.call(this,Ua.STAT_EVENT,e),this.stat=t}dr(EN,Xn);function cr(e){var t=Yp();Mn(t,new EN(t,e))}Ua.Ga="timingevent";function TN(e){Xn.call(this,Ua.Ga,e)}dr(TN,Xn);function Of(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return tt.setTimeout(function(){e()},t)}var Xp={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},SN={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function IN(){}IN.prototype.a=null;function CI(e){var t;return(t=e.a)||(t=e.a={}),t}function AN(){}var Pf={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function d0(){Xn.call(this,"d")}dr(d0,Xn);function p0(){Xn.call(this,"c")}dr(p0,Xn);var xN;function kN(){}dr(kN,IN);xN=new kN;function Lf(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Xc(this),this.P=$H,e=mb?125:void 0,this.R=new Kp(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var $H=45e3,CN={},wb={};Ve=Lf.prototype;Ve.setTimeout=function(e){this.P=e};function Eb(e,t,n){e.H=1,e.i=Qp(wo(t)),e.j=n,e.I=!0,NN(e,null)}function NN(e,t){e.u=Qi(),Rf(e),e.l=wo(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),MN(n.b,"t",r),e.D=0,e.a=eO(e.g,e.g.C?t:null),0<e.O&&(e.F=new DH(Yn(e.Ca,e,e.a),e.O)),bN(e.J,e.a,"readystatechange",e.Xa),t=e.B?rN(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Jc(),MH(e.c,e.m,e.l,e.f,e.S,e.j)}Ve.Xa=function(e){e=e.target;var t=this.F;t&&rs(e)==3?t.f():this.Ca(e)};Ve.Ca=function(e){try{if(e==this.a)e:{var t=rs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!mb&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Jc(3):Jc(2)),Jp(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,FH(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yd(a)){var c=a;break t}}c=null}if(c)ku(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Tb(this,c);else{this.b=!1,this.h=3,cr(12),Fu(this),Jd(this);break e}}this.I?(ON(this,t,s),mb&&this.b&&t==3&&(bN(this.J,this.R,"tick",this.Wa),this.R.start())):(ku(this.c,this.f,s,null),Tb(this,s)),t==4&&Fu(this),this.b&&!this.A&&(t==4?XN(this.g,this):(this.b=!1,Rf(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,cr(12)):(this.h=0,cr(13)),Fu(this),Jd(this)}}}catch{}finally{}};function ON(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=jH(e,n);if(i==wb){t==4&&(e.h=4,cr(14),r=!1),ku(e.c,e.f,null,"[Incomplete Response]");break}else if(i==CN){e.h=4,cr(15),ku(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else ku(e.c,e.f,i,null),Tb(e,i)}t==4&&n.length==0&&(e.h=1,cr(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),E0(t),t.F=!0,cr(11))):(ku(e.c,e.f,n,"[Invalid Chunked Response]"),Fu(e),Jd(e))}Ve.Wa=function(){if(this.a){var e=rs(this.a),t=this.a.$();this.D<t.length&&(Jp(this),ON(this,e,t),this.b&&e!=4&&Rf(this))}};function jH(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?wb:(n=Number(t.substring(n,r)),isNaN(n)?CN:(r+=1,r+n>t.length?wb:(t=t.substr(r,n),e.D=r+n,t)))}Ve.cancel=function(){this.A=!0,Fu(this)};function Rf(e){e.T=Qi()+e.P,PN(e,e.P)}function PN(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Of(Yn(e.Va,e),t)}function Jp(e){e.o&&(tt.clearTimeout(e.o),e.o=null)}Ve.Va=function(){this.o=null;var e=Qi();0<=e-this.T?(UH(this.c,this.l),this.H!=2&&(Jc(),cr(17)),Fu(this),this.h=2,Jd(this)):PN(this,this.T-e)};function Jd(e){e.g.v==0||e.A||XN(e.g,e)}function Fu(e){Jp(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,c0(e.R),_N(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Tb(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||Sb(n.b,e))){if(n.I=e.N,!e.C&&Sb(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)tp(n),em(n);else break e;w0(n),cr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Of(Yn(n.Sa,n),6e3));if(1>=VN(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ma(n,11)}else if((e.C||n.a==e)&&tp(n),!Yd(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var p=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var f=c.b;!f.a&&(ur(p,"spdy")||ur(p,"quic")||ur(p,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(v0(f,f.b),f.b=null))}if(c.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,Xt(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Qi()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var v=e;if(c.la=ZN(c,c.C?c.ga:null,c.fa),v.C){$N(c.b,v);var y=v,_=c.D;_&&y.setTimeout(_),y.o&&(Jp(y),Rf(y)),c.a=v}else KN(c);0<n.g.length&&tm(n)}else i[0]!="stop"&&i[0]!="close"||ma(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ma(n,7):_0(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Jc(4)}catch{}}function BH(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(pb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function m0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pb(e)||typeof e=="string")nN(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(pb(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=BH(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function gl(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof gl)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}Ve=gl.prototype;Ve.K=function(){g0(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};Ve.L=function(){return g0(this),this.a.concat()};function g0(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];xa(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],xa(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}Ve.get=function(e,t){return xa(this.b,e)?this.b[e]:t};Ve.set=function(e,t){xa(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};Ve.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function xa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var LN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function HH(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ka(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof ka){this.a=t!==void 0?t:e.a,Qd(this,e.f),this.j=e.j,Zd(this,e.c),ep(this,e.h),this.g=e.g,t=e.b;var n=new Qc;n.c=t.c,t.a&&(n.a=new gl(t.a),n.b=t.b),NI(this,n),this.i=e.i}else e&&(n=String(e).match(LN))?(this.a=!!t,Qd(this,n[1]||"",!0),this.j=Cc(n[2]||""),Zd(this,n[3]||"",!0),ep(this,n[4]),this.g=Cc(n[5]||"",!0),NI(this,n[6]||"",!0),this.i=Cc(n[7]||"")):(this.a=!!t,this.b=new Qc(null,this.a))}ka.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Tc(t,OI,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Tc(t,OI,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Tc(n,n.charAt(0)=="/"?KH:WH,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Tc(n,XH)),e.join("")};function wo(e){return new ka(e)}function Qd(e,t,n){e.f=n?Cc(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Zd(e,t,n){e.c=n?Cc(t,!0):t}function ep(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function NI(e,t,n){t instanceof Qc?(e.b=t,JH(e.b,e.a)):(n||(t=Tc(t,YH)),e.b=new Qc(t,e.a))}function Xt(e,t,n){e.b.set(t,n)}function Qp(e){return Xt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Qi()).toString(36)),e}function GH(e){return e instanceof ka?wo(e):new ka(e,void 0)}function zH(e,t,n,r){var i=new ka(null,void 0);return e&&Qd(i,e),t&&Zd(i,t),n&&ep(i,n),r&&(i.g=r),i}function Cc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,qH),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qH(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var OI=/[#\/\?@]/g,WH=/[#\?:]/g,KH=/[#\?]/g,YH=/[#\?@]/g,XH=/#/g;function Qc(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function xs(e){e.a||(e.a=new gl,e.b=0,e.c&&HH(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ve=Qc.prototype;Ve.add=function(e,t){xs(this),this.c=null,e=vl(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function RN(e,t){xs(e),t=vl(e,t),xa(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,xa(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&g0(e)))}function DN(e,t){return xs(e),t=vl(e,t),xa(e.a.b,t)}Ve.forEach=function(e,t){xs(this),this.a.forEach(function(n,r){nN(n,function(i){e.call(t,i,r,this)},this)},this)};Ve.L=function(){xs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};Ve.K=function(e){xs(this);var t=[];if(typeof e=="string")DN(this,e)&&(t=_I(t,this.a.get(vl(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=_I(t,e[n])}return t};Ve.set=function(e,t){return xs(this),this.c=null,e=vl(this,e),DN(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};Ve.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function MN(e,t,n){RN(e,t),0<n.length&&(e.c=null,e.a.set(vl(e,t),Z_(n)),e.b+=n.length)}Ve.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function vl(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function JH(e,t){t&&!e.f&&(xs(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(RN(this,r),MN(this,i,n))},e)),e.f=t}var QH=function(){function e(t,n){this.b=t,this.a=n}return e}();function FN(e){this.g=e||ZH,tt.PerformanceNavigationTiming?(e=tt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(tt.ia&&tt.ia.ya&&tt.ia.ya()&&tt.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ZH=10;function UN(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function VN(e){return e.b?1:e.a?e.a.size:0}function Sb(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function v0(e,t){e.a?e.a.add(t):e.b=t}function $N(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}FN.prototype.cancel=function(){var e,t;if(this.c=jN(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=eN(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function jN(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=eN(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Z_(e.c)}function y0(){}y0.prototype.stringify=function(e){return tt.JSON.stringify(e,void 0)};y0.prototype.parse=function(e){return tt.JSON.parse(e,void 0)};function e4(){this.a=new y0}function t4(e,t,n){var r=n||"";try{m0(e,function(i,s){var a=i;Cf(i)&&(a=u0(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function n4(e,t){var n=new h0;if(tt.Image){var r=new Image;r.onload=td(rd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=td(rd,n,r,"TestLoadImage: error",!1,t),r.onabort=td(rd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=td(rd,n,r,"TestLoadImage: timeout",!1,t),tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function rd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var r4=tt.JSON.parse;function In(e){qr.call(this),this.headers=new gl,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=i4,this.D=this.F=!1}dr(In,qr);var i4="",o4=/^https?$/i,s4=["POST","PUT"];Ve=In.prototype;Ve.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?CI(this.H):CI(xN),this.a.onreadystatechange=Yn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){PI(this,s);return}e=n||"";var i=new gl(this.headers);r&&m0(r,function(s,a){i.set(a,s)}),r=bH(i.L()),n=tt.FormData&&e instanceof tt.FormData,!(0<=tN(s4,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{GN(this),0<this.o&&((this.D=a4(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Yn(this.xa,this)):this.m=f0(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){PI(this,s)}};function a4(e){return vs&&uN(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function u4(e){return e.toLowerCase()=="content-type"}Ve.xa=function(){typeof Q_<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Mn(this,"timeout"),this.abort(8))};function PI(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,BN(e),Zp(e)}function BN(e){e.u||(e.u=!0,Mn(e,"complete"),Mn(e,"error"))}Ve.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Mn(this,"complete"),Mn(this,"abort"),Zp(this))};Ve.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Zp(this,!0)),In.X.G.call(this)};Ve.za=function(){this.j||(this.A||this.l||this.g?HN(this):this.Ua())};Ve.Ua=function(){HN(this)};function HN(e){if(e.b&&typeof Q_<"u"&&(!e.s[1]||rs(e)!=4||e.W()!=2)){if(e.l&&rs(e)==4)f0(e.za,0,e);else if(Mn(e,"readystatechange"),rs(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(LN)[1]||null;if(!s&&tt.self&&tt.self.location){var a=tt.self.location.protocol;s=a.substr(0,a.length-1)}i=!o4.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)Mn(e,"complete"),Mn(e,"success");else{e.h=6;try{var c=2<rs(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",BN(e)}}finally{Zp(e)}}}}function Zp(e,t){if(e.a){GN(e);var n=e.a,r=e.s[0]?Kd:null;e.a=null,e.s=null,t||Mn(e,"ready");try{n.onreadystatechange=r}catch{}}}function GN(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(tt.clearTimeout(e.m),e.m=null)}function rs(e){return e.a?e.a.readyState:0}Ve.W=function(){try{return 2<rs(this)?this.a.status:-1}catch{return-1}};Ve.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};Ve.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),r4(t)}};Ve.ua=function(){return this.h};Ve.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function l4(e){var t="";return e0(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function b0(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=l4(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Xt(e,t,n))}function hc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zN(e){this.pa=0,this.g=[],this.c=new h0,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=hc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=hc("baseRetryDelayMs",5e3,e),this.Ra=hc("retryDelaySeedMs",1e4,e),this.Ma=hc("forwardChannelMaxRetries",2,e),this.ma=hc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new FN(e&&e.concurrentRequestLimit),this.ka=new e4,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}Ve=zN.prototype;Ve.ha=8;Ve.v=1;function _0(e){if(qN(e),e.v==3){var t=e.R++,n=wo(e.B);Xt(n,"SID",e.J),Xt(n,"RID",t),Xt(n,"TYPE","terminate"),Df(e,n),t=new Lf(e,e.c,t,void 0),t.H=2,t.i=Qp(wo(n)),n=!1,tt.navigator&&tt.navigator.sendBeacon&&(n=tt.navigator.sendBeacon(t.i.toString(),"")),!n&&tt.Image&&(new Image().src=t.i,n=!0),n||(t.a=eO(t.g,null),t.a.ba(t.i)),t.u=Qi(),Rf(t)}QN(e)}function em(e){e.a&&(E0(e),e.a.cancel(),e.a=null)}function qN(e){em(e),e.j&&(tt.clearTimeout(e.j),e.j=null),tp(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&tt.clearTimeout(e.h),e.h=null)}function wy(e,t){e.g.push(new QH(e.Oa++,t)),e.v==3&&tm(e)}function tm(e){UN(e.b)||e.h||(e.h=!0,gN(e.Ba,e),e.u=0)}function c4(e,t){return VN(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Of(Yn(e.Ba,e,t),JN(e,e.u)),e.u++,!0)}Ve.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Lf(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=rN(n),iN(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=WN(this,t,r),i=wo(this.B),Xt(i,"RID",e),Xt(i,"CVER",22),this.A&&Xt(i,"X-HTTP-Session-Id",this.A),Df(this,i),this.i&&n&&b0(i,this.i,n),v0(this.b,t),this.Ia&&Xt(i,"TYPE","init"),this.da?(Xt(i,"$req",r),Xt(i,"SID","null"),t.U=!0,Eb(t,i,null)):Eb(t,i,r),this.v=2}}else this.v==3&&(e?LI(this,e):this.g.length==0||UN(this.b)||LI(this))};function LI(e,t){var n;t?n=t.f:n=e.R++;var r=wo(e.B);Xt(r,"SID",e.J),Xt(r,"RID",n),Xt(r,"AID",e.P),Df(e,r),e.i&&e.l&&b0(r,e.i,e.l),n=new Lf(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=WN(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),v0(e.b,n),Eb(n,r,t)}function Df(e,t){e.f&&m0({},function(n,r){Xt(t,r,n)})}function WN(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Yn(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,p=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{t4(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function KN(e){e.a||e.j||(e.T=1,gN(e.Aa,e),e.o=0)}function w0(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Of(Yn(e.Aa,e),JN(e,e.o)),e.o++,!0)}Ve.Aa=function(){if(this.j=null,YN(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Of(Yn(this.Ta,this),e)}};Ve.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,cr(10),em(this),YN(this))};function E0(e){e.s!=null&&(tt.clearTimeout(e.s),e.s=null)}function YN(e){e.a=new Lf(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=wo(e.la);Xt(t,"RID","rpc"),Xt(t,"SID",e.J),Xt(t,"CI",e.H?"0":"1"),Xt(t,"AID",e.P),Df(e,t),Xt(t,"TYPE","xmlhttp"),e.i&&e.l&&b0(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Qp(wo(t)),n.j=null,n.I=!0,NN(n,e)}Ve.Sa=function(){this.m!=null&&(this.m=null,em(this),w0(this),cr(19))};function tp(e){e.m!=null&&(tt.clearTimeout(e.m),e.m=null)}function XN(e,t){var n=null;if(e.a==t){tp(e),E0(e),e.a=null;var r=2}else if(Sb(e.b,t))n=t.s,$N(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Qi()-t.u;var i=e.u;r=Yp(),Mn(r,new TN(r)),tm(e)}else KN(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&c4(e,t)||r==2&&w0(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ma(e,5);break;case 4:ma(e,10);break;case 3:ma(e,6);break;default:ma(e,2)}}}function JN(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ma(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Yn(e.Ya,e);n||(n=new ka("//www.google.com/images/cleardot.gif"),tt.location&&tt.location.protocol=="http"||Qd(n,"https"),Qp(n)),n4(n.toString(),r)}else cr(2);e.v=0,e.f&&e.f.ra(t),QN(e),qN(e)}Ve.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),cr(2)):(this.c.info("Failed to ping google.com"),cr(1))};function QN(e){e.v=0,e.I=-1,e.f&&((jN(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,Z_(e.g),e.g.length=0),e.f.qa())}function ZN(e,t,n){var r=GH(n);if(r.c!="")t&&Zd(r,t+"."+r.c),ep(r,r.h);else{var i=tt.location;r=zH(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&e0(e.V,function(s,a){Xt(r,a,s)}),t=e.A,n=e.na,t&&n&&Xt(r,t,n),Xt(r,"VER",e.ha),Df(e,r),r}function eO(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new In(e.Na),t.F=e.C,t}function tO(){}Ve=tO.prototype;Ve.ta=function(){};Ve.sa=function(){};Ve.ra=function(){};Ve.qa=function(){};Ve.Ja=function(){};function np(){if(vs&&!(10<=Number(lN)))throw Error("Environmental error: no available transport.")}np.prototype.a=function(e,t){return new Wr(e,t)};function Wr(e,t){qr.call(this),this.a=new zN(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Yd(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yd(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new yl(this)}dr(Wr,qr);Wr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;cr(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=ZN(e,null,e.fa),tm(e)};Wr.prototype.close=function(){_0(this.a)};Wr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,wy(this.a,t)}else this.l?(t={},t.__data__=u0(e),wy(this.a,t)):wy(this.a,e)};Wr.prototype.G=function(){this.a.f=null,delete this.f,_0(this.a),delete this.a,Wr.X.G.call(this)};function nO(e){d0.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}dr(nO,d0);function rO(){p0.call(this),this.status=1}dr(rO,p0);function yl(e){this.a=e}dr(yl,tO);yl.prototype.ta=function(){Mn(this.a,"a")};yl.prototype.sa=function(e){Mn(this.a,new nO(e))};yl.prototype.ra=function(e){Mn(this.a,new rO)};yl.prototype.qa=function(){Mn(this.a,"b")};np.prototype.createWebChannel=np.prototype.a;Wr.prototype.send=Wr.prototype.h;Wr.prototype.open=Wr.prototype.g;Wr.prototype.close=Wr.prototype.close;Xp.NO_ERROR=0;Xp.TIMEOUT=8;Xp.HTTP_ERROR=6;SN.COMPLETE="complete";AN.EventType=Pf;Pf.OPEN="a";Pf.CLOSE="b";Pf.ERROR="c";Pf.MESSAGE="d";qr.prototype.listen=qr.prototype.va;In.prototype.listenOnce=In.prototype.wa;In.prototype.getLastError=In.prototype.Qa;In.prototype.getLastErrorCode=In.prototype.ua;In.prototype.getStatus=In.prototype.W;In.prototype.getResponseJson=In.prototype.Pa;In.prototype.getResponseText=In.prototype.$;In.prototype.send=In.prototype.ba;var f4=function(){return new np},h4=function(){return Yp()},Ey=Xp,d4=SN,p4=Ua,RI={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},id=AN,m4=In;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ib=function(e,t){return Ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ib(e,t)};function Ce(e,t){Ib(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ce(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(f){a(f)}}function c(p){try{h(r.throw(p))}catch(f){a(f)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function ue(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function zn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}var g4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v4=function(e,t,n,r,i,s){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},rp=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Ti=new JC("@firebase/firestore");function Ab(){return Ti.logLevel}function be(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=St.DEBUG){var r=t.map(T0);Ti.debug.apply(Ti,zn(["Firestore (8.2.7): "+e],r))}}function gn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=St.ERROR){var r=t.map(T0);Ti.error.apply(Ti,zn(["Firestore (8.2.7): "+e],r))}}function xb(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ti.logLevel<=St.WARN){var r=t.map(T0);Ti.warn.apply(Ti,zn(["Firestore (8.2.7): "+e],r))}}function T0(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+e;throw gn(t),new Error(t)}function We(e,t){e||Ue()}function ke(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iO=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=y4(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function ft(e,t){return e<t?-1:e>t?1:0}function qu(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function oO(e){return e+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=function(){function e(t){this.h=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.h,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.h)},e.prototype.l=function(){return 2*this.h.length},e.prototype._=function(t){return ft(this.h,t.h)},e.prototype.isEqual=function(t){return this.h===t.h},e}();xr.T=new xr("");var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},he=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Ce(t,e),t}(Error),Ca=function(){function e(t){this.I=t}return e.fromBase64String=function(t){try{return new e(xr.fromBase64String(t))}catch(n){throw new he(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(xr.fromUint8Array(t))},e.prototype.toBase64=function(){return this.I.toBase64()},e.prototype.toUint8Array=function(){return this.I.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this.I.isEqual(t.I)},e}(),Mr=function(){function e(t){this.uid=t}return e.prototype.m=function(){return this.uid!=null},e.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Mr.UNAUTHENTICATED=new Mr(null),Mr.R=new Mr("google-credentials-uid"),Mr.P=new Mr("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b4=function(e,t){this.user=t,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+e},DI=function(){function e(){this.V=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.p=function(){},e.prototype.v=function(t){this.V=t,t(Mr.UNAUTHENTICATED)},e.prototype.S=function(){this.V=null},e}(),_4=function(){function e(t){var n=this;this.D=null,this.currentUser=Mr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.N!==n?(be("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(We(typeof i.accessToken=="string"),new b4(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.p=function(){this.forceRefresh=!0},e.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},e.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},e.prototype.$=function(){var t=this.auth&&this.auth.getUid();return We(t===null||typeof t=="string"),new Mr(t)},e}(),w4=function(){function e(t,n){this.F=t,this.O=n,this.type="FirstParty",this.user=Mr.P}return Object.defineProperty(e.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),t},enumerable:!1,configurable:!0}),e}(),E4=function(){function e(t,n){this.F=t,this.O=n}return e.prototype.getToken=function(){return Promise.resolve(new w4(this.F,this.O))},e.prototype.v=function(t){t(Mr.P)},e.prototype.S=function(){},e.prototype.p=function(){},e}(),Ur=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return e.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},e}();Ur.q=-1;var Ir=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new he(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new he(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new he(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.U=function(t){return this.seconds===t.seconds?ft(this.nanoseconds,t.nanoseconds):ft(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ut=function(){function e(t){this.timestamp=t}return e.K=function(t){return new e(t)},e.min=function(){return new e(new Ir(0,0))},e.prototype._=function(t){return this.timestamp.U(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.j=function(){return this.timestamp},e}(),sO=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Ue(),r===void 0?r=t.length-n:r>t.length-n&&Ue(),this.segments=t,this.offset=n,this.G=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.H(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.J(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.Y=function(t){return t=t===void 0?1:t,this.J(this.segments,this.offset+t,this.length-t)},e.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},e.prototype.Z=function(){return this.segments[this.offset]},e.prototype.tt=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.et=function(){return this.length===0},e.prototype.nt=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},e.H=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),At=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.prototype.rt=function(){return this.it().join("/")},t.prototype.toString=function(){return this.rt()},t.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new he(K.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.ct=function(){return new t([])},t}(sO),T4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ii=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.at=function(n){return T4.test(n)},t.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.at(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.rt()},t.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},t.ht=function(){return new t(["__name__"])},t.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new he(K.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new he(K.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new he(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new he(K.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.ct=function(){return new t([])},t}(sO),$e=function(){function e(t){this.path=t}return e._t=function(t){return new e(At.ot(t))},e.ft=function(t){return new e(At.ot(t).Y(5))},e.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&At.H(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.H=function(t,n){return At.H(t.path,n.path)},e.wt=function(t){return t.length%2==0},e.Et=function(t){return new e(new At(t.slice()))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function aO(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wu=function(){function e(t){this.fields=t,t.sort(Ii.H)}return e.prototype.Tt=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(t))return!0;return!1},e.prototype.isEqual=function(t){return qu(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),S4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){if(We(!!e),typeof e=="string"){var t=0,n=S4.exec(e);if(We(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pn(e.seconds),nanos:pn(e.nanos)}}function pn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ku(e){return typeof e=="string"?xr.fromBase64String(e):xr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uO(e){var t=e.mapValue.fields.__previous_value__;return S0(t)?uO(t):t}function Zc(e){var t=ys(e.mapValue.fields.__local_write_time__.timestampValue);return new Ir(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(e){return e==null}function ip(e){return e===0&&1/e==-1/0}function lO(e){return typeof e=="number"&&Number.isInteger(e)&&!ip(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?S0(e)?4:10:Ue()}function Ki(e,t){var n=bs(e);if(n!==bs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zc(e).isEqual(Zc(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ys(r.timestampValue),a=ys(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ku(r.bytesValue).isEqual(Ku(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return pn(r.geoPointValue.latitude)===pn(i.geoPointValue.latitude)&&pn(r.geoPointValue.longitude)===pn(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pn(r.integerValue)===pn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=pn(r.doubleValue),a=pn(i.doubleValue);return s===a?ip(s)===ip(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return qu(e.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(MI(s)!==MI(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ki(s[l],a[l])))return!1;return!0}(e,t);default:return Ue()}}function ef(e,t){return(e.values||[]).find(function(n){return Ki(n,t)})!==void 0}function Yu(e,t){var n=bs(e),r=bs(t);if(n!==r)return ft(n,r);switch(n){case 0:return 0;case 1:return ft(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=pn(i.integerValue||i.doubleValue),l=pn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return FI(e.timestampValue,t.timestampValue);case 4:return FI(Zc(e),Zc(t));case 5:return ft(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Ku(i),l=Ku(s);return a._(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=ft(a[c],l[c]);if(h!==0)return h}return ft(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=ft(pn(i.latitude),pn(s.latitude));return a!==0?a:ft(pn(i.longitude),pn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=Yu(a[c],l[c]);if(h)return h}return ft(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var f=ft(l[p],h[p]);if(f!==0)return f;var m=Yu(a[l[p]],c[h[p]]);if(m!==0)return m}return ft(l.length,h.length)}(e.mapValue,t.mapValue);default:throw Ue()}}function FI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ft(e,t);var n=ys(e),r=ys(t),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function I0(e){return kb(e)}function kb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ys(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ku(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$e.ft(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=kb(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+kb(r.fields[c])}return i+"}"}(e.mapValue):Ue();var t,n}function op(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.rt()}}function Cb(e){return!!e&&"integerValue"in e}function A0(e){return!!e&&"arrayValue"in e}function UI(e){return!!e&&"nullValue"in e}function VI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function x0(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s=function(){function e(t){this.proto=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.et())return this.proto;for(var n=this.proto,r=0;r<t.length-1;++r)if(!n.mapValue.fields||!x0(n=n.mapValue.fields[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.tt()])||null},e.prototype.isEqual=function(t){return Ki(this.proto,t.proto)},e}(),Ff=function(){function e(t){t===void 0&&(t=_s.empty()),this.It=t,this.At=new Map}return e.prototype.set=function(t,n){return this.Rt(t,n),this},e.prototype.delete=function(t){return this.Rt(t,null),this},e.prototype.Rt=function(t,n){for(var r=this.At,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&bs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.tt(),n)},e.prototype.Pt=function(){var t=this.yt(Ii.ct(),this.At);return t!=null?new _s(t):this.It},e.prototype.yt=function(t,n){var r=this,i=!1,s=this.It.field(t),a=x0(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.yt(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e}();function cO(e){var t=[];return Mf(e.fields||{},function(n,r){var i=new Ii([n]);if(x0(r)){var s=cO(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new Wu(t)}var k0=function(e,t){this.key=e,this.version=t},Ft=function(e){function t(n,r,i,s){var a=this;return(a=e.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return Ce(t,e),t.prototype.field=function(n){return this.gt.field(n)},t.prototype.data=function(){return this.gt},t.prototype.bt=function(){return this.gt.proto},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(k0),On=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return Ce(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(k0),C0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(k0),I4=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function $I(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new I4(e,t,n,r,i,s,a)}function Uf(e){var t=ke(e);if(t.vt===null){var n=t.path.rt();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+I0(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),Va(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ap(t.startAt)),t.endAt&&(n+="|ub:",n+=ap(t.endAt)),t.vt=n}return t.vt}function nm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!L4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Ki(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!BI(e.startAt,t.startAt)&&BI(e.endAt,t.endAt)}function sp(e){return $e.wt(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Vr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return Ce(t,e),t.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new A4(n,r,i):r==="array-contains"?new C4(n,i):r==="in"?new N4(n,i):r==="not-in"?new O4(n,i):r==="array-contains-any"?new P4(n,i):new t(n,r,i)},t.St=function(n,r,i){return r==="in"?new x4(n,i):new k4(n,i)},t.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(Yu(r,this.value)):r!==null&&bs(this.value)===bs(r)&&this.Dt(Yu(r,this.value))},t.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Ue()}},t.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),A4=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=$e.ft(i.referenceValue),s}return Ce(t,e),t.prototype.matches=function(n){var r=$e.H(n.key,this.key);return this.Dt(r)},t}(Vr),x4=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=fO("in",r),i}return Ce(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Vr),k4=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=fO("not-in",r),i}return Ce(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Vr);function fO(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return $e.ft(r.referenceValue)})}var C4=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return A0(r)&&ef(r.arrayValue,this.value)},t}(Vr),N4=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&ef(this.value.arrayValue,r)},t}(Vr),O4=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ce(t,e),t.prototype.matches=function(n){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!ef(this.value.arrayValue,r)},t}(Vr),P4=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ce(t,e),t.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!A0(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return ef(r.value.arrayValue,s)})},t}(Vr),tf=function(e,t){this.position=e,this.before=t};function ap(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return I0(t)}).join(",")}var Uu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function L4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function jI(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.ut()?$e.H($e.ft(a.referenceValue),n.key):Yu(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function BI(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.Nt=null,this.$t=null,this.startAt,this.endAt};function hO(e,t,n,r,i,s,a,l){return new To(e,t,n,r,i,s,a,l)}function Vf(e){return new To(e)}function Id(e){return!Va(e.limit)&&e.limitType==="F"}function up(e){return!Va(e.limit)&&e.limitType==="L"}function N0(e){return e.xt.length>0?e.xt[0].field:null}function O0(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.Ct())return r.field}return null}function P0(e){return e.collectionGroup!==null}function Xu(e){var t=ke(e);if(t.Nt===null){t.Nt=[];var n=O0(t),r=N0(t);if(n!==null&&r===null)n.ut()||t.Nt.push(new Uu(n)),t.Nt.push(new Uu(Ii.ht(),"asc"));else{for(var i=!1,s=0,a=t.xt;s<a.length;s++){var l=a[s];t.Nt.push(l),l.field.ut()&&(i=!0)}if(!i){var c=t.xt.length>0?t.xt[t.xt.length-1].dir:"asc";t.Nt.push(new Uu(Ii.ht(),c))}}}return t.Nt}function Yi(e){var t=ke(e);if(!t.$t)if(t.limitType==="F")t.$t=$I(t.path,t.collectionGroup,Xu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Xu(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Uu(s.field,a))}var l=t.endAt?new tf(t.endAt.position,!t.endAt.before):null,c=t.startAt?new tf(t.startAt.position,!t.startAt.before):null;t.$t=$I(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.$t}function dO(e,t,n){return new To(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $f(e,t){return nm(Yi(e),Yi(t))&&e.limitType===t.limitType}function pO(e){return Uf(Yi(e))+"|lt:"+e.limitType}function Nb(e){return"Query(target="+function(t){var n=t.path.rt();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+I0(i.value);var i}).join(", ")+"]"),Va(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ap(t.startAt)),t.endAt&&(n+=", endAt: "+ap(t.endAt)),"Target("+n+")"}(Yi(e))+"; limitType="+e.limitType+")"}function jf(e,t){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):$e.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(e,t)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!jI(n.startAt,Xu(n),r))&&(!n.endAt||!jI(n.endAt,Xu(n),r))}(e,t)}function mO(e){return function(t,n){for(var r=!1,i=0,s=Xu(e);i<s.length;i++){var a=s[i],l=R4(a,t,n);if(l!==0)return l;r=r||a.field.ut()}return 0}}function R4(e,t,n){var r=e.field.ut()?$e.H(t.key,n.key):function(i,s,a){var l=s.field(i),c=a.field(i);return l!==null&&c!==null?Yu(l,c):Ue()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=ut.min()),a===void 0&&(a=ut.min()),l===void 0&&(l=xr.T),this.target=t,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.kt=function(t){return new e(this.target,this.targetId,this.Ft,t,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Mt=function(t,n){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Lt=function(t){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,t,this.resumeToken)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e,t){if(e.Bt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(t)?"-0":t}}function vO(e){return{integerValue:""+e}}function yO(e,t){return lO(t)?vO(t):gO(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var im=function(){this.qt=void 0};function D4(e,t,n){return e instanceof Ju?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Na?_O(e,t):e instanceof Oa?wO(e,t):function(r,i){var s=bO(r,i),a=HI(s)+HI(r.Ut);return Cb(s)&&Cb(r.Ut)?vO(a):gO(r.Qt,a)}(e,t)}function M4(e,t,n){return e instanceof Na?_O(e,t):e instanceof Oa?wO(e,t):n}function bO(e,t){return e instanceof Qu?Cb(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Ju=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t}(im),Na=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(im);function _O(e,t){for(var n=EO(t),r=function(a){n.some(function(l){return Ki(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Oa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ce(t,e),t}(im);function wO(e,t){for(var n=EO(t),r=function(a){n=n.filter(function(l){return!Ki(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Qu=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qt=n,i.Ut=r,i}return Ce(t,e),t}(im);function HI(e){return pn(e.integerValue||e.doubleValue)}function EO(e){return A0(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bf=function(e,t){this.field=e,this.transform=t},F4=function(e,t){this.version=e,this.transformResults=t},qn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.Kt=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Ad(e,t){return e.updateTime!==void 0?t instanceof Ft&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t instanceof Ft}var om=function(){};function U4(e,t,n){return e instanceof Hf?function(r,i,s){var a=r.value;if(s.transformResults){var l=qI(r.fieldTransforms,i,s.transformResults);a=L0(r.fieldTransforms,a,l)}return new Ft(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):e instanceof ks?function(r,i,s){if(!Ad(r.jt,i))return new C0(r.key,s.version);var a=TO(r,i,s.transformResults?qI(r.fieldTransforms,i,s.transformResults):[]);return new Ft(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):function(r,i,s){return new On(r.key,s.version,{hasCommittedMutations:!0})}(e,0,n)}function Ob(e,t,n){return e instanceof Hf?function(r,i,s){if(!Ad(r.jt,i))return i;var a=r.value,l=WI(r.fieldTransforms,s,i);a=L0(r.fieldTransforms,a,l);var c=zI(i);return new Ft(r.key,c,a,{Vt:!0})}(e,t,n):e instanceof ks?function(r,i,s){if(!Ad(r.jt,i))return i;var a=zI(i),l=TO(r,i,WI(r.fieldTransforms,s,i));return new Ft(r.key,a,l,{Vt:!0})}(e,t,n):function(r,i){return Ad(r.jt,i)?new On(r.key,ut.min()):i}(e,t)}function V4(e,t){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var l=a[s],c=r instanceof Ft?r.field(l.field):void 0,h=bO(l.transform,c||null);h!=null&&(i=i==null?new Ff().set(l.field,h):i.set(l.field,h))}return i?i.Pt():null}(e.fieldTransforms,t)}function GI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.jt.isEqual(t.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qu(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof Na&&h instanceof Na||c instanceof Oa&&h instanceof Oa?qu(c.elements,h.elements,Ki):c instanceof Qu&&h instanceof Qu?Ki(c.Ut,h.Ut):c instanceof Ju&&h instanceof Ju}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.Gt.isEqual(t.Gt))}function zI(e){return e instanceof Ft?e.version:ut.min()}var Hf=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return Ce(t,e),t}(om),ks=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.Gt=i,l.jt=s,l.fieldTransforms=a,l.type=1,l}return Ce(t,e),t}(om);function TO(e,t,n){var r;return r=function(i,s){var a=new Ff(s);return i.Gt.fields.forEach(function(l){if(!l.et()){var c=i.data.field(l);c!==null?a.set(l,c):a.delete(l)}}),a.Pt()}(e,r=t instanceof Ft?t.data():_s.empty()),r=L0(e.fieldTransforms,r,n)}function qI(e,t,n){var r=[];We(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=null;t instanceof Ft&&(l=t.field(s.field)),r.push(M4(a,l,n[i]))}return r}function WI(e,t,n){for(var r=[],i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=null;n instanceof Ft&&(c=n.field(a.field)),r.push(D4(l,c,t))}return r}function L0(e,t,n){for(var r=new Ff(t),i=0;i<e.length;i++){var s=e[i];r.set(s.field,n[i])}return r.Pt()}var hn,gt,Gf=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return Ce(t,e),t}(om),R0=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return Ce(t,e),t}(om),$4=function(e){this.count=e};function SO(e){switch(e){case K.OK:return Ue();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Ue()}}function IO(e){if(e===void 0)return gn("GRPC error has no .code"),K.UNKNOWN;switch(e){case hn.OK:return K.OK;case hn.CANCELLED:return K.CANCELLED;case hn.UNKNOWN:return K.UNKNOWN;case hn.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case hn.INTERNAL:return K.INTERNAL;case hn.UNAVAILABLE:return K.UNAVAILABLE;case hn.UNAUTHENTICATED:return K.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case hn.NOT_FOUND:return K.NOT_FOUND;case hn.ALREADY_EXISTS:return K.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return K.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case hn.ABORTED:return K.ABORTED;case hn.OUT_OF_RANGE:return K.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return K.UNIMPLEMENTED;case hn.DATA_LOSS:return K.DATA_LOSS;default:return Ue()}}(gt=hn||(hn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t,n){this.H=t,this.root=n||Zo.EMPTY}return e.prototype.zt=function(t,n){return new e(this.H,this.root.zt(t,n,this.H).copy(null,null,Zo.Ht,null,null))},e.prototype.remove=function(t){return new e(this.H,this.root.remove(t,this.H).copy(null,null,Zo.Ht,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.et();){var r=this.H(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.et();){var i=this.H(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.et=function(){return this.root.et()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.Jt=function(){return this.root.Jt()},e.prototype.Yt=function(){return this.root.Yt()},e.prototype.Xt=function(t){return this.root.Xt(t)},e.prototype.forEach=function(t){this.Xt(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.Xt(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.Zt=function(t){return this.root.Zt(t)},e.prototype.te=function(){return new od(this.root,null,this.H,!1)},e.prototype.ee=function(t){return new od(this.root,t,this.H,!1)},e.prototype.ne=function(){return new od(this.root,null,this.H,!0)},e.prototype.se=function(t){return new od(this.root,t,this.H,!0)},e}(),od=function(){function e(t,n,r,i){this.ie=i,this.re=[];for(var s=1;!t.et();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.ie?t.left:t.right;else{if(s===0){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return e.prototype.oe=function(){var t=this.re.pop(),n={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return n},e.prototype.ce=function(){return this.re.length>0},e.prototype.ae=function(){if(this.re.length===0)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},e}(),Zo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.et=function(){return!1},e.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},e.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},e.prototype.min=function(){return this.left.et()?this:this.left.min()},e.prototype.Jt=function(){return this.min().key},e.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},e.prototype.zt=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(t,n,r))).ue()},e.prototype.he=function(){if(this.left.et())return e.EMPTY;var t=this;return t.left.le()||t.left.left.le()||(t=t._e()),(t=t.copy(null,null,null,t.left.he(),null)).ue()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(t,i.key)===0){if(i.right.et())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.ue()},e.prototype.le=function(){return this.color},e.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},e.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},e.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},e.prototype.we=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.fe=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},e.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw Ue();var t=this.left.Ie();if(t!==this.right.Ie())throw Ue();return t+(this.le()?0:1)},e}();Zo.EMPTY=null,Zo.RED=!0,Zo.Ht=!1,Zo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ue()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.zt=function(t,n,r){return new Zo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.et=function(){return!0},e.prototype.Xt=function(t){return!1},e.prototype.Zt=function(t){return!1},e.prototype.Jt=function(){return null},e.prototype.Yt=function(){return null},e.prototype.le=function(){return!1},e.prototype.Te=function(){return!0},e.prototype.Ie=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En=function(){function e(t){this.H=t,this.data=new Qn(this.H)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.Jt()},e.prototype.last=function(){return this.data.Yt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.Xt(function(n,r){return t(n),!1})},e.prototype.me=function(t,n){for(var r=this.data.ee(t[0]);r.ce();){var i=r.oe();if(this.H(i.key,t[1])>=0)return;n(i.key)}},e.prototype.Ae=function(t,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!t(r.oe().key))return},e.prototype.Re=function(t){var n=this.data.ee(t);return n.ce()?n.oe().key:null},e.prototype.te=function(){return new KI(this.data.te())},e.prototype.ee=function(t){return new KI(this.data.ee(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.et=function(){return this.data.et()},e.prototype.Pe=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.te(),r=t.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},e.prototype.it=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.H);return n.data=t,n},e}(),KI=function(){function e(t){this.ye=t}return e.prototype.oe=function(){return this.ye.oe().key},e.prototype.ce=function(){return this.ye.ce()},e}(),j4=new Qn($e.H);function ws(){return j4}function lp(){return ws()}var B4=new Qn($e.H);function nf(){return B4}var H4=new Qn($e.H);function G4(){return H4}var z4=new En($e.H);function jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=z4,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var q4=new En(ft);function sm(){return q4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AO=function(){function e(t){this.H=t?function(n,r){return t(n,r)||$e.H(n.key,r.key)}:function(n,r){return $e.H(n.key,r.key)},this.ge=nf(),this.Ve=new Qn(this.H)}return e.pe=function(t){return new e(t.H)},e.prototype.has=function(t){return this.ge.get(t)!=null},e.prototype.get=function(t){return this.ge.get(t)},e.prototype.first=function(){return this.Ve.Jt()},e.prototype.last=function(){return this.Ve.Yt()},e.prototype.et=function(){return this.Ve.et()},e.prototype.indexOf=function(t){var n=this.ge.get(t);return n?this.Ve.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.Ve.Xt(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.ge.zt(t.key,t),n.Ve.zt(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.ge.remove(t),this.Ve.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.Ve.te(),r=t.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.H=this.H,r.ge=t,r.Ve=n,r},e}(),YI=function(){function e(){this.be=new Qn($e.H)}return e.prototype.track=function(t){var n=t.doc.key,r=this.be.get(n);r?t.type!==0&&r.type===3?this.be=this.be.zt(n,t):t.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.be=this.be.remove(n):t.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:t.doc}):Ue():this.be=this.be.zt(n,t)},e.prototype.ve=function(){var t=[];return this.be.Xt(function(n,r){t.push(r)}),t},e}(),cp=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=l,this.xe=c}return e.Ne=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,AO.pe(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&$f(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),D0=function(){function e(t,n,r,i,s){this.Ot=t,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return e.Me=function(t,n){var r=new Map;return r.set(t,M0.Le(t,n)),new e(ut.min(),r,sm(),ws(),jt())},e}(),M0=function(){function e(t,n,r,i,s){this.resumeToken=t,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return e.Le=function(t,n){return new e(xr.T,n,jt(),jt(),jt())},e}(),xd=function(e,t,n,r){this.Ke=e,this.removedTargetIds=t,this.key=n,this.We=r},xO=function(e,t){this.targetId=e,this.je=t},kO=function(e,t,n,r){n===void 0&&(n=xr.T),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},XI=function(){function e(){this.Ge=0,this.ze=QI(),this.He=xr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(e.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),e.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},e.prototype.en=function(){var t=jt(),n=jt(),r=jt();return this.ze.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new M0(this.He,this.Je,t,n,r)},e.prototype.nn=function(){this.Ye=!1,this.ze=QI()},e.prototype.sn=function(t,n){this.Ye=!0,this.ze=this.ze.zt(t,n)},e.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},e.prototype.on=function(){this.Ge+=1},e.prototype.cn=function(){this.Ge-=1},e.prototype.an=function(){this.Ye=!0,this.Je=!0},e}(),W4=function(){function e(t){this.un=t,this.hn=new Map,this.ln=ws(),this._n=JI(),this.fn=new En(ft)}return e.prototype.dn=function(t){for(var n=0,r=t.Ke;n<r.length;n++){var i=r[n];t.We instanceof Ft?this.wn(i,t.We):t.We instanceof On&&this.En(i,t.key,t.We)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,t.key,t.We)},e.prototype.Tn=function(t){var n=this;this.In(t,function(r){var i=n.mn(r);switch(t.state){case 0:n.An(r)&&i.tn(t.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(t.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(t.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(t.resumeToken));break;default:Ue()}})},e.prototype.In=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},e.prototype.Pn=function(t){var n=t.targetId,r=t.je.count,i=this.yn(n);if(i){var s=i.target;if(sp(s))if(r===0){var a=new $e(s.path);this.En(n,a,new On(a,ut.min()))}else We(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},e.prototype.Vn=function(t){var n=this,r=new Map;this.hn.forEach(function(a,l){var c=n.yn(l);if(c){if(a.Be&&sp(c.target)){var h=new $e(c.target.path);n.ln.get(h)!==null||n.pn(l,h)||n.En(l,h,new On(h,t))}a.Ze&&(r.set(l,a.en()),a.nn())}});var i=jt();this._n.forEach(function(a,l){var c=!0;l.Ae(function(h){var p=n.yn(h);return!p||p.Ft===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new D0(t,r,this.fn,this.ln,i);return this.ln=ws(),this._n=JI(),this.fn=new En(ft),s},e.prototype.wn=function(t,n){if(this.An(t)){var r=this.pn(t,n.key)?2:0;this.mn(t).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(t))}},e.prototype.En=function(t,n,r){if(this.An(t)){var i=this.mn(t);this.pn(t,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(t)),r&&(this.ln=this.ln.zt(n,r))}},e.prototype.removeTarget=function(t){this.hn.delete(t)},e.prototype.gn=function(t){var n=this.mn(t).en();return this.un.vn(t).size+n.qe.size-n.Qe.size},e.prototype.on=function(t){this.mn(t).on()},e.prototype.mn=function(t){var n=this.hn.get(t);return n||(n=new XI,this.hn.set(t,n)),n},e.prototype.bn=function(t){var n=this._n.get(t);return n||(n=new En(ft),this._n=this._n.zt(t,n)),n},e.prototype.An=function(t){var n=this.yn(t)!==null;return n||be("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.yn=function(t){var n=this.hn.get(t);return n&&n.Xe?null:this.un.Sn(t)},e.prototype.Rn=function(t){var n=this;this.hn.set(t,new XI),this.un.vn(t).forEach(function(r){n.En(t,r,null)})},e.prototype.pn=function(t,n){return this.un.vn(t).has(n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return new Qn($e.H)}function QI(){return new Qn($e.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K4={asc:"ASCENDING",desc:"DESCENDING"},Y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X4=function(e,t){this.t=e,this.Bt=t};function rf(e,t){return e.Bt?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function CO(e,t){return e.Bt?t.toBase64():t.toUint8Array()}function J4(e,t){return rf(e,t.j())}function fr(e){return We(!!e),ut.K(function(t){var n=ys(t);return new Ir(n.seconds,n.nanos)}(e))}function F0(e,t){return function(n){return new At(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).rt()}function NO(e){var t=At.ot(e);return We(FO(t)),t}function of(e,t){return F0(e.t,t.path)}function mo(e,t){var n=NO(t);if(n.get(1)!==e.t.projectId)throw new he(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new he(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new $e(PO(n))}function Pb(e,t){return F0(e.t,t)}function OO(e){var t=NO(e);return t.length===4?At.ct():PO(t)}function sf(e){return new At(["projects",e.t.projectId,"databases",e.t.database]).rt()}function PO(e){return We(e.length>4&&e.get(4)==="documents"),e.Y(5)}function ZI(e,t,n){return{name:of(e,t),fields:n.proto.mapValue.fields}}function Q4(e,t,n){var r=mo(e,t.name),i=fr(t.updateTime),s=new _s({mapValue:{fields:t.fields}});return new Ft(r,i,s,{hasCommittedMutations:!!n})}function fp(e,t){var n;if(t instanceof Hf)n={update:ZI(e,t.key,t.value)};else if(t instanceof Gf)n={delete:of(e,t.key)};else if(t instanceof ks)n={update:ZI(e,t.key,t.data),updateMask:rG(t.Gt)};else{if(!(t instanceof R0))return Ue();n={verify:of(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Ju)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof Oa)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof Qu)return{fieldPath:s.field.rt(),increment:a.Ut};throw Ue()}(0,r)})),t.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:J4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ue()}(e,t.jt)),n}function eA(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?qn.updateTime(fr(h.updateTime)):h.exists!==void 0?qn.exists(h.exists):qn.Kt()}(t.currentDocument):qn.Kt(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,f){var m=null;if("setToServerValue"in f)We(f.setToServerValue==="REQUEST_TIME"),m=new Ju;else if("appendMissingElements"in f){var v=f.appendMissingElements.values||[];m=new Na(v)}else if("removeAllFromArray"in f){var y=f.removeAllFromArray.values||[];m=new Oa(y)}else"increment"in f?m=new Qu(p,f.increment):Ue();var _=Ii.lt(f.fieldPath);return new Bf(_,m)}(e,h)}):[];if(t.update){t.update.name;var i=mo(e,t.update.name),s=new _s({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new Wu(p.map(function(f){return Ii.lt(f)}))}(t.updateMask);return new ks(i,s,a,n,r)}return new Hf(i,s,n,r)}if(t.delete){var l=mo(e,t.delete);return new Gf(l,n)}if(t.verify){var c=mo(e,t.verify);return new R0(c,n)}return Ue()}function LO(e,t){return{documents:[Pb(e,t.path)]}}function RO(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Pb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pb(e,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(VI(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NAN"}};if(UI(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(VI(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NOT_NAN"}};if(UI(p.value))return{unaryFilter:{field:yu(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(p.field),op:eG(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:yu(h.field),direction:Z4(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.Bt||Va(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=tA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tA(t.endAt)),n}function DO(e){var t=OO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){We(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=MO(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(f){return function(m){return new Uu(Cu(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f)}));var c=null;n.limit&&(c=function(f){var m;return Va(m=typeof f=="object"?f.value:f)?null:m}(n.limit));var h=null;n.startAt&&(h=nA(n.startAt));var p=null;return n.endAt&&(p=nA(n.endAt)),hO(t,i,l,a,c,"F",h,p)}function MO(e){return e?e.unaryFilter!==void 0?[nG(e)]:e.fieldFilter!==void 0?[tG(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return MO(t)}).reduce(function(t,n){return t.concat(n)}):Ue():[]}function tA(e){return{before:e.before,values:e.position}}function nA(e){var t=!!e.before,n=e.values||[];return new tf(n,t)}function Z4(e){return K4[e]}function eG(e){return Y4[e]}function yu(e){return{fieldPath:e.rt()}}function Cu(e){return Ii.lt(e.fieldPath)}function tG(e){return Vr.create(Cu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ue()}}(e.fieldFilter.op),e.fieldFilter.value)}function nG(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Cu(e.unaryFilter.field);return Vr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Cu(e.unaryFilter.field);return Vr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cu(e.unaryFilter.field);return Vr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cu(e.unaryFilter.field);return Vr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ue()}}function rG(e){var t=[];return e.fields.forEach(function(n){return t.push(n.rt())}),{fieldPaths:t}}function FO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},de=function(){function e(t){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.Nn&&Ue(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(t,this.result):new e(function(i,s){r.Dn=function(a){r.Fn(t,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},e.prototype.On=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.kn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.Fn=function(t,n){return t?this.kn(function(){return t(n)}):e.resolve(n)},e.prototype.$n=function(t,n){return t?this.kn(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.Mn=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.Ln=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},e}(),UO=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.Bn=new Kr,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new Nc(t,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=U0(i.target.error);r.Bn.reject(new Nc(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Nc(n,s)}},Object.defineProperty(e.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new oG(n)},e}(),Zu=function(){function e(t,n,r){this.name=t,this.version=n,this.Un=r,e.Qn(Aa())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return be("SimpleDb","Removing database:",t),ha(window.indexedDB.deleteDatabase(t)).On()},e.Kn=function(){if(typeof indexedDB>"u")return!1;if(e.Wn())return!0;var t=Aa(),n=e.Qn(t),r=0<n&&n<10,i=e.jn(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Wn=function(){var t;return typeof process<"u"&&((t=g4)===null||t===void 0?void 0:t.Gn)==="YES"},e.zn=function(t,n){return t.store(n)},e.Qn=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.jn=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.Hn=function(t){return ce(this,void 0,void 0,function(){var n,r=this;return ue(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(be("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Nc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new he(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Nc(t,h))},l.onupgradeneeded=function(c){be("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.Un.Jn(h,l.transaction,c.oldVersion,r.version).next(function(){be("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},e.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return ce(this,void 0,void 0,function(){var s,a,l,c,h;return ue(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var f,m,v,y,_;return ue(this,function(w){switch(w.label){case 0:++a,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,c.Hn(t)];case 2:return c.db=w.sent(),f=UO.open(c.db,t,s?"readonly":"readwrite",r),m=i(f).catch(function(E){return f.abort(E),de.reject(E)}).On(),v={},m.catch(function(){}),[4,f.qn];case 3:return[2,(v.value=(w.sent(),m),v)];case 4:return y=w.sent(),_=y.name!=="FirebaseError"&&a<3,be("SimpleDb","Transaction failed with error:",y.message,"Retrying:",_),c.close(),_?[3,5]:[2,{value:Promise.reject(y)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),iG=function(){function e(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(e.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.ts=!0},e.prototype.ss=function(t){this.es=t},e.prototype.delete=function(){return ha(this.Zn.delete())},e}(),Nc=function(e){function t(n,r){var i=this;return(i=e.call(this,K.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Ce(t,e),t}(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e){return e.name==="IndexedDbTransactionError"}var oG=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(be("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ha(r)},e.prototype.add=function(t){return be("SimpleDb","ADD",this.store.name,t,t),ha(this.store.add(t))},e.prototype.get=function(t){var n=this;return ha(this.store.get(t)).next(function(r){return r===void 0&&(r=null),be("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return be("SimpleDb","DELETE",this.store.name,t),ha(this.store.delete(t))},e.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),ha(this.store.count())},e.prototype.rs=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.cs=function(t,n){be("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,l){return l.delete()})},e.prototype.hs=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.os(i,n)},e.prototype.ls=function(t){var n=this.cursor({});return new de(function(r,i){n.onerror=function(s){var a=U0(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.os=function(t,n){var r=[];return new de(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new iG(l),h=n(l.primaryKey,l.value,c);if(h instanceof de){var p=h.catch(function(f){return c.done(),de.reject(f)});r.push(p)}c.xn?i():c.ns===null?l.continue():l.continue(c.ns)}else i()}}).next(function(){return de.Mn(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.us?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ha(e){return new de(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=U0(r.target.error);n(i)}})}var rA=!1;function U0(e){var t=Zu.Qn(Aa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new he("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rA||(rA=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sG=function(){function e(t,n,r,i,s){this._s=t,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new Kr,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return e.Ts=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.Is=setTimeout(function(){return n.As()},t)},e.prototype.Rs=function(){return this.As()},e.prototype.cancel=function(t){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new he(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.As=function(){var t=this;this._s.Ps(function(){return t.Is!==null?(t.clearTimeout(),t.op().then(function(n){return t.Es.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},e}();function bl(e,t){if(gn("AsyncQueue",t+": "+e),$a(e))return new he(K.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$O=function(){function e(){this.ys=[]}return e.prototype.gs=function(t){this.ys.push(t)},e.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=iA(t)),t=aG(e.get(n),t);return iA(t)}function aG(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function iA(e){return e+""}function fo(e){var t=e.length;if(We(t>=2),t===2)return We(e.charAt(0)===""&&e.charAt(1)===""),At.ct();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&Ue(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:Ue()}s=a+2}return new At(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uG=function(e,t){this.seconds=e,this.nanoseconds=t},Rr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Rr.store="owner",Rr.key="owner";var fs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};fs.store="mutationQueues",fs.keyPath="userId";var Bt=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bt.store="mutations",Bt.keyPath="batchId",Bt.userMutationsIndex="userMutationsIndex",Bt.userMutationsKeyPath=["userId","batchId"];var jn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Si(n)]},e.key=function(t,n,r){return[t,Si(n),r]},e}();jn.store="documentMutations",jn.PLACEHOLDER=new jn;var lG=function(e,t){this.path=e,this.readTime=t},cG=function(e,t){this.path=e,this.version=t},nn=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};nn.store="remoteDocuments",nn.readTimeIndex="readTimeIndex",nn.readTimeIndexPath="readTime",nn.collectionReadTimeIndex="collectionReadTimeIndex",nn.collectionReadTimeIndexPath=["parentPath","readTime"];var $i=function(e){this.byteSize=e};$i.store="remoteDocumentGlobal",$i.key="remoteDocumentGlobalKey";var Sr=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Sr.store="targets",Sr.keyPath="targetId",Sr.queryTargetsIndexName="queryTargetsIndex",Sr.queryTargetsKeyPath=["canonicalId","targetId"];var Dn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Dn.store="targetDocuments",Dn.keyPath=["targetId","path"],Dn.documentTargetsIndex="documentTargetsIndex",Dn.documentTargetsKeyPath=["path","targetId"];var Fr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Fr.key="targetGlobalKey",Fr.store="targetGlobal";var _a=function(e,t){this.collectionId=e,this.parent=t};_a.store="collectionParents",_a.keyPath=["collectionId","parent"];var go=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};go.store="clientMetadata",go.keyPath="clientId";var el=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};el.store="bundles",el.keyPath="bundleId";var tl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};tl.store="namedQueries",tl.keyPath="name";var fG=zn(zn(zn(zn([fs.store,Bt.store,jn.store,nn.store,Sr.store,Rr.store,Fr.store,Dn.store],[go.store]),[$i.store]),[_a.store]),[el.store,tl.store]),oA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ps=n,i.bs=r,i}return Ce(t,e),t}($O);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(e,t){var n=ke(e);return Zu.zn(n.ps,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V0=function(){function e(t,n,r,i){this.batchId=t,this.vs=n,this.baseMutations=r,this.mutations=i}return e.prototype.Ss=function(t,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(t)&&(n=U4(a,n,i[s]))}return n},e.prototype.Cs=function(t,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(l=i[r]).key.isEqual(t)&&(n=Ob(l,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var l;(l=a[s]).key.isEqual(t)&&(n=Ob(l,n,this.vs))}return n},e.prototype.xs=function(t){var n=this,r=t;return this.mutations.forEach(function(i){var s=n.Cs(i.key,t.get(i.key));s&&(r=r.zt(i.key,s))}),r},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},jt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&qu(this.mutations,t.mutations,function(n,r){return GI(n,r)})&&qu(this.baseMutations,t.baseMutations,function(n,r){return GI(n,r)})},e}(),hG=function(){function e(t,n,r,i){this.batch=t,this.Ns=n,this.Ds=r,this.$s=i}return e.from=function(t,n,r){We(t.mutations.length===r.length);for(var i=G4(),s=t.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),jO=function(e){this.Fs=e};function Lb(e,t){if(t.document)return Q4(e.Fs,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=$e.Et(t.noDocument.path),r=rl(t.noDocument.readTime);return new On(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=$e.Et(t.unknownDocument.path);return r=rl(t.unknownDocument.version),new C0(i,r)}return Ue()}function sA(e,t,n){var r=$0(n),i=t.key.path.X().it();if(t instanceof Ft){var s=function(f,m){return{name:of(f,m.key),fields:m.bt().mapValue.fields,updateTime:rf(f,m.version.j())}}(e.Fs,t),a=t.hasCommittedMutations;return new nn(null,null,s,a,r,i)}if(t instanceof On){var l=t.key.path.it(),c=nl(t.version);return a=t.hasCommittedMutations,new nn(null,new lG(l,c),null,a,r,i)}if(t instanceof C0){var h=t.key.path.it(),p=nl(t.version);return new nn(new cG(h,p),null,null,!0,r,i)}return Ue()}function $0(e){var t=e.j();return[t.seconds,t.nanoseconds]}function BO(e){var t=new Ir(e[0],e[1]);return ut.K(t)}function nl(e){var t=e.j();return new uG(t.seconds,t.nanoseconds)}function rl(e){var t=new Ir(e.seconds,e.nanoseconds);return ut.K(t)}function Su(e,t){for(var n=(t.baseMutations||[]).map(function(c){return eA(e.Fs,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return eA(e.Fs,c)}),l=Ir.fromMillis(t.localWriteTimeMs);return new V0(t.batchId,l,n,a)}function Sc(e){var t,n,r=rl(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?rl(e.lastLimboFreeSnapshotVersion):ut.min();return e.query.documents!==void 0?(We((n=e.query).documents.length===1),t=Yi(Vf(OO(n.documents[0])))):t=function(s){return Yi(DO(s))}(e.query),new rm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,xr.fromBase64String(e.resumeToken))}function HO(e,t){var n,r=nl(t.Ot),i=nl(t.lastLimboFreeSnapshotVersion);n=sp(t.target)?LO(e.Fs,t.target):RO(e.Fs,t.target);var s=t.resumeToken.toBase64();return new Sr(t.targetId,Uf(t.target),r,s,t.sequenceNumber,i,n)}function GO(e){var t=DO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?dO(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dG=function(){function e(){}return e.prototype.Os=function(t,n){return aA(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:rl(i.createTime),version:i.version};var i})},e.prototype.ks=function(t,n){return aA(t).put({bundleId:(r=n).id,createTime:nl(fr(r.createTime)),version:r.version});var r},e.prototype.Ms=function(t,n){return uA(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:GO(i.bundledQuery),readTime:rl(i.readTime)};var i})},e.prototype.Ls=function(t,n){return uA(t).put(function(r){return{name:r.name,readTime:nl(fr(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function aA(e){return kr(e,el.store)}function uA(e){return kr(e,tl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pG=function(){function e(){this.Bs=new j0}return e.prototype.qs=function(t,n){return this.Bs.add(n),de.resolve()},e.prototype.Us=function(t,n){return de.resolve(this.Bs.getEntries(n))},e}(),j0=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.tt(),r=t.X(),i=this.index[n]||new En(At.H),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.tt(),r=t.X(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new En(At.H)).it()},e}(),mG=function(){function e(){this.Qs=new j0}return e.prototype.qs=function(t,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();t.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:Si(s)};return lA(t).put(a)}return de.resolve()},e.prototype.Us=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[oO(n),""],!1,!0);return lA(t).rs(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(fo(c.parent))}return r})},e}();function lA(e){return kr(e,_a.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cA={Ks:!1,Ws:0,js:0,Gs:0},Fi=function(){function e(t,n,r){this.zs=t,this.Hs=n,this.Js=r}return e.Ys=function(t){return new e(t,e.Xs,e.Zs)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){if(e.code!==K.FAILED_PRECONDITION||e.message!==VO)throw e;return be("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi.Xs=10,Fi.Zs=1e3,Fi.ti=new Fi(41943040,Fi.Xs,Fi.Zs),Fi.ei=new Fi(-1,0,0);var _l=function(){function e(t,n){this.ni=t,this.si=n,this.ii={}}return e.prototype.get=function(t){var n=this.ni(t),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.si(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.ni(t),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.ii[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.ni(t),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Mf(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.et=function(){return aO(this.ii)},e}(),zO=function(){function e(){this.ri=new _l(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.oi=!1}return e.prototype.ci=function(t){var n=this.ri.get(t);return n?n.readTime:ut.min()},e.prototype.ai=function(t,n){this.ui(),this.ri.set(t.key,{hi:t,readTime:n})},e.prototype.li=function(t,n){n===void 0&&(n=null),this.ui(),this.ri.set(t,{hi:null,readTime:n})},e.prototype._i=function(t,n){this.ui();var r=this.ri.get(n);return r!==void 0?de.resolve(r.hi):this.fi(t,n)},e.prototype.getEntries=function(t,n){return this.di(t,n)},e.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},e.prototype.ui=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e,t,n){var r=e.store(Bt.store),i=e.store(jn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.hs({range:a},function(y,_,w){return l++,w.delete()});s.push(c.next(function(){We(l===1)}));for(var h=[],p=0,f=n.mutations;p<f.length;p++){var m=f[p],v=jn.key(t,m.key.path,n.batchId);s.push(i.delete(v)),h.push(m.key)}return de.Mn(s).next(function(){return h})}function hp(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ue();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gG=function(){function e(t,n,r,i){this.userId=t,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return e.mi=function(t,n,r,i){return We(t.uid!==""),new e(t.m()?t.uid:"",n,r,i)},e.prototype.Ai=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).hs({index:Bt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.Ri=function(t,n,r,i){var s=this,a=Iu(t),l=Vo(t);return l.add({}).next(function(c){We(typeof c=="number");for(var h=new V0(c,n,r,i),p=function(E,k,I){var C=I.baseMutations.map(function(A){return fp(E.Fs,A)}),M=I.mutations.map(function(A){return fp(E.Fs,A)});return new Bt(k,I.batchId,I.vs.toMillis(),C,M)}(s.Qt,s.userId,h),f=[],m=new En(function(E,k){return ft(E.rt(),k.rt())}),v=0,y=i;v<y.length;v++){var _=y[v],w=jn.key(s.userId,_.key.path,c);m=m.add(_.key.path.X()),f.push(l.put(p)),f.push(a.put(w,jn.PLACEHOLDER))}return m.forEach(function(E){f.push(s.Ei.qs(t,E))}),t.gs(function(){s.Ii[c]=h.keys()}),de.Mn(f).next(function(){return h})})},e.prototype.Pi=function(t,n){var r=this;return Vo(t).get(n).next(function(i){return i?(We(i.userId===r.userId),Su(r.Qt,i)):null})},e.prototype.yi=function(t,n){var r=this;return this.Ii[n]?de.resolve(this.Ii[n]):this.Pi(t,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},e.prototype.gi=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Vo(t).hs({index:Bt.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(We(c.batchId>=i),a=Su(r.Qt,c)),h.done()}).next(function(){return a})},e.prototype.Vi=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Vo(t).hs({index:Bt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.pi=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).rs(Bt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Su(n.Qt,s)})})},e.prototype.bi=function(t,n){var r=this,i=jn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Iu(t).hs({range:s},function(l,c,h){var p=l[0],f=l[1],m=l[2],v=fo(f);if(p===r.userId&&n.path.isEqual(v))return Vo(t).get(m).next(function(y){if(!y)throw Ue();We(y.userId===r.userId),a.push(Su(r.Qt,y))});h.done()}).next(function(){return a})},e.prototype.vi=function(t,n){var r=this,i=new En(ft),s=[];return n.forEach(function(a){var l=jn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Iu(t).hs({range:c},function(p,f,m){var v=p[0],y=p[1],_=p[2],w=fo(y);v===r.userId&&a.path.isEqual(w)?i=i.add(_):m.done()});s.push(h)}),de.Mn(s).next(function(){return r.Si(t,i)})},e.prototype.Di=function(t,n){var r=this,i=n.path,s=i.length+1,a=jn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new En(ft);return Iu(t).hs({range:l},function(h,p,f){var m=h[0],v=h[1],y=h[2],_=fo(v);m===r.userId&&i.nt(_)?_.length===s&&(c=c.add(y)):f.done()}).next(function(){return r.Si(t,c)})},e.prototype.Si=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Vo(t).get(a).next(function(l){if(l===null)throw Ue();We(l.userId===r.userId),i.push(Su(r.Qt,l))}))}),de.Mn(s).next(function(){return i})},e.prototype.Ci=function(t,n){var r=this;return qO(t.ps,this.userId,n).next(function(i){return t.gs(function(){r.xi(n.batchId)}),de.forEach(i,function(s){return r.Ti.Ni(t,s)})})},e.prototype.xi=function(t){delete this.Ii[t]},e.prototype.$i=function(t){var n=this;return this.Ai(t).next(function(r){if(!r)return de.resolve();var i=IDBKeyRange.lowerBound(jn.prefixForUser(n.userId)),s=[];return Iu(t).hs({range:i},function(a,l,c){if(a[0]===n.userId){var h=fo(a[1]);s.push(h)}else c.done()}).next(function(){We(s.length===0)})})},e.prototype.Fi=function(t,n){return WO(t,this.userId,n)},e.prototype.Oi=function(t){var n=this;return KO(t).get(this.userId).next(function(r){return r||new fs(n.userId,-1,"")})},e}();function WO(e,t,n){var r=jn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Iu(e).hs({range:s,us:!0},function(l,c,h){var p=l[0],f=l[1];l[2],p===t&&f===i&&(a=!0),h.done()}).next(function(){return a})}function Vo(e){return kr(e,Bt.store)}function Iu(e){return kr(e,jn.store)}function KO(e){return kr(e,fs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dp=function(){function e(t){this.ki=t}return e.prototype.next=function(){return this.ki+=2,this.ki},e.Mi=function(){return new e(0)},e.Li=function(){return new e(-1)},e}(),vG=function(){function e(t,n){this.Ti=t,this.Qt=n}return e.prototype.Bi=function(t){var n=this;return this.qi(t).next(function(r){var i=new dp(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(t,r).next(function(){return r.highestTargetId})})},e.prototype.Qi=function(t){return this.qi(t).next(function(n){return ut.K(new Ir(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.Ki=function(t){return this.qi(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.Wi=function(t,n,r){var i=this;return this.qi(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(t,s)})},e.prototype.ji=function(t,n){var r=this;return this.Gi(t,n).next(function(){return r.qi(t).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(t,i)})})},e.prototype.Hi=function(t,n){return this.Gi(t,n)},e.prototype.Ji=function(t,n){var r=this;return this.Yi(t,n.targetId).next(function(){return bu(t).delete(n.targetId)}).next(function(){return r.qi(t)}).next(function(i){return We(i.targetCount>0),i.targetCount-=1,r.Ui(t,i)})},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return bu(t).hs(function(l,c){var h=Sc(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(t,h)))}).next(function(){return de.Mn(a)}).next(function(){return s})},e.prototype.In=function(t,n){return bu(t).hs(function(r,i){var s=Sc(i);n(s)})},e.prototype.qi=function(t){return fA(t).get(Fr.key).next(function(n){return We(n!==null),n})},e.prototype.Ui=function(t,n){return fA(t).put(Fr.key,n)},e.prototype.Gi=function(t,n){return bu(t).put(HO(this.Qt,n))},e.prototype.zi=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.Zi=function(t){return this.qi(t).next(function(n){return n.targetCount})},e.prototype.tr=function(t,n){var r=Uf(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return bu(t).hs({range:i,index:Sr.queryTargetsIndexName},function(a,l,c){var h=Sc(l);nm(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.er=function(t,n,r){var i=this,s=[],a=es(t);return n.forEach(function(l){var c=Si(l.path);s.push(a.put(new Dn(r,c))),s.push(i.Ti.nr(t,r,l))}),de.Mn(s)},e.prototype.sr=function(t,n,r){var i=this,s=es(t);return de.forEach(n,function(a){var l=Si(a.path);return de.Mn([s.delete([r,l]),i.Ti.ir(t,r,a)])})},e.prototype.Yi=function(t,n){var r=es(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.rr=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=es(t),s=jt();return i.hs({range:r,us:!0},function(a,l,c){var h=fo(a[1]),p=new $e(h);s=s.add(p)}).next(function(){return s})},e.prototype.Fi=function(t,n){var r=Si(n.path),i=IDBKeyRange.bound([r],[oO(r)],!1,!0),s=0;return es(t).hs({index:Dn.documentTargetsIndex,us:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.Sn=function(t,n){return bu(t).get(n).next(function(r){return r?Sc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(e){return kr(e,Sr.store)}function fA(e){return kr(e,Fr.store)}function es(e){return kr(e,Dn.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=ft(n,i);return a===0?ft(r,s):a}var yG=function(){function e(t){this.cr=t,this.buffer=new En(hA),this.ar=0}return e.prototype.ur=function(){return++this.ar},e.prototype.hr=function(t){var n=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();hA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),bG=function(){function e(t,n){this.lr=t,this._s=n,this._r=!1,this.dr=null}return e.prototype.start=function(t){this.lr.params.zs!==-1&&this.wr(t)},e.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(e.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),e.prototype.wr=function(t){var n=this,r=this._r?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return ce(n,void 0,void 0,function(){var i;return ue(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return $a(i=s.sent())?(be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,ja(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return s.sent(),[2]}})})})},e}(),_G=function(){function e(t,n){this.mr=t,this.params=n}return e.prototype.Ar=function(t,n){return this.mr.Rr(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.Pr=function(t,n){var r=this;if(n===0)return de.resolve(Ur.q);var i=new yG(n);return this.mr.In(t,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(t,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},e.prototype.Xi=function(t,n,r){return this.mr.Xi(t,n,r)},e.prototype.gr=function(t,n){return this.mr.gr(t,n)},e.prototype.Vr=function(t,n){var r=this;return this.params.zs===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(cA)):this.pr(t).next(function(i){return i<r.params.zs?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),cA):r.br(t,n)})},e.prototype.pr=function(t){return this.mr.pr(t)},e.prototype.br=function(t,n){var r,i,s,a,l,c,h,p=this,f=Date.now();return this.Ar(t,this.params.Hs).next(function(m){return m>p.params.Js?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.Js+" from "+m),i=p.params.Js):i=m,a=Date.now(),p.Pr(t,i)}).next(function(m){return r=m,l=Date.now(),p.Xi(t,r,n)}).next(function(m){return s=m,c=Date.now(),p.gr(t,r)}).next(function(m){return h=Date.now(),Ab()<=St.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-f)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-f)+"ms"),de.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},e}(),wG=function(){function e(t,n){this.db=t,this.lr=function(r,i){return new _G(r,i)}(this,n)}return e.prototype.Rr=function(t){var n=this.vr(t);return this.db.Sr().Zi(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.vr=function(t){var n=0;return this.yr(t,function(r){n++}).next(function(){return n})},e.prototype.In=function(t,n){return this.db.Sr().In(t,n)},e.prototype.yr=function(t,n){return this.Dr(t,function(r,i){return n(i)})},e.prototype.nr=function(t,n,r){return sd(t,r)},e.prototype.ir=function(t,n,r){return sd(t,r)},e.prototype.Xi=function(t,n,r){return this.db.Sr().Xi(t,n,r)},e.prototype.Ni=function(t,n){return sd(t,n)},e.prototype.Cr=function(t,n){return function(r,i){var s=!1;return KO(r).ls(function(a){return WO(r,a,i).next(function(l){return l&&(s=!0),de.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.gr=function(t,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(t,function(l,c){if(c<=n){var h=r.Cr(t,l).next(function(p){if(!p)return a++,i._i(t,l).next(function(){return i.li(l),es(t).delete([0,Si(l.path)])})});s.push(h)}}).next(function(){return de.Mn(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.kt(t.bs);return this.db.Sr().Hi(t,r)},e.prototype.Fr=function(t,n){return sd(t,n)},e.prototype.Dr=function(t,n){var r,i=es(t),s=Ur.q;return i.hs({index:Dn.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),p=l.sequenceNumber;c===0?(s!==Ur.q&&n(new $e(fo(r)),s),s=p,r=h):s=Ur.q}).next(function(){s!==Ur.q&&n(new $e(fo(r)),s)})},e.prototype.pr=function(t){return this.db.$r().Or(t)},e}();function sd(e,t){return es(e).put(function(n,r){return new Dn(0,Si(n.path),r)}(t,e.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EG=function(){function e(t,n){this.Qt=t,this.Ei=n}return e.prototype.ai=function(t,n,r){return Xo(t).put(ad(n),r)},e.prototype.li=function(t,n){var r=Xo(t),i=ad(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.kr(t,i)})},e.prototype._i=function(t,n){var r=this;return Xo(t).get(ad(n)).next(function(i){return r.Mr(i)})},e.prototype.Lr=function(t,n){var r=this;return Xo(t).get(ad(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:hp(i)}:null})},e.prototype.getEntries=function(t,n){var r=this,i=lp();return this.Br(t,n,function(s,a){var l=r.Mr(a);i=i.zt(s,l)}).next(function(){return i})},e.prototype.qr=function(t,n){var r=this,i=lp(),s=new Qn($e.H);return this.Br(t,n,function(a,l){var c=r.Mr(l);c?(i=i.zt(a,c),s=s.zt(a,hp(l))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},e.prototype.Br=function(t,n,r){if(n.et())return de.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return Xo(t).hs({range:i},function(l,c,h){for(var p=$e.Et(l);a&&$e.H(a,p)<0;)r(a,null),a=s.oe();a&&a.isEqual(p)&&(r(a,c),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},e.prototype.Kr=function(t,n,r){var i=this,s=nf(),a=n.path.length+1,l={};if(r.isEqual(ut.min())){var c=n.path.it();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.it(),p=$0(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=nn.collectionReadTimeIndex}return Xo(t).hs(l,function(f,m,v){if(f.length===a){var y=Lb(i.Qt,m);n.path.nt(y.key.path)?y instanceof Ft&&jf(n,y)&&(s=s.zt(y.key,y)):v.done()}}).next(function(){return s})},e.prototype.Nr=function(t){return new TG(this,!!t&&t.Wr)},e.prototype.Or=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return dA(t).get($i.key).next(function(n){return We(!!n),n})},e.prototype.kr=function(t,n){return dA(t).put($i.key,n)},e.prototype.Mr=function(t){if(t){var n=Lb(this.Qt,t);return n instanceof On&&n.version.isEqual(ut.min())?null:n}return null},e}(),TG=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jr=n,i.Wr=r,i.Gr=new _l(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return Ce(t,e),t.prototype.wi=function(n){var r=this,i=[],s=0,a=new En(function(l,c){return ft(l.rt(),c.rt())});return this.ri.forEach(function(l,c){var h=r.Gr.get(l);if(c.hi){var p=sA(r.jr.Qt,c.hi,r.ci(l));a=a.add(l.path.X());var f=hp(p);s+=f-h,i.push(r.jr.ai(n,l,p))}else if(s-=h,r.Wr){var m=sA(r.jr.Qt,new On(l,ut.min()),r.ci(l));i.push(r.jr.ai(n,l,m))}else i.push(r.jr.li(n,l))}),a.forEach(function(l){i.push(r.jr.Ei.qs(n,l))}),i.push(this.jr.updateMetadata(n,s)),de.Mn(i)},t.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},t.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(l,c){i.Gr.set(l,c)}),a})},t}(zO);function dA(e){return kr(e,$i.store)}function Xo(e){return kr(e,nn.store)}function ad(e){return e.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SG=function(){function e(t){this.Qt=t}return e.prototype.Jn=function(t,n,r,i){var s=this;We(r<i&&r>=0&&i<=11);var a=new UO("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Rr.store)}(t),function(c){c.createObjectStore(fs.store,{keyPath:fs.keyPath}),c.createObjectStore(Bt.store,{keyPath:Bt.keyPath,autoIncrement:!0}).createIndex(Bt.userMutationsIndex,Bt.userMutationsKeyPath,{unique:!0}),c.createObjectStore(jn.store)}(t),pA(t),function(c){c.createObjectStore(nn.store)}(t));var l=de.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(Dn.store),c.deleteObjectStore(Sr.store),c.deleteObjectStore(Fr.store)}(t),pA(t)),l=l.next(function(){return function(c){var h=c.store(Fr.store),p=new Fr(0,0,ut.min().j(),0);return h.put(Fr.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Bt.store).rs().next(function(p){c.deleteObjectStore(Bt.store),c.createObjectStore(Bt.store,{keyPath:Bt.keyPath,autoIncrement:!0}).createIndex(Bt.userMutationsIndex,Bt.userMutationsKeyPath,{unique:!0});var f=h.store(Bt.store),m=p.map(function(v){return f.put(v)});return de.Mn(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(go.store,{keyPath:go.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.zr(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore($i.store)}(t),s.Hr(a)})),r<7&&i>=7&&(l=l.next(function(){return s.Jr(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Yr(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(nn.store);h.createIndex(nn.readTimeIndex,nn.readTimeIndexPath,{unique:!1}),h.createIndex(nn.collectionReadTimeIndex,nn.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Xr(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(el.store,{keyPath:el.keyPath})})(t),function(c){c.createObjectStore(tl.store,{keyPath:tl.keyPath})}(t)})),l},e.prototype.Hr=function(t){var n=0;return t.store(nn.store).hs(function(r,i){n+=hp(i)}).next(function(){var r=new $i(n);return t.store($i.store).put($i.key,r)})},e.prototype.zr=function(t){var n=this,r=t.store(fs.store),i=t.store(Bt.store);return r.rs().next(function(s){return de.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(Bt.userMutationsIndex,l).next(function(c){return de.forEach(c,function(h){We(h.userId===a.userId);var p=Su(n.Qt,h);return qO(t,a.userId,p).next(function(){})})})})})},e.prototype.Jr=function(t){var n=t.store(Dn.store),r=t.store(nn.store);return t.store(Fr.store).get(Fr.key).next(function(i){var s=[];return r.hs(function(a,l){var c=new At(a),h=function(p){return[0,Si(p)]}(c);s.push(n.get(h).next(function(p){return p?de.resolve():function(f){return n.put(new Dn(0,Si(f),i.highestListenSequenceNumber))}(c)}))}).next(function(){return de.Mn(s)})})},e.prototype.Yr=function(t,n){t.createObjectStore(_a.store,{keyPath:_a.keyPath});var r=n.store(_a.store),i=new j0,s=function(a){if(i.add(a)){var l=a.tt(),c=a.X();return r.put({collectionId:l,parent:Si(c)})}};return n.store(nn.store).hs({us:!0},function(a,l){var c=new At(a);return s(c.X())}).next(function(){return n.store(jn.store).hs({us:!0},function(a,l){a[0];var c=a[1],h=(a[2],fo(c));return s(h.X())})})},e.prototype.Xr=function(t){var n=this,r=t.store(Sr.store);return r.hs(function(i,s){var a=Sc(s),l=HO(n.Qt,a);return r.put(l)})},e}();function pA(e){e.createObjectStore(Dn.store,{keyPath:Dn.keyPath}).createIndex(Dn.documentTargetsIndex,Dn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Sr.store,{keyPath:Sr.keyPath}).createIndex(Sr.queryTargetsIndexName,Sr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fr.store)}var Ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",IG=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=l,this.eo=h,this.no=p,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(f){return Promise.resolve()},!e.Kn())throw new he(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new wG(this,i),this.ho=n+"main",this.Qt=new jO(c),this.lo=new Zu(this.ho,11,new SG(this.Qt)),this._o=new vG(this.Ti,this.Qt),this.Ei=new mG,this.fo=function(f,m){return new EG(f,m)}(this.Qt,this.Ei),this.wo=new dG,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,p===!1&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new he(K.FAILED_PRECONDITION,Ty);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t._o.Ki(n)})}).then(function(n){t.so=new Ur(n,t.eo)}).then(function(){t.io=!0}).catch(function(n){return t.lo&&t.lo.close(),Promise.reject(n)})},e.prototype.Ro=function(t){var n=this;return this.uo=function(r){return ce(n,void 0,void 0,function(){return ue(this,function(i){return this.Er?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.Po=function(t){var n=this;this.lo.Xn(function(r){return ce(n,void 0,void 0,function(){return ue(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.yo=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return ce(n,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return ud(n).put(new go(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(n).next(function(r){r||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(n)}).next(function(r){return t.isPrimary&&!r?t.vo(n).next(function(){return!1}):!!r&&t.So(n).next(function(){return!0})})}).catch(function(n){if($a(n))return be("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Zr.po(function(){return t.uo(n)}),t.isPrimary=n})},e.prototype.Vo=function(t){var n=this;return dc(t).get(Rr.key).next(function(r){return de.resolve(n.Do(r))})},e.prototype.Co=function(t){return ud(t).delete(this.clientId)},e.prototype.xo=function(){return ce(this,void 0,void 0,function(){var t,n,r,i,s=this;return ue(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=kr(l,go.store);return c.rs().next(function(h){var p=s.$o(h,18e5),f=h.filter(function(m){return p.indexOf(m)===-1});return de.forEach(f,function(m){return c.delete(m.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Eo)for(n=0,r=t;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},e.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.bo=function(t){var n=this;return this.no?de.resolve(!0):dc(t).get(Rr.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new he(K.FAILED_PRECONDITION,Ty);return!1}}return!(!n.networkEnabled||!n.inForeground)||ud(t).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&be("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.ko=function(){return ce(this,void 0,void 0,function(){var t=this;return ue(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Rr.store,go.store],function(r){var i=new oA(r,Ur.q);return t.vo(i).next(function(){return t.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},e.prototype.$o=function(t,n){var r=this;return t.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},e.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return ud(n).rs().next(function(r){return t.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Qo=function(t){return gG.mi(t,this.Qt,this.Ei,this.Ti)},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Ko=function(){return this.Ei},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;be("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(t,a,fG,function(l){return s=new oA(l,i.so?i.so.next():Ur.q),n==="readwrite-primary"?i.Vo(s).next(function(c){return!!c||i.bo(s)}).next(function(c){if(!c)throw gn("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new he(K.FAILED_PRECONDITION,VO);return r(s)}).next(function(c){return i.So(s).next(function(){return c})}):i.jo(s).next(function(){return r(s)})}).then(function(l){return s.Vs(),l})},e.prototype.jo=function(t){var n=this;return dc(t).get(Rr.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new he(K.FAILED_PRECONDITION,Ty)})},e.prototype.So=function(t){var n=new Rr(this.clientId,this.allowTabSynchronization,Date.now());return dc(t).put(Rr.key,n)},e.Kn=function(){return Zu.Kn()},e.prototype.vo=function(t){var n=this,r=dc(t);return r.get(Rr.key).next(function(i){return n.Do(i)?(be("IndexedDbPersistence","Releasing primary lease."),r.delete(Rr.key)):de.resolve()})},e.prototype.No=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(gn("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.Io=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground=t.document.visibilityState==="visible",t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},e.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},e.prototype.mo=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},e.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},e.prototype.Oo=function(t){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(t)))!==null;return be("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return gn("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){gn("Failed to set zombie client id.",t)}},e.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},e.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function dc(e){return kr(e,Rr.store)}function ud(e){return kr(e,go.store)}function B0(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var YO=function(){function e(t,n,r){this.fo=t,this.zo=n,this.Ei=r}return e.prototype.Ho=function(t,n){var r=this;return this.zo.bi(t,n).next(function(i){return r.Jo(t,n,i)})},e.prototype.Jo=function(t,n,r){return this.fo._i(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},e.prototype.Yo=function(t,n,r){var i=lp();return n.forEach(function(s,a){for(var l=0,c=r;l<c.length;l++)a=c[l].Cs(s,a);i=i.zt(s,a)}),i},e.prototype.Xo=function(t,n){var r=this;return this.fo.getEntries(t,n).next(function(i){return r.Zo(t,i)})},e.prototype.Zo=function(t,n){var r=this;return this.zo.vi(t,n).next(function(i){var s=r.Yo(t,n,i),a=ws();return s.forEach(function(l,c){c||(c=new On(l,ut.min())),a=a.zt(l,c)}),a})},e.prototype.Kr=function(t,n,r){return function(i){return $e.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(t,n.path):P0(n)?this.ec(t,n,r):this.nc(t,n,r)},e.prototype.tc=function(t,n){return this.Ho(t,new $e(n)).next(function(r){var i=nf();return r instanceof Ft&&(i=i.zt(r.key,r)),i})},e.prototype.ec=function(t,n,r){var i=this,s=n.collectionGroup,a=nf();return this.Ei.Us(t,s).next(function(l){return de.forEach(l,function(c){var h=function(p,f){return new To(f,null,p.xt.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.nc(t,h,r).next(function(p){p.forEach(function(f,m){a=a.zt(f,m)})})}).next(function(){return a})})},e.prototype.nc=function(t,n,r){var i,s,a=this;return this.fo.Kr(t,n,r).next(function(l){return i=l,a.zo.Di(t,n)}).next(function(l){return s=l,a.sc(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var f=p[h],m=0,v=f.mutations;m<v.length;m++){var y=v[m],_=y.key,w=Ob(y,i.get(_),f.vs);i=w instanceof Ft?i.zt(_,w):i.remove(_)}})}).next(function(){return i.forEach(function(l,c){jf(n,c)||(i=i.remove(l))}),i})},e.prototype.sc=function(t,n,r){for(var i=jt(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof ks&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.fo.getEntries(t,i).next(function(f){return f.forEach(function(m,v){v!==null&&v instanceof Ft&&(p=p.zt(m,v))}),p})},e}(),AG=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.ic=r,this.rc=i}return e.oc=function(t,n){for(var r=jt(),i=jt(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),XO=function(){function e(){}return e.prototype.cc=function(t){this.ac=t},e.prototype.Kr=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(ut.min())?this.uc(t,n):this.ac.Xo(t,i).next(function(a){var l=s.hc(n,a);return(Id(n)||up(n))&&s.lc(n.limitType,l,i,r)?s.uc(t,n):(Ab()<=St.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nb(n)),s.ac.Kr(t,n,r).next(function(c){return l.forEach(function(h){c=c.zt(h.key,h)}),c}))})},e.prototype.hc=function(t,n){var r=new En(mO(t));return n.forEach(function(i,s){s instanceof Ft&&jf(t,s)&&(r=r.add(s))}),r},e.prototype.lc=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},e.prototype.uc=function(t,n){return Ab()<=St.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Nb(n)),this.ac.Kr(t,n,ut.min())},e}(),xG=function(){function e(t,n,r,i){this.persistence=t,this._c=n,this.Qt=i,this.fc=new Qn(ft),this.dc=new _l(function(s){return Uf(s)},nm),this.wc=ut.min(),this.zo=t.Qo(r),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new YO(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return e.prototype.Ir=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.Vr(r,n.fc)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(e,t,n,r){return new xG(e,t,n,r)}function QO(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s;return ue(this,function(a){switch(a.label){case 0:return n=ke(e),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n.zo.pi(l).next(function(h){return c=h,r=n.persistence.Qo(t),i=new YO(n.Ec,r,n.persistence.Ko()),r.pi(l)}).next(function(h){for(var p=[],f=[],m=jt(),v=0,y=c;v<y.length;v++){var _=y[v];p.push(_.batchId);for(var w=0,E=_.mutations;w<E.length;w++){var k=E[w];m=m.add(k.key)}}for(var I=0,C=h;I<C.length;I++){var M=C[I];f.push(M.batchId);for(var A=0,j=M.mutations;A<j.length;A++){var U=j[A];m=m.add(U.key)}}return i.Xo(l,m).next(function(P){return{Ic:P,mc:p,Ac:f}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function kG(e,t){var n=ke(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,l,c,h){var p=c.batch,f=p.keys(),m=de.resolve();return f.forEach(function(v){m=m.next(function(){return h._i(l,v)}).next(function(y){var _=y,w=c.$s.get(v);We(w!==null),(!_||_.version._(w)<0)&&(_=p.Ss(v,_,c))&&h.ai(_,c.Ns)})}),m.next(function(){return a.zo.Ci(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function ZO(e){var t=ke(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t._o.Qi(n)})}function CG(e,t){var n=ke(e),r=t.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var l=[];t.$e.forEach(function(p,f){var m=i.get(f);if(m){l.push(n._o.sr(s,p.Qe,f).next(function(){return n._o.er(s,p.qe,f)}));var v=p.resumeToken;if(v.l()>0){var y=m.Mt(v,r).kt(s.bs);i=i.zt(f,y),function(_,w,E){return We(w.resumeToken.l()>0),_.resumeToken.l()===0||w.Ot.W()-_.Ot.W()>=3e8||E.qe.size+E.Ue.size+E.Qe.size>0}(m,y,p)&&l.push(n._o.Hi(s,y))}}});var c=ws();if(t.Oe.forEach(function(p,f){t.ke.has(p)&&l.push(n.persistence.Ti.Fr(s,p))}),l.push(NG(s,a,t.Oe,r,void 0).next(function(p){c=p})),!r.isEqual(ut.min())){var h=n._o.Qi(s).next(function(p){return n._o.Wi(s,s.bs,r)});l.push(h)}return de.Mn(l).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,c)})}).then(function(s){return n.fc=i,s})}function NG(e,t,n,r,i){var s=jt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=ws();return n.forEach(function(c,h){var p=a.get(c),f=(i==null?void 0:i.get(c))||r;h instanceof On&&h.version.isEqual(ut.min())?(t.li(c,f),l=l.zt(c,h)):p==null||h.version._(p.version)>0||h.version._(p.version)===0&&p.hasPendingWrites?(t.ai(h,f),l=l.zt(c,h)):be("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function OG(e,t){var n=ke(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n.zo.gi(r,t)})}function pp(e,t){var n=ke(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,t).next(function(s){return s?(i=s,de.resolve(i)):n._o.Bi(r).next(function(a){return i=new rm(t,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(t,r.targetId)),r})}function il(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a;return ue(this,function(l){switch(l.label){case 0:r=ke(e),i=r.fc.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.Ti.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!$a(a=l.sent()))throw a;return be("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.fc=r.fc.remove(t),r.dc.delete(i.target),[2]}})})}function mp(e,t,n){var r=ke(e),i=ut.min(),s=jt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=ke(l),f=p.dc.get(h);return f!==void 0?de.resolve(p.fc.get(f)):p._o.tr(c,h)}(r,a,Yi(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r._o.rr(a,l.targetId).next(function(c){s=c})}).next(function(){return r._c.Kr(a,t,n?i:ut.min(),n?s:jt())}).next(function(l){return{documents:l,Rc:s}})})}function eP(e,t){var n=ke(e),r=ke(n._o),i=n.fc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,t).next(function(a){return a?a.target:null})})}function tP(e){var t=ke(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=ke(r),l=ws(),c=$0(s),h=Xo(i),p=IDBKeyRange.lowerBound(c,!0);return h.hs({index:nn.readTimeIndex,range:p},function(f,m){var v=Lb(a.Qt,m);l=l.zt(v.key,v),c=m.readTime}).next(function(){return{Go:l,readTime:BO(c)}})}(t.Ec,n,t.wc)}).then(function(n){var r=n.Go,i=n.readTime;return t.wc=i,r})}function PG(e){return ce(this,void 0,void 0,function(){var t;return ue(this,function(n){return[2,(t=ke(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Xo(i),a=ut.min();return s.hs({index:nn.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=BO(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.wc=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LG=function(){function e(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return e.prototype.Os=function(t,n){return de.resolve(this.Vc.get(n))},e.prototype.ks=function(t,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:fr(r.createTime)}),de.resolve()},e.prototype.Ms=function(t,n){return de.resolve(this.bc.get(n))},e.prototype.Ls=function(t,n){return this.bc.set(n.name,function(r){return{name:r.name,query:GO(r.bundledQuery),readTime:fr(r.readTime)}}(n)),de.resolve()},e}(),H0=function(){function e(){this.vc=new En(Cn.Sc),this.Dc=new En(Cn.Cc)}return e.prototype.et=function(){return this.vc.et()},e.prototype.nr=function(t,n){var r=new Cn(t,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},e.prototype.xc=function(t,n){var r=this;t.forEach(function(i){return r.nr(i,n)})},e.prototype.ir=function(t,n){this.Nc(new Cn(t,n))},e.prototype.$c=function(t,n){var r=this;t.forEach(function(i){return r.ir(i,n)})},e.prototype.Fc=function(t){var n=this,r=new $e(new At([])),i=new Cn(r,t),s=new Cn(r,t+1),a=[];return this.Dc.me([i,s],function(l){n.Nc(l),a.push(l.key)}),a},e.prototype.Oc=function(){var t=this;this.vc.forEach(function(n){return t.Nc(n)})},e.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},e.prototype.kc=function(t){var n=new $e(new At([])),r=new Cn(n,t),i=new Cn(n,t+1),s=jt();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},e.prototype.Fi=function(t){var n=new Cn(t,0),r=this.vc.Re(n);return r!==null&&t.isEqual(r.key)},e}(),Cn=function(){function e(t,n){this.key=t,this.Mc=n}return e.Sc=function(t,n){return $e.H(t.key,n.key)||ft(t.Mc,n.Mc)},e.Cc=function(t,n){return ft(t.Mc,n.Mc)||$e.H(t.key,n.key)},e}(),RG=function(){function e(t,n){this.Ei=t,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new En(Cn.Sc)}return e.prototype.Ai=function(t){return de.resolve(this.zo.length===0)},e.prototype.Ri=function(t,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new V0(s,n,r,i);this.zo.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.Bc=this.Bc.add(new Cn(h.key,s)),this.Ei.qs(t,h.key.path.X())}return de.resolve(a)},e.prototype.Pi=function(t,n){return de.resolve(this.qc(n))},e.prototype.gi=function(t,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return de.resolve(this.zo.length>s?this.zo[s]:null)},e.prototype.Vi=function(){return de.resolve(this.zo.length===0?-1:this.Lc-1)},e.prototype.pi=function(t){return de.resolve(this.zo.slice())},e.prototype.bi=function(t,n){var r=this,i=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(l){var c=r.qc(l.Mc);a.push(c)}),de.resolve(a)},e.prototype.vi=function(t,n){var r=this,i=new En(ft);return n.forEach(function(s){var a=new Cn(s,0),l=new Cn(s,Number.POSITIVE_INFINITY);r.Bc.me([a,l],function(c){i=i.add(c.Mc)})}),de.resolve(this.Qc(i))},e.prototype.Di=function(t,n){var r=n.path,i=r.length+1,s=r;$e.wt(s)||(s=s.child(""));var a=new Cn(new $e(s),0),l=new En(ft);return this.Bc.Ae(function(c){var h=c.key.path;return!!r.nt(h)&&(h.length===i&&(l=l.add(c.Mc)),!0)},a),de.resolve(this.Qc(l))},e.prototype.Qc=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},e.prototype.Ci=function(t,n){var r=this;We(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return de.forEach(n.mutations,function(s){var a=new Cn(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(t,s.key)}).next(function(){r.Bc=i})},e.prototype.xi=function(t){},e.prototype.Fi=function(t,n){var r=new Cn(n,0),i=this.Bc.Re(r);return de.resolve(n.isEqual(i&&i.key))},e.prototype.$i=function(t){return this.zo.length,de.resolve()},e.prototype.Kc=function(t,n){return this.Uc(t)},e.prototype.Uc=function(t){return this.zo.length===0?0:t-this.zo[0].batchId},e.prototype.qc=function(t){var n=this.Uc(t);return n<0||n>=this.zo.length?null:this.zo[n]},e}(),DG=function(){function e(t,n){this.Ei=t,this.Wc=n,this.docs=new Qn($e.H),this.size=0}return e.prototype.ai=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:l,readTime:r}),this.size+=l-a,this.Ei.qs(t,i.path.X())},e.prototype.li=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype._i=function(t,n){var r=this.docs.get(n);return de.resolve(r?r.hi:null)},e.prototype.getEntries=function(t,n){var r=this,i=lp();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),de.resolve(i)},e.prototype.Kr=function(t,n,r){for(var i=nf(),s=new $e(n.path.child("")),a=this.docs.ee(s);a.ce();){var l=a.oe(),c=l.key,h=l.value,p=h.hi,f=h.readTime;if(!n.path.nt(c.path))break;f._(r)<=0||p instanceof Ft&&jf(n,p)&&(i=i.zt(p.key,p))}return de.resolve(i)},e.prototype.jc=function(t,n){return de.forEach(this.docs,function(r){return n(r)})},e.prototype.Nr=function(t){return new MG(this)},e.prototype.Or=function(t){return de.resolve(this.size)},e}(),MG=function(e){function t(n){var r=this;return(r=e.call(this)||this).jr=n,r}return Ce(t,e),t.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),de.Mn(i)},t.prototype.fi=function(n,r){return this.jr._i(n,r)},t.prototype.di=function(n,r){return this.jr.getEntries(n,r)},t}(zO),FG=function(){function e(t){this.persistence=t,this.Gc=new _l(function(n){return Uf(n)},nm),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.zc=0,this.Hc=new H0,this.targetCount=0,this.Jc=dp.Mi()}return e.prototype.In=function(t,n){return this.Gc.forEach(function(r,i){return n(i)}),de.resolve()},e.prototype.Qi=function(t){return de.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ki=function(t){return de.resolve(this.zc)},e.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),de.resolve(this.highestTargetId)},e.prototype.Wi=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),de.resolve()},e.prototype.Gi=function(t){this.Gc.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.Jc=new dp(n),this.highestTargetId=n),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},e.prototype.ji=function(t,n){return this.Gi(n),this.targetCount+=1,de.resolve()},e.prototype.Hi=function(t,n){return this.Gi(n),de.resolve()},e.prototype.Ji=function(t,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,de.resolve()},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.Gc.delete(l),a.push(i.Yi(t,c.targetId)),s++)}),de.Mn(a).next(function(){return s})},e.prototype.Zi=function(t){return de.resolve(this.targetCount)},e.prototype.tr=function(t,n){var r=this.Gc.get(n)||null;return de.resolve(r)},e.prototype.er=function(t,n,r){return this.Hc.xc(n,r),de.resolve()},e.prototype.sr=function(t,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(t,a))}),de.Mn(s)},e.prototype.Yi=function(t,n){return this.Hc.Fc(n),de.resolve()},e.prototype.rr=function(t,n){var r=this.Hc.kc(n);return de.resolve(r)},e.prototype.Fi=function(t,n){return de.resolve(this.Hc.Fi(n))},e}(),UG=function(){function e(t,n){var r=this;this.Yc={},this.so=new Ur(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new FG(this),this.Ei=new pG,this.fo=function(i,s){return new DG(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new jO(n),this.wo=new LG(this.Qt)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Po=function(){},e.prototype.yo=function(){},e.prototype.Ko=function(){return this.Ei},e.prototype.Qo=function(t){var n=this.Yc[t.A()];return n||(n=new RG(this.Ei,this.Ti),this.Yc[t.A()]=n),n},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;be("MemoryPersistence","Starting transaction:",t);var s=new VG(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},e.prototype.ea=function(t,n){return de.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(t,n)}}))},e}(),VG=function(e){function t(n){var r=this;return(r=e.call(this)||this).bs=n,r}return Ce(t,e),t}($O),$G=function(){function e(t){this.persistence=t,this.na=new H0,this.sa=null}return e.ia=function(t){return new e(t)},Object.defineProperty(e.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Ue()},enumerable:!1,configurable:!0}),e.prototype.nr=function(t,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),de.resolve()},e.prototype.ir=function(t,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),de.resolve()},e.prototype.Ni=function(t,n){return this.ra.add(n.toString()),de.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(t,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(t,n)})},e.prototype.Zc=function(){this.sa=new Set},e.prototype.ta=function(t){var n=this,r=this.persistence.$r().Nr();return de.forEach(this.ra,function(i){var s=$e._t(i);return n.oa(t,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(t)})},e.prototype.Fr=function(t,n){var r=this;return this.oa(t,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},e.prototype.Xc=function(t){return 0},e.prototype.oa=function(t,n){var r=this;return de.Ln([function(){return de.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(t,n)},function(){return r.persistence.ea(t,n)}])},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t){return"firestore_clients_"+e+"_"+t}function gA(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.m()&&(r+="_"+t.uid),r}function Sy(e,t){return"firestore_targets_"+e+"_"+t}var vA=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.ca=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new he(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(gn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Iy=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.ca=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new he(i.error.code,i.error.message)),s?new e(t,i.state,r):(gn("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),yA=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.ca=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=sm(),a=0;i&&a<r.activeTargetIds.length;++a)i=lO(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(gn("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),jG=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.ca=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(gn("SharedClientState","Failed to parse online state: "+t),null)},e}(),Rb=function(){function e(){this.activeTargetIds=sm()}return e.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Ay=function(){function e(t,n,r,i,s){this.window=t,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Qn(ft),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=mA(this.persistenceKey,this.la),this.ma=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Rb),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.ga=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return e.Kn=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return ce(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,f,m=this;return ue(this,function(v){switch(v.label){case 0:return[4,this._a.Uo()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(mA(this.persistenceKey,i)))&&(a=yA.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(l=this.storage.getItem(this.ya))&&(c=this.pa(l))&&this.ba(c),h=0,p=this.Ta;h<p.length;h++)f=p[h],this.wa(f);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},e.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},e.prototype.va=function(){return this.Sa(this.Ea)},e.prototype.Da=function(t){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.Ca=function(t){this.xa(t,"pending")},e.prototype.Na=function(t,n,r){this.xa(t,n,r),this.$a(t)},e.prototype.Fa=function(t){var n="not-current";if(this.Da(t)){var r=this.storage.getItem(Sy(this.persistenceKey,t));if(r){var i=Iy.ca(t,r);i&&(n=i.state)}}return this.Oa.ua(t),this.Va(),n},e.prototype.ka=function(t){this.Oa.ha(t),this.Va()},e.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},e.prototype.La=function(t){this.removeItem(Sy(this.persistenceKey,t))},e.prototype.Ba=function(t,n,r){this.qa(t,n,r)},e.prototype.Ua=function(t,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=t,r.forEach(function(s){i.Ca(s)})},e.prototype.Qa=function(t){this.Ka(t)},e.prototype.Wa=function(){this.ja()},e.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return be("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){be("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){be("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.wa=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return ce(n,void 0,void 0,function(){var i,s,a,l,c,h;return ue(this,function(p){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(l=this.Xa(r.key,r.newValue)))return[2,this.Za(l)]}else if(r.key===this.ya){if(r.newValue!==null&&(c=this.pa(r.newValue)))return[2,this.ba(c)]}else if(r.key===this.ma)(h=function(f){var m=Ur.q;if(f!=null)try{var v=JSON.parse(f);We(typeof v=="number"),m=v}catch(y){gn("SharedClientState","Failed to read sequence number from WebStorage",y)}return m}(r.newValue))!==Ur.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),e.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},e.prototype.xa=function(t,n,r){var i=new vA(this.currentUser,t,n,r),s=gA(this.persistenceKey,this.currentUser,t);this.setItem(s,i.aa())},e.prototype.$a=function(t){var n=gA(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Ka=function(t){var n={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(n))},e.prototype.qa=function(t,n,r){var i=Sy(this.persistenceKey,t),s=new Iy(t,n,r);this.setItem(i,s.aa())},e.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},e.prototype.Ga=function(t){var n=this.Aa.exec(t);return n?n[1]:null},e.prototype.Ha=function(t,n){var r=this.Ga(t);return yA.ca(r,n)},e.prototype.Ja=function(t,n){var r=this.Ra.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return vA.ca(new Mr(s),i,n)},e.prototype.Xa=function(t,n){var r=this.Pa.exec(t),i=Number(r[1]);return Iy.ca(i,n)},e.prototype.pa=function(t){return jG.ca(t)},e.prototype.Ya=function(t){return ce(this,void 0,void 0,function(){return ue(this,function(n){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},e.prototype.za=function(t,n){var r=this,i=n?this.Ea.zt(t,n):this.Ea.remove(t),s=this.Sa(this.Ea),a=this.Sa(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this._a.su(l,c).then(function(){r.Ea=i})},e.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},e.prototype.Sa=function(t){var n=sm();return t.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},e}(),nP=function(){function e(){this.iu=new Rb,this.ru={},this.fa=null,this.k=null}return e.prototype.Ca=function(t){},e.prototype.Na=function(t,n,r){},e.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},e.prototype.Ba=function(t,n,r){this.ru[t]=n},e.prototype.ka=function(t){this.iu.ha(t)},e.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.La=function(t){delete this.ru[t]},e.prototype.va=function(){return this.iu.activeTargetIds},e.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.start=function(){return this.iu=new Rb,Promise.resolve()},e.prototype.Ua=function(t,n,r){},e.prototype.Qa=function(t){},e.prototype.ko=function(){},e.prototype.B=function(t){},e.prototype.Wa=function(){},e}(),BG=function(){function e(){}return e.prototype.ou=function(t){},e.prototype.ko=function(){},e}(),bA=function(){function e(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return e.prototype.ou=function(t){this.lu.push(t)},e.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},e.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},e.prototype.au=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(0)},e.prototype.hu=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(1)},e.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),HG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GG=function(){function e(t){this.fu=t.fu,this.du=t.du}return e.prototype.wu=function(t){this.Eu=t},e.prototype.Tu=function(t){this.Iu=t},e.prototype.onMessage=function(t){this.mu=t},e.prototype.close=function(){this.du()},e.prototype.send=function(t){this.fu(t)},e.prototype.Au=function(){this.Eu()},e.prototype.Ru=function(t){this.Iu(t)},e.prototype.Pu=function(t){this.mu(t)},e}(),zG=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return Ce(t,e),t.prototype.Su=function(n,r,i,s){return new Promise(function(a,l){var c=new m4;c.listenOnce(d4.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Ey.NO_ERROR:var p=c.getResponseJson();be("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Ey.TIMEOUT:be("Connection",'RPC "'+n+'" timed out'),l(new he(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ey.HTTP_ERROR:var f=c.getStatus();if(be("Connection",'RPC "'+n+'" failed with status:',f,"response text:",c.getResponseText()),f>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var v=function(y){var _=y.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_)>=0?_:K.UNKNOWN}(m.status);l(new he(v,m.message))}else l(new he(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new he(K.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{be("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=f4(),a=h4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(l.initMessageHeaders,r),vB()||wB()||EB()||TB()||SB()||_B()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");be("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,f=!1,m=new GG({fu:function(y){f?be("Connection","Not sending because WebChannel is closed:",y):(p||(be("Connection","Opening WebChannel transport."),h.open(),p=!0),be("Connection","WebChannel sending:",y),h.send(y))},du:function(){return h.close()}}),v=function(y,_,w){y.listen(_,function(E){try{w(E)}catch(k){setTimeout(function(){throw k},0)}})};return v(h,id.EventType.OPEN,function(){f||be("Connection","WebChannel transport opened.")}),v(h,id.EventType.CLOSE,function(){f||(f=!0,be("Connection","WebChannel transport closed"),m.Ru())}),v(h,id.EventType.ERROR,function(y){f||(f=!0,xb("Connection","WebChannel transport errored:",y),m.Ru(new he(K.UNAVAILABLE,"The operation could not be completed")))}),v(h,id.EventType.MESSAGE,function(y){var _;if(!f){var w=y.data[0];We(!!w);var E=w,k=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(k){be("Connection","WebChannel received error:",k);var I=k.status,C=function(A){var j=hn[A];if(j!==void 0)return IO(j)}(I),M=k.message;C===void 0&&(C=K.INTERNAL,M="Unknown error status: "+I+" with message "+k.message),f=!0,m.Ru(new he(C,M)),h.close()}else be("Connection","WebChannel received:",w),m.Pu(w)}}),v(a,p4.STAT_EVENT,function(y){y.stat===RI.PROXY?be("Connection","Detected buffering proxy"):y.stat===RI.NOPROXY&&be("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},t}(function(){function e(t){this.yu=t,this.t=t.t;var n=t.ssl?"https":"http";this.gu=n+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.pu=function(t,n,r,i){var s=this.bu(t,n);be("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(t,s,a,r).then(function(l){return be("RestConnection","Received: ",l),l},function(l){throw xb("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Du=function(t,n,r,i){return this.pu(t,n,r,i)},e.prototype.vu=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(t[r]=n.g[r])},e.prototype.bu=function(t,n){var r=HG[t];return this.gu+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof window<"u"?window:null}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(e){return new X4(e,!0)}var G0=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=t,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return e.prototype.reset=function(){this.Fu=0},e.prototype.Mu=function(){this.Fu=this.$u},e.prototype.Lu=function(t){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&be("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},e.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},e.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},e.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},e}(),iP=function(){function e(t,n,r,i,s,a){this.Zr=t,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new G0(t,n)}return e.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},e.prototype.Hu=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.Ju()},e.prototype.stop=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.Yu=function(){this.state=0,this.Gu.reset()},e.prototype.Xu=function(){var t=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},e.prototype.th=function(t){this.eh(),this.stream.send(t)},e.prototype.Zu=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},e.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},e.prototype.close=function(t,n){return ce(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,t!==3?this.Gu.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===K.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},e.prototype.nh=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){t.Wu===r&&t.ih(i)},function(i){n(function(){var s=new he(K.UNKNOWN,"Fetching auth token failed: "+i.message);return t.rh(s)})})},e.prototype.ih=function(t){var n=this,r=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return ce(t,void 0,void 0,function(){return ue(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.rh=function(t){return be("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.sh=function(t){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===t?r():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),qG=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,l}return Ce(t,e),t.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},t.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Ue()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(w,E){return w.Bt?(We(E===void 0||typeof E=="string"),xr.fromBase64String(E||"")):(We(E===void 0||E instanceof Uint8Array),xr.fromUint8Array(E||new Uint8Array))}(s,a.targetChange.resumeToken),f=(m=a.targetChange.cause)&&function(w){var E=w.code===void 0?K.UNKNOWN:IO(w.code);return new he(E,w.message||"")}(m);l=new kO(c,h,p,f||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=mo(s,c.document.name),p=fr(c.document.updateTime);var m=new _s({mapValue:{fields:c.document.fields}}),v=(f=new Ft(h,p,m,{}),c.targetIds||[]),y=c.removedTargetIds||[];l=new xd(v,y,f.key,f)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=mo(s,c.document),p=c.readTime?fr(c.readTime):ut.min(),m=new On(h,p),f=c.removedTargetIds||[],l=new xd([],f,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=mo(s,c.document),p=c.removedTargetIds||[],l=new xd([],p,h,null);else{if(!("filter"in a))return Ue();a.filter;var _=a.filter;_.targetId,c=_.count||0,h=new $4(c),p=_.targetId,l=new xO(p,h)}return l}(this.Qt,n),i=function(s){if(!("targetChange"in s))return ut.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?ut.min():a.readTime?fr(a.readTime):ut.min()}(n);return this.listener.ah(r,i)},t.prototype.uh=function(n){var r={};r.database=sf(this.Qt),r.addTarget=function(s,a){var l,c=a.target;return(l=sp(c)?{documents:LO(s,c)}:{query:RO(s,c)}).targetId=a.targetId,a.resumeToken.l()>0?l.resumeToken=CO(s,a.resumeToken):a.Ot._(ut.min())>0&&(l.readTime=rf(s,a.Ot.j())),l}(this.Qt,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ue()}}(0,a.Ft);return l==null?null:{"goog-listen-tags":l}}(this.Qt,n);i&&(r.labels=i),this.th(r)},t.prototype.hh=function(n){var r={};r.database=sf(this.Qt),r.removeTarget=n,this.th(r)},t}(iP),WG=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,l.lh=!1,l}return Ce(t,e),Object.defineProperty(t.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.nh=function(){this.lh&&this.fh([])},t.prototype.oh=function(n){return this.Qu.Cu("Write",n)},t.prototype.onMessage=function(n){if(We(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(We(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?fr(c.updateTime):fr(h);p.isEqual(ut.min())&&(p=fr(h));var f=null;return c.transformResults&&c.transformResults.length>0&&(f=c.transformResults),new F4(p,f)}(l,a)})):[]}(n.writeResults,n.commitTime),i=fr(n.commitTime);return this.listener.dh(i,r)}return We(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},t.prototype.Eh=function(){var n={};n.database=sf(this.Qt),this.th(n)},t.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return fp(r.Qt,s)})};this.th(i)},t}(iP),KG=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return Ce(t,e),t.prototype.Ih=function(){if(this.Th)throw new he(K.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===K.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===K.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.terminate=function(){this.Th=!1},t}(function(){}),YG=function(){function e(t,n){this._s=t,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return e.prototype.Ph=function(){var t=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},e.prototype.Vh=function(t){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},e.prototype.set=function(t){this.ph(),this.mh=0,t==="Online"&&(this.Rh=!1),this.yh(t)},e.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},e.prototype.gh=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(gn(n),this.Rh=!1):be("OnlineStateTracker",n)},e.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},e}(),XG=function(e,t,n,r,i){var s=this;this.bh=e,this.Sh=t,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return ce(s,void 0,void 0,function(){return ue(this,function(l){switch(l.label){case 0:return Cs(this)?(be("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return ce(this,void 0,void 0,function(){var h;return ue(this,function(p){switch(p.label){case 0:return(h=ke(c)).Nh.add(4),[4,wl(h)];case 1:return p.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,zf(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Oh=new YG(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(e){return ce(this,void 0,void 0,function(){var t,n;return ue(this,function(r){switch(r.label){case 0:if(!Cs(e))return[3,4];t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function wl(e){return ce(this,void 0,void 0,function(){var t,n;return ue(this,function(r){switch(r.label){case 0:t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function um(e,t){var n=ke(e);n.xh.has(t.targetId)||(n.xh.set(t.targetId,t),W0(n)?q0(n):Tl(n).Hu()&&z0(n,t))}function af(e,t){var n=ke(e),r=Tl(n);n.xh.delete(t),r.Hu()&&oP(n,t),n.xh.size===0&&(r.Hu()?r.Xu():Cs(n)&&n.Oh.set("Unknown"))}function z0(e,t){e.kh.on(t.targetId),Tl(e).uh(t)}function oP(e,t){e.kh.on(t),Tl(e).hh(t)}function q0(e){e.kh=new W4({vn:function(t){return e.Dh.vn(t)},Sn:function(t){return e.xh.get(t)||null}}),Tl(e).start(),e.Oh.Ph()}function W0(e){return Cs(e)&&!Tl(e).zu()&&e.xh.size>0}function Cs(e){return ke(e).Nh.size===0}function sP(e){e.kh=void 0}function JG(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){return e.xh.forEach(function(n,r){z0(e,n)}),[2]})})}function QG(e,t){return ce(this,void 0,void 0,function(){return ue(this,function(n){return sP(e),W0(e)?(e.Oh.Vh(t),q0(e)):e.Oh.set("Unknown"),[2]})})}function ZG(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s;return ue(this,function(a){switch(a.label){case 0:if(e.Oh.set("Online"),!(t instanceof kO&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return ce(this,void 0,void 0,function(){var h,p,f,m;return ue(this,function(v){switch(v.label){case 0:h=c.cause,p=0,f=c.targetIds,v.label=1;case 1:return p<f.length?(m=f[p],l.xh.has(m)?[4,l.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:v.sent(),l.xh.delete(m),l.kh.removeTarget(m),v.label=3;case 3:v.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,gp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof xd?e.kh.dn(t):t instanceof xO?e.kh.Pn(t):e.kh.Tn(t),n.isEqual(ut.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,ZO(e.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(l,c){var h=l.kh.Vn(c);return h.$e.forEach(function(p,f){if(p.resumeToken.l()>0){var m=l.xh.get(f);m&&l.xh.set(f,m.Mt(p.resumeToken,c))}}),h.Fe.forEach(function(p){var f=l.xh.get(p);if(f){l.xh.set(p,f.Mt(xr.T,f.Ot)),oP(l,p);var m=new rm(f.target,p,1,f.sequenceNumber);z0(l,m)}}),l.Dh.Lh(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return be("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,gp(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function gp(e,t,n){return ce(this,void 0,void 0,function(){var r=this;return ue(this,function(i){switch(i.label){case 0:if(!$a(t))throw t;return e.Nh.add(1),[4,wl(e)];case 1:return i.sent(),e.Oh.set("Offline"),n||(n=function(){return ZO(e.bh)}),e._s.po(function(){return ce(r,void 0,void 0,function(){return ue(this,function(s){switch(s.label){case 0:return be("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Nh.delete(1),[4,zf(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function aP(e,t){return t().catch(function(n){return gp(e,n,t)})}function El(e){return ce(this,void 0,void 0,function(){var t,n,r,i,s;return ue(this,function(a){switch(a.label){case 0:t=ke(e),n=Es(t),r=t.Ch.length>0?t.Ch[t.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Cs(l)&&l.Ch.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,OG(t.bh,r)];case 3:return(i=a.sent())===null?(t.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(l,c){l.Ch.push(c);var h=Es(l);h.Hu()&&h._h&&h.fh(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,gp(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return uP(t)&&lP(t),[2]}})})}function uP(e){return Cs(e)&&!Es(e).zu()&&e.Ch.length>0}function lP(e){Es(e).start()}function ez(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){return Es(e).Eh(),[2]})})}function tz(e){return ce(this,void 0,void 0,function(){var t,n,r,i;return ue(this,function(s){for(t=Es(e),n=0,r=e.Ch;n<r.length;n++)i=r[n],t.fh(i.mutations);return[2]})})}function nz(e,t,n){return ce(this,void 0,void 0,function(){var r,i;return ue(this,function(s){switch(s.label){case 0:return r=e.Ch.shift(),i=hG.from(r,t,n),[4,aP(e,function(){return e.Dh.Bh(i)})];case 1:return s.sent(),[4,El(e)];case 2:return s.sent(),[2]}})})}function rz(e,t){return ce(this,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:return t&&Es(e)._h?[4,function(r,i){return ce(this,void 0,void 0,function(){var s,a;return ue(this,function(l){switch(l.label){case 0:return SO(a=i.code)&&a!==K.ABORTED?(s=r.Ch.shift(),Es(r).Yu(),[4,aP(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,El(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return uP(e)&&lP(e),[2]}})})}function Db(e,t){return ce(this,void 0,void 0,function(){var n;return ue(this,function(r){switch(r.label){case 0:return n=ke(e),t?(n.Nh.delete(2),[4,zf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Nh.add(2),[4,wl(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Tl(e){var t=this;return e.Uh||(e.Uh=function(n,r,i){var s=ke(n);return s.Ih(),new qG(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:JG.bind(null,e),Tu:QG.bind(null,e),ah:ZG.bind(null,e)}),e.$h.push(function(n){return ce(t,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return n?(e.Uh.Yu(),W0(e)?q0(e):e.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Uh.stop()];case 2:r.sent(),sP(e),r.label=3;case 3:return[2]}})})})),e.Uh}function Es(e){var t=this;return e.Qh||(e.Qh=function(n,r,i){var s=ke(n);return s.Ih(),new WG(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:ez.bind(null,e),Tu:rz.bind(null,e),wh:tz.bind(null,e),dh:nz.bind(null,e)}),e.$h.push(function(n){return ce(t,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return n?(e.Qh.Yu(),[4,El(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qh.stop()];case 3:r.sent(),e.Ch.length>0&&(be("RemoteStore","Stopping write stream with "+e.Ch.length+" pending writes"),e.Ch=[]),r.label=4;case 4:return[2]}})})})),e.Qh}var iz=function(){this.Kh=void 0,this.listeners=[]},oz=function(){this.queries=new _l(function(e){return pO(e)},$f),this.onlineState="Unknown",this.Wh=new Set};function K0(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return ue(this,function(h){switch(h.label){case 0:if(n=ke(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new iz),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return l=h.sent(),c=bl(l,"Initialization of query '"+Nb(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.Gh(n.onlineState),s.Kh&&t.zh(s.Kh)&&X0(n),[2]}})})}function Y0(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a;return ue(this,function(l){return n=ke(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function sz(e,t){for(var n=ke(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].zh(a)&&(r=!0);c.Kh=a}}r&&X0(n)}function az(e,t,n){var r=ke(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function X0(e){e.Wh.forEach(function(t){t.next()})}var J0=function(){function e(t,n,r){this.query=t,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new cp(t.query,t.docs,t.Se,n,t.De,t.fromCache,t.Ce,!0)}var a=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),a=!0):this.tl(t,this.onlineState)&&(this.el(t),a=!0),this.Xh=t,a},e.prototype.onError=function(t){this.Jh.error(t)},e.prototype.Gh=function(t){this.onlineState=t;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),n=!0),n},e.prototype.tl=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||t.docs.et()&&n!=="Offline")},e.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.el=function(t){t=cp.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cP=function(e){this.key=e},fP=function(e){this.key=e},hP=function(){function e(t,n){this.query=t,this.cl=n,this.al=null,this.Be=!1,this.ul=jt(),this.De=jt(),this.hl=mO(t),this.ll=new AO(this.hl)}return Object.defineProperty(e.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),e.prototype.fl=function(t,n){var r=this,i=n?n.dl:new YI,s=n?n.ll:this.ll,a=n?n.De:this.De,l=s,c=!1,h=Id(this.query)&&s.size===this.query.limit?s.last():null,p=up(this.query)&&s.size===this.query.limit?s.first():null;if(t.Xt(function(m,v){var y=s.get(m),_=v instanceof Ft?v:null;_&&(_=jf(r.query,_)?_:null);var w=!!y&&r.De.has(y.key),E=!!_&&(_.Vt||r.De.has(_.key)&&_.hasCommittedMutations),k=!1;y&&_?y.data().isEqual(_.data())?w!==E&&(i.track({type:3,doc:_}),k=!0):r.wl(y,_)||(i.track({type:2,doc:_}),k=!0,(h&&r.hl(_,h)>0||p&&r.hl(_,p)<0)&&(c=!0)):!y&&_?(i.track({type:0,doc:_}),k=!0):y&&!_&&(i.track({type:1,doc:y}),k=!0,(h||p)&&(c=!0)),k&&(_?(l=l.add(_),a=E?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Id(this.query)||up(this.query))for(;l.size>this.query.limit;){var f=Id(this.query)?l.last():l.first();l=l.delete(f.key),a=a.delete(f.key),i.track({type:1,doc:f})}return{ll:l,dl:i,lc:c,De:a}},e.prototype.wl=function(t,n){return t.Vt&&n.hasCommittedMutations&&!n.Vt},e.prototype.wi=function(t,n,r){var i=this,s=this.ll;this.ll=t.ll,this.De=t.De;var a=t.dl.ve();a.sort(function(p,f){return function(m,v){var y=function(_){switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return y(m)-y(v)}(p.type,f.type)||i.hl(p.doc,f.doc)}),this.El(r);var l=n?this.Tl():[],c=this.ul.size===0&&this.Be?1:0,h=c!==this.al;return this.al=c,a.length!==0||h?{snapshot:new cp(this.query,t.ll,s,a,t.De,c===0,h,!1),Il:l}:{Il:l}},e.prototype.Gh=function(t){return this.Be&&t==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new YI,De:this.De,lc:!1},!1)):{Il:[]}},e.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},e.prototype.El=function(t){var n=this;t&&(t.qe.forEach(function(r){return n.cl=n.cl.add(r)}),t.Ue.forEach(function(r){}),t.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=t.Be)},e.prototype.Tl=function(){var t=this;if(!this.Be)return[];var n=this.ul;this.ul=jt(),this.ll.forEach(function(i){t.ml(i.key)&&(t.ul=t.ul.add(i.key))});var r=[];return n.forEach(function(i){t.ul.has(i)||r.push(new fP(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new cP(i))}),r},e.prototype.Al=function(t){this.cl=t.Rc,this.ul=jt();var n=this.fl(t.documents);return this.wi(n,!0)},e.prototype.Rl=function(){return cp.Ne(this.query,this.ll,this.De,this.al===0)},e}(),uz=function(e,t,n){this.query=e,this.targetId=t,this.view=n},lz=function(e){this.key=e,this.Pl=!1},cz=function(){function e(t,n,r,i,s,a){this.bh=t,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new _l(function(l){return pO(l)},$f),this.Sl=new Map,this.Dl=new Set,this.Cl=new Qn($e.H),this.xl=new Map,this.Nl=new H0,this.$l={},this.Fl=new Map,this.Ol=dp.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(e.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),e}();function fz(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a,l;return ue(this,function(c){switch(c.label){case 0:return n=nw(e),(s=n.vl.get(t))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,pp(n.bh,Yi(t))];case 2:return a=c.sent(),l=n.Vl.Fa(a.targetId),r=a.targetId,[4,Q0(n,t,r,l==="current")];case 3:i=c.sent(),n.Ml&&um(n.yl,a),c.label=4;case 4:return[2,i]}})})}function Q0(e,t,n,r){return ce(this,void 0,void 0,function(){var i,s,a,l,c,h;return ue(this,function(p){switch(p.label){case 0:return e.Ll=function(f,m,v){return function(y,_,w,E){return ce(this,void 0,void 0,function(){var k,I,C;return ue(this,function(M){switch(M.label){case 0:return k=_.view.fl(w),k.lc?[4,mp(y.bh,_.query,!1).then(function(A){var j=A.documents;return _.view.fl(j,k)})]:[3,2];case 1:k=M.sent(),M.label=2;case 2:return I=E&&E.$e.get(_.targetId),C=_.view.wi(k,y.Ml,I),[2,(Mb(y,_.targetId,C.Il),C.snapshot)]}})})}(e,f,m,v)},[4,mp(e.bh,t,!0)];case 1:return i=p.sent(),s=new hP(t,i.Rc),a=s.fl(i.documents),l=M0.Le(n,r&&e.onlineState!=="Offline"),c=s.wi(a,e.Ml,l),Mb(e,n,c.Il),h=new uz(t,n,s),[2,(e.vl.set(t,h),e.Sl.has(n)?e.Sl.get(n).push(t):e.Sl.set(n,[t]),c.snapshot)]}})})}function hz(e,t){return ce(this,void 0,void 0,function(){var n,r,i;return ue(this,function(s){switch(s.label){case 0:return n=ke(e),r=n.vl.get(t),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!$f(a,t)})),void n.vl.delete(t))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,il(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),af(n.yl,r.targetId),ol(n,r.targetId)}).catch(ja)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ol(n,r.targetId),[4,il(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function dz(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a;return ue(this,function(l){switch(l.label){case 0:r=rw(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,f=ke(c),m=Ir.now(),v=h.reduce(function(y,_){return y.add(_.key)},jt());return f.persistence.runTransaction("Locally write mutations","readwrite",function(y){return f.Tc.Xo(y,v).next(function(_){p=_;for(var w=[],E=0,k=h;E<k.length;E++){var I=k[E],C=V4(I,p.get(I.key));C!=null&&w.push(new ks(I.key,C,cO(C.proto.mapValue),qn.exists(!0)))}return f.zo.Ri(y,m,w,h)})}).then(function(y){var _=y.xs(p);return{batchId:y.batchId,ri:_}})}(r.bh,t)];case 2:return i=l.sent(),r.Vl.Ca(i.batchId),function(c,h,p){var f=c.$l[c.currentUser.A()];f||(f=new Qn(ft)),f=f.zt(h,p),c.$l[c.currentUser.A()]=f}(r,i.batchId,n),[4,Ns(r,i.ri)];case 3:return l.sent(),[4,El(r.yl)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=bl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function dP(e,t){return ce(this,void 0,void 0,function(){var n,r;return ue(this,function(i){switch(i.label){case 0:n=ke(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,CG(n.bh,t)];case 2:return r=i.sent(),t.$e.forEach(function(s,a){var l=n.xl.get(a);l&&(We(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?l.Pl=!0:s.Ue.size>0?We(l.Pl):s.Qe.size>0&&(We(l.Pl),l.Pl=!1))}),[4,Ns(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,ja(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function _A(e,t,n){var r=ke(e);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var l=a.view.Gh(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=ke(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var f=0,m=p.listeners;f<m.length;f++)m[f].Gh(a)&&(c=!0)}),c&&X0(l)}(r.gl,t),i.length&&r.bl.ah(i),r.onlineState=t,r.Ml&&r.Vl.Qa(t)}}function pz(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a,l,c;return ue(this,function(h){switch(h.label){case 0:return(r=ke(e)).Vl.Ba(t,"rejected",n),i=r.xl.get(t),(s=i&&i.key)?(a=(a=new Qn($e.H)).zt(s,new On(s,ut.min())),l=jt().add(s),c=new D0(ut.min(),new Map,new En(ft),a,l),[4,dP(r,c)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(t),tw(r),[3,4];case 2:return[4,il(r.bh,t,!1).then(function(){return ol(r,t,n)}).catch(ja)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function mz(e,t){return ce(this,void 0,void 0,function(){var n,r,i;return ue(this,function(s){switch(s.label){case 0:n=ke(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,kG(n.bh,t)];case 2:return i=s.sent(),ew(n,r,null),Z0(n,r),n.Vl.Na(r,"acknowledged"),[4,Ns(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,ja(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function gz(e,t,n){return ce(this,void 0,void 0,function(){var r,i;return ue(this,function(s){switch(s.label){case 0:r=ke(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=ke(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c.zo.Pi(h,l).next(function(f){return We(f!==null),p=f.keys(),c.zo.Ci(h,f)}).next(function(){return c.zo.$i(h)}).next(function(){return c.Tc.Xo(h,p)})})}(r.bh,t)];case 2:return i=s.sent(),ew(r,t,n),Z0(r,t),r.Vl.Na(t,"rejected",n),[4,Ns(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,ja(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function vz(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a;return ue(this,function(l){switch(l.label){case 0:Cs((n=ke(e)).yl)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=ke(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h.zo.Vi(p)})}(n.bh)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fl.get(r)||[]).push(t),n.Fl.set(r,i),[3,4]);case 3:return s=l.sent(),a=bl(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Z0(e,t){(e.Fl.get(t)||[]).forEach(function(n){n.resolve()}),e.Fl.delete(t)}function ew(e,t,n){var r=ke(e),i=r.$l[r.currentUser.A()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.$l[r.currentUser.A()]=i}}function ol(e,t,n){n===void 0&&(n=null),e.Vl.ka(t);for(var r=0,i=e.Sl.get(t);r<i.length;r++){var s=i[r];e.vl.delete(s),n&&e.bl.Bl(s,n)}e.Sl.delete(t),e.Ml&&e.Nl.Fc(t).forEach(function(a){e.Nl.Fi(a)||pP(e,a)})}function pP(e,t){e.Dl.delete(t.path.rt());var n=e.Cl.get(t);n!==null&&(af(e.yl,n),e.Cl=e.Cl.remove(t),e.xl.delete(n),tw(e))}function Mb(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof cP?(e.Nl.nr(s.key,t),yz(e,s)):s instanceof fP?(be("SyncEngine","Document no longer in limbo: "+s.key),e.Nl.ir(s.key,t),e.Nl.Fi(s.key)||pP(e,s.key)):Ue()}}function yz(e,t){var n=t.key,r=n.path.rt();e.Cl.get(n)||e.Dl.has(r)||(be("SyncEngine","New document in limbo: "+n),e.Dl.add(r),tw(e))}function tw(e){for(;e.Dl.size>0&&e.Cl.size<e.pl;){var t=e.Dl.values().next().value;e.Dl.delete(t);var n=new $e(At.ot(t)),r=e.Ol.next();e.xl.set(r,new lz(n)),e.Cl=e.Cl.zt(n,r),um(e.yl,new rm(Yi(Vf(n.path)),r,2,Ur.q))}}function Ns(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a;return ue(this,function(l){switch(l.label){case 0:return r=ke(e),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(c,h){a.push(r.Ll(h,t,n).then(function(p){if(p){r.Ml&&r.Vl.Ba(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var f=AG.oc(h.targetId,p);s.push(f)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.bl.ah(i),[4,function(c,h){return ce(this,void 0,void 0,function(){var p,f,m,v,y,_,w,E,k;return ue(this,function(I){switch(I.label){case 0:p=ke(c),I.label=1;case 1:return I.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(C){return de.forEach(h,function(M){return de.forEach(M.ic,function(A){return p.persistence.Ti.nr(C,M.targetId,A)}).next(function(){return de.forEach(M.rc,function(A){return p.persistence.Ti.ir(C,M.targetId,A)})})})})];case 2:return I.sent(),[3,4];case 3:if(!$a(f=I.sent()))throw f;return be("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(m=0,v=h;m<v.length;m++)y=v[m],_=y.targetId,y.fromCache||(w=p.fc.get(_),E=w.Ot,k=w.Lt(E),p.fc=p.fc.zt(_,k));return[2]}})})}(r.bh,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function bz(e,t){return ce(this,void 0,void 0,function(){var n,r;return ue(this,function(i){switch(i.label){case 0:return(n=ke(e)).currentUser.isEqual(t)?[3,3]:(be("SyncEngine","User change. New user:",t.A()),[4,QO(n.bh,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fl.forEach(function(l){l.forEach(function(c){c.reject(new he(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(t,r.mc,r.Ac),[4,Ns(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function _z(e,t){var n=ke(e),r=n.xl.get(t);if(r&&r.Pl)return jt().add(r.key);var i=jt(),s=n.Sl.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.vl.get(c);i=i.Pe(h.view._l)}return i}function wz(e,t){return ce(this,void 0,void 0,function(){var n,r,i;return ue(this,function(s){switch(s.label){case 0:return[4,mp((n=ke(e)).bh,t.query,!0)];case 1:return r=s.sent(),i=t.view.Al(r),[2,(n.Ml&&Mb(n,t.targetId,i.Il),i)]}})})}function Ez(e){return ce(this,void 0,void 0,function(){var t;return ue(this,function(n){return[2,tP((t=ke(e)).bh).then(function(r){return Ns(t,r)})]})})}function Tz(e,t,n,r){return ce(this,void 0,void 0,function(){var i,s;return ue(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=ke(l),p=ke(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return p.yi(f,c).next(function(m){return m?h.Tc.Xo(f,m):de.resolve(null)})})}((i=ke(e)).bh,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,El(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(ew(i,t,r||null),Z0(i,t),function(l,c){ke(ke(l).zo).xi(c)}(i.bh,t)):Ue(),a.label=4;case 4:return[4,Ns(i,s)];case 5:return a.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function Sz(e,t){return ce(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return ue(this,function(p){switch(p.label){case 0:return nw(n=ke(e)),rw(n),t!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,wA(n,r.it())]);case 1:return i=p.sent(),n.kl=!0,[4,Db(n.yl,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],um(n.yl,l);return[3,7];case 3:return t!==!1||n.kl===!1?[3,7]:(c=[],h=Promise.resolve(),n.Sl.forEach(function(f,m){n.Vl.Ma(m)?c.push(m):h=h.then(function(){return ol(n,m),il(n.bh,m,!0)}),af(n.yl,m)}),[4,h]);case 4:return p.sent(),[4,wA(n,c)];case 5:return p.sent(),function(f){var m=ke(f);m.xl.forEach(function(v,y){af(m.yl,y)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new Qn($e.H)}(n),n.kl=!1,[4,Db(n.yl,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function wA(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,f,m,v,y,_,w;return ue(this,function(E){switch(E.label){case 0:r=ke(e),i=[],s=[],a=0,l=t,E.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Sl.get(c))&&p.length!==0?[4,pp(r.bh,Yi(p[0]))]:[3,7]):[3,13];case 2:h=E.sent(),f=0,m=p,E.label=3;case 3:return f<m.length?(v=m[f],y=r.vl.get(v),[4,wz(r,y)]):[3,6];case 4:(_=E.sent()).snapshot&&s.push(_.snapshot),E.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,eP(r.bh,c)];case 8:return w=E.sent(),[4,pp(r.bh,w)];case 9:return h=E.sent(),[4,Q0(r,mP(w),c,!1)];case 10:E.sent(),E.label=11;case 11:i.push(h),E.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function mP(e){return hO(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Iz(e){var t=ke(e);return ke(ke(t.bh).persistence).Uo()}function Az(e,t,n,r){return ce(this,void 0,void 0,function(){var i,s,a;return ue(this,function(l){switch(l.label){case 0:return(i=ke(e)).kl?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,tP(i.bh)];case 3:return s=l.sent(),a=D0.Me(t,n==="current"),[4,Ns(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,il(i.bh,t,!0)];case 6:return l.sent(),ol(i,t,r),[3,8];case 7:Ue(),l.label=8;case 8:return[2]}})})}function xz(e,t,n){return ce(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,f,m;return ue(this,function(v){switch(v.label){case 0:if(!(r=nw(e)).kl)return[3,10];i=0,s=t,v.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(be("SyncEngine","Adding an already active target "+a),[3,5]):[4,eP(r.bh,a)]):[3,6];case 2:return l=v.sent(),[4,pp(r.bh,l)];case 3:return c=v.sent(),[4,Q0(r,mP(l),c.targetId,!1)];case 4:v.sent(),um(r.yl,c),v.label=5;case 5:return i++,[3,1];case 6:h=function(y){return ue(this,function(_){switch(_.label){case 0:return r.Sl.has(y)?[4,il(r.bh,y,!1).then(function(){af(r.yl,y),ol(r,y)}).catch(ja)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})},p=0,f=n,v.label=7;case 7:return p<f.length?(m=f[p],[5,h(m)]):[3,10];case 8:v.sent(),v.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function nw(e){var t=ke(e);return t.yl.Dh.Lh=dP.bind(null,t),t.yl.Dh.vn=_z.bind(null,t),t.yl.Dh.Mh=pz.bind(null,t),t.bl.ah=sz.bind(null,t.gl),t.bl.Bl=az.bind(null,t.gl),t}function rw(e){var t=ke(e);return t.yl.Dh.Bh=mz.bind(null,t),t.yl.Dh.qh=gz.bind(null,t),t}var gP=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return ce(this,void 0,void 0,function(){return ue(this,function(n){switch(n.label){case 0:return this.Qt=am(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},e.prototype.zl=function(t){return null},e.prototype.Hl=function(t){return JO(this.persistence,new XO,t.Jl,this.Qt)},e.prototype.jl=function(t){return new UG($G.ia,this.Qt)},e.prototype.Wl=function(t){return new nP},e.prototype.terminate=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},e}(),vP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return Ce(t,e),t.prototype.initialize=function(n){return ce(this,void 0,void 0,function(){return ue(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,PG(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,rw(this.Yl._a)];case 4:return r.sent(),[4,El(this.Yl.yl)];case 5:return r.sent(),[2]}})})},t.prototype.Hl=function(n){return JO(this.persistence,new XO,n.Jl,this.Qt)},t.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new bG(r,n._s)},t.prototype.jl=function(n){var r=B0(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?Fi.Ys(this.cacheSizeBytes):Fi.ti;return new IG(this.synchronizeTabs,r,n.clientId,i,n._s,rP(),kd(),this.Qt,this.Vl,!!this.forceOwnership)},t.prototype.Wl=function(n){return new nP},t}(gP),kz=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ce(t,e),t.prototype.initialize=function(n){return ce(this,void 0,void 0,function(){var r,i=this;return ue(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof Ay?(this.Vl._a={eu:Tz.bind(null,r),nu:Az.bind(null,r),su:xz.bind(null,r),Uo:Iz.bind(null,r),tu:Ez.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return ce(i,void 0,void 0,function(){return ue(this,function(l){switch(l.label){case 0:return[4,Sz(this.Yl._a,a)];case 1:return l.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Wl=function(n){var r=rP();if(!Ay.Kn(r))throw new he(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=B0(n.yu.t,n.yu.persistenceKey);return new Ay(r,n._s,i,n.clientId,n.Jl)},t}(vP),Fb=function(){function e(){}return e.prototype.initialize=function(t,n){return ce(this,void 0,void 0,function(){var r=this;return ue(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!t.synchronizeTabs),this.Vl.fa=function(s){return _A(r._a,s,1)},this.yl.Dh.n_=bz.bind(null,this._a),[4,Db(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.t_=function(t){return new oz},e.prototype.Xl=function(t){var n,r=am(t.yu.t),i=(n=t.yu,new zG(n));return function(s,a,l){return new KG(s,a,l)}(t.credentials,i,r)},e.prototype.Zl=function(t){var n,r,i,s,a,l=this;return n=this.bh,r=this.Sh,i=t._s,s=function(c){return _A(l._a,c,0)},a=bA.Kn()?new bA:new BG,new XG(n,r,i,s,a)},e.prototype.e_=function(t,n){return function(r,i,s,a,l,c,h){var p=new cz(r,i,s,a,l,c);return h&&(p.kl=!0),p}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,n)},e.prototype.terminate=function(){return function(t){return ce(this,void 0,void 0,function(){var n;return ue(this,function(r){switch(r.label){case 0:return n=ke(t),be("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,wl(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.i_=function(){this.muted=!0},e.prototype.s_=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),vo=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new he(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Ii(t)}return e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(),Ba=function(e){this._methodName=e},bt=function(e){this.d_=e};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e,t,n){if(!n)throw new he(K.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function ow(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new he(K.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function yP(e,t,n,r){if(t===!0&&r===!0)throw new he(K.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function EA(e){if(!$e.wt(e))throw new he(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function TA(e){if($e.wt(e))throw new he(K.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function cm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Ue()}function kt(e,t){if("_delegate"in e&&(e=e.d_),!(e instanceof t)){if(t.name===e.constructor.name)throw new he(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cm(e);throw new he(K.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function SA(e,t){if(t<=0)throw new he(K.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IA=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new he(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new he(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,yP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),AA=new Map,uf=function(){function e(t,n){this.w_="(lite)",this.E_=new IA({}),this.T_=!1,t instanceof rp?(this.I_=t,this.m_=new DI):(this.A_=t,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rp(r.options.projectId)}(t),this.m_=new _4(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.A_)throw new he(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),e.prototype.g_=function(t){if(this.T_)throw new he(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new IA(t),t.credentials!==void 0&&(this.m_=function(n){if(!n)return new DI;switch(n.type){case"gapi":var r=n.client;return We(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new E4(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new he(K.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.V_=function(){return this.E_},e.prototype.p_=function(){return this.T_=!0,this.E_},e.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},e.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},e.prototype.b_=function(){return t=this,(n=AA.get(t))&&(be("ComponentProvider","Removing Datastore"),AA.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Qt=function(){function e(t,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hs(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.S_)},e}(),Gr=function(){function e(t,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.C_)},e}(),hs=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Vf(i))||this).firestore=n,s.D_=i,s.type="collection",s}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Qt(this.firestore,null,new $e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this.D_)},t}(Gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof bt&&(e=e.d_),iw("collection","path",t),e instanceof uf)return TA(n=At.ot.apply(At,zn([t],r))),new hs(e,null,n);if(!(e instanceof Qt||e instanceof hs))throw new he(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TA(n=At.ot.apply(At,zn([e.path],r)).child(At.ot(t))),new hs(e.firestore,null,n)}function Cd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof bt&&(e=e.d_),arguments.length===1&&(t=iO.u()),iw("doc","path",t),e instanceof uf)return EA(n=At.ot.apply(At,zn([t],r))),new Qt(e,null,new $e(n));if(!(e instanceof Qt||e instanceof hs))throw new he(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return EA(n=e.D_.child(At.ot.apply(At,zn([t],r)))),new Qt(e.firestore,e instanceof hs?e.v_:null,new $e(n))}function _P(e,t){return e instanceof bt&&(e=e.d_),t instanceof bt&&(t=t.d_),(e instanceof Qt||e instanceof hs)&&(t instanceof Qt||t instanceof hs)&&e.firestore===t.firestore&&e.path===t.path&&e.v_===t.v_}function wP(e,t){return e instanceof bt&&(e=e.d_),t instanceof bt&&(t=t.d_),e instanceof Gr&&t instanceof Gr&&e.firestore===t.firestore&&$f(e.C_,t.C_)&&e.v_===t.v_}var fm=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new he(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new he(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=t,this.N_=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},e.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},e.prototype.U=function(t){return ft(this.x_,t.x_)||ft(this.N_,t.N_)},e}(),Cz=/^__.*__$/,Nz=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return this.Gt!==null?new ks(t,this.data,this.Gt,n,this.fieldTransforms):new Hf(t,this.data,n,this.fieldTransforms)},e}(),EP=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return new ks(t,this.data,this.Gt,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}var SP=function(){function e(t,n,r,i,s,a){this.settings=t,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),e.prototype.M_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},e.prototype.L_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.q_(t),i},e.prototype.U_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.O_(),i},e.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},e.prototype.K_=function(t){return vp(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},e.prototype.contains=function(t){return this.Gt.find(function(n){return t.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return t.nt(n.field)})!==void 0},e.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},e.prototype.q_=function(t){if(t.length===0)throw this.K_("Document fields must not be empty");if(TP(this.k_)&&Cz.test(t))throw this.K_('Document fields cannot begin and end with "__"')},e}(),Oz=function(){function e(t,n,r){this.t=t,this.ignoreUndefinedProperties=n,this.Qt=r||am(t)}return e.prototype.G_=function(t,n,r,i){return i===void 0&&(i=!1),new SP({k_:t,methodName:n,j_:r,path:Ii.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},e}();function Ha(e){var t=e.p_(),n=am(e.I_);return new Oz(e.I_,!!t.ignoreUndefinedProperties,n)}function hm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.G_(s.merge||s.mergeFields?2:0,t,n,i);lw("Data must be an object, but it was:",a,r);var l,c,h=xP(r,a);if(s.merge)l=new Wu(a.Gt),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],f=0,m=s.mergeFields;f<m.length;f++){var v=Ub(t,m[f],n);if(!a.contains(v))throw new he(K.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");CP(p,v)||p.push(v)}l=new Wu(p),c=a.fieldTransforms.filter(function(y){return l.Tt(y.field)})}else l=null,c=a.fieldTransforms;return new Nz(new _s(h),l,c)}var sw=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ba);function IP(e,t,n){return new SP({k_:3,j_:t.settings.j_,methodName:e._methodName,B_:n},t.t,t.Qt,t.ignoreUndefinedProperties)}var Pz=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.z_=function(n){return new Bf(n.path,new Ju)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ba),Lz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return Ce(t,e),t.prototype.z_=function(n){var r=IP(this,n,!0),i=this.H_.map(function(a){return Ga(a,r)}),s=new Na(i);return new Bf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ba),Rz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return Ce(t,e),t.prototype.z_=function(n){var r=IP(this,n,!0),i=this.H_.map(function(a){return Ga(a,r)}),s=new Oa(i);return new Bf(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ba),Dz=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).J_=r,i}return Ce(t,e),t.prototype.z_=function(n){var r=new Qu(n.Qt,yO(n.Qt,this.J_));return new Bf(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ba);function aw(e,t,n,r){var i=e.G_(1,t,n);lw("Data must be an object, but it was:",i,r);var s=[],a=new Ff;Mf(r,function(c,h){var p=cw(t,c,n);h instanceof bt&&(h=h.d_);var f=i.U_(p);if(h instanceof sw)s.push(p);else{var m=Ga(h,f);m!=null&&(s.push(p),a.set(p,m))}});var l=new Wu(s);return new EP(a.Pt(),l,i.fieldTransforms)}function uw(e,t,n,r,i,s){var a=e.G_(1,t,n),l=[Ub(t,r,n)],c=[i];if(s.length%2!=0)throw new he(K.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(Ub(t,s[h])),c.push(s[h+1]);for(var p=[],f=new Ff,m=l.length-1;m>=0;--m)if(!CP(p,l[m])){var v=l[m],y=c[m];y instanceof bt&&(y=y.d_);var _=a.U_(v);if(y instanceof sw)p.push(v);else{var w=Ga(y,_);w!=null&&(p.push(v),f.set(v,w))}}var E=new Wu(p);return new EP(f.Pt(),E,a.fieldTransforms)}function AP(e,t,n,r){return r===void 0&&(r=!1),Ga(n,e.G_(r?4:3,t))}function Ga(e,t){if(e instanceof bt&&(e=e.d_),kP(e))return lw("Unsupported field value:",t,e),xP(e,t);if(e instanceof Ba)return function(n,r){if(!TP(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.Gt.push(t.path),e instanceof Array){if(t.settings.B_&&t.k_!==4)throw t.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Ga(l[a],r.Q_(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if(n instanceof bt&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return yO(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Ir.fromDate(n);return{timestampValue:rf(r.Qt,i)}}if(n instanceof Ir)return i=new Ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:rf(r.Qt,i)};if(n instanceof fm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ca)return{bytesValue:CO(r.Qt,n.I)};if(n instanceof Qt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:F0(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+cm(n))}(e,t)}function xP(e,t){var n={};return aO(e)?t.path&&t.path.length>0&&t.Gt.push(t.path):Mf(e,function(r,i){var s=Ga(i,t.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kP(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ir||e instanceof fm||e instanceof Ca||e instanceof Qt||e instanceof Ba)}function lw(e,t,n){if(!kP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=cm(n);throw r==="an object"?t.K_(e+" a custom object"):t.K_(e+" "+r)}}function Ub(e,t,n){if(t instanceof bt&&(t=t.d_),t instanceof vo)return t.f_;if(typeof t=="string")return cw(e,t);throw vp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Mz=new RegExp("[~\\*/\\[\\]]");function cw(e,t,n){if(t.search(Mz)>=0)throw vp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(vo.bind.apply(vo,zn([void 0],t.split("."))))().f_}catch{throw vp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function vp(e,t,n,r,i){var s=r&&!r.et(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new he(K.INVALID_ARGUMENT,(l+=". ")+e+c)}function CP(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fz=function(){function e(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return e.prototype.ef=function(t){return ce(this,void 0,void 0,function(){var n,r=this;return ue(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new he(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return ce(this,void 0,void 0,function(){var l,c,h,p,f,m;return ue(this,function(v){switch(v.label){case 0:return l=ke(s),c=sf(l.Qt)+"/documents",h={documents:a.map(function(y){return of(l.Qt,y)})},[4,l.Du("BatchGetDocuments",c,h)];case 1:return p=v.sent(),f=new Map,p.forEach(function(y){var _=function(w,E){return"found"in E?function(k,I){We(!!I.found),I.found.name,I.found.updateTime;var C=mo(k,I.found.name),M=fr(I.found.updateTime),A=new _s({mapValue:{fields:I.found.fields}});return new Ft(C,M,A,{})}(w,E):"missing"in E?function(k,I){We(!!I.missing),We(!!I.readTime);var C=mo(k,I.missing),M=fr(I.readTime);return new On(C,M)}(w,E):Ue()}(l.Qt,y);f.set(_.key.toString(),_)}),m=[],[2,(a.forEach(function(y){var _=f.get(y.toString());We(!!_),m.push(_)}),m)]}})})}(this.Sh,t)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof On||s instanceof Ft?r.sf(s):Ue()}),n)]}})})},e.prototype.set=function(t,n){this.write(n.F_(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.F_(t,this.rf(t)))}catch(r){this.Z_=r}this.tf.add(t.toString())},e.prototype.delete=function(t){this.write(new Gf(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.commit=function(){return ce(this,void 0,void 0,function(){var t,n=this;return ue(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=$e._t(s);n.mutations.push(new R0(a,n.jt(a)))}),[4,function(i,s){return ce(this,void 0,void 0,function(){var a,l,c;return ue(this,function(h){switch(h.label){case 0:return a=ke(i),l=sf(a.Qt)+"/documents",c={writes:s.map(function(p){return fp(a.Qt,p)})},[4,a.pu("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},e.prototype.sf=function(t){var n;if(t instanceof Ft)n=t.version;else{if(!(t instanceof On))throw Ue();n=ut.min()}var r=this.Y_.get(t.key.toString());if(r){if(!n.isEqual(r))throw new he(K.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),n)},e.prototype.jt=function(t){var n=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&n?qn.updateTime(n):qn.Kt()},e.prototype.rf=function(t){var n=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&n){if(n.isEqual(ut.min()))throw new he(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qn.updateTime(n)}return qn.exists(!0)},e.prototype.write=function(t){this.nf(),this.mutations.push(t)},e.prototype.nf=function(){},e}(),Uz=function(){function e(t,n,r,i){this._s=t,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new G0(this._s,"transaction_retry")}return e.prototype.run=function(){this.af()},e.prototype.af=function(){var t=this;this.Gu.Lu(function(){return ce(t,void 0,void 0,function(){var n,r,i=this;return ue(this,function(s){return n=new Fz(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(l){i.hf(l)})})}).catch(function(a){i.hf(a)}),[2]})})})},e.prototype.uf=function(t){try{var n=this.updateFunction(t);return!Va(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},e.prototype.hf=function(t){var n=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(t)},e.prototype.lf=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!SO(n)}return!1},e}(),Vz=function(){function e(t,n,r){var i=this;this.credentials=t,this._s=n,this.yu=r,this.user=Mr.UNAUTHENTICATED,this.clientId=iO.u(),this._f=function(){},this.C=new Kr,this.credentials.v(function(s){be("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return e.prototype.getConfiguration=function(){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},e.prototype.ff=function(t){var n=this;this._f=t,this.C.promise.then(function(){return n._f(n.user)})},e.prototype.df=function(){if(this._s.wf)throw new he(K.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this._s.Ef();var n=new Kr;return this._s.Tf(function(){return ce(t,void 0,void 0,function(){var r,i;return ue(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=bl(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e,t){return ce(this,void 0,void 0,function(){var n,r,i=this;return ue(this,function(s){switch(s.label){case 0:return e._s.Af(),be("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.Jl,e.ff(function(a){r.isEqual(a)||(r=a,e._s.po(function(){return ce(i,void 0,void 0,function(){return ue(this,function(l){switch(l.label){case 0:return[4,QO(t.bh,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.Po(function(){return e.terminate()}),e.mf=t,[2]}})})}function OP(e,t){return ce(this,void 0,void 0,function(){var n,r;return ue(this,function(i){switch(i.label){case 0:return e._s.Af(),[4,fw(e)];case 1:return n=i.sent(),be("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.ff(function(s){return e._s.po(function(){return function(a,l){return ce(this,void 0,void 0,function(){var c,h;return ue(this,function(p){switch(p.label){case 0:return(c=ke(a))._s.Af(),be("RemoteStore","RemoteStore received new credentials"),h=Cs(c),c.Nh.add(3),[4,wl(c)];case 1:return p.sent(),h&&c.Oh.set("Unknown"),[4,c.Dh.n_(l)];case 2:return p.sent(),c.Nh.delete(3),[4,zf(c)];case 3:return p.sent(),[2]}})})}(t.yl,s)})}),e.If=t,[2]}})})}function fw(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return e.mf?[3,2]:(be("FirestoreClient","Using default OfflineComponentProvider"),[4,NP(e,new gP)]);case 1:t.sent(),t.label=2;case 2:return[2,e.mf]}})})}function dm(e){return ce(this,void 0,void 0,function(){return ue(this,function(t){switch(t.label){case 0:return e.If?[3,2]:(be("FirestoreClient","Using default OnlineComponentProvider"),[4,OP(e,new Fb)]);case 1:t.sent(),t.label=2;case 2:return[2,e.If]}})})}function xA(e){return fw(e).then(function(t){return t.persistence})}function PP(e){return fw(e).then(function(t){return t.bh})}function kA(e){return dm(e).then(function(t){return t.yl})}function LP(e){return dm(e).then(function(t){return t._a})}function sl(e){return ce(this,void 0,void 0,function(){var t,n;return ue(this,function(r){switch(r.label){case 0:return[4,dm(e)];case 1:return t=r.sent(),[2,((n=t.gl).jh=fz.bind(null,t._a),n.Hh=hz.bind(null,t._a),n)]}})})}function CA(e,t,n){var r=this;n===void 0&&(n={});var i=new Kr;return e._s.Ps(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,f){var m=new lm({next:function(y){c.Ps(function(){return Y0(l,v)});var _=y.docs.has(h);!_&&y.fromCache?f.reject(new he(K.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&p&&p.source==="server"?f.reject(new he(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:function(y){return f.reject(y)}}),v=new J0(Vf(h.path),m,{includeMetadataChanges:!0,nl:!0});return K0(l,v)},[4,sl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}function NA(e,t,n){var r=this;n===void 0&&(n={});var i=new Kr;return e._s.Ps(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,f){var m=new lm({next:function(y){c.Ps(function(){return Y0(l,v)}),y.fromCache&&p.source==="server"?f.reject(new he(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:function(y){return f.reject(y)}}),v=new J0(h,m,{includeMetadataChanges:!0,nl:!0});return K0(l,v)},[4,sl(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}var $z=function(){function e(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new G0(this,"async_queue_retry"),this.vf=function(){var r=kd();r&&be("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Gu.qu()};var n=kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(e.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),e.prototype.Ps=function(t){this.enqueue(t)},e.prototype.Tf=function(t){this.Sf(),this.Df(t)},e.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=kd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.vf)}},e.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(t)},e.prototype.po=function(t){var n=this;this.Ps(function(){return n.Pf.push(t),n.Cf()})},e.prototype.Cf=function(){return ce(this,void 0,void 0,function(){var t,n=this;return ue(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!$a(t=r.sent()))throw t;return be("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},e.prototype.Df=function(t){var n=this,r=this.Rf.then(function(){return n.pf=!0,t().catch(function(i){throw n.Vf=i,n.pf=!1,gn("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},e.prototype.Tr=function(t,n,r){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(n=0);var s=sG.Ts(this,t,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},e.prototype.Sf=function(){this.Vf&&Ue()},e.prototype.Af=function(){},e.prototype.Nf=function(){return ce(this,void 0,void 0,function(){var t;return ue(this,function(n){switch(n.label){case 0:return[4,t=this.Rf];case 1:n.sent(),n.label=2;case 2:if(t!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.$f=function(t){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===t)return!0;return!1},e.prototype.Ff=function(t){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,l){return a.ds-l.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),t!=="all"&&s.fs===t)break}return n.Nf()})},e.prototype.Of=function(t){this.bf.push(t)},e.prototype.xf=function(t){var n=this.gf.indexOf(t);this.gf.splice(n,1)},e}();function al(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var jz=-1,_n=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Bf=new $z,i.w_="name"in n?n.name:"[DEFAULT]",i}return Ce(t,e),t.prototype.b_=function(){return this.qf||RP(this),this.qf.terminate()},t}(uf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(e){return e.qf||RP(e),e.qf.df(),e.qf}function RP(e){var t=e.p_(),n=function(r,i,s){return new v4(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(e.I_,e.w_,t);e.qf=new Vz(e.m_,e.Bf,n)}function OA(e,t,n){var r=this,i=new Kr;return e._s.enqueue(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,NP(e,n)];case 1:return a.sent(),[4,OP(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function PA(e){if(e.R_||e.P_)throw new he(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hw=function(){function e(){}return e.prototype.Uf=function(t,n){switch(n===void 0&&(n="none"),bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pn(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,n);case 5:return t.stringValue;case 6:return this.Wf(Ku(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,n);case 10:return this.Hf(t.mapValue,n);default:throw Ue()}},e.prototype.Hf=function(t,n){var r=this,i={};return Mf(t.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},e.prototype.Gf=function(t){return new fm(pn(t.latitude),pn(t.longitude))},e.prototype.zf=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.Uf(i,n)})},e.prototype.Kf=function(t,n){switch(n){case"previous":var r=uO(t);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Zc(t));default:return null}},e.prototype.Qf=function(t){var n=ys(t);return new Ir(n.seconds,n.nanos)},e.prototype.Jf=function(t,n){var r=At.ot(t);We(FO(r));var i=new rp(r.get(1),r.get(3)),s=new $e(r.Y(5));return i.isEqual(n)||gn("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}(),lf=function(){function e(t,n,r,i,s){this.Yf=t,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Qt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this.Zf!==null},e.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Bz(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},e.prototype.get=function(t){if(this.Zf){var n=this.Zf.data().field(yp("DocumentSnapshot.get",t));if(n!==null)return this.Xf.Uf(n)}},e}(),Bz=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(lf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(e,t){return typeof t=="string"?cw(e,t):t instanceof bt?t.d_.f_:t.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(e){if(up(e)&&e.xt.length===0)throw new he(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qf=function(){};function $o(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s.td(e)}return e}var Hz=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return Ce(t,e),t.prototype.td=function(n){var r=Ha(n.firestore),i=function(s,a,l,c,h,p,f){var m;if(h.ut()){if(p==="array-contains"||p==="array-contains-any")throw new he(K.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){FA(f,p);for(var v=[],y=0,_=f;y<_.length;y++){var w=_[y];v.push(MA(c,s,w))}m={arrayValue:{values:v}}}else m=MA(c,s,f)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||FA(f,p),m=AP(l,"where",f,p==="in"||p==="not-in");var E=Vr.create(h,p,m);return function(k,I){if(I.Ct()){var C=O0(k);if(C!==null&&!C.isEqual(I.field))throw new he(K.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+C.toString()+"' and '"+I.field.toString()+"'");var M=N0(k);M!==null&&FP(k,I.field,M)}var A=function(j,U){for(var P=0,z=j.filters;P<z.length;P++){var L=z[P];if(U.indexOf(L.op)>=0)return L.op}return null}(k,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(I.op));if(A!==null)throw A===I.op?new he(K.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+I.op.toString()+"' filter."):new he(K.INVALID_ARGUMENT,"Invalid query. You cannot use '"+I.op.toString()+"' filters with '"+A.toString()+"' filters.")}(s,E),E}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new Gr(n.firestore,n.v_,function(s,a){var l=s.filters.concat([a]);return new To(s.path,s.collectionGroup,s.xt.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},t}(qf),Gz=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return Ce(t,e),t.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new he(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Uu(s,a);return function(c,h){if(N0(c)===null){var p=O0(c);p!==null&&FP(c,p,h.field)}}(i,l),l}(n.C_,this.ed,this.rd);return new Gr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new To(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},t}(qf),LA=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.od=r,s.ad=i,s}return Ce(t,e),t.prototype.td=function(n){return new Gr(n.firestore,n.v_,dO(n.C_,this.od,this.ad))},t}(qf),RA=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return Ce(t,e),t.prototype.td=function(n){var r=MP(n,this.type,this.ud,this.hd);return new Gr(n.firestore,n.v_,function(i,s){return new To(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},t}(qf),DA=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return Ce(t,e),t.prototype.td=function(n){var r=MP(n,this.type,this.ud,this.hd);return new Gr(n.firestore,n.v_,function(i,s){return new To(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},t}(qf);function MP(e,t,n,r){if(n[0]instanceof bt&&(n[0]=n[0].d_),n[0]instanceof lf)return function(s,a,l,c,h){if(!c)throw new he(K.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],f=0,m=Xu(s);f<m.length;f++){var v=m[f];if(v.field.ut())p.push(op(a,c.key));else{var y=c.field(v.field);if(S0(y))throw new he(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){var _=v.field.rt();throw new he(K.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+_+"' (used as the orderBy) does not exist.")}p.push(y)}}return new tf(p,h)}(e.C_,e.firestore.I_,t,n[0].Zf,r);var i=Ha(e.firestore);return function(s,a,l,c,h,p){var f=s.xt;if(h.length>f.length)throw new he(K.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],v=0;v<h.length;v++){var y=h[v];if(f[v].field.ut()){if(typeof y!="string")throw new he(K.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof y);if(!P0(s)&&y.indexOf("/")!==-1)throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+y+"' contains a slash.");var _=s.path.child(At.ot(y));if(!$e.wt(_))throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+_+"' is not because it contains an odd number of segments.");var w=new $e(_);m.push(op(a,w))}else{var E=AP(l,c,y);m.push(E)}}return new tf(m,p)}(e.C_,e.firestore.I_,i,t,n,r)}function MA(e,t,n){if(n instanceof bt&&(n=n.d_),typeof n=="string"){if(n==="")throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(t)&&n.indexOf("/")!==-1)throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(At.ot(n));if(!$e.wt(r))throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return op(e,new $e(r))}if(n instanceof Qt)return op(e,n.S_);throw new he(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cm(n)+".")}function FA(e,t){if(!Array.isArray(e)||e.length===0)throw new he(K.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new he(K.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function FP(e,t,n){if(!n.isEqual(t))throw new he(K.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var zz=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.Wf=function(n){return new Ca(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Qt(this.firestore,null,r)},t}(hw),ga=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),yo=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this).Yf=n,c.ld=n,c.metadata=a,c}return Ce(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new Oc(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(yp("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},t}(lf),Oc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(yo),ts=function(){function e(t,n,r,i){this.Yf=t,this.Xf=n,this._d=i,this.metadata=new ga(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._d.docs.forEach(function(i){t.call(n,new Oc(r.Yf,r.Xf,i.key,i,new ga(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._d.xe)throw new he(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(l){var c=new Oc(r.Yf,r.Xf,l.doc.key,l.doc,new ga(r._d.De.has(l.doc.key),r._d.fromCache),r.query.v_);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Oc(r.Yf,r.Xf,l.doc.key,l.doc,new ga(r._d.De.has(l.doc.key),r._d.fromCache),r.query.v_),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:qz(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this.dd=n),this.fd},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}function UP(e,t){return e instanceof yo&&t instanceof yo?e.Yf===t.Yf&&e.S_.isEqual(t.S_)&&(e.Zf===null?t.Zf===null:e.Zf.isEqual(t.Zf))&&e.v_===t.v_:e instanceof ts&&t instanceof ts&&e.Yf===t.Yf&&wP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._d.isEqual(t._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.Wf=function(n){return new Ca(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Qt(this.firestore,null,r)},t}(hw);function UA(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=kt(e,Qt);var s=kt(e.firestore,_n),a=Ha(s);return t instanceof bt&&(t=t.d_),cf(s,[(typeof t=="string"||t instanceof vo?uw(a,"updateDoc",e.S_,t,n,r):aw(a,"updateDoc",e.S_,t)).F_(e.S_,qn.exists(!0))])}function VP(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e instanceof bt&&(e=e.d_);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||al(i[l])||(a=i[l],l++);var c,h,p,f={includeMetadataChanges:a.includeMetadataChanges};if(al(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Qt)h=kt(e.firestore,_n),p=Vf(e.S_.path),c={next:function(_){i[l]&&i[l](Vb(h,e,_))},error:i[l+1],complete:i[l+2]};else{var v=kt(e,Gr);h=kt(v.firestore,_n),p=v.C_;var y=new wa(h);c={next:function(_){i[l]&&i[l](new ts(h,y,v,_))},error:i[l+1],complete:i[l+2]},DP(e.C_)}return function(_,w,E,k){var I=this,C=new lm(k),M=new J0(w,C,E);return _._s.Ps(function(){return ce(I,void 0,void 0,function(){var A;return ue(this,function(j){switch(j.label){case 0:return A=K0,[4,sl(_)];case 1:return[2,A.apply(void 0,[j.sent(),M])]}})})}),function(){C.i_(),_._s.Ps(function(){return ce(I,void 0,void 0,function(){var A;return ue(this,function(j){switch(j.label){case 0:return A=Y0,[4,sl(_)];case 1:return[2,A.apply(void 0,[j.sent(),M])]}})})})}}(Bn(h),p,f,c)}function cf(e,t){return function(n,r){var i=this,s=new Kr;return n._s.Ps(function(){return ce(i,void 0,void 0,function(){var a;return ue(this,function(l){switch(l.label){case 0:return a=dz,[4,LP(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(Bn(e),t)}function Vb(e,t,n){var r=n.docs.get(t.S_),i=new wa(e);return new yo(e,i,t.S_,r,new ga(n.hasPendingWrites,n.fromCache),t.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wz=function(){function e(t,n){this.Yf=t,this.wd=n,this.Ed=[],this.Td=!1,this.Id=Ha(t)}return e.prototype.set=function(t,n,r){this.md();var i=ns(t,this.Yf),s=pm(i.v_,n,r),a=hm(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,qn.Kt())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,l=ns(t,this.Yf);return n instanceof bt&&(n=n.d_),a=typeof n=="string"||n instanceof vo?uw(this.Id,"WriteBatch.update",l.S_,n,r,i):aw(this.Id,"WriteBatch.update",l.S_,n),this.Ed.push(a.F_(l.S_,qn.exists(!0))),this},e.prototype.delete=function(t){this.md();var n=ns(t,this.Yf);return this.Ed=this.Ed.concat(new Gf(n.S_,qn.Kt())),this},e.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},e.prototype.md=function(){if(this.Td)throw new he(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ns(e,t){if(e instanceof bt&&(e=e.d_),e.firestore!==t)throw new he(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kz=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Yf=n,i}return Ce(t,e),t.prototype.get=function(n){var r=this,i=ns(n,this.Yf),s=new wa(this.Yf);return e.prototype.get.call(this,n).then(function(a){return new yo(r.Yf,s,i.S_,a.Zf,new ga(!1,!1),i.v_)})},t}(function(){function e(t,n){this.Yf=t,this.Ad=n,this.Id=Ha(t)}return e.prototype.get=function(t){var n=this,r=ns(t,this.Yf),i=new zz(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return Ue();var a=s[0];if(a instanceof On)return new lf(n.Yf,i,r.S_,null,r.v_);if(a instanceof Ft)return new lf(n.Yf,i,a.key,a,r.v_);throw Ue()})},e.prototype.set=function(t,n,r){var i=ns(t,this.Yf),s=pm(i.v_,n,r),a=hm(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=ns(t,this.Yf);return n instanceof bt&&(n=n.d_),a=typeof n=="string"||n instanceof vo?uw(this.Id,"Transaction.update",l.S_,n,r,i):aw(this.Id,"Transaction.update",l.S_,n),this.Ad.update(l.S_,a),this},e.prototype.delete=function(t){var n=ns(t,this.Yf);return this.Ad.delete(n.S_),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof Uint8Array>"u")throw new he(K.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $A(){if(typeof atob>"u")throw new he(K.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $P=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.fromBase64String=function(n){return $A(),new t(Ca.fromBase64String(n))},t.fromUint8Array=function(n){return VA(),new t(Ca.fromUint8Array(n))},t.prototype.toBase64=function(){return $A(),this.d_.toBase64()},t.prototype.toUint8Array=function(){return VA(),this.d_.toUint8Array()},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(bt),Yz=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){PA(r=kt(r,_n));var s=Bn(r),a=r.p_(),l=new Fb;return OA(s,l,new vP(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t.d_,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){PA(n=kt(n,_n));var r=Bn(n),i=n.p_(),s=new Fb;return OA(r,s,new kz(s,i.cacheSizeBytes))}(t.d_)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n.R_&&!n.P_)throw new he(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Kr;return n.Bf.Tf(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return ce(this,void 0,void 0,function(){var c;return ue(this,function(h){switch(h.label){case 0:return Zu.Kn()?(c=l+"main",[4,Zu.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(B0(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t.d_)},e}(),jP=function(e){function t(n,r,i){var s=this;return(s=e.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof rp||(s.Pd=n),s}return Ce(t,e),Object.defineProperty(t.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},t.prototype.useEmulator=function(n,r){(function(i,s,a){var l=(i=kt(i,uf)).V_();l.host!=="firestore.googleapis.com"&&l.host!==s&&xb("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},l),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},t.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return ce(r,void 0,void 0,function(){var i,s;return ue(this,function(a){switch(a.label){case 0:return[4,xA(n)];case 1:return i=a.sent(),[4,kA(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(l){var c=ke(l);return c.Nh.delete(0),zf(c)}(s))]}})})})}(Bn(kt(this.d_,_n)))},t.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return ce(r,void 0,void 0,function(){var i,s;return ue(this,function(a){switch(a.label){case 0:return[4,xA(n)];case 1:return i=a.sent(),[4,kA(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(l){return ce(this,void 0,void 0,function(){var c;return ue(this,function(h){switch(h.label){case 0:return(c=ke(l)).Nh.add(0),[4,wl(c)];case 1:return h.sent(),c.Oh.set("Offline"),[2]}})})}(s))]}})})})}(Bn(kt(this.d_,_n)))},t.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&yP("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new Kr;return n._s.Ps(function(){return ce(r,void 0,void 0,function(){var s;return ue(this,function(a){switch(a.label){case 0:return s=vz,[4,LP(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(Bn(kt(this.d_,_n)))},t.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var l=this,c=new lm(a);return s._s.Ps(function(){return ce(l,void 0,void 0,function(){var h;return ue(this,function(p){switch(p.label){case 0:return h=function(f,m){ke(f).Wh.add(m),m.next()},[4,sl(s)];case 1:return[2,h.apply(void 0,[p.sent(),c])]}})})}),function(){c.i_(),s._s.Ps(function(){return ce(l,void 0,void 0,function(){var h;return ue(this,function(p){switch(p.label){case 0:return h=function(f,m){ke(f).Wh.delete(m)},[4,sl(s)];case 1:return[2,h.apply(void 0,[p.sent(),c])]}})})})}}(Bn(r=kt(r,_n)),al(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Pd)throw new he(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new bp(this,bP(this.d_,n))}catch(r){throw sr(r,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new Ea(this,Cd(this.d_,n))}catch(r){throw sr(r,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new vm(this,function(r,i){if(r=kt(r,uf),iw("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new he(K.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gr(r,null,function(s){return new To(At.ct(),s)}(i))}(this.d_,n))}catch(r){throw sr(r,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,l){var c=this,h=new Kr;return a._s.Ps(function(){return ce(c,void 0,void 0,function(){var p;return ue(this,function(f){switch(f.label){case 0:return[4,function(m){return dm(m).then(function(v){return v.Sh})}(a)];case 1:return p=f.sent(),new Uz(a._s,p,l,h).run(),[2]}})})}),h.promise}(Bn(i),function(a){return s(new Kz(i,a))})}(this.d_,function(i){return n(new BP(r,i))})},t.prototype.batch=function(){var n=this;return Bn(this.d_),new HP(new Wz(this.d_,function(r){return cf(n.d_,r)}))},t.prototype.loadBundle=function(n){throw new he(K.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new he(K.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(bt),mm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ce(t,e),t.prototype.Wf=function(n){return new $P(new Ca(n))},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return Ea.yd(r,this.firestore,null)},t}(hw);function Xz(e){var t;t=e,Ti.setLogLevel(t)}var BP=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i.Xf=new mm(n),i}return Ce(t,e),t.prototype.get=function(n){var r=this,i=va(n);return this.d_.get(i).then(function(s){return new ff(r.Yf,new yo(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},t.prototype.set=function(n,r,i){var s=va(n);return i?(ow("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var c=va(n);return arguments.length===2?this.d_.update(c,r):(s=this.d_).update.apply(s,zn([c,r,i],a)),this},t.prototype.delete=function(n){var r=va(n);return this.d_.delete(r),this},t}(bt),HP=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.set=function(n,r,i){var s=va(n);return i?(ow("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],l=3;l<arguments.length;l++)a[l-3]=arguments[l];var c=va(n);return arguments.length===2?this.d_.update(c,r):(s=this.d_).update.apply(s,zn([c,r,i],a)),this},t.prototype.delete=function(n){var r=va(n);return this.d_.delete(r),this},t.prototype.commit=function(){return this.d_.commit()},t}(bt),gm=function(e){function t(n,r,i){var s=this;return(s=e.call(this,i)||this).Yf=n,s.Xf=r,s}return Ce(t,e),t.prototype.fromFirestore=function(n,r){var i=new Oc(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new hf(this.Yf,i),r??{})},t.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},t.gd=function(n,r){var i=t.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new t(n,new mm(n),r),s.set(r,a)),a},t}(bt);gm.Vd=new WeakMap;var Ea=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new mm(n),i}return Ce(t,e),t.pd=function(n,r,i){if(n.length%2!=0)throw new he(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new t(r,new Qt(r.d_,i,new $e(n)))},t.yd=function(n,r,i){return new t(r,new Qt(r.d_,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bp(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new bp(this.firestore,bP(this.d_,n))}catch(r){throw sr(r,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return n instanceof bt&&(n=n.d_),n instanceof Qt&&_P(this.d_,n)},t.prototype.set=function(n,r){r=ow("DocumentReference.set",r);try{return function(i,s,a){i=kt(i,Qt);var l=kt(i.firestore,_n),c=pm(i.v_,s,a);return cf(l,[hm(Ha(l),"setDoc",i.S_,c,i.v_!==null,a).F_(i.S_,qn.Kt())])}(this.d_,n,r)}catch(i){throw sr(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?UA(this.d_,n):UA.apply(void 0,zn([this.d_,n,r],i))}catch(a){throw sr(a,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cf(kt((n=this.d_).firestore,_n),[new Gf(n.S_,qn.Kt())]);var n},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=GP(r),a=zP(r,function(l){return new ff(n.firestore,new yo(n.firestore.d_,n.Xf,l.S_,l.Zf,l.metadata,n.d_.v_))});return VP(this.d_,s,a)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=kt(i,Qt);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return function(c,h){var p=this,f=new Kr;return c._s.Ps(function(){return ce(p,void 0,void 0,function(){var m;return ue(this,function(v){switch(v.label){case 0:return m=function(y,_,w){return ce(this,void 0,void 0,function(){var E,k;return ue(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(C,M){var A=ke(C);return A.persistence.runTransaction("read document","readonly",function(j){return A.Tc.Ho(j,M)})}(y,_)];case 1:return(k=I.sent())instanceof Ft?w.resolve(k):k instanceof On?w.resolve(null):w.reject(new he(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=I.sent(),k=bl(E,"Failed to get document '"+_+" from cache"),w.reject(k),[3,3];case 3:return[2]}})})},[4,PP(c)];case 1:return[2,m.apply(void 0,[v.sent(),h,f])]}})})}),f.promise}(a,i.S_).then(function(c){return new yo(s,l,i.S_,c,new ga(c instanceof Ft&&c.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=kt(i,Qt);var s=kt(i.firestore,_n);return CA(Bn(s),i.S_,{source:"server"}).then(function(a){return Vb(s,i,a)})}(this.d_):function(i){i=kt(i,Qt);var s=kt(i.firestore,_n);return CA(Bn(s),i.S_).then(function(a){return Vb(s,i,a)})}(this.d_)).then(function(i){return new ff(r.firestore,new yo(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(gm.gd(this.firestore,n)))},t}(bt);function sr(e,t,n){return e.message=e.message.replace(t,n),e}function GP(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!al(r))return r}return{}}function zP(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=al(e[0])?e[0]:al(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var ff=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return Ce(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ea(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this.d_.data(n)},t.prototype.get=function(n,r){return this.d_.get(n,r)},t.prototype.isEqual=function(n){return UP(this.d_,n.d_)},t}(bt),hf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.prototype.data=function(n){return this.d_.data(n)},t}(ff),vm=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new mm(n),i}return Ce(t,e),t.prototype.where=function(n,r,i){try{return new t(this.firestore,$o(this.d_,function(s,a,l){var c=a,h=yp("where",s);return new Hz(h,c,l)}(n,r,i)))}catch(s){throw sr(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(n,r){try{return new t(this.firestore,$o(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,l=yp("orderBy",i);return new Gz(l,a)}(n,r)))}catch(i){throw sr(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,$o(this.d_,function(r){return SA("limit",r),new LA("limit",r,"F")}(n)))}catch(r){throw sr(r,"limit()","Query.limit()")}},t.prototype.limitToLast=function(n){try{return new t(this.firestore,$o(this.d_,function(r){return SA("limitToLast",r),new LA("limitToLast",r,"L")}(n)))}catch(r){throw sr(r,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new RA("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw sr(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new RA("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw sr(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new DA("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw sr(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,$o(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new DA("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw sr(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return wP(this.d_,n.d_)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=kt(i,Gr);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return function(c,h){var p=this,f=new Kr;return c._s.Ps(function(){return ce(p,void 0,void 0,function(){var m;return ue(this,function(v){switch(v.label){case 0:return m=function(y,_,w){return ce(this,void 0,void 0,function(){var E,k,I,C,M;return ue(this,function(A){switch(A.label){case 0:return A.trys.push([0,2,,3]),[4,mp(y,_,!0)];case 1:return M=A.sent(),E=new hP(_,M.Rc),k=E.fl(M.documents),I=E.wi(k,!1),w.resolve(I.snapshot),[3,3];case 2:return C=A.sent(),M=bl(C,"Failed to execute query '"+_+" against cache"),w.reject(M),[3,3];case 3:return[2]}})})},[4,PP(c)];case 1:return[2,m.apply(void 0,[v.sent(),h,f])]}})})}),f.promise}(a,i.C_).then(function(c){return new ts(s,l,i,c)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=kt(i,Gr);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return NA(a,i.C_,{source:"server"}).then(function(c){return new ts(s,l,i,c)})}(this.d_):function(i){i=kt(i,Gr);var s=kt(i.firestore,_n),a=Bn(s),l=new wa(s);return DP(i.C_),NA(a,i.C_).then(function(c){return new ts(s,l,i,c)})}(this.d_)).then(function(i){return new $b(r.firestore,new ts(r.firestore.d_,r.Xf,r.d_,i._d))})},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=GP(r),a=zP(r,function(l){return new $b(n.firestore,new ts(n.firestore.d_,n.Xf,n.d_,l._d))});return VP(this.d_,s,a)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(gm.gd(this.firestore,n)))},t}(bt),Jz=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return Ce(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new hf(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),t}(bt),$b=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return Ce(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new vm(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new hf(n.Yf,r)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new Jz(r.Yf,i)})},t.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new hf(i.Yf,s))})},t.prototype.isEqual=function(n){return UP(this.d_,n.d_)},t}(bt),bp=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i.d_=r,i}return Ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new Ea(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ea(this.firestore,n===void 0?Cd(this.d_):Cd(this.d_,n))}catch(r){throw sr(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=kt(i.firestore,_n),l=Cd(i),c=pm(i.v_,s);return cf(a,[hm(Ha(i.firestore),"addDoc",l.S_,c,i.v_!==null,{}).F_(l.S_,qn.exists(!1))]).then(function(){return l})}(this.d_,n).then(function(i){return new Ea(r.firestore,i)})},t.prototype.isEqual=function(n){return _P(this.d_,n.d_)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(gm.gd(this.firestore,n)))},t}(vm);function va(e){return e instanceof bt&&(e=e.d_),kt(e,Qt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qz=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(this,new(vo.bind.apply(vo,zn([void 0],n))))||this}return Ce(t,e),t.documentId=function(){return new t(Ii.ht().rt())},t.prototype.isEqual=function(n){return n instanceof bt&&(n=n.d_),n instanceof vo&&this.d_.f_.isEqual(n.f_)},t}(bt),Zz=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ce(t,e),t.serverTimestamp=function(){var n=new Pz("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new sw("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new Lz("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new Rz("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var r=function(i){return new Dz("increment",i)}(n);return r._methodName="FieldValue.increment",new t(r)},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t}(bt),e5={Firestore:jP,GeoPoint:fm,Timestamp:Ir,Blob:$P,Transaction:BP,WriteBatch:HP,DocumentReference:Ea,DocumentSnapshot:ff,Query:vm,QueryDocumentSnapshot:hf,QuerySnapshot:$b,CollectionReference:bp,FieldPath:Qz,FieldValue:Zz,setLogLevel:Xz,CACHE_SIZE_UNLIMITED:jz};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(e){(function(t,n){t.INTERNAL.registerComponent(new kf("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},e5)))})(e,function(t,n){return new jP(t,new _n(t,n),new Yz)}),e.registerVersion("@firebase/firestore","2.1.6")}t5(Fe);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jb=function(e,t){return jb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},jb(e,t)};function n5(e,t){jb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Bb=function(){return Bb=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bb.apply(this,arguments)};function za(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(f){a(f)}}function c(p){try{h(r.throw(p))}catch(f){a(f)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function qa(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function jA(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qP="firebasestorage.googleapis.com",WP="storageBucket",r5=2*60*1e3,i5=10*60*1e3,cn=function(e){n5(t,e);function t(n,r){var i=e.call(this,xy(n),"Firebase Storage: "+r+" ("+xy(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return t.prototype.codeEquals=function(n){return xy(n)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),t}(KC),Zt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function xy(e){return"storage/"+e}function dw(){var e="An unknown error occurred, please check the error payload for server response.";return new cn(Zt.UNKNOWN,e)}function o5(e){return new cn(Zt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function s5(e){return new cn(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a5(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new cn(Zt.UNAUTHENTICATED,e)}function u5(e){return new cn(Zt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function l5(){return new cn(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KP(){return new cn(Zt.CANCELED,"User canceled the upload/download.")}function c5(e){return new cn(Zt.INVALID_URL,"Invalid URL '"+e+"'.")}function f5(e){return new cn(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function h5(){return new cn(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WP+"' property when initializing the app?")}function YP(){return new cn(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d5(){return new cn(Zt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function p5(){return new cn(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Pc(e){return new cn(Zt.INVALID_ARGUMENT,e)}function XP(){return new cn(Zt.APP_DELETED,"The Firebase app was deleted.")}function JP(e){return new cn(Zt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(e,t){return new cn(Zt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ld(e){throw new cn(Zt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ky=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function QP(e,t){switch(e){case $r.RAW:return new ky(ZP(t));case $r.BASE64:case $r.BASE64URL:return new ky(eL(e,t));case $r.DATA_URL:return new ky(g5(t),v5(t))}throw dw()}function ZP(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function m5(e){var t;try{t=decodeURIComponent(e)}catch{throw Lc($r.DATA_URL,"Malformed data URL.")}return ZP(t)}function eL(e,t){switch(e){case $r.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Lc(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case $r.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Lc(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw Lc(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var tL=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Lc($r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=y5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function g5(e){var t=new tL(e);return t.base64?eL($r.BASE64,t.rest):m5(t.rest)}function v5(e){var t=new tL(e);return t.contentType}function y5(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b5={STATE_CHANGED:"state_changed"},rt={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},ar={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cy(e){switch(e){case rt.RUNNING:case rt.PAUSING:case rt.CANCELING:return ar.RUNNING;case rt.PAUSED:return ar.PAUSED;case rt.SUCCESS:return ar.SUCCESS;case rt.CANCELED:return ar.CANCELED;case rt.ERROR:return ar.ERROR;default:return ar.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _5=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ta.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ta.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw ld("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ld("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ld("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ld("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w5=function(){function e(){}return e.prototype.createXhrIo=function(){return new _5},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(e){return e!==void 0}function T5(e){return typeof e=="function"}function S5(e){return typeof e=="object"&&!Array.isArray(e)}function ym(e){return typeof e=="string"||e instanceof String}function BA(e){return pw()&&e instanceof Blob}function pw(){return typeof Blob<"u"}function Hb(e,t,n,r){if(r<t)throw new cn(Zt.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw new cn(Zt.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function A5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=I5();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(pw())return new Blob(e);throw new cn(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function x5(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mw=function(){function e(t,n){var r=0,i="";BA(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(BA(this.data_)){var r=this.data_,i=x5(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(pw()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(A5.apply(null,r))}else{var i=t.map(function(c){return ym(c)?QP($r.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch{return new e(t,"")}if(n.path==="")return n;throw f5(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function c(U){U.path_=decodeURIComponent(U.path)}for(var h="v[A-Za-z0-9_]+",p=qP.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp("^https?://"+p+"/"+h+"/b/"+r+"/o"+f,"i"),v={bucket:1,path:3},y="(?:storage.googleapis.com|storage.cloud.google.com)",_="([^?#]*)",w=new RegExp("^https?://"+y+"/"+r+"/"+_,"i"),E={bucket:1,path:2},k=[{regex:a,indices:l,postModify:i},{regex:m,indices:v,postModify:c},{regex:w,indices:E,postModify:c}],I=0;I<k.length;I++){var C=k[I],M=C.regex.exec(t);if(M){var A=M[C.indices.bucket],j=M[C.indices.path];j||(j=""),n=new e(A,j),C.postModify(n);break}}if(n==null)throw c5(t);return n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(e){var t;try{t=JSON.parse(e)}catch{return null}return S5(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function C5(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function nL(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){return"https://"+qP+"/v0"+e}function rL(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(e,t){return t}var nr=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||N5}return e}(),cd=null;function O5(e){return!ym(e)||e.length<2?e:nL(e)}function bm(){if(cd)return cd;var e=[];e.push(new nr("bucket")),e.push(new nr("generation")),e.push(new nr("metageneration")),e.push(new nr("name","fullPath",!0));function t(s,a){return O5(a)}var n=new nr("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new nr("size");return i.xform=r,e.push(i),e.push(new nr("timeCreated")),e.push(new nr("updated")),e.push(new nr("md5Hash",null,!0)),e.push(new nr("cacheControl",null,!0)),e.push(new nr("contentDisposition",null,!0)),e.push(new nr("contentEncoding",null,!0)),e.push(new nr("contentLanguage",null,!0)),e.push(new nr("contentType",null,!0)),e.push(new nr("metadata","customMetadata",!0)),cd=e,cd}function P5(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new _i(r,i);return t.makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function L5(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return P5(r,e),r}function iL(e,t,n){var r=gw(t);if(r===null)return null;var i=r;return L5(e,i,n)}function R5(e,t){var n=gw(t);if(n===null||!ym(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(l){var c=e.bucket,h=e.fullPath,p="/b/"+i(c)+"/o/"+i(h),f=Os(p),m=rL({alt:"media",token:l});return f+m});return a[0]}function vw(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HA="prefixes",GA="items";function D5(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[HA])for(var i=0,s=n[HA];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e.makeStorageReference(new _i(t,l));r.prefixes.push(c)}if(n[GA])for(var h=0,p=n[GA];h<p.length;h++){var f=p[h],c=e.makeStorageReference(new _i(t,f.name));r.items.push(c)}return r}function M5(e,t,n){var r=gw(n);if(r===null)return null;var i=r;return D5(e,t,i)}var So=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e){if(!e)throw dw()}function _m(e,t){function n(r,i){var s=iL(e,i,t);return Hi(s!==null),s}return n}function F5(e,t){function n(r,i){var s=M5(e,t,i);return Hi(s!==null),s}return n}function U5(e,t){function n(r,i){var s=iL(e,i,t);return Hi(s!==null),R5(s,i)}return n}function Sl(e){function t(n,r){var i;return n.getStatus()===401?i=a5():n.getStatus()===402?i=s5(e.bucket):n.getStatus()===403?i=u5(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function wm(e){var t=Sl(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=o5(e.path)),s.serverResponse=i.serverResponse,s}return n}function oL(e,t,n){var r=t.fullServerUrl(),i=Os(r),s="GET",a=e.maxOperationRetryTime,l=new So(i,s,_m(e,n),a);return l.errorHandler=wm(t),l}function V5(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Os(a),c="GET",h=e.maxOperationRetryTime,p=new So(l,c,F5(e,t.bucket),h);return p.urlParams=s,p.errorHandler=Sl(t),p}function $5(e,t,n){var r=t.fullServerUrl(),i=Os(r),s="GET",a=e.maxOperationRetryTime,l=new So(i,s,U5(e,n),a);return l.errorHandler=wm(t),l}function j5(e,t,n,r){var i=t.fullServerUrl(),s=Os(i),a="PATCH",l=vw(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new So(s,a,_m(e,r),h);return p.headers=c,p.body=l,p.errorHandler=wm(t),p}function B5(e,t){var n=t.fullServerUrl(),r=Os(n),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new So(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=wm(t),l}function H5(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function sL(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=H5(null,t)),r}function G5(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var I="",C=0;C<2;C++)I=I+Math.random().toString().slice(2);return I}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=sL(t,r,i),p=vw(h,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",v=mw.getBlob(f,r,m);if(v===null)throw YP();var y={name:h.fullPath},_=Os(s),w="POST",E=e.maxUploadRetryTime,k=new So(_,w,_m(e,n),E);return k.urlParams=y,k.headers=a,k.body=v.uploadData(),k.errorHandler=Sl(t),k}var _p=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function yw(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Hi(!1)}var r=t||["active"];return Hi(!!n&&r.indexOf(n)!==-1),n}function z5(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=sL(t,r,i),l={name:a.fullPath},c=Os(s),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},f=vw(a,n),m=e.maxUploadRetryTime;function v(_){yw(_);var w;try{w=_.getResponseHeader("X-Goog-Upload-URL")}catch{Hi(!1)}return Hi(ym(w)),w}var y=new So(c,h,v,m);return y.urlParams=l,y.headers=p,y.body=f,y.errorHandler=Sl(t),y}function q5(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=yw(h,["active","final"]),f=null;try{f=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hi(!1)}f||Hi(!1);var m=Number(f);return Hi(!isNaN(m)),new _p(m,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new So(n,a,s,l);return c.headers=i,c.errorHandler=Sl(t),c}var zA=256*1024;function W5(e,t,n,r,i,s,a,l){var c=new _p(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw d5();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var f=c.current,m=f+p,v=p===h?"upload, finalize":"upload",y={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":c.current},_=r.slice(f,m);if(_===null)throw YP();function w(C,M){var A=yw(C,["active","final"]),j=c.current+p,U=r.size(),P;return A==="final"?P=_m(t,s)(C,M):P=null,new _p(j,U,A==="final",P)}var E="POST",k=t.maxUploadRetryTime,I=new So(n,E,w,k);return I.headers=y,I.body=_.uploadData(),I.progressCallback=l||null,I.errorHandler=Sl(e),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K5=function(){function e(t,n,r){var i=T5(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}(),Y5=function(){function e(t,n,r,i,s,a){this.bytesTransferred=t,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=bm(),this._resumable=this._shouldDoResumable(this._blob),this._state=rt.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Zt.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(rt.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Zt.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(rt.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state===rt.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case rt.RUNNING:t(r);break;case rt.CANCELING:n._transition(rt.CANCELED);break;case rt.PAUSING:n._transition(rt.PAUSED);break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=z5(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var i=q5(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage.makeRequest(i,r);t._request=s,s.getPromise().then(function(a){a=a,t._request=void 0,t._updateProgress(a.current),t._needToFetchStatus=!1,a.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=zA*this._chunkMultiplier,r=new _p(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=W5(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(c){t._error=c,t._transition(rt.ERROR);return}var l=t._ref.storage.makeRequest(a,s);t._request=l,l.getPromise().then(function(c){t._increaseMultiplier(),t._request=void 0,t._updateProgress(c.current),c.finalized?(t._metadata=c.metadata,t._transition(rt.SUCCESS)):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=zA*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=oL(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition(rt.SUCCESS)},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=G5(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition(rt.SUCCESS)},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case rt.CANCELING:this._state=t,this._request!==void 0&&this._request.cancel();break;case rt.PAUSING:this._state=t,this._request!==void 0&&this._request.cancel();break;case rt.RUNNING:var n=this._state===rt.PAUSED;this._state=t,n&&(this._notifyObservers(),this._start());break;case rt.PAUSED:this._state=t,this._notifyObservers();break;case rt.CANCELED:this._error=KP(),this._state=t,this._notifyObservers();break;case rt.ERROR:this._state=t,this._notifyObservers();break;case rt.SUCCESS:this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case rt.PAUSING:this._transition(rt.PAUSED);break;case rt.CANCELING:this._transition(rt.CANCELED);break;case rt.RUNNING:this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Cy(this._state);return new Y5(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new K5(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Cy(this._state)){case ar.SUCCESS:_u(this._resolve.bind(null,this.snapshot))();break;case ar.CANCELED:case ar.ERROR:var n=this._reject;_u(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Cy(this._state);switch(n){case ar.RUNNING:case ar.PAUSED:t.next&&_u(t.next.bind(t,this.snapshot))();break;case ar.SUCCESS:t.complete&&_u(t.complete.bind(t))();break;case ar.CANCELED:case ar.ERROR:t.error&&_u(t.error.bind(t,this._error))();break;default:t.error&&_u(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state===rt.PAUSED||this._state===rt.PAUSING;return t&&this._transition(rt.RUNNING),t},e.prototype.pause=function(){var t=this._state===rt.RUNNING;return t&&this._transition(rt.PAUSING),t},e.prototype.cancel=function(){var t=this._state===rt.RUNNING||this._state===rt.PAUSING;return t&&this._transition(rt.CANCELING),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=function(){function e(t,n){this._service=t,n instanceof _i?this._location=n:this._location=_i.makeFromUrl(n)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype.newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new _i(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return nL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=k5(this._location.path);if(t===null)return null;var n=new _i(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw JP(t)},e}();function X5(e,t,n){return n===void 0&&(n=null),e._throwIfRoot("uploadBytesResumable"),new aL(e,new mw(t),n)}function J5(e,t,n,r){n===void 0&&(n=$r.RAW),e._throwIfRoot("putString");var i=QP(n,t),s=Bb({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new aL(e,new mw(i.data,!0),s)}function Q5(e){var t={prefixes:[],items:[]};return uL(e,t).then(function(){return t})}function uL(e,t,n){return za(this,void 0,void 0,function(){var r,i,s,a;return qa(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,lL(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,uL(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function lL(e,t){return za(this,void 0,void 0,function(){var n,r,i;return qa(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Hb("options.maxResults",1,1e3,t.maxResults),[4,e.storage.getAuthToken()];case 1:return n=s.sent(),r=t||{},i=V5(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage.makeRequest(i,n).getPromise()]}})})}function Z5(e){return za(this,void 0,void 0,function(){var t,n;return qa(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=oL(e.storage,e._location,bm()),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function e8(e,t){return za(this,void 0,void 0,function(){var n,r;return qa(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage.getAuthToken()];case 1:return n=i.sent(),r=j5(e.storage,e._location,t,bm()),[2,e.storage.makeRequest(r,n).getPromise()]}})})}function t8(e){return za(this,void 0,void 0,function(){var t,n;return qa(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=$5(e.storage,e._location,bm()),[2,e.storage.makeRequest(n,t).getPromise().then(function(i){if(i===null)throw p5();return i})]}})})}function n8(e){return za(this,void 0,void 0,function(){var t,n;return qa(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=B5(e.storage,e._location),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function cL(e,t){var n=C5(e._location.path,t),r=new _i(e._location.bucket,n);return new Em(e.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fd=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qA=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new fd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new fd(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new fd(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new fd(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WA=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new df(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new df(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var df=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=cL(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new qA(X5(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){return n===void 0&&(n=$r.RAW),this._throwIfRoot("putString"),new qA(J5(this._delegate,t,n,r),this)},e.prototype.listAll=function(){var t=this;return Q5(this._delegate).then(function(n){return new WA(n,t.storage)})},e.prototype.list=function(t){var n=this;return lL(this._delegate,t).then(function(r){return new WA(r,n.storage)})},e.prototype.getMetadata=function(){return Z5(this._delegate)},e.prototype.updateMetadata=function(t){return e8(this._delegate,t)},e.prototype.getDownloadURL=function(){return t8(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),n8(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw JP(t)},e}(),r8=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];c||(c=!0,t.apply(null,y))}function p(y){i=setTimeout(function(){i=null,e(f,l())},y)}function f(y){for(var _=[],w=1;w<arguments.length;w++)_[w-1]=arguments[w];if(!c){if(y){h.call.apply(h,jA([null,y],_));return}var E=l()||s;if(E){h.call.apply(h,jA([null,y],_));return}r<64&&(r*=2);var k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,p(k)}}var m=!1;function v(y){m||(m=!0,!c&&(i!==null?(y||(a=2),clearTimeout(i),p(0)):y||(a=1)))}return p(0),setTimeout(function(){s=!0,v(!0)},n),v}function o8(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s8=function(){function e(t,n,r,i,s,a,l,c,h,p,f){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=f,this.promise_=new Promise(function(v,y){m.resolve_=v,m.reject_=y,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new hd(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===Ta.NO_ERROR,p=c.getStatus();if(!h||t.isRetryStatusCode_(p)){var f=c.getErrorCode()===Ta.ABORT;i(!1,new hd(!1,null,f));return}var m=t.successCodes_.indexOf(p)!==-1;i(!0,new hd(m,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());E5(h)?a(h):a()}catch(f){l(f)}else if(c!==null){var p=dw();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?XP():KP();l(p)}else{var p=l5();l(p)}}this.canceled_?r(!1,new hd(!1,null,!0)):this.backoffId_=i8(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&o8(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),hd=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function a8(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function u8(e){var t=typeof Fe<"u"?Fe.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function l8(e,t){t&&(e["X-Firebase-GMPID"]=t)}function c8(e,t,n,r){var i=rL(e.urlParams),s=e.url+i,a=Object.assign({},e.headers);return l8(a,t),a8(a,n),u8(a),new s8(s,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(e){return/^[A-Za-z]+:\/\//.test(e)}function f8(e,t){return new Em(e,t)}function fL(e,t){if(e instanceof Tm){var n=e;if(n._bucket==null)throw h5();var r=new Em(n,n._bucket);return t!=null?fL(r,t):r}else if(t!==void 0){if(t.includes(".."))throw Pc('`path` param cannot contain ".."');return cL(e,t)}else return e}function KA(e,t){if(t&&Gb(t)){if(e instanceof Tm)return f8(e,t);throw Pc("To use ref(service, url), the first argument must be a Storage instance.")}else return fL(e,t)}function h8(e){var t=e==null?void 0:e[WP];return t==null?null:_i.makeFromBucketSpec(t)}var Tm=function(){function e(t,n,r,i){this.app=t,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r5,this._maxUploadRetryTime=i5,this._requests=new Set,i!=null?this._bucket=_i.makeFromBucketSpec(i):this._bucket=h8(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Hb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Hb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype.getAuthToken=function(){return za(this,void 0,void 0,function(){var t,n;return qa(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype.makeStorageReference=function(t){return new Em(this,t)},e.prototype.makeRequest=function(t,n){var r=this;if(this._deleted)return new r8(XP());var i=c8(t,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d8=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Gb(t))throw Pc("ref() expected a child path but got a URL, use refFromURL instead.");return new df(KA(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Gb(t))throw Pc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_i.makeFromUrl(t)}catch{throw Pc("refFromUrl() expected a valid full URL but got an invalid one.")}return new df(KA(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e}(),p8="@firebase/storage",m8="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g8="storage";function v8(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=new d8(n,new Tm(n,r,new w5,t));return i}function y8(e){var t={TaskState:ar,TaskEvent:b5,StringFormat:$r,Storage:Tm,Reference:df};e.INTERNAL.registerComponent(new kf(g8,v8,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(p8,m8)}y8(Fe);const b8={apiKey:"AIzaSyDifpf4NnX-S7J890trgdqn9o1GZ2rd8Y0",authDomain:"vue-developer-course---music.firebaseapp.com",projectId:"vue-developer-course---music",storageBucket:"vue-developer-course---music.appspot.com",appId:"1:842258481263:web:599be2573872ab20c94d9a"};Fe.initializeApp(b8);const bo=Fe.auth(),Sm=Fe.firestore(),ri=Fe.storage(),bw=Sm.collection("users"),zr=Sm.collection("songs"),si=Sm.collection("albums"),ul=Sm.collection("favoriteSongList");/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const wp=typeof window<"u",Ps=(e,t=!1)=>t?Symbol.for(e):Symbol(e),_8=(e,t,n)=>w8({l:e,k:t,s:n}),w8=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),wn=e=>typeof e=="number"&&isFinite(e),E8=e=>dL(e)==="[object Date]",Ts=e=>dL(e)==="[object RegExp]",Im=e=>Je(e)&&Object.keys(e).length===0,Fn=Object.assign;let YA;const co=()=>YA||(YA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function XA(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const T8=Object.prototype.hasOwnProperty;function Ep(e,t){return T8.call(e,t)}const Gt=Array.isArray,$t=e=>typeof e=="function",Ae=e=>typeof e=="string",ot=e=>typeof e=="boolean",Ct=e=>e!==null&&typeof e=="object",S8=e=>Ct(e)&&$t(e.then)&&$t(e.catch),hL=Object.prototype.toString,dL=e=>hL.call(e),Je=e=>{if(!Ct(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},I8=e=>e==null?"":Gt(e)||Je(e)&&e.toString===hL?JSON.stringify(e,null,2):String(e);function A8(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}function Am(e){let t=e;return()=>++t}function x8(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const dd=e=>!Ct(e)||Gt(e);function Nd(e,t){if(dd(e)||dd(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{dd(r[s])||dd(i[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]})})}}/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function k8(e,t,n){return{line:e,column:t,offset:n}}function Tp(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const C8=/\{([0-9a-zA-Z]+)\}/g;function pL(e,...t){return t.length===1&&N8(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(C8,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const mL=Object.assign,JA=e=>typeof e=="string",N8=e=>e!==null&&typeof e=="object";function gL(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}const _w={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},O8={[_w.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function P8(e,t,...n){const r=pL(O8[e]||"",...n||[]),i={message:String(r),code:e};return t&&(i.location=t),i}const ze={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},L8={[ze.EXPECTED_TOKEN]:"Expected token: '{0}'",[ze.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ze.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ze.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ze.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ze.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ze.EMPTY_PLACEHOLDER]:"Empty placeholder",[ze.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ze.INVALID_LINKED_FORMAT]:"Invalid linked format",[ze.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ze.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ze.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ze.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ze.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ze.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Il(e,t,n={}){const{domain:r,messages:i,args:s}=n,a=pL((i||L8)[e]||"",...s||[]),l=new SyntaxError(String(a));return l.code=e,t&&(l.location=t),l.domain=r,l}function R8(e){throw e}const oo=" ",D8="\r",ir=`
`,M8="\u2028",F8="\u2029";function U8(e){const t=e;let n=0,r=1,i=1,s=0;const a=j=>t[j]===D8&&t[j+1]===ir,l=j=>t[j]===ir,c=j=>t[j]===F8,h=j=>t[j]===M8,p=j=>a(j)||l(j)||c(j)||h(j),f=()=>n,m=()=>r,v=()=>i,y=()=>s,_=j=>a(j)||c(j)||h(j)?ir:t[j],w=()=>_(n),E=()=>_(n+s);function k(){return s=0,p(n)&&(r++,i=0),a(n)&&n++,n++,i++,t[n]}function I(){return a(n+s)&&s++,s++,t[n+s]}function C(){n=0,r=1,i=1,s=0}function M(j=0){s=j}function A(){const j=n+s;for(;j!==n;)k();s=0}return{index:f,line:m,column:v,peekOffset:y,charAt:_,currentChar:w,currentPeek:E,next:k,peek:I,reset:C,resetPeek:M,skipToPeek:A}}const jo=void 0,V8=".",QA="'",$8="tokenizer";function j8(e,t={}){const n=t.location!==!1,r=U8(e),i=()=>r.index(),s=()=>k8(r.line(),r.column(),r.index()),a=s(),l=i(),c={currentType:14,offset:l,startLoc:a,endLoc:a,lastType:14,lastOffset:l,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},h=()=>c,{onError:p}=t;function f(N,R,$,...Z){const we=h();if(R.column+=$,R.offset+=$,p){const oe=n?Tp(we.startLoc,R):null,G=Il(N,oe,{domain:$8,args:Z});p(G)}}function m(N,R,$){N.endLoc=s(),N.currentType=R;const Z={type:R};return n&&(Z.loc=Tp(N.startLoc,N.endLoc)),$!=null&&(Z.value=$),Z}const v=N=>m(N,14);function y(N,R){return N.currentChar()===R?(N.next(),R):(f(ze.EXPECTED_TOKEN,s(),0,R),"")}function _(N){let R="";for(;N.currentPeek()===oo||N.currentPeek()===ir;)R+=N.currentPeek(),N.peek();return R}function w(N){const R=_(N);return N.skipToPeek(),R}function E(N){if(N===jo)return!1;const R=N.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R===95}function k(N){if(N===jo)return!1;const R=N.charCodeAt(0);return R>=48&&R<=57}function I(N,R){const{currentType:$}=R;if($!==2)return!1;_(N);const Z=E(N.currentPeek());return N.resetPeek(),Z}function C(N,R){const{currentType:$}=R;if($!==2)return!1;_(N);const Z=N.currentPeek()==="-"?N.peek():N.currentPeek(),we=k(Z);return N.resetPeek(),we}function M(N,R){const{currentType:$}=R;if($!==2)return!1;_(N);const Z=N.currentPeek()===QA;return N.resetPeek(),Z}function A(N,R){const{currentType:$}=R;if($!==8)return!1;_(N);const Z=N.currentPeek()===".";return N.resetPeek(),Z}function j(N,R){const{currentType:$}=R;if($!==9)return!1;_(N);const Z=E(N.currentPeek());return N.resetPeek(),Z}function U(N,R){const{currentType:$}=R;if(!($===8||$===12))return!1;_(N);const Z=N.currentPeek()===":";return N.resetPeek(),Z}function P(N,R){const{currentType:$}=R;if($!==10)return!1;const Z=()=>{const oe=N.currentPeek();return oe==="{"?E(N.peek()):oe==="@"||oe==="%"||oe==="|"||oe===":"||oe==="."||oe===oo||!oe?!1:oe===ir?(N.peek(),Z()):q(N,!1)},we=Z();return N.resetPeek(),we}function z(N){_(N);const R=N.currentPeek()==="|";return N.resetPeek(),R}function L(N){const R=_(N),$=N.currentPeek()==="%"&&N.peek()==="{";return N.resetPeek(),{isModulo:$,hasSpace:R.length>0}}function q(N,R=!0){const $=(we=!1,oe="",G=!1)=>{const J=N.currentPeek();return J==="{"?oe==="%"?!1:we:J==="@"||!J?oe==="%"?!0:we:J==="%"?(N.peek(),$(we,"%",!0)):J==="|"?oe==="%"||G?!0:!(oe===oo||oe===ir):J===oo?(N.peek(),$(!0,oo,G)):J===ir?(N.peek(),$(!0,ir,G)):!0},Z=$();return R&&N.resetPeek(),Z}function ee(N,R){const $=N.currentChar();return $===jo?jo:R($)?(N.next(),$):null}function Te(N){const R=N.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36}function xe(N){return ee(N,Te)}function ie(N){const R=N.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36||R===45}function Re(N){return ee(N,ie)}function Me(N){const R=N.charCodeAt(0);return R>=48&&R<=57}function Xe(N){return ee(N,Me)}function xt(N){const R=N.charCodeAt(0);return R>=48&&R<=57||R>=65&&R<=70||R>=97&&R<=102}function it(N){return ee(N,xt)}function dt(N){let R="",$="";for(;R=Xe(N);)$+=R;return $}function pt(N){w(N);const R=N.currentChar();return R!=="%"&&f(ze.EXPECTED_TOKEN,s(),0,R),N.next(),"%"}function en(N){let R="";for(;;){const $=N.currentChar();if($==="{"||$==="}"||$==="@"||$==="|"||!$)break;if($==="%")if(q(N))R+=$,N.next();else break;else if($===oo||$===ir)if(q(N))R+=$,N.next();else{if(z(N))break;R+=$,N.next()}else R+=$,N.next()}return R}function Se(N){w(N);let R="",$="";for(;R=Re(N);)$+=R;return N.currentChar()===jo&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),$}function Ne(N){w(N);let R="";return N.currentChar()==="-"?(N.next(),R+=`-${dt(N)}`):R+=dt(N),N.currentChar()===jo&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),R}function W(N){return N!==QA&&N!==ir}function le(N){w(N),y(N,"'");let R="",$="";for(;R=ee(N,W);)R==="\\"?$+=re(N):$+=R;const Z=N.currentChar();return Z===ir||Z===jo?(f(ze.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),Z===ir&&(N.next(),y(N,"'")),$):(y(N,"'"),$)}function re(N){const R=N.currentChar();switch(R){case"\\":case"'":return N.next(),`\\${R}`;case"u":return Ee(N,R,4);case"U":return Ee(N,R,6);default:return f(ze.UNKNOWN_ESCAPE_SEQUENCE,s(),0,R),""}}function Ee(N,R,$){y(N,R);let Z="";for(let we=0;we<$;we++){const oe=it(N);if(!oe){f(ze.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${R}${Z}${N.currentChar()}`);break}Z+=oe}return`\\${R}${Z}`}function Ge(N){return N!=="{"&&N!=="}"&&N!==oo&&N!==ir}function st(N){w(N);let R="",$="";for(;R=ee(N,Ge);)$+=R;return $}function D(N){let R="",$="";for(;R=xe(N);)$+=R;return $}function O(N){const R=$=>{const Z=N.currentChar();return Z==="{"||Z==="%"||Z==="@"||Z==="|"||Z==="("||Z===")"||!Z||Z===oo?$:($+=Z,N.next(),R($))};return R("")}function H(N){w(N);const R=y(N,"|");return w(N),R}function te(N,R){let $=null;switch(N.currentChar()){case"{":return R.braceNest>=1&&f(ze.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),N.next(),$=m(R,2,"{"),w(N),R.braceNest++,$;case"}":return R.braceNest>0&&R.currentType===2&&f(ze.EMPTY_PLACEHOLDER,s(),0),N.next(),$=m(R,3,"}"),R.braceNest--,R.braceNest>0&&w(N),R.inLinked&&R.braceNest===0&&(R.inLinked=!1),$;case"@":return R.braceNest>0&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),$=Y(N,R)||v(R),R.braceNest=0,$;default:{let we=!0,oe=!0,G=!0;if(z(N))return R.braceNest>0&&f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),$=m(R,1,H(N)),R.braceNest=0,R.inLinked=!1,$;if(R.braceNest>0&&(R.currentType===5||R.currentType===6||R.currentType===7))return f(ze.UNTERMINATED_CLOSING_BRACE,s(),0),R.braceNest=0,fe(N,R);if(we=I(N,R))return $=m(R,5,Se(N)),w(N),$;if(oe=C(N,R))return $=m(R,6,Ne(N)),w(N),$;if(G=M(N,R))return $=m(R,7,le(N)),w(N),$;if(!we&&!oe&&!G)return $=m(R,13,st(N)),f(ze.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,$.value),w(N),$;break}}return $}function Y(N,R){const{currentType:$}=R;let Z=null;const we=N.currentChar();switch(($===8||$===9||$===12||$===10)&&(we===ir||we===oo)&&f(ze.INVALID_LINKED_FORMAT,s(),0),we){case"@":return N.next(),Z=m(R,8,"@"),R.inLinked=!0,Z;case".":return w(N),N.next(),m(R,9,".");case":":return w(N),N.next(),m(R,10,":");default:return z(N)?(Z=m(R,1,H(N)),R.braceNest=0,R.inLinked=!1,Z):A(N,R)||U(N,R)?(w(N),Y(N,R)):j(N,R)?(w(N),m(R,12,D(N))):P(N,R)?(w(N),we==="{"?te(N,R)||Z:m(R,11,O(N))):($===8&&f(ze.INVALID_LINKED_FORMAT,s(),0),R.braceNest=0,R.inLinked=!1,fe(N,R))}}function fe(N,R){let $={type:14};if(R.braceNest>0)return te(N,R)||v(R);if(R.inLinked)return Y(N,R)||v(R);switch(N.currentChar()){case"{":return te(N,R)||v(R);case"}":return f(ze.UNBALANCED_CLOSING_BRACE,s(),0),N.next(),m(R,3,"}");case"@":return Y(N,R)||v(R);default:{if(z(N))return $=m(R,1,H(N)),R.braceNest=0,R.inLinked=!1,$;const{isModulo:we,hasSpace:oe}=L(N);if(we)return oe?m(R,0,en(N)):m(R,4,pt(N));if(q(N))return m(R,0,en(N));break}}return $}function pe(){const{currentType:N,offset:R,startLoc:$,endLoc:Z}=c;return c.lastType=N,c.lastOffset=R,c.lastStartLoc=$,c.lastEndLoc=Z,c.offset=i(),c.startLoc=s(),r.currentChar()===jo?m(c,14):fe(r,c)}return{nextToken:pe,currentOffset:i,currentPosition:s,context:h}}const B8="parser",H8=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function G8(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function z8(e={}){const t=e.location!==!1,{onError:n,onWarn:r}=e;function i(I,C,M,A,...j){const U=I.currentPosition();if(U.offset+=A,U.column+=A,n){const P=t?Tp(M,U):null,z=Il(C,P,{domain:B8,args:j});n(z)}}function s(I,C,M,A,...j){const U=I.currentPosition();if(U.offset+=A,U.column+=A,r){const P=t?Tp(M,U):null;r(P8(C,P,j))}}function a(I,C,M){const A={type:I};return t&&(A.start=C,A.end=C,A.loc={start:M,end:M}),A}function l(I,C,M,A){A&&(I.type=A),t&&(I.end=C,I.loc&&(I.loc.end=M))}function c(I,C){const M=I.context(),A=a(3,M.offset,M.startLoc);return A.value=C,l(A,I.currentOffset(),I.currentPosition()),A}function h(I,C){const M=I.context(),{lastOffset:A,lastStartLoc:j}=M,U=a(5,A,j);return U.index=parseInt(C,10),I.nextToken(),l(U,I.currentOffset(),I.currentPosition()),U}function p(I,C,M){const A=I.context(),{lastOffset:j,lastStartLoc:U}=A,P=a(4,j,U);return P.key=C,M===!0&&(P.modulo=!0),I.nextToken(),l(P,I.currentOffset(),I.currentPosition()),P}function f(I,C){const M=I.context(),{lastOffset:A,lastStartLoc:j}=M,U=a(9,A,j);return U.value=C.replace(H8,G8),I.nextToken(),l(U,I.currentOffset(),I.currentPosition()),U}function m(I){const C=I.nextToken(),M=I.context(),{lastOffset:A,lastStartLoc:j}=M,U=a(8,A,j);return C.type!==12?(i(I,ze.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),U.value="",l(U,A,j),{nextConsumeToken:C,node:U}):(C.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,mi(C)),U.value=C.value||"",l(U,I.currentOffset(),I.currentPosition()),{node:U})}function v(I,C){const M=I.context(),A=a(7,M.offset,M.startLoc);return A.value=C,l(A,I.currentOffset(),I.currentPosition()),A}function y(I){const C=I.context(),M=a(6,C.offset,C.startLoc);let A=I.nextToken();if(A.type===9){const j=m(I);M.modifier=j.node,A=j.nextConsumeToken||I.nextToken()}switch(A.type!==10&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),A=I.nextToken(),A.type===2&&(A=I.nextToken()),A.type){case 11:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=v(I,A.value||"");break;case 5:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=p(I,A.value||"");break;case 6:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=h(I,A.value||"");break;case 7:A.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(A)),M.key=f(I,A.value||"");break;default:{i(I,ze.UNEXPECTED_EMPTY_LINKED_KEY,C.lastStartLoc,0);const j=I.context(),U=a(7,j.offset,j.startLoc);return U.value="",l(U,j.offset,j.startLoc),M.key=U,l(M,j.offset,j.startLoc),{nextConsumeToken:A,node:M}}}return l(M,I.currentOffset(),I.currentPosition()),{node:M}}function _(I){const C=I.context(),M=C.currentType===1?I.currentOffset():C.offset,A=C.currentType===1?C.endLoc:C.startLoc,j=a(2,M,A);j.items=[];let U=null,P=null;do{const q=U||I.nextToken();switch(U=null,q.type){case 0:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(c(I,q.value||""));break;case 6:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(h(I,q.value||""));break;case 4:P=!0;break;case 5:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(p(I,q.value||"",!!P)),P&&(s(I,_w.USE_MODULO_SYNTAX,C.lastStartLoc,0,mi(q)),P=null);break;case 7:q.value==null&&i(I,ze.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,mi(q)),j.items.push(f(I,q.value||""));break;case 8:{const ee=y(I);j.items.push(ee.node),U=ee.nextConsumeToken||null;break}}}while(C.currentType!==14&&C.currentType!==1);const z=C.currentType===1?C.lastOffset:I.currentOffset(),L=C.currentType===1?C.lastEndLoc:I.currentPosition();return l(j,z,L),j}function w(I,C,M,A){const j=I.context();let U=A.items.length===0;const P=a(1,C,M);P.cases=[],P.cases.push(A);do{const z=_(I);U||(U=z.items.length===0),P.cases.push(z)}while(j.currentType!==14);return U&&i(I,ze.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),l(P,I.currentOffset(),I.currentPosition()),P}function E(I){const C=I.context(),{offset:M,startLoc:A}=C,j=_(I);return C.currentType===14?j:w(I,M,A,j)}function k(I){const C=j8(I,mL({},e)),M=C.context(),A=a(0,M.offset,M.startLoc);return t&&A.loc&&(A.loc.source=I),A.body=E(C),e.onCacheKey&&(A.cacheKey=e.onCacheKey(I)),M.currentType!==14&&i(C,ze.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,I[M.offset]||""),l(A,C.currentOffset(),C.currentPosition()),A}return{parse:k}}function mi(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function q8(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function ZA(e,t){for(let n=0;n<e.length;n++)ww(e[n],t)}function ww(e,t){switch(e.type){case 1:ZA(e.cases,t),t.helper("plural");break;case 2:ZA(e.items,t);break;case 6:{ww(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function W8(e,t={}){const n=q8(e);n.helper("normalize"),e.body&&ww(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function K8(e){const t=e.body;return t.type===2?ex(t):t.cases.forEach(n=>ex(n)),e}function ex(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=gL(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const Y8="minifier";function Au(e){switch(e.t=e.type,e.type){case 0:{const t=e;Au(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)Au(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)Au(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Au(t.key),t.k=t.key,delete t.key,t.modifier&&(Au(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Il(ze.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Y8,args:[e.type]})}delete e.type}const X8="parser";function J8(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=t,a=t.location!==!1,l={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&e.loc&&(l.source=e.loc.source);const c=()=>l;function h(w,E){l.code+=w}function p(w,E=!0){const k=E?i:"";h(s?k+"  ".repeat(w):k)}function f(w=!0){const E=++l.indentLevel;w&&p(E)}function m(w=!0){const E=--l.indentLevel;w&&p(E)}function v(){p(l.indentLevel)}return{context:c,push:h,indent:f,deindent:m,newline:v,helper:w=>`_${w}`,needIndent:()=>l.needIndent}}function Q8(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ll(e,t.key),t.modifier?(e.push(", "),ll(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Z8(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let s=0;s<i&&(ll(e,t.items[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function eq(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let s=0;s<i&&(ll(e,t.cases[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function tq(e,t){t.body?ll(e,t.body):e.push("null")}function ll(e,t){const{helper:n}=e;switch(t.type){case 0:tq(e,t);break;case 1:eq(e,t);break;case 2:Z8(e,t);break;case 6:Q8(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Il(ze.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:X8,args:[t.type]})}}const nq=(e,t={})=>{const n=JA(t.mode)?t.mode:"normal",r=JA(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,a=t.needIndent?t.needIndent:n!=="arrow",l=e.helpers||[],c=J8(e,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(a),l.length>0&&(c.push(`const { ${gL(l.map(f=>`${f}: _${f}`),", ")} } = ctx`),c.newline()),c.push("return "),ll(c,e),c.deindent(a),c.push("}"),delete e.helpers;const{code:h,map:p}=c.context();return{ast:e,code:h,map:p?p.toJSON():void 0}};function rq(e,t={}){const n=mL({},t),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,l=z8(n).parse(e);return r?(s&&K8(l),i&&Au(l),{ast:l,code:""}):(W8(l,n),nq(l,n))}/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function iq(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(co().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(co().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(co().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ls=[];Ls[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ls[1]={w:[1],".":[2],"[":[4],o:[7]};Ls[2]={w:[2],i:[3,0],0:[3,0]};Ls[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ls[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ls[5]={"'":[4,0],o:8,l:[5,0]};Ls[6]={'"':[4,0],o:8,l:[6,0]};const oq=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function sq(e){return oq.test(e)}function aq(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function uq(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function lq(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:sq(t)?aq(t):"*"+t}function cq(e){const t=[];let n=-1,r=0,i=0,s,a,l,c,h,p,f;const m=[];m[0]=()=>{a===void 0?a=l:a+=l},m[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},m[2]=()=>{m[0](),i++},m[3]=()=>{if(i>0)i--,r=4,m[0]();else{if(i=0,a===void 0||(a=lq(a),a===!1))return!1;m[1]()}};function v(){const y=e[n+1];if(r===5&&y==="'"||r===6&&y==='"')return n++,l="\\"+y,m[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&v())){if(c=uq(s),f=Ls[r],h=f[c]||f.l||8,h===8||(r=h[0],h[1]!==void 0&&(p=m[h[1]],p&&(l=s,p()===!1))))return;if(r===7)return t}}const tx=new Map;function fq(e,t){return Ct(e)?e[t]:null}function hq(e,t){if(!Ct(e))return null;let n=tx.get(t);if(n||(n=cq(t),n&&tx.set(t,n)),!n)return null;const r=n.length;let i=e,s=0;for(;s<r;){const a=i[n[s]];if(a===void 0||$t(i))return null;i=a,s++}return i}const dq=e=>e,pq=e=>"",mq="text",gq=e=>e.length===0?"":A8(e),vq=I8;function nx(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function yq(e){const t=wn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(wn(e.named.count)||wn(e.named.n))?wn(e.named.count)?e.named.count:wn(e.named.n)?e.named.n:t:t}function bq(e,t){t.count||(t.count=e),t.n||(t.n=e)}function _q(e={}){const t=e.locale,n=yq(e),r=Ct(e.pluralRules)&&Ae(t)&&$t(e.pluralRules[t])?e.pluralRules[t]:nx,i=Ct(e.pluralRules)&&Ae(t)&&$t(e.pluralRules[t])?nx:void 0,s=E=>E[r(n,E.length,i)],a=e.list||[],l=E=>a[E],c=e.named||{};wn(e.pluralIndex)&&bq(n,c);const h=E=>c[E];function p(E){const k=$t(e.messages)?e.messages(E):Ct(e.messages)?e.messages[E]:!1;return k||(e.parent?e.parent.message(E):pq)}const f=E=>e.modifiers?e.modifiers[E]:dq,m=Je(e.processor)&&$t(e.processor.normalize)?e.processor.normalize:gq,v=Je(e.processor)&&$t(e.processor.interpolate)?e.processor.interpolate:vq,y=Je(e.processor)&&Ae(e.processor.type)?e.processor.type:mq,w={list:l,named:h,plural:s,linked:(E,...k)=>{const[I,C]=k;let M="text",A="";k.length===1?Ct(I)?(A=I.modifier||A,M=I.type||M):Ae(I)&&(A=I||A):k.length===2&&(Ae(I)&&(A=I||A),Ae(C)&&(M=C||M));const j=p(E)(w),U=M==="vnode"&&Gt(j)&&A?j[0]:j;return A?f(A)(U,M):U},message:p,type:y,interpolate:v,normalize:m,values:Fn({},a,c)};return w}let pf=null;function wq(e){pf=e}function Eq(e,t,n){pf&&pf.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Tq=Sq("function:translate");function Sq(e){return t=>pf&&pf.emit(e,t)}const vL=_w.__EXTEND_POINT__,ia=Am(vL),Iq={NOT_FOUND_KEY:vL,FALLBACK_TO_TRANSLATE:ia(),CANNOT_FORMAT_NUMBER:ia(),FALLBACK_TO_NUMBER_FORMAT:ia(),CANNOT_FORMAT_DATE:ia(),FALLBACK_TO_DATE_FORMAT:ia(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ia(),__EXTEND_POINT__:ia()},yL=ze.__EXTEND_POINT__,oa=Am(yL),wi={INVALID_ARGUMENT:yL,INVALID_DATE_ARGUMENT:oa(),INVALID_ISO_DATE_ARGUMENT:oa(),NOT_SUPPORT_NON_STRING_MESSAGE:oa(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:oa(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:oa(),NOT_SUPPORT_LOCALE_TYPE:oa(),__EXTEND_POINT__:oa()};function ji(e){return Il(e,null,void 0)}function Ew(e,t){return t.locale!=null?rx(t.locale):rx(e.locale)}let Ny;function rx(e){if(Ae(e))return e;if($t(e)){if(e.resolvedOnce&&Ny!=null)return Ny;if(e.constructor.name==="Function"){const t=e();if(S8(t))throw ji(wi.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ny=t}else throw ji(wi.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ji(wi.NOT_SUPPORT_LOCALE_TYPE)}function Aq(e,t,n){return[...new Set([n,...Gt(t)?t:Ct(t)?Object.keys(t):Ae(t)?[t]:[n]])]}function bL(e,t,n){const r=Ae(n)?n:cl,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;Gt(a);)a=ix(s,a,t);const l=Gt(t)||!Je(t)?t:t.default?t.default:null;a=Ae(l)?[l]:l,Gt(a)&&ix(s,a,!1),i.__localeChainCache.set(r,s)}return s}function ix(e,t,n){let r=!0;for(let i=0;i<t.length&&ot(r);i++){const s=t[i];Ae(s)&&(r=xq(e,t[i],n))}return r}function xq(e,t,n){let r;const i=t.split("-");do{const s=i.join("-");r=kq(e,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function kq(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(Gt(n)||Je(n))&&n[i]&&(r=n[i])}return r}const Cq="9.13.1",xm=-1,cl="en-US",ox="",sx=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Nq(){return{upper:(e,t)=>t==="text"&&Ae(e)?e.toUpperCase():t==="vnode"&&Ct(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Ae(e)?e.toLowerCase():t==="vnode"&&Ct(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Ae(e)?sx(e):t==="vnode"&&Ct(e)&&"__v_isVNode"in e?sx(e.children):e}}let _L;function ax(e){_L=e}let wL;function Oq(e){wL=e}let EL;function Pq(e){EL=e}let TL=null;const Lq=e=>{TL=e},Rq=()=>TL;let SL=null;const ux=e=>{SL=e},Dq=()=>SL;let lx=0;function Mq(e={}){const t=$t(e.onWarn)?e.onWarn:x8,n=Ae(e.version)?e.version:Cq,r=Ae(e.locale)||$t(e.locale)?e.locale:cl,i=$t(r)?cl:r,s=Gt(e.fallbackLocale)||Je(e.fallbackLocale)||Ae(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=Je(e.messages)?e.messages:{[i]:{}},l=Je(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},c=Je(e.numberFormats)?e.numberFormats:{[i]:{}},h=Fn({},e.modifiers||{},Nq()),p=e.pluralRules||{},f=$t(e.missing)?e.missing:null,m=ot(e.missingWarn)||Ts(e.missingWarn)?e.missingWarn:!0,v=ot(e.fallbackWarn)||Ts(e.fallbackWarn)?e.fallbackWarn:!0,y=!!e.fallbackFormat,_=!!e.unresolving,w=$t(e.postTranslation)?e.postTranslation:null,E=Je(e.processor)?e.processor:null,k=ot(e.warnHtmlMessage)?e.warnHtmlMessage:!0,I=!!e.escapeParameter,C=$t(e.messageCompiler)?e.messageCompiler:_L,M=$t(e.messageResolver)?e.messageResolver:wL||fq,A=$t(e.localeFallbacker)?e.localeFallbacker:EL||Aq,j=Ct(e.fallbackContext)?e.fallbackContext:void 0,U=e,P=Ct(U.__datetimeFormatters)?U.__datetimeFormatters:new Map,z=Ct(U.__numberFormatters)?U.__numberFormatters:new Map,L=Ct(U.__meta)?U.__meta:{};lx++;const q={version:n,cid:lx,locale:r,fallbackLocale:s,messages:a,modifiers:h,pluralRules:p,missing:f,missingWarn:m,fallbackWarn:v,fallbackFormat:y,unresolving:_,postTranslation:w,processor:E,warnHtmlMessage:k,escapeParameter:I,messageCompiler:C,messageResolver:M,localeFallbacker:A,fallbackContext:j,onWarn:t,__meta:L};return q.datetimeFormats=l,q.numberFormats=c,q.__datetimeFormatters=P,q.__numberFormatters=z,__INTLIFY_PROD_DEVTOOLS__&&Eq(q,n,L),q}function Tw(e,t,n,r,i){const{missing:s,onWarn:a}=e;if(s!==null){const l=s(e,n,t,i);return Ae(l)?l:t}else return t}function pc(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Fq(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Uq(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Fq(e,t[r]))return!0;return!1}function Oy(e){return n=>Vq(n,e)}function Vq(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,i=r.c||r.cases;return e.plural(i.reduce((s,a)=>[...s,cx(e,a)],[]))}else return cx(e,n)}function cx(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((i,s)=>[...i,zb(e,s)],[]);return e.normalize(r)}}function zb(e,t){const n=t.t||t.type;switch(n){case 3:{const r=t;return r.v||r.value}case 9:{const r=t;return r.v||r.value}case 4:{const r=t;return e.interpolate(e.named(r.k||r.key))}case 5:{const r=t;return e.interpolate(e.list(r.i!=null?r.i:r.index))}case 6:{const r=t,i=r.m||r.modifier;return e.linked(zb(e,r.k||r.key),i?zb(e,i):void 0,e.type)}case 7:{const r=t;return r.v||r.value}case 8:{const r=t;return r.v||r.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const IL=e=>e;let Nu=Object.create(null);const fl=e=>Ct(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function AL(e,t={}){let n=!1;const r=t.onError||R8;return t.onError=i=>{n=!0,r(i)},{...rq(e,t),detectError:n}}const $q=(e,t)=>{if(!Ae(e))throw ji(wi.NOT_SUPPORT_NON_STRING_MESSAGE);{ot(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||IL)(e),i=Nu[r];if(i)return i;const{code:s,detectError:a}=AL(e,t),l=new Function(`return ${s}`)();return a?l:Nu[r]=l}};function jq(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ae(e)){ot(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||IL)(e),i=Nu[r];if(i)return i;const{ast:s,detectError:a}=AL(e,{...t,location:!1,jit:!0}),l=Oy(s);return a?l:Nu[r]=l}else{const n=e.cacheKey;if(n){const r=Nu[n];return r||(Nu[n]=Oy(e))}else return Oy(e)}}const fx=()=>"",ni=e=>$t(e);function hx(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:l}=e,[c,h]=qb(...t),p=ot(h.missingWarn)?h.missingWarn:e.missingWarn,f=ot(h.fallbackWarn)?h.fallbackWarn:e.fallbackWarn,m=ot(h.escapeParameter)?h.escapeParameter:e.escapeParameter,v=!!h.resolvedMessage,y=Ae(h.default)||ot(h.default)?ot(h.default)?s?c:()=>c:h.default:n?s?c:()=>c:"",_=n||y!=="",w=Ew(e,h);m&&Bq(h);let[E,k,I]=v?[c,w,l[w]||{}]:xL(e,c,w,a,f,p),C=E,M=c;if(!v&&!(Ae(C)||fl(C)||ni(C))&&_&&(C=y,M=C),!v&&(!(Ae(C)||fl(C)||ni(C))||!Ae(k)))return i?xm:c;let A=!1;const j=()=>{A=!0},U=ni(C)?C:kL(e,c,k,C,M,j);if(A)return C;const P=zq(e,k,I,h),z=_q(P),L=Hq(e,U,z),q=r?r(L,c):L;if(__INTLIFY_PROD_DEVTOOLS__){const ee={timestamp:Date.now(),key:Ae(c)?c:ni(C)?C.key:"",locale:k||(ni(C)?C.locale:""),format:Ae(C)?C:ni(C)?C.source:"",message:q};ee.meta=Fn({},e.__meta,Rq()||{}),Tq(ee)}return q}function Bq(e){Gt(e.list)?e.list=e.list.map(t=>Ae(t)?XA(t):t):Ct(e.named)&&Object.keys(e.named).forEach(t=>{Ae(e.named[t])&&(e.named[t]=XA(e.named[t]))})}function xL(e,t,n,r,i,s){const{messages:a,onWarn:l,messageResolver:c,localeFallbacker:h}=e,p=h(e,r,n);let f={},m,v=null;const y="translate";for(let _=0;_<p.length&&(m=p[_],f=a[m]||{},(v=c(f,t))===null&&(v=f[t]),!(Ae(v)||fl(v)||ni(v)));_++)if(!Uq(m,p)){const w=Tw(e,t,m,s,y);w!==t&&(v=w)}return[v,m,f]}function kL(e,t,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:l}=e;if(ni(r)){const h=r;return h.locale=h.locale||n,h.key=h.key||t,h}if(a==null){const h=()=>r;return h.locale=n,h.key=t,h}const c=a(r,Gq(e,n,i,r,l,s));return c.locale=n,c.key=t,c.source=r,c}function Hq(e,t,n){return t(n)}function qb(...e){const[t,n,r]=e,i={};if(!Ae(t)&&!wn(t)&&!ni(t)&&!fl(t))throw ji(wi.INVALID_ARGUMENT);const s=wn(t)?String(t):(ni(t),t);return wn(n)?i.plural=n:Ae(n)?i.default=n:Je(n)&&!Im(n)?i.named=n:Gt(n)&&(i.list=n),wn(r)?i.plural=r:Ae(r)?i.default=r:Je(r)&&Fn(i,r),[s,i]}function Gq(e,t,n,r,i,s){return{locale:t,key:n,warnHtmlMessage:i,onError:a=>{throw s&&s(a),a},onCacheKey:a=>_8(t,n,a)}}function zq(e,t,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:l,fallbackWarn:c,missingWarn:h,fallbackContext:p}=e,m={locale:t,modifiers:i,pluralRules:s,messages:v=>{let y=a(n,v);if(y==null&&p){const[,,_]=xL(p,v,t,l,c,h);y=a(_,v)}if(Ae(y)||fl(y)){let _=!1;const E=kL(e,v,t,y,v,()=>{_=!0});return _?fx:E}else return ni(y)?y:fx}};return e.processor&&(m.processor=e.processor),r.list&&(m.list=r.list),r.named&&(m.named=r.named),wn(r.plural)&&(m.pluralIndex=r.plural),m}function dx(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__datetimeFormatters:l}=e,[c,h,p,f]=Wb(...t),m=ot(p.missingWarn)?p.missingWarn:e.missingWarn;ot(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const v=!!p.part,y=Ew(e,p),_=a(e,i,y);if(!Ae(c)||c==="")return new Intl.DateTimeFormat(y,f).format(h);let w={},E,k=null;const I="datetime format";for(let A=0;A<_.length&&(E=_[A],w=n[E]||{},k=w[c],!Je(k));A++)Tw(e,c,E,m,I);if(!Je(k)||!Ae(E))return r?xm:c;let C=`${E}__${c}`;Im(f)||(C=`${C}__${JSON.stringify(f)}`);let M=l.get(C);return M||(M=new Intl.DateTimeFormat(E,Fn({},k,f)),l.set(C,M)),v?M.formatToParts(h):M.format(h)}const CL=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Wb(...e){const[t,n,r,i]=e,s={};let a={},l;if(Ae(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw ji(wi.INVALID_ISO_DATE_ARGUMENT);const h=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();l=new Date(h);try{l.toISOString()}catch{throw ji(wi.INVALID_ISO_DATE_ARGUMENT)}}else if(E8(t)){if(isNaN(t.getTime()))throw ji(wi.INVALID_DATE_ARGUMENT);l=t}else if(wn(t))l=t;else throw ji(wi.INVALID_ARGUMENT);return Ae(n)?s.key=n:Je(n)&&Object.keys(n).forEach(c=>{CL.includes(c)?a[c]=n[c]:s[c]=n[c]}),Ae(r)?s.locale=r:Je(r)&&(a=r),Je(i)&&(a=i),[s.key||"",l,s,a]}function px(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function mx(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__numberFormatters:l}=e,[c,h,p,f]=Kb(...t),m=ot(p.missingWarn)?p.missingWarn:e.missingWarn;ot(p.fallbackWarn)?p.fallbackWarn:e.fallbackWarn;const v=!!p.part,y=Ew(e,p),_=a(e,i,y);if(!Ae(c)||c==="")return new Intl.NumberFormat(y,f).format(h);let w={},E,k=null;const I="number format";for(let A=0;A<_.length&&(E=_[A],w=n[E]||{},k=w[c],!Je(k));A++)Tw(e,c,E,m,I);if(!Je(k)||!Ae(E))return r?xm:c;let C=`${E}__${c}`;Im(f)||(C=`${C}__${JSON.stringify(f)}`);let M=l.get(C);return M||(M=new Intl.NumberFormat(E,Fn({},k,f)),l.set(C,M)),v?M.formatToParts(h):M.format(h)}const NL=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Kb(...e){const[t,n,r,i]=e,s={};let a={};if(!wn(t))throw ji(wi.INVALID_ARGUMENT);const l=t;return Ae(n)?s.key=n:Je(n)&&Object.keys(n).forEach(c=>{NL.includes(c)?a[c]=n[c]:s[c]=n[c]}),Ae(r)?s.locale=r:Je(r)&&(a=r),Je(i)&&(a=i),[s.key||"",l,s,a]}function gx(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}iq();/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const qq="9.13.1";function Wq(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(co().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(co().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(co().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(co().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(co().__INTLIFY_PROD_DEVTOOLS__=!1)}const OL=Iq.__EXTEND_POINT__,so=Am(OL);so(),so(),so(),so(),so(),so(),so(),so(),so();const PL=wi.__EXTEND_POINT__,br=Am(PL),Tn={UNEXPECTED_RETURN_TYPE:PL,INVALID_ARGUMENT:br(),MUST_BE_CALL_SETUP_TOP:br(),NOT_INSTALLED:br(),NOT_AVAILABLE_IN_LEGACY_MODE:br(),REQUIRED_VALUE:br(),INVALID_VALUE:br(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:br(),NOT_INSTALLED_WITH_PROVIDE:br(),UNEXPECTED_ERROR:br(),NOT_COMPATIBLE_LEGACY_VUE_I18N:br(),BRIDGE_SUPPORT_VUE_2_ONLY:br(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:br(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:br(),__EXTEND_POINT__:br()};function Pn(e,...t){return Il(e,null,void 0)}const Yb=Ps("__translateVNode"),Xb=Ps("__datetimeParts"),Jb=Ps("__numberParts"),LL=Ps("__setPluralRules"),RL=Ps("__injectWithOption"),Qb=Ps("__dispose");function mf(e){if(!Ct(e))return e;for(const t in e)if(Ep(e,t))if(!t.includes("."))Ct(e[t])&&mf(e[t]);else{const n=t.split("."),r=n.length-1;let i=e,s=!1;for(let a=0;a<r;a++){if(n[a]in i||(i[n[a]]={}),!Ct(i[n[a]])){s=!0;break}i=i[n[a]]}s||(i[n[r]]=e[t],delete e[t]),Ct(i[n[r]])&&mf(i[n[r]])}return e}function km(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=t,a=Je(n)?n:Gt(r)?{}:{[e]:{}};if(Gt(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:c,resource:h}=l;c?(a[c]=a[c]||{},Nd(h,a[c])):Nd(h,a)}else Ae(l)&&Nd(JSON.parse(l),a)}),i==null&&s)for(const l in a)Ep(a,l)&&mf(a[l]);return a}function DL(e){return e.type}function ML(e,t,n){let r=Ct(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=km(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(Ct(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(Ct(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function vx(e){return ae(Sf,null,e,0)}const yx="__INTLIFY_META__",bx=()=>[],Kq=()=>!1;let _x=0;function wx(e){return(t,n,r,i)=>e(n,r,Wi()||void 0,i)}const Yq=()=>{const e=Wi();let t=null;return e&&(t=DL(e)[yx])?{[yx]:t}:null};function Sw(e={},t){const{__root:n,__injectWithOption:r}=e,i=n===void 0,s=e.flatJson,a=wp?ht:Lp,l=!!e.translateExistCompatible;let c=ot(e.inheritLocale)?e.inheritLocale:!0;const h=a(n&&c?n.locale.value:Ae(e.locale)?e.locale:cl),p=a(n&&c?n.fallbackLocale.value:Ae(e.fallbackLocale)||Gt(e.fallbackLocale)||Je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:h.value),f=a(km(h.value,e)),m=a(Je(e.datetimeFormats)?e.datetimeFormats:{[h.value]:{}}),v=a(Je(e.numberFormats)?e.numberFormats:{[h.value]:{}});let y=n?n.missingWarn:ot(e.missingWarn)||Ts(e.missingWarn)?e.missingWarn:!0,_=n?n.fallbackWarn:ot(e.fallbackWarn)||Ts(e.fallbackWarn)?e.fallbackWarn:!0,w=n?n.fallbackRoot:ot(e.fallbackRoot)?e.fallbackRoot:!0,E=!!e.fallbackFormat,k=$t(e.missing)?e.missing:null,I=$t(e.missing)?wx(e.missing):null,C=$t(e.postTranslation)?e.postTranslation:null,M=n?n.warnHtmlMessage:ot(e.warnHtmlMessage)?e.warnHtmlMessage:!0,A=!!e.escapeParameter;const j=n?n.modifiers:Je(e.modifiers)?e.modifiers:{};let U=e.pluralRules||n&&n.pluralRules,P;P=(()=>{i&&ux(null);const G={version:qq,locale:h.value,fallbackLocale:p.value,messages:f.value,modifiers:j,pluralRules:U,missing:I===null?void 0:I,missingWarn:y,fallbackWarn:_,fallbackFormat:E,unresolving:!0,postTranslation:C===null?void 0:C,warnHtmlMessage:M,escapeParameter:A,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};G.datetimeFormats=m.value,G.numberFormats=v.value,G.__datetimeFormatters=Je(P)?P.__datetimeFormatters:void 0,G.__numberFormatters=Je(P)?P.__numberFormatters:void 0;const J=Mq(G);return i&&ux(J),J})(),pc(P,h.value,p.value);function L(){return[h.value,p.value,f.value,m.value,v.value]}const q=He({get:()=>h.value,set:G=>{h.value=G,P.locale=h.value}}),ee=He({get:()=>p.value,set:G=>{p.value=G,P.fallbackLocale=p.value,pc(P,h.value,G)}}),Te=He(()=>f.value),xe=He(()=>m.value),ie=He(()=>v.value);function Re(){return $t(C)?C:null}function Me(G){C=G,P.postTranslation=G}function Xe(){return k}function xt(G){G!==null&&(I=wx(G)),k=G,P.missing=I}const it=(G,J,ge,V,B,ne)=>{L();let ve;try{__INTLIFY_PROD_DEVTOOLS__,i||(P.fallbackContext=n?Dq():void 0),ve=G(P)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(P.fallbackContext=void 0)}if(ge!=="translate exists"&&wn(ve)&&ve===xm||ge==="translate exists"&&!ve){const[Ie,Pe]=J();return n&&w?V(n):B(Ie)}else{if(ne(ve))return ve;throw Pn(Tn.UNEXPECTED_RETURN_TYPE)}};function dt(...G){return it(J=>Reflect.apply(hx,null,[J,...G]),()=>qb(...G),"translate",J=>Reflect.apply(J.t,J,[...G]),J=>J,J=>Ae(J))}function pt(...G){const[J,ge,V]=G;if(V&&!Ct(V))throw Pn(Tn.INVALID_ARGUMENT);return dt(J,ge,Fn({resolvedMessage:!0},V||{}))}function en(...G){return it(J=>Reflect.apply(dx,null,[J,...G]),()=>Wb(...G),"datetime format",J=>Reflect.apply(J.d,J,[...G]),()=>ox,J=>Ae(J))}function Se(...G){return it(J=>Reflect.apply(mx,null,[J,...G]),()=>Kb(...G),"number format",J=>Reflect.apply(J.n,J,[...G]),()=>ox,J=>Ae(J))}function Ne(G){return G.map(J=>Ae(J)||wn(J)||ot(J)?vx(String(J)):J)}const le={normalize:Ne,interpolate:G=>G,type:"vnode"};function re(...G){return it(J=>{let ge;const V=J;try{V.processor=le,ge=Reflect.apply(hx,null,[V,...G])}finally{V.processor=null}return ge},()=>qb(...G),"translate",J=>J[Yb](...G),J=>[vx(J)],J=>Gt(J))}function Ee(...G){return it(J=>Reflect.apply(mx,null,[J,...G]),()=>Kb(...G),"number format",J=>J[Jb](...G),bx,J=>Ae(J)||Gt(J))}function Ge(...G){return it(J=>Reflect.apply(dx,null,[J,...G]),()=>Wb(...G),"datetime format",J=>J[Xb](...G),bx,J=>Ae(J)||Gt(J))}function st(G){U=G,P.pluralRules=U}function D(G,J){return it(()=>{if(!G)return!1;const ge=Ae(J)?J:h.value,V=te(ge),B=P.messageResolver(V,G);return l?B!=null:fl(B)||ni(B)||Ae(B)},()=>[G],"translate exists",ge=>Reflect.apply(ge.te,ge,[G,J]),Kq,ge=>ot(ge))}function O(G){let J=null;const ge=bL(P,p.value,h.value);for(let V=0;V<ge.length;V++){const B=f.value[ge[V]]||{},ne=P.messageResolver(B,G);if(ne!=null){J=ne;break}}return J}function H(G){const J=O(G);return J??(n?n.tm(G)||{}:{})}function te(G){return f.value[G]||{}}function Y(G,J){if(s){const ge={[G]:J};for(const V in ge)Ep(ge,V)&&mf(ge[V]);J=ge[G]}f.value[G]=J,P.messages=f.value}function fe(G,J){f.value[G]=f.value[G]||{};const ge={[G]:J};if(s)for(const V in ge)Ep(ge,V)&&mf(ge[V]);J=ge[G],Nd(J,f.value[G]),P.messages=f.value}function pe(G){return m.value[G]||{}}function N(G,J){m.value[G]=J,P.datetimeFormats=m.value,px(P,G,J)}function R(G,J){m.value[G]=Fn(m.value[G]||{},J),P.datetimeFormats=m.value,px(P,G,J)}function $(G){return v.value[G]||{}}function Z(G,J){v.value[G]=J,P.numberFormats=v.value,gx(P,G,J)}function we(G,J){v.value[G]=Fn(v.value[G]||{},J),P.numberFormats=v.value,gx(P,G,J)}_x++,n&&wp&&(Kn(n.locale,G=>{c&&(h.value=G,P.locale=G,pc(P,h.value,p.value))}),Kn(n.fallbackLocale,G=>{c&&(p.value=G,P.fallbackLocale=G,pc(P,h.value,p.value))}));const oe={id:_x,locale:q,fallbackLocale:ee,get inheritLocale(){return c},set inheritLocale(G){c=G,G&&n&&(h.value=n.locale.value,p.value=n.fallbackLocale.value,pc(P,h.value,p.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:Te,get modifiers(){return j},get pluralRules(){return U||{}},get isGlobal(){return i},get missingWarn(){return y},set missingWarn(G){y=G,P.missingWarn=y},get fallbackWarn(){return _},set fallbackWarn(G){_=G,P.fallbackWarn=_},get fallbackRoot(){return w},set fallbackRoot(G){w=G},get fallbackFormat(){return E},set fallbackFormat(G){E=G,P.fallbackFormat=E},get warnHtmlMessage(){return M},set warnHtmlMessage(G){M=G,P.warnHtmlMessage=G},get escapeParameter(){return A},set escapeParameter(G){A=G,P.escapeParameter=G},t:dt,getLocaleMessage:te,setLocaleMessage:Y,mergeLocaleMessage:fe,getPostTranslationHandler:Re,setPostTranslationHandler:Me,getMissingHandler:Xe,setMissingHandler:xt,[LL]:st};return oe.datetimeFormats=xe,oe.numberFormats=ie,oe.rt=pt,oe.te=D,oe.tm=H,oe.d=en,oe.n=Se,oe.getDateTimeFormat=pe,oe.setDateTimeFormat=N,oe.mergeDateTimeFormat=R,oe.getNumberFormat=$,oe.setNumberFormat=Z,oe.mergeNumberFormat=we,oe[RL]=r,oe[Yb]=re,oe[Xb]=Ge,oe[Jb]=Ee,oe}function Xq(e){const t=Ae(e.locale)?e.locale:cl,n=Ae(e.fallbackLocale)||Gt(e.fallbackLocale)||Je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=$t(e.missing)?e.missing:void 0,i=ot(e.silentTranslationWarn)||Ts(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=ot(e.silentFallbackWarn)||Ts(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=ot(e.fallbackRoot)?e.fallbackRoot:!0,l=!!e.formatFallbackMessages,c=Je(e.modifiers)?e.modifiers:{},h=e.pluralizationRules,p=$t(e.postTranslation)?e.postTranslation:void 0,f=Ae(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,m=!!e.escapeParameterHtml,v=ot(e.sync)?e.sync:!0;let y=e.messages;if(Je(e.sharedMessages)){const A=e.sharedMessages;y=Object.keys(A).reduce((U,P)=>{const z=U[P]||(U[P]={});return Fn(z,A[P]),U},y||{})}const{__i18n:_,__root:w,__injectWithOption:E}=e,k=e.datetimeFormats,I=e.numberFormats,C=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:y,flatJson:C,datetimeFormats:k,numberFormats:I,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:a,fallbackFormat:l,modifiers:c,pluralRules:h,postTranslation:p,warnHtmlMessage:f,escapeParameter:m,messageResolver:e.messageResolver,inheritLocale:v,translateExistCompatible:M,__i18n:_,__root:w,__injectWithOption:E}}function Zb(e={},t){{const n=Sw(Xq(e)),{__extender:r}=e,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return ot(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=ot(s)?!s:s},get silentFallbackWarn(){return ot(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=ot(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,l,c]=s,h={};let p=null,f=null;if(!Ae(a))throw Pn(Tn.INVALID_ARGUMENT);const m=a;return Ae(l)?h.locale=l:Gt(l)?p=l:Je(l)&&(f=l),Gt(c)?p=c:Je(c)&&(f=c),Reflect.apply(n.t,n,[m,p||f||{},h])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,l,c]=s,h={plural:1};let p=null,f=null;if(!Ae(a))throw Pn(Tn.INVALID_ARGUMENT);const m=a;return Ae(l)?h.locale=l:wn(l)?h.plural=l:Gt(l)?p=l:Je(l)&&(f=l),Ae(c)?h.locale=c:Gt(c)?p=c:Je(c)&&(f=c),Reflect.apply(n.t,n,[m,p||f||{},h])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return-1}};return i.__extender=r,i}}const Iw={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Jq({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,i)=>[...r,...i.type===vt?i.children:[i]],[]):t.reduce((n,r)=>{const i=e[r];return i&&(n[r]=i()),n},{})}function FL(e){return vt}const Qq=Ss({name:"i18n-t",props:Fn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>wn(e)||!isNaN(e)}},Iw),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||Aw({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(f=>f!=="_"),a={};e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=Ae(e.plural)?+e.plural:e.plural);const l=Jq(t,s),c=i[Yb](e.keypath,l,a),h=Fn({},r),p=Ae(e.tag)||Ct(e.tag)?e.tag:FL();return mn(p,h,c)}}}),Ex=Qq;function Zq(e){return Gt(e)&&!Ae(e[0])}function UL(e,t,n,r){const{slots:i,attrs:s}=t;return()=>{const a={part:!0};let l={};e.locale&&(a.locale=e.locale),Ae(e.format)?a.key=e.format:Ct(e.format)&&(Ae(e.format.key)&&(a.key=e.format.key),l=Object.keys(e.format).reduce((m,v)=>n.includes(v)?Fn({},m,{[v]:e.format[v]}):m,{}));const c=r(e.value,a,l);let h=[a.key];Gt(c)?h=c.map((m,v)=>{const y=i[m.type],_=y?y({[m.type]:m.value,index:v,parts:c}):[m.value];return Zq(_)&&(_[0].key=`${m.type}-${v}`),_}):Ae(c)&&(h=[c]);const p=Fn({},s),f=Ae(e.tag)||Ct(e.tag)?e.tag:FL();return mn(f,p,h)}}const e6=Ss({name:"i18n-n",props:Fn({value:{type:Number,required:!0},format:{type:[String,Object]}},Iw),setup(e,t){const n=e.i18n||Aw({useScope:e.scope,__useComponent:!0});return UL(e,t,NL,(...r)=>n[Jb](...r))}}),Tx=e6,t6=Ss({name:"i18n-d",props:Fn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Iw),setup(e,t){const n=e.i18n||Aw({useScope:e.scope,__useComponent:!0});return UL(e,t,CL,(...r)=>n[Xb](...r))}}),Sx=t6;function n6(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function r6(e){const t=a=>{const{instance:l,modifiers:c,value:h}=a;if(!l||!l.$)throw Pn(Tn.UNEXPECTED_ERROR);const p=n6(e,l.$),f=Ix(h);return[Reflect.apply(p.t,p,[...Ax(f)]),p]};return{created:(a,l)=>{const[c,h]=t(l);wp&&e.global===h&&(a.__i18nWatcher=Kn(h.locale,()=>{l.instance&&l.instance.$forceUpdate()})),a.__composer=h,a.textContent=c},unmounted:a=>{wp&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:l})=>{if(a.__composer){const c=a.__composer,h=Ix(l);a.textContent=Reflect.apply(c.t,c,[...Ax(h)])}},getSSRProps:a=>{const[l]=t(a);return{textContent:l}}}}function Ix(e){if(Ae(e))return{path:e};if(Je(e)){if(!("path"in e))throw Pn(Tn.REQUIRED_VALUE,"path");return e}else throw Pn(Tn.INVALID_VALUE)}function Ax(e){const{path:t,locale:n,args:r,choice:i,plural:s}=e,a={},l=r||{};return Ae(n)&&(a.locale=n),wn(i)&&(a.plural=i),wn(s)&&(a.plural=s),[t,l,a]}function i6(e,t,...n){const r=Je(n[0])?n[0]:{},i=!!r.useI18nComponentName;(ot(r.globalInstall)?r.globalInstall:!0)&&([i?"i18n":Ex.name,"I18nT"].forEach(a=>e.component(a,Ex)),[Tx.name,"I18nN"].forEach(a=>e.component(a,Tx)),[Sx.name,"I18nD"].forEach(a=>e.component(a,Sx))),e.directive("t",r6(t))}function o6(e,t,n){return{beforeCreate(){const r=Wi();if(!r)throw Pn(Tn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=t,this===this.$root)this.$i18n=xx(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Zb(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=xx(e,i);else{this.$i18n=Zb({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&ML(t,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Wi();if(!r)throw Pn(Tn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function xx(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[LL](t.pluralizationRules||e.pluralizationRules);const n=km(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const s6=Ps("global-vue-i18n");function a6(e={},t){const n=__VUE_I18N_LEGACY_API__&&ot(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=ot(e.globalInjection)?e.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[a,l]=u6(e,n),c=Ps("");function h(m){return s.get(m)||null}function p(m,v){s.set(m,v)}function f(m){s.delete(m)}{const m={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(v,...y){if(v.__VUE_I18N_SYMBOL__=c,v.provide(v.__VUE_I18N_SYMBOL__,m),Je(y[0])){const E=y[0];m.__composerExtend=E.__composerExtend,m.__vueI18nExtend=E.__vueI18nExtend}let _=null;!n&&r&&(_=v6(v,m.global)),__VUE_I18N_FULL_INSTALL__&&i6(v,m,...y),__VUE_I18N_LEGACY_API__&&n&&v.mixin(o6(l,l.__composer,m));const w=v.unmount;v.unmount=()=>{_&&_(),m.dispose(),w()}},get global(){return l},dispose(){a.stop()},__instances:s,__getInstance:h,__setInstance:p,__deleteInstance:f};return m}}function Aw(e={}){const t=Wi();if(t==null)throw Pn(Tn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Pn(Tn.NOT_INSTALLED);const n=l6(t),r=f6(n),i=DL(t),s=c6(e,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw Pn(Tn.NOT_AVAILABLE_IN_LEGACY_MODE);return m6(t,s,r,e)}if(s==="global")return ML(r,e,i),r;if(s==="parent"){let c=h6(n,t,e.__useComponent);return c==null&&(c=r),c}const a=n;let l=a.__getInstance(t);if(l==null){const c=Fn({},e);"__i18n"in i&&(c.__i18n=i.__i18n),r&&(c.__root=r),l=Sw(c),a.__composerExtend&&(l[Qb]=a.__composerExtend(l)),p6(a,t,l),a.__setInstance(t,l)}return l}function u6(e,t,n){const r=T_();{const i=__VUE_I18N_LEGACY_API__&&t?r.run(()=>Zb(e)):r.run(()=>Sw(e));if(i==null)throw Pn(Tn.UNEXPECTED_ERROR);return[r,i]}}function l6(e){{const t=Br(e.isCE?s6:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Pn(e.isCE?Tn.NOT_INSTALLED_WITH_PROVIDE:Tn.UNEXPECTED_ERROR);return t}}function c6(e,t){return Im(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function f6(e){return e.mode==="composition"?e.global:e.global.__composer}function h6(e,t,n=!1){let r=null;const i=t.root;let s=d6(t,n);for(;s!=null;){const a=e;if(e.mode==="composition")r=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const l=a.__getInstance(s);l!=null&&(r=l.__composer,n&&r&&!r[RL]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function d6(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function p6(e,t,n){Ma(()=>{},t),V_(()=>{const r=n;e.__deleteInstance(t);const i=r[Qb];i&&(i(),delete r[Qb])},t)}function m6(e,t,n,r={}){const i=t==="local",s=Lp(null);if(i&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw Pn(Tn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=ot(r.inheritLocale)?r.inheritLocale:!Ae(r.locale),l=ht(!i||a?n.locale.value:Ae(r.locale)?r.locale:cl),c=ht(!i||a?n.fallbackLocale.value:Ae(r.fallbackLocale)||Gt(r.fallbackLocale)||Je(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:l.value),h=ht(km(l.value,r)),p=ht(Je(r.datetimeFormats)?r.datetimeFormats:{[l.value]:{}}),f=ht(Je(r.numberFormats)?r.numberFormats:{[l.value]:{}}),m=i?n.missingWarn:ot(r.missingWarn)||Ts(r.missingWarn)?r.missingWarn:!0,v=i?n.fallbackWarn:ot(r.fallbackWarn)||Ts(r.fallbackWarn)?r.fallbackWarn:!0,y=i?n.fallbackRoot:ot(r.fallbackRoot)?r.fallbackRoot:!0,_=!!r.fallbackFormat,w=$t(r.missing)?r.missing:null,E=$t(r.postTranslation)?r.postTranslation:null,k=i?n.warnHtmlMessage:ot(r.warnHtmlMessage)?r.warnHtmlMessage:!0,I=!!r.escapeParameter,C=i?n.modifiers:Je(r.modifiers)?r.modifiers:{},M=r.pluralRules||i&&n.pluralRules;function A(){return[l.value,c.value,h.value,p.value,f.value]}const j=He({get:()=>s.value?s.value.locale.value:l.value,set:O=>{s.value&&(s.value.locale.value=O),l.value=O}}),U=He({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:O=>{s.value&&(s.value.fallbackLocale.value=O),c.value=O}}),P=He(()=>s.value?s.value.messages.value:h.value),z=He(()=>p.value),L=He(()=>f.value);function q(){return s.value?s.value.getPostTranslationHandler():E}function ee(O){s.value&&s.value.setPostTranslationHandler(O)}function Te(){return s.value?s.value.getMissingHandler():w}function xe(O){s.value&&s.value.setMissingHandler(O)}function ie(O){return A(),O()}function Re(...O){return s.value?ie(()=>Reflect.apply(s.value.t,null,[...O])):ie(()=>"")}function Me(...O){return s.value?Reflect.apply(s.value.rt,null,[...O]):""}function Xe(...O){return s.value?ie(()=>Reflect.apply(s.value.d,null,[...O])):ie(()=>"")}function xt(...O){return s.value?ie(()=>Reflect.apply(s.value.n,null,[...O])):ie(()=>"")}function it(O){return s.value?s.value.tm(O):{}}function dt(O,H){return s.value?s.value.te(O,H):!1}function pt(O){return s.value?s.value.getLocaleMessage(O):{}}function en(O,H){s.value&&(s.value.setLocaleMessage(O,H),h.value[O]=H)}function Se(O,H){s.value&&s.value.mergeLocaleMessage(O,H)}function Ne(O){return s.value?s.value.getDateTimeFormat(O):{}}function W(O,H){s.value&&(s.value.setDateTimeFormat(O,H),p.value[O]=H)}function le(O,H){s.value&&s.value.mergeDateTimeFormat(O,H)}function re(O){return s.value?s.value.getNumberFormat(O):{}}function Ee(O,H){s.value&&(s.value.setNumberFormat(O,H),f.value[O]=H)}function Ge(O,H){s.value&&s.value.mergeNumberFormat(O,H)}const st={get id(){return s.value?s.value.id:-1},locale:j,fallbackLocale:U,messages:P,datetimeFormats:z,numberFormats:L,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(O){s.value&&(s.value.inheritLocale=O)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(h.value)},get modifiers(){return s.value?s.value.modifiers:C},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:m},set missingWarn(O){s.value&&(s.value.missingWarn=O)},get fallbackWarn(){return s.value?s.value.fallbackWarn:v},set fallbackWarn(O){s.value&&(s.value.missingWarn=O)},get fallbackRoot(){return s.value?s.value.fallbackRoot:y},set fallbackRoot(O){s.value&&(s.value.fallbackRoot=O)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(O){s.value&&(s.value.fallbackFormat=O)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:k},set warnHtmlMessage(O){s.value&&(s.value.warnHtmlMessage=O)},get escapeParameter(){return s.value?s.value.escapeParameter:I},set escapeParameter(O){s.value&&(s.value.escapeParameter=O)},t:Re,getPostTranslationHandler:q,setPostTranslationHandler:ee,getMissingHandler:Te,setMissingHandler:xe,rt:Me,d:Xe,n:xt,tm:it,te:dt,getLocaleMessage:pt,setLocaleMessage:en,mergeLocaleMessage:Se,getDateTimeFormat:Ne,setDateTimeFormat:W,mergeDateTimeFormat:le,getNumberFormat:re,setNumberFormat:Ee,mergeNumberFormat:Ge};function D(O){O.locale.value=l.value,O.fallbackLocale.value=c.value,Object.keys(h.value).forEach(H=>{O.mergeLocaleMessage(H,h.value[H])}),Object.keys(p.value).forEach(H=>{O.mergeDateTimeFormat(H,p.value[H])}),Object.keys(f.value).forEach(H=>{O.mergeNumberFormat(H,f.value[H])}),O.escapeParameter=I,O.fallbackFormat=_,O.fallbackRoot=y,O.fallbackWarn=v,O.missingWarn=m,O.warnHtmlMessage=k}return nC(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw Pn(Tn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const O=s.value=e.proxy.$i18n.__composer;t==="global"?(l.value=O.locale.value,c.value=O.fallbackLocale.value,h.value=O.messages.value,p.value=O.datetimeFormats.value,f.value=O.numberFormats.value):i&&D(O)}),st}const g6=["locale","fallbackLocale","availableLocales"],kx=["t","rt","d","n","tm","te"];function v6(e,t){const n=Object.create(null);return g6.forEach(i=>{const s=Object.getOwnPropertyDescriptor(t,i);if(!s)throw Pn(Tn.UNEXPECTED_ERROR);const a=zt(s.value)?{get(){return s.value.value},set(l){s.value.value=l}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,i,a)}),e.config.globalProperties.$i18n=n,kx.forEach(i=>{const s=Object.getOwnPropertyDescriptor(t,i);if(!s||!s.value)throw Pn(Tn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,s)}),()=>{delete e.config.globalProperties.$i18n,kx.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}Wq();__INTLIFY_JIT_COMPILATION__?ax(jq):ax($q);Oq(hq);Pq(bL);if(__INTLIFY_PROD_DEVTOOLS__){const e=co();e.__INTLIFY__=!0,wq(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const y6="Artist",b6={sign_up_to_singer:"Sign Up To Be A Singer",browse_site:"Browse The Site"},_6={sign_in_sign_up:"Sign In/Sign Up",logout:"Logout",make_your_own_album:"Make Own Album",play_list:"Play List",member_managemnet:"Member Management"},w6={upload_song:"Upload Song",confirm_upload:"Confirm",confirm:"Confirm",cancel:"Cancel",publish_later:"Not now",yes:"yes"},E6={give_it_a_listen:"Give It A Listen",cliam:"The music,songs and pictures on this website are for technical testing purposes only and are not for commercial use. Please do not reproduce or share",tomorrow_stars_title:"Tomorrow's Stars",america_pop_title:"North American Pop",piano_pop_title:"Piano Music"},T6={start_to_make_album_title:"Make Your Album",upload_your_song_title:"Upload Your Song",the_song_you_want_to_upload:"Song Uploading List",upload_singer_photo:"Upload your photo",upload_album_cover:"Upload album cover",singer_photo:"Artist photo",singer_name:"Artist name",album_cover:"Album cover",album_name:"Album name",album_genre:"Album genre",album_desc:"Album description",descript_your_album:"Please descript your album",singer_desc:"Artist description",descript_yourself:"Please descript yourself",albumGenre:{Acoustic:"Acoustic",Blues:"Blues",Classical:"Classical",Country:"Country",Dance_Electronica:"Dance Electronica",Drones:"Drones",Dubstep:"Dubstep",Easy_Listening:"Easy Listening",Folk:"Folk",Funk:"Funk",Hip_Hop:"Hip Hop",House:"House",Kitsch:"Kitsch",Latin:"Latin",March:"March",Metal:"Metal",Opera:"Opera",Pop:"Pop",Rock:"Rock",Soul:"Soul","Urban_R&Bl":"Urban/R&B",World_Music:"World Music",Other:"Other"}},S6={profile:"Profile",created_album:"Created Album",editAlbum:{album_info:"Album Infomation",make_album_public:"Make Album Public",album_is_public:"Album is public",album_is_private:"Album is private",singer_name:"Artist Name",album_name:"Album Name",album_genre:"Album Genre",singer_desc:"Artist Description",album_desc:"Album Description",uploaded_song_list:"Uploaded Song List"}},I6={feature_unavailable_msg:"This feature is available to registered users only. Please sign up for a free account",login_to_use:"Please sign up and log in to create your own album",no_available_route:"No Available Route"},A6={delete_album:"Are you sure to delete album【{albumName}】",delete_favsong:"Are you sure to delete「{favsongName}」from play list",file_extension_check_alert:"Please upload an image file in JPG, PNG, or BMP format.",photo_size_suggetion_alert:"Please ensure your image is square (e.g., 500x500 pixels).",photo_pixel_than_suggetion_alert:"Your image must be at least 200 pixels by 200 pixels",registered_yet:"You have not registered or logged in yet. You cannot complete the album creation.",album_complete_alert:"Your album is complete. Would you like to publish it on the website?",at_leaset_one_alert:"At least one audio file must be retained.",non_mp3_file_alert:"【{file}】is not mp3,please re-select your file"},x6={singer:y6,screen:b6,menu:_6,button:w6,"signin&singup":{your_account:"Your Account",sign_in:"Sign In",sign_up:"Sign Up",password:"Password",submit_btn:"Submit",send_btn:"Send",loggin_in:"Logging in...",loggin_failed:"Login failed",loggin_successful:"Login successful! Redirecting... ",signing_up_wait:"Signing up, please wait...",user_name:"User Name",enter_user_name:"Enter username",enter_email:"Enter your email",enter_password:"Enter password",enter_password_again:"Please enter your password again",confirm_password:"Confirm password"},home:E6,makeAlbumPage:T6,memberMamagePage:S6,ErroMsg:I6,alertMsg:A6},k6="歌手",C6={sign_up_to_singer:"註冊成為歌手",browse_site:"逛逛網站"},N6={upload_song:"上傳歌曲檔案",confirm_upload:"確定上傳",confirm:"確定",cancel:"取消",publish_later:"目前先不用",yes:"是"},O6={sign_in_sign_up:"登入/註冊",logout:"登出",make_your_own_album:"製作自己的專輯",play_list:"我的播放清單",member_managemnet:"會員管理"},P6={give_it_a_listen:"點我聽聽看",cliam:"網站之音樂、歌曲及圖片僅作為技術測試用，非商業用途，請勿轉載及分享",tomorrow_stars_title:"明日之星",america_pop_title:"美國流行音樂",piano_pop_title:"鋼琴音樂"},L6={start_to_make_album_title:"開始製作專輯",upload_your_song_title:"您要上傳的歌曲",the_song_you_want_to_upload:"您要上傳的歌曲",upload_singer_photo:"上傳歌手照片",upload_album_cover:"上傳專輯封面",singer_photo:"歌手照片",singer_name:"歌手名稱",album_cover:"專輯封面",album_name:"專輯名稱",album_genre:"專輯類型",album_desc:"專輯描述",descript_your_album:"請描述您的專輯",singer_desc:"歌手描述",descript_yourself:"請描述您自己",albumGenre:{Acoustic:"原音樂",Blues:"藍調",Classical:"古典",Country:"鄉村音樂",Dance_Electronica:"電子舞曲",Drones:"持續音",Dubstep:"迴響貝斯",Easy_Listening:"輕音樂",Folk:"民歌",Funk:"放克",Hip_Hop:"嘻哈",House:"浩室",Kitsch:"俗氣",Latin:"拉丁",March:"進行曲",Metal:"金屬",Opera:"歌劇",Pop:"流行曲",Rock:"搖滾",Soul:"騷靈","Urban_R&Bl":"都市 / 節奏藍調",World_Music:"民俗音樂",Other:"其他"}},R6={profile:"個人檔案",created_album:"已建立的專輯",editAlbum:{album_info:"專輯資訊",make_album_public:"是否發佈",album_is_public:"發佈",album_is_private:"不發佈",singer_name:"歌手名稱",singer_desc:"歌手自介",album_name:"專輯名稱",album_genre:"專輯類型",album_desc:"專輯簡介",uploaded_song_list:"已上傳的歌曲"}},D6={feature_unavailable_msg:"該功能需登入才可使用，可免費註冊使用",login_to_use:"請註冊並登入，即可製作自己的專輯",no_available_route:"沒找到指定的路由"},M6={delete_album:"是否刪除專輯【{albumName}】",delete_favsong:"是否將「{favsongName}」從清單中刪除",file_extension_check_alert:"請上傳圖片檔，如jpg、png、bmp檔等",photo_size_suggetion_alert:"建議圖片為長、寬一樣的尺寸，例如500x500",photo_pixel_than_suggetion_alert:"圖片尺寸長、寬需大於200像素",registered_yet:"您還未註冊及登入，無法完成專輯製作",album_complete_alert:"專輯已完成，是否要公開至網站上?",at_leaset_one_alert:"至少需保留一個音樂檔",non_mp3_file_alert:"【{file}】非mp3檔,請重傳"},F6={singer:k6,screen:C6,button:N6,menu:O6,"signin&singup":{your_account:"您的帳戶",sign_in:"登入",sign_up:"註冊",password:"密碼",submit_btn:"傳送",send_btn:"送出",loggin_in:"正在登入中...",loggin_failed:"登入失敗",loggin_successful:"登入成功! 轉跳頁面中",signing_up_wait:"註冊中，請稍等...",user_name:"使用者名稱",enter_user_name:"輸入使用者名稱",enter_email:"輸入Email",enter_password:"輸入密碼",enter_password_again:"請再次輸入您的密碼",confirm_password:"再次確認密碼"},home:P6,makeAlbumPage:L6,memberMamagePage:R6,ErroMsg:D6,alertMsg:M6},VL=a6({fallbackLocale:"en",messages:{en:x6,zh:F6}}),$n=Fa("user",{state:()=>({userLoggedIn:!1,userName:"",uid:"",favSongList:[]}),actions:{async register(e){const t=await bo.createUserWithEmailAndPassword(e.email,e.password);await bw.doc(t.user.uid).set({name:e.name,email:e.email}),await t.user.updateProfile({displayName:e.name}),await ul.doc(t.user.uid).set({favSongLists:[]}),this.userLoggedIn=!0},async authenticate(e){await bo.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await bo.signOut(),this.userLoggedIn=!1,this.userName="",this.uid="",this.favSongList=[]},async delfavSongFromList(e){try{const t=ul.doc(this.uid);console.log(" favoriteSongListRef=> ",t)}catch(t){console.log("error => ",t)}}}}),Rc=Fa("modal",{state:()=>({isOpen:!1,tab:"login"}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}}),e_=Fa("toast",{state:()=>({toastCount:0}),actions:{subtractToastCount(){this.toastCount>0&&(this.toastCount-=1)}}}),Nt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},U6={data(){return{close:!1}},props:["toggle","message","success"],computed:{...Mt(e_,["toastCount"]),...ln($n,["userLoggedIn"]),topPosition(){if(this.toastCount>0)return"top:70px"}},methods:{...Vn(e_,["subtractToastCount"]),closeToast(){this.close=!1,this.subtractToastCount()}},watch:{toggle(){this.close=!0,this.toastCount+=1}}},V6={key:0,class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},$6=S("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"},null,-1),j6=[$6],B6={key:1,class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},H6=S("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM10 15a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-4a1 1 0 0 1-2 0V6a1 1 0 0 1 2 0v5Z"},null,-1),G6=[H6],z6=S("span",{class:"sr-only"},"Warning icon",-1),q6={class:"ms-3 text-sm font-normal"},W6=S("span",{class:"sr-only"},"Close",-1),K6=S("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[S("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),Y6=[W6,K6];function X6(e,t,n,r,i,s){return me(),_e("div",{id:"toast-warning",class:Ke(["flex fixed right-1 z-[12] items-center w-full max-w-xs p-4 text-zinc-200 bg-zinc-800/90 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800",{hidden:!i.close}]),role:"alert",style:jr(s.topPosition)},[S("div",{class:Ke(["inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",{"text-green-500":n.success,"text-rose-500":!e.userLoggedIn||!n.success}])},[n.success?(me(),_e("svg",V6,j6)):(me(),_e("svg",B6,G6)),z6],2),S("div",q6,X(this.message),1),S("button",{type:"button",class:"ms-auto -mx-1.5 -my-1.5 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700","data-dismiss-target":"#toast-warning","aria-label":"Close",onClick:t[0]||(t[0]=qe((...a)=>s.closeToast&&s.closeToast(...a),["prevent"]))},Y6)],6)}const Zi=Nt(U6,[["render",X6]]),J6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAEbAAABGwGN907lAAAFZUlEQVRogeVa3XEaSRBuUXo397ZV82AuAnERCEcgHIFRBMIRmIvgUARaRXA4AkMEBxFYVHnK+3YQgVy99Q00PT37h+/O8n1VFLDbO9P/3TOzF8/Pz3QuvC/6RDTCZ4jPq8SweyJa47Pkj3PZLqJqibME8b4YE9GEiG6im+3wkYhy57LFvyqI9wUzPyOi19HN87DlcZ3L8raj9KIrFfC+GHlfPBHRgyEEa/U9Eb0FQ4xHcT/83oKGaVdqDB7zgefgudKcxGhkEcQAW+BO3WKm5nCLHWgXcLUNYuZv0P6CmLhioZ3LxmJstvDUUM49LFQbQ7WCeF8MiGgBBgI4YKfaBRAzf+L+0LmMNVtO4Fx2gbHWSARvdUx4X0yhMJkoWCFjHitiTqDStbwvhphYCsEuNDCEYM2GazNrYlyb4W+OZ+R9tu4AcwTw3GvwkkRSEDy4FNphLd+ySyRMPQftCgyZwL0VaGeahseG291iTgLtskoYUxC4gBZilMomoH+Hv9OIIEagucOzETDXyBDGpI8EgbkXyk/ZCuvo6SOCZh9r6EqAJmSxyCqKbiwuMU8L7ZKmIBj4Sl3jh2fWAMoaSaYMBNp3iXH7CH7tBVfWPCeCIHfLFPs7sgZr4gMRcRaaK1+d4PvRCvAUQBuC+uCOPDbPwXMR0R9IyRvwEnCn68xJ+kWxC7lc5voJGL4Wz27hgmM888a5bGlo9pB+jXvMzCcx1kh5wwo1KqfTGlXO71x2iJeDIGD2Adf3SLEn2QmWmIJ53RSuoMUnJIqAT/h+I64xw300l9dqnD2Emut4gws+iblvg5BSEGmN91UpVGhzbsRTV7D7zOoaR6Xwg1VKQURFJm2yKgjhfxMalt8kNB76qh2KrPz+q+O8FDqES/yZCLpKS4jBBhhsL1ygKkaSTaD3BbvTax6zYcKYIxEE3hc9+J1cT5hFz0BgLGK+A8IYycqtIHm8YRl6giFCprLaDwvBDWoLYAOEMRoJAh5lPzbSgrTR7j9hkaT7GZDzDntKC220G4K5cRGsQPCCqMJXQPI6OhHEKmgVuKJjhT4LIlk0TuWK19IissN9aTh0xrLX6hK0m+hKd4R1fhsceL748uVr9Vr3hcBq418kLgXTq6rqq4GKvXEuq8z9Vd2voivbjjo69cwytEDSIpUMJfC9GkYytoKa4MBzT62JXxoOGbcnI7/l7t6Gjs3jWRArTr3zmITidd1TabeNe4VqfLYgLSt6gOR12VM9S5dep9UebQJd+ja5u7LWgtxYOxoJtOpYaxDGaFSUwaNcIi97RkvcZINNTvo9LdK0u5A8lkuPUEdysbiaWPtGGtig3mJlp5e4Q+33yPmUWOq+wlK3aQMqV7Rnbz6ME5t5XdF082Eqlrmnmw8U70503Q4KGv7vtoMotkrdBt0GDP8QG3SXauyJ0CBnsBmuBeH28Mk8aMv7Yoft1GmHZW8IWh6vjEtYXSruGu60UJskMk7iEyvsu+ojtj3iITfcjbXyGX9/1QGbskiD5/qwtnXoeu9cdpJdrTZ+ZiyY+Fhhbu2wgIHaIwID8igiylY48Mm15kNS0PSRIGB2rJa+i6rTInVEUEVXAjS1RxGgk1lsD6VGCo0EoaOWrdMirR1Jf4+/lWlb0dxb1qBjgrFOzUx6UxA67mxoYfgM3Dwxgmb3IjhN4N61iDstQB/Z6cEQIln5k4IIYYYqZm5w4DNVtDvhzzPLxRDggfmJkTimqBMyO21Q05JCkJW1LNS8MBDS8RP9yC8MSKCA5caEhOK1gEbnoHkUQR1+b8H0AElFV/agoIlVYFP4aV6q+X+/5qQhXjzjAA/fdS+esduU32e/eEZE3wCdfAEkMHTHywAAAABJRU5ErkJggg==",Q6="/vue-earphone-music/assets/logo-inverted-DTIppobh.png",Z6={data(){return{hamburgerChange:!1,menu_hamberger_css:"",toggle:!1,message:"",FavSongList:[],languageIcon:J6}},components:{toastMessage:Zi},computed:{...Mt(Jn,["language"]),...Mt($n,["userLoggedIn","userName","uid","favSongList"]),...Mt(Rc,["isOpen"])},methods:{...Vn($n,["signOut"]),getAuth(){bo.currentUser&&(this.userLoggedIn=!0,this.userName=bo.currentUser.displayName,this.uid=bo.currentUser.uid)},toggleAuthModal(){this.userLoggedIn?(this.signOut(),this.$router.push({name:"home"}),this.hamburgerChange=!1,this.menu_hamberger_css=""):this.isOpen=!this.isOpen},clickHamberMenu(){this.hamburgerChange?(this.hamburgerChange=!1,this.menu_hamberger_css=""):(this.hamburgerChange=!0,this.menu_hamberger_css="hamburgerChange")},forwardHome(){this.$router.push({name:"home"}),this.hamburgerChange=!1,this.menu_hamberger_css="",this.$route.meta.requireScreen=!1},enterPage(e,t){(r=>{let i;switch(r){case"我的播放清單":case"Play List":i="favSongList";break;case"製作自己的專輯":case"Make Own Album":i="makeAlbum";break;default:this.toggle=!this.toggle,this.message=this.$t("ErroMsg.no_available_route");return}this.userLoggedIn?(this.$router.push({name:i}),this.hamburgerChange=!1,this.menu_hamberger_css=""):(this.toggle=!this.toggle,this.message=e)})(t)},userLoginCheck(e){this.enterPage(this.$t("ErroMsg.feature_unavailable_msg"),e.target.innerText)},enterMakeAlbumPage(){this.$router.push({name:"makeAlbum"}),this.hamburgerChange=!1,this.menu_hamberger_css=""},loginMemberStage(){this.userLoggedIn?(this.$router.push({name:"member-backStage",params:{uid:this.uid}}),this.hamburgerChange=!1,this.menu_hamberger_css=""):this.isOpen=!this.isOpen}},watch:{language(e,t){this.$i18n.locale=e}},mounted(){this.getAuth()}},Io=e=>(R_("data-v-70a7cff8"),e=e(),D_(),e),eW={class:"fixed top-0 left-0 text-zinc-200 w-full z-10"},tW={class:"lg:px-[5rem] sticky flex top-0 bg-gradient-to-r from-rose-500 to-pink-500 z-10"},nW=Io(()=>S("img",{src:Q6,width:"50",alt:""},null,-1)),rW=Io(()=>S("div",{class:"font-bold text-2xl"},[Hc(" earphone: "),S("span",{class:"text-sky-900 text-xl md:text-2xl"},"MUISC")],-1)),iW=[nW,rW],oW={class:"flex-1 md:flex hidden items-center justify-end"},sW=Io(()=>S("i",{class:"fas fa-user pr-2"},null,-1)),aW={key:0},uW={key:1},lW={class:"flex items-center"},cW=Io(()=>S("option",{class:"bg-pink-500",value:"en"},"English",-1)),fW=Io(()=>S("option",{class:"bg-pink-500",value:"zh"},"中文",-1)),hW=[cW,fW],dW={class:"block md:hidden ml-auto p-3 my-auto cursor-pointer"},pW=Io(()=>S("div",{class:"top-0 bg-zinc-200 rounded-full w-8 h-1 transition-all group-change:rotate-45 group-change:top-2 relative"},null,-1)),mW=Io(()=>S("div",{class:"my-1 bg-zinc-200 rounded-full w-8 h-1 opacity-100 transition-all group-change:opacity-0"},null,-1)),gW=Io(()=>S("div",{class:"top-0 bg-zinc-200 rounded-full w-8 h-1 transition-all group-change:-rotate-45 group-change:-top-2 relative"},null,-1)),vW=[pW,mW,gW],yW={class:"peer-open:block hidden absolute bg-gradient-to-r from-rose-500 to-pink-500 w-full top-[62px] left-0"},bW=Io(()=>S("i",{class:"fas fa-user pr-2"},null,-1)),_W={key:0},wW={key:1},EW={class:"p-4 text-center font-bold"};function TW(e,t,n,r,i,s){const a=De("toastMessage");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),S("header",eW,[S("nav",tW,[S("div",{class:"flex items-center p-2 gap-2 cursor-pointer",onClick:t[0]||(t[0]=qe((...l)=>s.forwardHome&&s.forwardHome(...l),["prevent"]))},iW),S("div",oW,[S("div",{class:"menu-item",onClick:t[1]||(t[1]=qe((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[sW,e.userLoggedIn?(me(),_e("span",uW,X(e.$t("menu.logout")),1)):(me(),_e("span",aW,X(e.$t("menu.sign_in_sign_up")),1))]),S("div",{class:"menu-item group",onClick:t[2]||(t[2]=qe((...l)=>s.enterMakeAlbumPage&&s.enterMakeAlbumPage(...l),["prevent"]))},[S("span",null,X(e.$t("menu.make_your_own_album")),1)]),S("div",{class:"menu-item",onClick:t[3]||(t[3]=qe((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},[S("span",null,X(e.$t("menu.play_list")),1)]),S("div",{class:"menu-item",onClick:t[4]||(t[4]=qe((...l)=>s.loginMemberStage&&s.loginMemberStage(...l),["prevent"]))},[S("span",null,X(e.$t("menu.member_managemnet")),1)])]),S("div",lW,[Sa(S("select",{class:"truncate bg-transparent pb-2 pt-1 pl-2 pr-7 md:pr-8 rounded border border-gray-300 appearance-none",style:jr(`background-image: url(${i.languageIcon})`),"onUpdate:modelValue":t[5]||(t[5]=l=>e.language=l)},hW,4),[[B$,e.language]])]),S("div",dW,[S("div",{id:"mobile-menu-button",class:Ke(["group peer",i.menu_hamberger_css]),onClick:t[6]||(t[6]=qe((...l)=>s.clickHamberMenu&&s.clickHamberMenu(...l),["prevent"])),ref:"mobileMenu"},vW,2),S("div",yW,[S("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[7]||(t[7]=qe((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},[bW,e.userLoggedIn?(me(),_e("span",wW,X(e.$t("menu.logout")),1)):(me(),_e("span",_W,X(e.$t("menu.sign_in_sign_up")),1))]),S("div",{id:"ticket-menu-item",class:"group relative h-full cursor-pointer text-pink-200 transition-colors hover:bg-white/10 hover:text-zinc-200",onClick:t[8]||(t[8]=qe((...l)=>s.enterMakeAlbumPage&&s.enterMakeAlbumPage(...l),["prevent"]))},[S("div",EW,X(e.$t("menu.make_your_own_album")),1)]),S("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[9]||(t[9]=qe((...l)=>s.userLoginCheck&&s.userLoginCheck(...l),["prevent"]))},[S("span",null,X(e.$t("menu.play_list")),1)]),S("div",{class:"relative flex h-full cursor-pointer items-center justify-center p-4 font-bold hover:text-zinc-200 transition-colors hover:bg-white/10",onClick:t[10]||(t[10]=qe((...l)=>s.loginMemberStage&&s.loginMemberStage(...l),["prevent"]))},[S("span",null,X(e.$t("menu.member_managemnet")),1)])])])])])],64)}const SW=Nt(Z6,[["render",TW],["__scopeId","data-v-70a7cff8"]]);var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Od={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var f=this||n;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var m=this||n;if(f=parseFloat(f),m.ctx||p(),typeof f<"u"&&f>=0&&f<=1){if(m._volume=f,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(f,n.ctx.currentTime);for(var v=0;v<m._howls.length;v++)if(!m._howls[v]._webAudio)for(var y=m._howls[v]._getSoundIds(),_=0;_<y.length;_++){var w=m._howls[v]._soundById(y[_]);w&&w._node&&(w._node.volume=w._volume*f)}return m}return m._volume},mute:function(f){var m=this||n;m.ctx||p(),m._muted=f,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(f?0:m._volume,n.ctx.currentTime);for(var v=0;v<m._howls.length;v++)if(!m._howls[v]._webAudio)for(var y=m._howls[v]._getSoundIds(),_=0;_<y.length;_++){var w=m._howls[v]._soundById(y[_]);w&&w._node&&(w._node.muted=f?!0:w._muted)}return m},stop:function(){for(var f=this||n,m=0;m<f._howls.length;m++)f._howls[m].stop();return f},unload:function(){for(var f=this||n,m=f._howls.length-1;m>=0;m--)f._howls[m].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,p()),f},codecs:function(f){return(this||n)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||n;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var m=new Audio;m.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return f}if(!m||typeof m.canPlayType!="function")return f;var v=m.canPlayType("audio/mpeg;").replace(/^no$/,""),y=f._navigator?f._navigator.userAgent:"",_=y.match(/OPR\/(\d+)/g),w=_&&parseInt(_[0].split("/")[1],10)<33,E=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,k=y.match(/Version\/(.*?) /),I=E&&k&&parseInt(k[1],10)<15;return f._codecs={mp3:!!(!w&&(v||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!I&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!I&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||n;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var m=function(v){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,f._releaseHtml5Audio(y)}catch{f.noAudio=!0;break}for(var _=0;_<f._howls.length;_++)if(!f._howls[_]._webAudio)for(var w=f._howls[_]._getSoundIds(),E=0;E<w.length;E++){var k=f._howls[_]._soundById(w[E]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}f._autoResume();var I=f.ctx.createBufferSource();I.buffer=f._scratchBuffer,I.connect(f.ctx.destination),typeof I.start>"u"?I.noteOn(0):I.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),I.onended=function(){I.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var C=0;C<f._howls.length;C++)f._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),f}},_obtainHtml5Audio:function(){var f=this||n;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var m=this||n;return f._unlocked&&m._html5AudioPool.push(f),m},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<f._howls.length;m++)if(f._howls[m]._webAudio){for(var v=0;v<f._howls[m]._sounds.length;v++)if(!f._howls[m]._sounds[v]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var y=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(y,y)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!n.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var m=0;m<f._howls.length;m++)f._howls[m]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var n=new t,r=function(f){var m=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(f)};r.prototype={init:function(f){var m=this;return n.ctx||p(),m._autoplay=f.autoplay||!1,m._format=typeof f.format!="string"?f.format:[f.format],m._html5=f.html5||!1,m._muted=f.mute||!1,m._loop=f.loop||!1,m._pool=f.pool||5,m._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,m._rate=f.rate||1,m._sprite=f.sprite||{},m._src=typeof f.src!="string"?f.src:[f.src],m._volume=f.volume!==void 0?f.volume:1,m._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=f.onend?[{fn:f.onend}]:[],m._onfade=f.onfade?[{fn:f.onfade}]:[],m._onload=f.onload?[{fn:f.onload}]:[],m._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],m._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],m._onpause=f.onpause?[{fn:f.onpause}]:[],m._onplay=f.onplay?[{fn:f.onplay}]:[],m._onstop=f.onstop?[{fn:f.onstop}]:[],m._onmute=f.onmute?[{fn:f.onmute}]:[],m._onvolume=f.onvolume?[{fn:f.onvolume}]:[],m._onrate=f.onrate?[{fn:f.onrate}]:[],m._onseek=f.onseek?[{fn:f.onseek}]:[],m._onunlock=f.onunlock?[{fn:f.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var f=this,m=null;if(n.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var v=0;v<f._src.length;v++){var y,_;if(f._format&&f._format[v])y=f._format[v];else{if(_=f._src[v],typeof _!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(_),y||(y=/\.([^.]+)$/.exec(_.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&n.codecs(y)){m=f._src[v];break}}if(!m){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=m,f._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new i(f),f._webAudio&&a(f),f},play:function(f,m){var v=this,y=null;if(typeof f=="number")y=f,f=null;else{if(typeof f=="string"&&v._state==="loaded"&&!v._sprite[f])return null;if(typeof f>"u"&&(f="__default",!v._playLock)){for(var _=0,w=0;w<v._sounds.length;w++)v._sounds[w]._paused&&!v._sounds[w]._ended&&(_++,y=v._sounds[w]._id);_===1?f=null:y=null}}var E=y?v._soundById(y):v._inactiveSound();if(!E)return null;if(y&&!f&&(f=E._sprite||"__default"),v._state!=="loaded"){E._sprite=f,E._ended=!1;var k=E._id;return v._queue.push({event:"play",action:function(){v.play(k)}}),k}if(y&&!E._paused)return m||v._loadQueue("play"),E._id;v._webAudio&&n._autoResume();var I=Math.max(0,E._seek>0?E._seek:v._sprite[f][0]/1e3),C=Math.max(0,(v._sprite[f][0]+v._sprite[f][1])/1e3-I),M=C*1e3/Math.abs(E._rate),A=v._sprite[f][0]/1e3,j=(v._sprite[f][0]+v._sprite[f][1])/1e3;E._sprite=f,E._ended=!1;var U=function(){E._paused=!1,E._seek=I,E._start=A,E._stop=j,E._loop=!!(E._loop||v._sprite[f][2])};if(I>=j){v._ended(E);return}var P=E._node;if(v._webAudio){var z=function(){v._playLock=!1,U(),v._refreshBuffer(E);var Te=E._muted||v._muted?0:E._volume;P.gain.setValueAtTime(Te,n.ctx.currentTime),E._playStart=n.ctx.currentTime,typeof P.bufferSource.start>"u"?E._loop?P.bufferSource.noteGrainOn(0,I,86400):P.bufferSource.noteGrainOn(0,I,C):E._loop?P.bufferSource.start(0,I,86400):P.bufferSource.start(0,I,C),M!==1/0&&(v._endTimers[E._id]=setTimeout(v._ended.bind(v,E),M)),m||setTimeout(function(){v._emit("play",E._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?z():(v._playLock=!0,v.once("resume",z),v._clearTimer(E._id))}else{var L=function(){P.currentTime=I,P.muted=E._muted||v._muted||n._muted||P.muted,P.volume=E._volume*n.volume(),P.playbackRate=E._rate;try{var Te=P.play();if(Te&&typeof Promise<"u"&&(Te instanceof Promise||typeof Te.then=="function")?(v._playLock=!0,U(),Te.then(function(){v._playLock=!1,P._unlocked=!0,m?v._loadQueue():v._emit("play",E._id)}).catch(function(){v._playLock=!1,v._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),E._ended=!0,E._paused=!0})):m||(v._playLock=!1,U(),v._emit("play",E._id)),P.playbackRate=E._rate,P.paused){v._emit("playerror",E._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||E._loop?v._endTimers[E._id]=setTimeout(v._ended.bind(v,E),M):(v._endTimers[E._id]=function(){v._ended(E),P.removeEventListener("ended",v._endTimers[E._id],!1)},P.addEventListener("ended",v._endTimers[E._id],!1))}catch(xe){v._emit("playerror",E._id,xe)}};P.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(P.src=v._src,P.load());var q=window&&window.ejecta||!P.readyState&&n._navigator.isCocoonJS;if(P.readyState>=3||q)L();else{v._playLock=!0,v._state="loading";var ee=function(){v._state="loaded",L(),P.removeEventListener(n._canPlayEvent,ee,!1)};P.addEventListener(n._canPlayEvent,ee,!1),v._clearTimer(E._id)}}return E._id},pause:function(f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(f)}}),m;for(var v=m._getSoundIds(f),y=0;y<v.length;y++){m._clearTimer(v[y]);var _=m._soundById(v[y]);if(_&&!_._paused&&(_._seek=m.seek(v[y]),_._rateSeek=0,_._paused=!0,m._stopFade(v[y]),_._node))if(m._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),m._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||m._emit("pause",_?_._id:null)}return m},stop:function(f,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(f)}}),v;for(var y=v._getSoundIds(f),_=0;_<y.length;_++){v._clearTimer(y[_]);var w=v._soundById(y[_]);w&&(w._seek=w._start||0,w._rateSeek=0,w._paused=!0,w._ended=!0,v._stopFade(y[_]),w._node&&(v._webAudio?w._node.bufferSource&&(typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),v._cleanBuffer(w._node)):(!isNaN(w._node.duration)||w._node.duration===1/0)&&(w._node.currentTime=w._start||0,w._node.pause(),w._node.duration===1/0&&v._clearSound(w._node))),m||v._emit("stop",w._id))}return v},mute:function(f,m){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(f,m)}}),v;if(typeof m>"u")if(typeof f=="boolean")v._muted=f;else return v._muted;for(var y=v._getSoundIds(m),_=0;_<y.length;_++){var w=v._soundById(y[_]);w&&(w._muted=f,w._interval&&v._stopFade(w._id),v._webAudio&&w._node?w._node.gain.setValueAtTime(f?0:w._volume,n.ctx.currentTime):w._node&&(w._node.muted=n._muted?!0:f),v._emit("mute",w._id))}return v},volume:function(){var f=this,m=arguments,v,y;if(m.length===0)return f._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var _=f._getSoundIds(),w=_.indexOf(m[0]);w>=0?y=parseInt(m[0],10):v=parseFloat(m[0])}else m.length>=2&&(v=parseFloat(m[0]),y=parseInt(m[1],10));var E;if(typeof v<"u"&&v>=0&&v<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,m)}}),f;typeof y>"u"&&(f._volume=v),y=f._getSoundIds(y);for(var k=0;k<y.length;k++)E=f._soundById(y[k]),E&&(E._volume=v,m[2]||f._stopFade(y[k]),f._webAudio&&E._node&&!E._muted?E._node.gain.setValueAtTime(v,n.ctx.currentTime):E._node&&!E._muted&&(E._node.volume=v*n.volume()),f._emit("volume",E._id))}else return E=y?f._soundById(y):f._sounds[0],E?E._volume:0;return f},fade:function(f,m,v,y){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(f,m,v,y)}}),_;f=Math.min(Math.max(0,parseFloat(f)),1),m=Math.min(Math.max(0,parseFloat(m)),1),v=parseFloat(v),_.volume(f,y);for(var w=_._getSoundIds(y),E=0;E<w.length;E++){var k=_._soundById(w[E]);if(k){if(y||_._stopFade(w[E]),_._webAudio&&!k._muted){var I=n.ctx.currentTime,C=I+v/1e3;k._volume=f,k._node.gain.setValueAtTime(f,I),k._node.gain.linearRampToValueAtTime(m,C)}_._startFadeInterval(k,f,m,v,w[E],typeof y>"u")}}return _},_startFadeInterval:function(f,m,v,y,_,w){var E=this,k=m,I=v-m,C=Math.abs(I/.01),M=Math.max(4,C>0?y/C:y),A=Date.now();f._fadeTo=v,f._interval=setInterval(function(){var j=(Date.now()-A)/y;A=Date.now(),k+=I*j,k=Math.round(k*100)/100,I<0?k=Math.max(v,k):k=Math.min(v,k),E._webAudio?f._volume=k:E.volume(k,f._id,!0),w&&(E._volume=k),(v<m&&k<=v||v>m&&k>=v)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,E.volume(v,f._id),E._emit("fade",f._id))},M)},_stopFade:function(f){var m=this,v=m._soundById(f);return v&&v._interval&&(m._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,m.volume(v._fadeTo,f),v._fadeTo=null,m._emit("fade",f)),m},loop:function(){var f=this,m=arguments,v,y,_;if(m.length===0)return f._loop;if(m.length===1)if(typeof m[0]=="boolean")v=m[0],f._loop=v;else return _=f._soundById(parseInt(m[0],10)),_?_._loop:!1;else m.length===2&&(v=m[0],y=parseInt(m[1],10));for(var w=f._getSoundIds(y),E=0;E<w.length;E++)_=f._soundById(w[E]),_&&(_._loop=v,f._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=v,v&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,f.playing(w[E])&&(f.pause(w[E],!0),f.play(w[E],!0)))));return f},rate:function(){var f=this,m=arguments,v,y;if(m.length===0)y=f._sounds[0]._id;else if(m.length===1){var _=f._getSoundIds(),w=_.indexOf(m[0]);w>=0?y=parseInt(m[0],10):v=parseFloat(m[0])}else m.length===2&&(v=parseFloat(m[0]),y=parseInt(m[1],10));var E;if(typeof v=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,m)}}),f;typeof y>"u"&&(f._rate=v),y=f._getSoundIds(y);for(var k=0;k<y.length;k++)if(E=f._soundById(y[k]),E){f.playing(y[k])&&(E._rateSeek=f.seek(y[k]),E._playStart=f._webAudio?n.ctx.currentTime:E._playStart),E._rate=v,f._webAudio&&E._node&&E._node.bufferSource?E._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):E._node&&(E._node.playbackRate=v);var I=f.seek(y[k]),C=(f._sprite[E._sprite][0]+f._sprite[E._sprite][1])/1e3-I,M=C*1e3/Math.abs(E._rate);(f._endTimers[y[k]]||!E._paused)&&(f._clearTimer(y[k]),f._endTimers[y[k]]=setTimeout(f._ended.bind(f,E),M)),f._emit("rate",E._id)}}else return E=f._soundById(y),E?E._rate:f._rate;return f},seek:function(){var f=this,m=arguments,v,y;if(m.length===0)f._sounds.length&&(y=f._sounds[0]._id);else if(m.length===1){var _=f._getSoundIds(),w=_.indexOf(m[0]);w>=0?y=parseInt(m[0],10):f._sounds.length&&(y=f._sounds[0]._id,v=parseFloat(m[0]))}else m.length===2&&(v=parseFloat(m[0]),y=parseInt(m[1],10));if(typeof y>"u")return 0;if(typeof v=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,m)}}),f;var E=f._soundById(y);if(E)if(typeof v=="number"&&v>=0){var k=f.playing(y);k&&f.pause(y,!0),E._seek=v,E._ended=!1,f._clearTimer(y),!f._webAudio&&E._node&&!isNaN(E._node.duration)&&(E._node.currentTime=v);var I=function(){k&&f.play(y,!0),f._emit("seek",y)};if(k&&!f._webAudio){var C=function(){f._playLock?setTimeout(C,0):I()};setTimeout(C,0)}else I()}else if(f._webAudio){var M=f.playing(y)?n.ctx.currentTime-E._playStart:0,A=E._rateSeek?E._rateSeek-E._seek:0;return E._seek+(A+M*Math.abs(E._rate))}else return E._node.currentTime;return f},playing:function(f){var m=this;if(typeof f=="number"){var v=m._soundById(f);return v?!v._paused:!1}for(var y=0;y<m._sounds.length;y++)if(!m._sounds[y]._paused)return!0;return!1},duration:function(f){var m=this,v=m._duration,y=m._soundById(f);return y&&(v=m._sprite[y._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var f=this,m=f._sounds,v=0;v<m.length;v++)m[v]._paused||f.stop(m[v]._id),f._webAudio||(f._clearSound(m[v]._node),m[v]._node.removeEventListener("error",m[v]._errorFn,!1),m[v]._node.removeEventListener(n._canPlayEvent,m[v]._loadFn,!1),m[v]._node.removeEventListener("ended",m[v]._endFn,!1),n._releaseHtml5Audio(m[v]._node)),delete m[v]._node,f._clearTimer(m[v]._id);var y=n._howls.indexOf(f);y>=0&&n._howls.splice(y,1);var _=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===f._src||f._src.indexOf(n._howls[v]._src)>=0){_=!1;break}return s&&_&&delete s[f._src],n.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,m,v,y){var _=this,w=_["_on"+f];return typeof m=="function"&&w.push(y?{id:v,fn:m,once:y}:{id:v,fn:m}),_},off:function(f,m,v){var y=this,_=y["_on"+f],w=0;if(typeof m=="number"&&(v=m,m=null),m||v)for(w=0;w<_.length;w++){var E=v===_[w].id;if(m===_[w].fn&&E||!m&&E){_.splice(w,1);break}}else if(f)y["_on"+f]=[];else{var k=Object.keys(y);for(w=0;w<k.length;w++)k[w].indexOf("_on")===0&&Array.isArray(y[k[w]])&&(y[k[w]]=[])}return y},once:function(f,m,v){var y=this;return y.on(f,m,v,1),y},_emit:function(f,m,v){for(var y=this,_=y["_on"+f],w=_.length-1;w>=0;w--)(!_[w].id||_[w].id===m||f==="load")&&(setTimeout((function(E){E.call(this,m,v)}).bind(y,_[w].fn),0),_[w].once&&y.off(f,_[w].fn,_[w].id));return y._loadQueue(f),y},_loadQueue:function(f){var m=this;if(m._queue.length>0){var v=m._queue[0];v.event===f&&(m._queue.shift(),m._loadQueue()),f||v.action()}return m},_ended:function(f){var m=this,v=f._sprite;if(!m._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(m._ended.bind(m,f),100),m;var y=!!(f._loop||m._sprite[v][2]);if(m._emit("end",f._id),!m._webAudio&&y&&m.stop(f._id,!0).play(f._id),m._webAudio&&y){m._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=n.ctx.currentTime;var _=(f._stop-f._start)*1e3/Math.abs(f._rate);m._endTimers[f._id]=setTimeout(m._ended.bind(m,f),_)}return m._webAudio&&!y&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,m._clearTimer(f._id),m._cleanBuffer(f._node),n._autoSuspend()),!m._webAudio&&!y&&m.stop(f._id,!0),m},_clearTimer:function(f){var m=this;if(m._endTimers[f]){if(typeof m._endTimers[f]!="function")clearTimeout(m._endTimers[f]);else{var v=m._soundById(f);v&&v._node&&v._node.removeEventListener("ended",m._endTimers[f],!1)}delete m._endTimers[f]}return m},_soundById:function(f){for(var m=this,v=0;v<m._sounds.length;v++)if(f===m._sounds[v]._id)return m._sounds[v];return null},_inactiveSound:function(){var f=this;f._drain();for(var m=0;m<f._sounds.length;m++)if(f._sounds[m]._ended)return f._sounds[m].reset();return new i(f)},_drain:function(){var f=this,m=f._pool,v=0,y=0;if(!(f._sounds.length<m)){for(y=0;y<f._sounds.length;y++)f._sounds[y]._ended&&v++;for(y=f._sounds.length-1;y>=0;y--){if(v<=m)return;f._sounds[y]._ended&&(f._webAudio&&f._sounds[y]._node&&f._sounds[y]._node.disconnect(0),f._sounds.splice(y,1),v--)}}},_getSoundIds:function(f){var m=this;if(typeof f>"u"){for(var v=[],y=0;y<m._sounds.length;y++)v.push(m._sounds[y]._id);return v}else return[f]},_refreshBuffer:function(f){var m=this;return f._node.bufferSource=n.ctx.createBufferSource(),f._node.bufferSource.buffer=s[m._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,n.ctx.currentTime),m},_cleanBuffer:function(f){var m=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return m;if(n._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),v))try{f.bufferSource.buffer=n._scratchBuffer}catch{}return f.bufferSource=null,m},_clearSound:function(f){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(f){this._parent=f,this.init()};i.prototype={init:function(){var f=this,m=f._parent;return f._muted=m._muted,f._loop=m._loop,f._volume=m._volume,f._rate=m._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,m._sounds.push(f),f.create(),f},create:function(){var f=this,m=f._parent,v=n._muted||f._muted||f._parent._muted?0:f._volume;return m._webAudio?(f._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),f._node.gain.setValueAtTime(v,n.ctx.currentTime),f._node.paused=!0,f._node.connect(n.masterGain)):n.noAudio||(f._node=n._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(n._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=m._src,f._node.preload=m._preload===!0?"auto":m._preload,f._node.volume=v*n.volume(),f._node.load()),f},reset:function(){var f=this,m=f._parent;return f._muted=m._muted,f._loop=m._loop,f._volume=m._volume,f._rate=m._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++n._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,m=f._parent;m._duration=Math.ceil(f._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),f._node.removeEventListener(n._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,m=f._parent;m._duration===1/0&&(m._duration=Math.ceil(f._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var s={},a=function(f){var m=f._src;if(s[m]){f._duration=s[m].duration,h(f);return}if(/^data:[^;]+;base64,/.test(m)){for(var v=atob(m.split(",")[1]),y=new Uint8Array(v.length),_=0;_<v.length;++_)y[_]=v.charCodeAt(_);c(y.buffer,f)}else{var w=new XMLHttpRequest;w.open(f._xhr.method,m,!0),w.withCredentials=f._xhr.withCredentials,w.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(E){w.setRequestHeader(E,f._xhr.headers[E])}),w.onload=function(){var E=(w.status+"")[0];if(E!=="0"&&E!=="2"&&E!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+w.status+".");return}c(w.response,f)},w.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete s[m],f.load())},l(w)}},l=function(f){try{f.send()}catch{f.onerror()}},c=function(f,m){var v=function(){m._emit("loaderror",null,"Decoding audio data failed.")},y=function(_){_&&m._sounds.length>0?(s[m._src]=_,h(m,_)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(f).then(y).catch(v):n.ctx.decodeAudioData(f,y,v)},h=function(f,m){m&&!f._duration&&(f._duration=m.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},p=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=m?parseInt(m[1],10):null;if(f&&v&&v<9){var y=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!y&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof mc<"u"?(mc.HowlerGlobal=t,mc.Howler=n,mc.Howl=r,mc.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,a,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var h=c._orientation;if(r=typeof r!="number"?h[1]:r,i=typeof i!="number"?h[2]:i,s=typeof s!="number"?h[3]:s,a=typeof a!="number"?h[4]:a,l=typeof l!="number"?h[5]:l,typeof n=="number")c._orientation=[n,r,i,s,a,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(a,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,i,s,a,l);else return h;return c},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var a=i._getSoundIds(r),l=0;l<a.length;l++){var c=i._soundById(a[l]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"pos",action:function(){a.pos(n,r,i,s)}}),a;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")a._pos=[n,r,i];else return a._pos;for(var l=a._getSoundIds(s),c=0;c<l.length;c++){var h=a._soundById(l[c]);if(h)if(typeof n=="number")h._pos=[n,r,i],h._node&&((!h._panner||h._panner.pan)&&t(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setPosition(n,r,i)),a._emit("pos",h._id);else return h._pos}return a},Howl.prototype.orientation=function(n,r,i,s){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"orientation",action:function(){a.orientation(n,r,i,s)}}),a;if(r=typeof r!="number"?a._orientation[1]:r,i=typeof i!="number"?a._orientation[2]:i,typeof s>"u")if(typeof n=="number")a._orientation=[n,r,i];else return a._orientation;for(var l=a._getSoundIds(s),c=0;c<l.length;c++){var h=a._soundById(l[c]);if(h)if(typeof n=="number")h._orientation=[n,r,i],h._node&&(h._panner||(h._pos||(h._pos=a._pos||[0,0,-.5]),t(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):h._panner.setOrientation(n,r,i)),a._emit("orientation",h._id);else return h._orientation}return a},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,a;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return a=n._soundById(parseInt(r[0],10)),a?a._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),c=0;c<l.length;c++)if(a=n._soundById(l[c]),a){var h=a._pannerAttr;h={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:h.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:h.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:h.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:h.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:h.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:h.panningModel};var p=a._panner;p||(a._pos||(a._pos=n._pos||[0,0,-.5]),t(a,"spatial"),p=a._panner),p.coneInnerAngle=h.coneInnerAngle,p.coneOuterAngle=h.coneOuterAngle,p.coneOuterGain=h.coneOuterGain,p.distanceModel=h.distanceModel,p.maxDistance=h.maxDistance,p.refDistance=h.refDistance,p.rolloffFactor=h.rolloffFactor,p.panningModel=h.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Od);var IW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AW=window.device,ye={},t_=[];window.device=ye;var gf=window.document.documentElement,xW=window.navigator.userAgent.toLowerCase(),Cx=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];ye.macos=function(){return an("mac")};ye.ios=function(){return ye.iphone()||ye.ipod()||ye.ipad()};ye.iphone=function(){return!ye.windows()&&an("iphone")};ye.ipod=function(){return an("ipod")};ye.ipad=function(){var e=navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return an("ipad")||e};ye.android=function(){return!ye.windows()&&an("android")};ye.androidPhone=function(){return ye.android()&&an("mobile")};ye.androidTablet=function(){return ye.android()&&!an("mobile")};ye.blackberry=function(){return an("blackberry")||an("bb10")};ye.blackberryPhone=function(){return ye.blackberry()&&!an("tablet")};ye.blackberryTablet=function(){return ye.blackberry()&&an("tablet")};ye.windows=function(){return an("windows")};ye.windowsPhone=function(){return ye.windows()&&an("phone")};ye.windowsTablet=function(){return ye.windows()&&an("touch")&&!ye.windowsPhone()};ye.fxos=function(){return(an("(mobile")||an("(tablet"))&&an(" rv:")};ye.fxosPhone=function(){return ye.fxos()&&an("mobile")};ye.fxosTablet=function(){return ye.fxos()&&an("tablet")};ye.meego=function(){return an("meego")};ye.cordova=function(){return window.cordova&&location.protocol==="file:"};ye.nodeWebkit=function(){return IW(window.process)==="object"};ye.mobile=function(){return ye.androidPhone()||ye.iphone()||ye.ipod()||ye.windowsPhone()||ye.blackberryPhone()||ye.fxosPhone()||ye.meego()};ye.tablet=function(){return ye.ipad()||ye.androidTablet()||ye.blackberryTablet()||ye.windowsTablet()||ye.fxosTablet()};ye.desktop=function(){return!ye.tablet()&&!ye.mobile()};ye.television=function(){for(var e=0;e<Cx.length;){if(an(Cx[e]))return!0;e++}return!1};ye.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?xw(screen.orientation.type,"portrait"):ye.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)!==90:window.innerHeight/window.innerWidth>1};ye.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?xw(screen.orientation.type,"landscape"):ye.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?Math.abs(window.orientation)===90:window.innerHeight/window.innerWidth<1};ye.noConflict=function(){return window.device=AW,this};function xw(e,t){return e.indexOf(t)!==-1}function an(e){return xw(xW,e)}function $L(e){return gf.className.match(new RegExp(e,"i"))}function dn(e){var t=null;$L(e)||(t=gf.className.replace(/^\s+|\s+$/g,""),gf.className=t+" "+e)}function Nx(e){$L(e)&&(gf.className=gf.className.replace(" "+e,""))}ye.ios()?ye.ipad()?dn("ios ipad tablet"):ye.iphone()?dn("ios iphone mobile"):ye.ipod()&&dn("ios ipod mobile"):ye.macos()?dn("macos desktop"):ye.android()?ye.androidTablet()?dn("android tablet"):dn("android mobile"):ye.blackberry()?ye.blackberryTablet()?dn("blackberry tablet"):dn("blackberry mobile"):ye.windows()?ye.windowsTablet()?dn("windows tablet"):ye.windowsPhone()?dn("windows mobile"):dn("windows desktop"):ye.fxos()?ye.fxosTablet()?dn("fxos tablet"):dn("fxos mobile"):ye.meego()?dn("meego mobile"):ye.nodeWebkit()?dn("node-webkit"):ye.television()?dn("television"):ye.desktop()&&dn("desktop");ye.cordova()&&dn("cordova");function Pd(){ye.landscape()?(Nx("portrait"),dn("landscape"),Ox("landscape")):(Nx("landscape"),dn("portrait"),Ox("portrait")),jL()}function Ox(e){for(var t=0;t<t_.length;t++)t_[t](e)}ye.onChangeOrientation=function(e){typeof e=="function"&&t_.push(e)};var Ld="resize";Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Ld="orientationchange");window.addEventListener?window.addEventListener(Ld,Pd,!1):window.attachEvent?window.attachEvent(Ld,Pd):window[Ld]=Pd;Pd();function kw(e){for(var t=0;t<e.length;t++)if(ye[e[t]]())return e[t];return"unknown"}ye.type=kw(["mobile","tablet","desktop"]);ye.os=kw(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]);function jL(){ye.orientation=kw(["portrait","landscape"])}jL();const yn={formatTime(e){const t=Math.floor(e/60)||0,n=Math.round(e-t*60||0);return`${t}:${n<10?"0":""}${n}`},convertPercentageToNumber(e){return e?parseFloat(e.replace("%","")):0},RangeInt(e,t){return Math.floor(Math.random()*(t-e+1))+e},formatIndex(e){return(e+1).toString().padStart(2,"0")},formatSongName(e){let t=e.replace(".mp3","");return t=t.replace(/^\d+\.\s*/,""),t},changeHightStyle(e,t){const n=ye.desktop(),r=ye.mobile();e.length<8&&n?t.style.height="418px":e.length<6&&r?t.style.height="300px":t.style.height="auto"},uploadImg(e){return new Promise((t,n)=>{const r=e.target.files[0];if(!r)return;["image/jpeg","image/png","image/jpg","image/bmp"].includes(r.type)||t({showAlert:!0,message:VL.global.t("alertMsg.file_extension_check_alert")}),t({file:r})})}},Un=Fa("player",{state:()=>({songList:[],current_song:{},sound:{},seek:"00:00",duration:"00:00",playProgress:"0% ",playingIndex:0,pauseCurrentSong:{}}),actions:{async newSong(e){console.log("song => ",e),this.sound instanceof Od.Howl&&this.sound.unload(),this.current_song=e,this.sound=new Od.Howl({src:[e.url],html5:!0,volume:.3}),this.sound.play(),this.sound.on("play",()=>{this.progress(),requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?(this.sound.pause(),this.pauseCurrentSong={pause:!0,currentSong:this.current_song.modified_name}):(this.pauseCurrentSong={pause:!1,currentSong:this.current_song.modified_name},this.sound.play()))},forward_backPlay(e){this.sound.playing&&(this.sound.playing()&&this.sound.stop(),e&&this.playingIndex<=this.songList.length-2?this.playingIndex+=1:e&&this.playingIndex===this.songList.length-1?this.playingIndex=0:!e&&this.playingIndex>0?this.playingIndex-=1:!e&&this.playingIndex===0&&(this.playingIndex=this.songList.length-1),this.sound=new Od.Howl({src:[this.songList[this.playingIndex].url],html5:!0,volume:.3}),this.sound.play(),this.sound.on("play",()=>{this.progress(),requestAnimationFrame(this.progress)}),this.current_song=this.songList[this.playingIndex])},deleteSong(e){if(this.songList.length===0)return;this.songList[e].docID===this.current_song.docID?(this.sound.stop(),this.songList.splice(e,1),this.songList.length>0?this.current_song=this.songList[0]:(this.sound.unload(),this.sound={},this.current_song={})):(this.songList.splice(e,1),this.songList.length>0&&(this.current_song={...this.current_song,favCoverImg:this.songList[0].coverImg}))},progress(){this.sound.seek&&(this.seek=yn.formatTime(this.sound.seek()),this.duration=yn.formatTime(this.sound.duration()),this.playProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress))},updateSeek(e){let t=0;const n=e.target.value;if(!this.sound.playing)return;const{x:r,width:i}=event.currentTarget.getBoundingClientRect(),s=event.clientX-r;n?t=Number(n)/100:t=s/i;const a=this.sound.duration()*t;this.sound.seek(a),this.sound.once("seek",this.progress)}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1,hiddenClass:e=>e.sound.play?"":"hidden",albumPageImgClass:e=>{let t;return Object.keys(e.current_song).length!==0&&(t=e.songList.some(n=>n.docID===e.current_song.docID)),t?"md:max-w-64 w-auto":"max-w-64"}}}),kW={name:"Player",data(){return{sliderValue:0,timerId:null}},computed:{...ln(Un,["playing","seek","duration","playProgress","current_song","hiddenClass"])},methods:{...Vn(Un,["toggleAudio","updateSeek","forward_backPlay"])},watch:{seek(){this.seek&&(this.sliderValue=yn.convertPercentageToNumber(this.playProgress))}}},BL=e=>(R_("data-v-efedcebf"),e=e(),D_(),e),CW={class:"flex justify-between items-center"},NW={class:"flex-1"},OW={key:0,class:"text-center"},PW={class:"font-bold text-md"},LW={class:"font-bold text-md"},RW={class:"flex flex-nowrap gap-4 items-center"},DW={class:"player-currenttime"},MW={class:"relative w-full"},FW={class:"player-duration"},UW={class:"flex my-2"},VW=["src"],$W={class:"flex-1 flex flex-nowrap justify-between px-2 md:px-5"},jW=BL(()=>S("i",{class:"fas fa-backward text-rose-500 text-2xl"},null,-1)),BW=[jW],HW=BL(()=>S("i",{class:"fas fa-forward text-rose-500 text-2xl"},null,-1)),GW=[HW],zW={key:0,class:"w-10 md:mr-4 md:ml-2"},qW={class:"flex md:gap-1 gap-0.5 items-center justify-center"};function WW(e,t,n,r,i,s){return me(),_e("div",{class:Ke(e.hiddenClass||{hidden:e.$route.name==="admin-backStage"})},[S("div",{class:Ke(["fixed bottom-0 left-0 bg-zinc-800 pl-4 py-2 w-full text-zinc-200 shadow-[0_0_5px_rgba(255,255,255,1)] z-10",{"pr-4":!e.current_song.album}])},[S("div",CW,[S("div",NW,[e.current_song.modified_name?(me(),_e("div",OW,[S("span",PW,X(e.current_song.display_name),1),Hc(" - "),S("span",LW,X(e.current_song.modified_name),1)])):Hr("",!0),S("div",RW,[S("div",DW,X(e.seek),1),S("div",MW,[Sa(S("input",{id:"large-range",type:"range",class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-gray-700",max:"100",min:"0","onUpdate:modelValue":t[0]||(t[0]=a=>i.sliderValue=a),onChange:t[1]||(t[1]=a=>e.updateSeek(a))},null,544),[[$$,i.sliderValue]]),S("span",{class:"absolute top-[10px] left-0 block h-2 rounded bg-gradient-to-r from-rose-500 to-pink-500",style:jr({width:e.playProgress})},null,4)]),S("div",FW,X(e.duration),1)]),S("div",UW,[S("img",{src:e.current_song.coverImg,class:Ke(["w-10",{"opacity-0":!e.current_song.coverImg}]),alt:""},null,10,VW),S("div",$W,[S("button",{type:"button",onClick:t[2]||(t[2]=qe(a=>e.forward_backPlay(!1),["prevent"]))},BW),S("button",{type:"button",onClick:t[3]||(t[3]=qe((...a)=>e.toggleAudio&&e.toggleAudio(...a),["prevent"]))},[S("i",{class:Ke(["fas text-rose-500 text-3xl",{"fa-play":!e.playing,"fa-pause":e.playing}])},null,2)]),S("button",{type:"button",onClick:t[4]||(t[4]=qe(a=>e.forward_backPlay(!0),["prevent"]))},GW)])])]),e.current_song.album?(me(),_e("div",zW,[S("div",qW,[S("div",{class:Ke(["md:h-6 h-4 md:w-[5px] w-[3px] bg-rose-400 rounded-full animate-wavey",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:Ke(["md:h-7 h-5 md:w-[5px] w-[3px] bg-rose-300 rounded-full animate-wavey animation-delay-200",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:Ke(["md:h-8 h-6 md:w-[5px] w-[3px] bg-rose-200 rounded-full animate-wavey animation-delay-[150ms]",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:Ke(["md:h-9 h-7 md:w-[5px] w-[3px] bg-rose-300 rounded-full animate-wavey animation-delay-300",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2),S("div",{class:Ke(["md:h-6 h-4 md:w-[5px] w-[3px] bg-rose-400 rounded-full animate-wavey animation-delay-[75ms]",{"animation-paused":!e.playing,"animation-running":e.playing}])},null,2)])])):Hr("",!0)])],2)],2)}const KW=Nt(kW,[["render",WW],["__scopeId","data-v-efedcebf"]]),YW={name:"loginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required|min:9|max:100|excluded:password"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500/50",login_alert_msg:this.$t("signin&singup.loggin_in")}},methods:{...Vn($n,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500/50",this.login_alert_msg=this.$t("signin&singup.loggin_in");try{await this.authenticate(e)}catch(t){console.log("error => ",t),this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg=this.$t("signin&singup.loggin_failed");return}this.login_alert_variant="bg-green-500/60",this.login_alert_msg=this.$t("signin&singup.loggin_successful"),window.location.reload()}}},XW={class:"mb-3"},JW=S("label",{class:"inline-block mb-2"},"Email",-1),QW={class:"mb-3"},ZW={class:"inline-block mb-2"},e9=["disabled"];function t9(e,t,n,r,i,s){const a=De("vee-field"),l=De("ErrorMessage"),c=De("vee-form");return me(),_e(vt,null,[i.login_show_alert?(me(),_e("div",{key:0,class:Ke(["text-white text-center font-bold p-2 rounded mb-4",i.login_alert_variant])},X(i.login_alert_msg),3)):Hr("",!0),ae(c,{"validation-schema":i.loginSchema,onSubmit:s.login},{default:Wn(()=>[S("div",XW,[JW,ae(a,{name:"email",type:"email",autocomplete:"email",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),ae(l,{class:"text-pink-600",name:"email"})]),S("div",QW,[S("label",ZW,X(e.$t("signin&singup.password")),1),ae(a,{type:"password",name:"password",autocomplete:"current-password",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),ae(l,{class:"text-pink-600",name:"password"})]),S("button",{type:"submit",class:"block w-full bg-pink-500/75 text-white py-1.5 px-3 rounded transition hover:bg-pink-500/55 disabled:bg-gray-400",disabled:i.login_in_submission},X(e.$t("signin&singup.submit_btn")),9,e9)]),_:1},8,["validation-schema","onSubmit"])],64)}const n9=Nt(YW,[["render",t9]]),r9="password,admin",i9={name:"registerForm",data(){return{schema:{name:"required|min:3|max:100",email:"required|min:3|max:100|email",password:`required|min:9|max:100|excluded:${r9}`,confirm_password:"passwords_mismatch:@password"},userData:{country:"USA"},reg_in_submission:!1,res_show_alert:!1,reg_alert_variant:"bg-blue-500/50",reg_alert_msg:this.$t("signin&singup.signing_up_wait")}},methods:{...Vn($n,{createUser:"register"}),async register(e){this.res_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500/50",this.reg_alert_msg=this.$t("signin&singup.signing_up_wait");try{await this.createUser(e)}catch(t){this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500/60",this.reg_alert_msg=t.message,console.log("error => ",t);return}this.reg_alert_variant="bg-green-500/60",this.login_alert_msg=this.$t("signin&singup.loggin_successful"),window.location.reload()}}},o9={class:"mb-3"},s9={class:"inline-block mb-2"},a9={class:"mb-3"},u9=S("label",{class:"inline-block mb-2"},"Email",-1),l9={class:"mb-3"},c9={class:"inline-block mb-2"},f9=["placeholder"],h9={class:"mb-3"},d9={class:"inline-block mb-2"},p9=["disabled"];function m9(e,t,n,r,i,s){const a=De("vee-field"),l=De("ErrorMessage"),c=De("vee-form");return me(),_e(vt,null,[i.res_show_alert?(me(),_e("div",{key:0,class:Ke(["text-white text-center font-bold p-2 rounded mb-4",i.reg_alert_variant])},X(i.reg_alert_msg),3)):Hr("",!0),ae(c,{"validation-schema":i.schema,onSubmit:s.register,"initial-values":i.userData},{default:Wn(()=>[S("div",o9,[S("label",s9,X(e.$t("signin&singup.user_name")),1),ae(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("signin&singup.enter_user_name")},null,8,["placeholder"]),ae(l,{class:"text-pink-600",name:"name"})]),S("div",a9,[u9,ae(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("signin&singup.enter_email")},null,8,["placeholder"]),ae(l,{class:"text-pink-600",name:"email"})]),S("div",l9,[S("label",c9,X(e.$t("signin&singup.password")),1),ae(a,{name:"password",bails:!1},{default:Wn(({field:h,errors:p})=>[S("input",mC({class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",name:"password",autocomplete:"password",placeholder:e.$t("signin&singup.enter_password")},h),null,16,f9),(me(!0),_e(vt,null,qi(p,f=>(me(),_e("div",{class:"text-pink-600",key:f},X(f),1))),128))]),_:1})]),S("div",h9,[S("label",d9,X(e.$t("signin&singup.enter_password_again")),1),ae(a,{name:"confirm_password",type:"password",class:"block w-full py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",autocomplete:"password",placeholder:e.$t("signin&singup.confirm_password")},null,8,["placeholder"]),ae(l,{class:"text-pink-600",name:"confirm_password"})]),S("button",{type:"submit",class:"block w-full bg-pink-500/75 text-white py-1.5 px-3 rounded transition hover:bg-pink-500/55 disabled:bg-gray-400",disabled:i.reg_in_submission},X(e.$t("signin&singup.send_btn")),9,p9)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const g9=Nt(i9,[["render",m9]]),v9={data(){return{}},components:{LoginForm:n9,RegisterForm:g9},computed:{...ln(Rc,["hiddenClass"]),...Mt(Rc,["tab"]),...Mt(Rc,{modalVisibility:"isOpen"})}},y9={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},b9=S("div",{class:"fixed inset-0 transition-opacity"},[S("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),_9=S("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),w9={class:"inline-block align-bottom w-full bg-zinc-900/70 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},E9={class:"pt-3 pb-7 text-left px-6"},T9={class:"flex justify-between items-center pb-4"},S9={class:"text-md font-bold"},I9=S("i",{class:"fas fa-times"},null,-1),A9=[I9],x9={class:"flex flex-wrap mb-4"},k9={class:"flex-auto text-center"},C9={class:"flex-auto text-center"};function N9(e,t,n,r,i,s){const a=De("LoginForm"),l=De("RegisterForm");return me(),_e("div",{class:Ke(["fixed z-10 inset-0 overflow-y-auto text-zinc-200",e.hiddenClass]),id:"modal"},[S("div",y9,[b9,_9,S("div",w9,[S("div",E9,[S("div",T9,[S("p",S9,X(e.$t("signin&singup.your_account")),1),S("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=c=>e.modalVisibility=!1)},A9)]),S("ul",x9,[S("li",k9,[S("a",{class:Ke(["block rounded py-1.5 px-2 transition",{"hover:text-white text-white bg-pink-500/75":e.tab==="login","hover:text-rose-200":e.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=qe(c=>e.tab="login",["prevent"]))},X(e.$t("signin&singup.sign_in")),3)]),S("li",C9,[S("a",{class:Ke(["block rounded py-1.5 px-2 transition",{"hover:text-white text-white bg-pink-500/75":e.tab==="register","hover:text-rose-200":e.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=qe(c=>e.tab="register",["prevent"]))},X(e.$t("signin&singup.sign_up")),3)])]),e.tab==="login"?(me(),ms(a,{key:0})):(me(),ms(l,{key:1}))])])])],2)}const O9=Nt(v9,[["render",N9]]),P9={props:["isShow"]},L9=S("div",{role:"status",class:"absolute -translate-x-1/2 -translate-y-1/2 top-2/4 left-1/2"},[S("svg",{"aria-hidden":"true",class:"w-10 h-1w-10 text-gray-300/90 animate-spin dark:text-gray-600 fill-rose-500",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[S("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),S("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})])],-1),R9=[L9];function D9(e,t,n,r,i,s){return me(),_e("div",{class:Ke(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-[50] justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!n.isShow}])},R9,2)}const Wf=Nt(P9,[["render",D9]]);async function M9(e,t){const{setLanguage:n}=Jn();try{const r=await fetch("https://ipapi.co/json/"),{country:i}=await r.json();switch(i){case"TW":case"CN":e.$i18n.locale="zh",n("zh");break;default:e.$i18n.locale="en",n("en");break}}catch{e.$i18n.locale="en",n("en")}finally{t(!0)}}function F9(){const{setMoblieScreen:e,isMoblieScreen:t}=Jn();window.matchMedia("(max-width: 768px)").addEventListener("change",function(r){e(r.matches),console.log("isMoblieScreen_1 => ",t)})}function U9(e,t){M9(e,t),F9()}const V9={data(){return{showLoading:!0}},components:{Auth:O9,HeaderVue:SW,Player:KW,Loading:Wf},computed:{...ln($n,["uid"]),...Mt(Jn,["isMoblieScreen"])},mounted(){U9(this,(e=!1)=>{e&&(this.showLoading=!1)})}};function $9(e,t,n,r,i,s){const a=De("Loading"),l=De("HeaderVue"),c=De("RouterView"),h=De("Player"),p=De("Auth");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l),ae(c,null,{default:Wn(({Component:f})=>[ae(H_,{name:"fade"},{default:Wn(()=>[(me(),ms(Fp(f),{mode:"out-in"}))]),_:2},1024)]),_:1}),ae(h),ae(p)],64)}const j9=Nt(V9,[["render",$9]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const xu=typeof document<"u";function B9(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Pt=Object.assign;function Py(e,t){const n={};for(const r in t){const i=t[r];n[r]=Ai(i)?i.map(e):e(i)}return n}const Dc=()=>{},Ai=Array.isArray,HL=/#/g,H9=/&/g,G9=/\//g,z9=/=/g,q9=/\?/g,GL=/\+/g,W9=/%5B/g,K9=/%5D/g,zL=/%5E/g,Y9=/%60/g,qL=/%7B/g,X9=/%7C/g,WL=/%7D/g,J9=/%20/g;function Cw(e){return encodeURI(""+e).replace(X9,"|").replace(W9,"[").replace(K9,"]")}function Q9(e){return Cw(e).replace(qL,"{").replace(WL,"}").replace(zL,"^")}function n_(e){return Cw(e).replace(GL,"%2B").replace(J9,"+").replace(HL,"%23").replace(H9,"%26").replace(Y9,"`").replace(qL,"{").replace(WL,"}").replace(zL,"^")}function Z9(e){return n_(e).replace(z9,"%3D")}function eK(e){return Cw(e).replace(HL,"%23").replace(q9,"%3F")}function tK(e){return e==null?"":eK(e).replace(G9,"%2F")}function vf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const nK=/\/$/,rK=e=>e.replace(nK,"");function Ly(e,t,n="/"){let r,i={},s="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),i=e(s)),l>-1&&(r=r||t.slice(0,l),a=t.slice(l,t.length)),r=aK(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:vf(a)}}function iK(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Px(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function oK(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&hl(t.matched[r],n.matched[i])&&KL(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function hl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function KL(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sK(e[n],t[n]))return!1;return!0}function sK(e,t){return Ai(e)?Lx(e,t):Ai(t)?Lx(t,e):e===t}function Lx(e,t){return Ai(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function aK(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}var yf;(function(e){e.pop="pop",e.push="push"})(yf||(yf={}));var Mc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Mc||(Mc={}));function uK(e){if(!e)if(xu){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rK(e)}const lK=/^[^#]+#/;function cK(e,t){return e.replace(lK,"#")+t}function fK(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Cm=()=>({left:window.scrollX,top:window.scrollY});function hK(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=fK(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Rx(e,t){return(history.state?history.state.position-t:-1)+e}const r_=new Map;function dK(e,t){r_.set(e,t)}function pK(e){const t=r_.get(e);return r_.delete(e),t}let mK=()=>location.protocol+"//"+location.host;function YL(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let l=i.includes(e.slice(s))?e.slice(s).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),Px(c,"")}return Px(n,e)+r+i}function gK(e,t,n,r){let i=[],s=[],a=null;const l=({state:m})=>{const v=YL(e,location),y=n.value,_=t.value;let w=0;if(m){if(n.value=v,t.value=m,a&&a===y){a=null;return}w=_?m.position-_.position:0}else r(v);i.forEach(E=>{E(n.value,y,{delta:w,type:yf.pop,direction:w?w>0?Mc.forward:Mc.back:Mc.unknown})})};function c(){a=n.value}function h(m){i.push(m);const v=()=>{const y=i.indexOf(m);y>-1&&i.splice(y,1)};return s.push(v),v}function p(){const{history:m}=window;m.state&&m.replaceState(Pt({},m.state,{scroll:Cm()}),"")}function f(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:c,listen:h,destroy:f}}function Dx(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Cm():null}}function vK(e){const{history:t,location:n}=window,r={value:YL(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,h,p){const f=e.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:mK()+e+c;try{t[p?"replaceState":"pushState"](h,"",m),i.value=h}catch(v){console.error(v),n[p?"replace":"assign"](m)}}function a(c,h){const p=Pt({},t.state,Dx(i.value.back,c,i.value.forward,!0),h,{position:i.value.position});s(c,p,!0),r.value=c}function l(c,h){const p=Pt({},i.value,t.state,{forward:c,scroll:Cm()});s(p.current,p,!0);const f=Pt({},Dx(r.value,c,null),{position:p.position+1},h);s(c,f,!1),r.value=c}return{location:r,state:i,push:l,replace:a}}function yK(e){e=uK(e);const t=vK(e),n=gK(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=Pt({location:"",base:e,go:r,createHref:cK.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function bK(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),yK(e)}function _K(e){return typeof e=="string"||e&&typeof e=="object"}function XL(e){return typeof e=="string"||typeof e=="symbol"}const Bo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},JL=Symbol("");var Mx;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Mx||(Mx={}));function dl(e,t){return Pt(new Error,{type:e,[JL]:!0},t)}function ao(e,t){return e instanceof Error&&JL in e&&(t==null||!!(e.type&t))}const Fx="[^/]+?",wK={sensitive:!1,strict:!1,start:!0,end:!0},EK=/[.+*?^${}()[\]/\\]/g;function TK(e,t){const n=Pt({},wK,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const p=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let f=0;f<h.length;f++){const m=h[f];let v=40+(n.sensitive?.25:0);if(m.type===0)f||(i+="/"),i+=m.value.replace(EK,"\\$&"),v+=40;else if(m.type===1){const{value:y,repeatable:_,optional:w,regexp:E}=m;s.push({name:y,repeatable:_,optional:w});const k=E||Fx;if(k!==Fx){v+=10;try{new RegExp(`(${k})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+C.message)}}let I=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(I=w&&h.length<2?`(?:/${I})`:"/"+I),w&&(I+="?"),i+=I,v+=20,w&&(v+=-8),_&&(v+=-20),k===".*"&&(v+=-50)}p.push(v)}r.push(p)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function l(h){const p=h.match(a),f={};if(!p)return null;for(let m=1;m<p.length;m++){const v=p[m]||"",y=s[m-1];f[y.name]=v&&y.repeatable?v.split("/"):v}return f}function c(h){let p="",f=!1;for(const m of e){(!f||!p.endsWith("/"))&&(p+="/"),f=!1;for(const v of m)if(v.type===0)p+=v.value;else if(v.type===1){const{value:y,repeatable:_,optional:w}=v,E=y in h?h[y]:"";if(Ai(E)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=Ai(E)?E.join("/"):E;if(!k)if(w)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);p+=k}}return p||"/"}return{re:a,score:r,keys:s,parse:l,stringify:c}}function SK(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function IK(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=SK(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Ux(r))return 1;if(Ux(i))return-1}return i.length-r.length}function Ux(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const AK={type:0,value:""},xK=/[a-zA-Z0-9_]/;function kK(e){if(!e)return[[]];if(e==="/")return[[AK]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${h}": ${v}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let l=0,c,h="",p="";function f(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(h&&f(),a()):c===":"?(f(),n=1):m();break;case 4:m(),n=r;break;case 1:c==="("?n=2:xK.test(c)?m():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:n=3:p+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),f(),a(),i}function CK(e,t,n){const r=TK(kK(e.path),n),i=Pt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function NK(e,t){const n=[],r=new Map;t=jx({strict:!1,end:!0,sensitive:!1},t);function i(p){return r.get(p)}function s(p,f,m){const v=!m,y=OK(p);y.aliasOf=m&&m.record;const _=jx(t,p),w=[y];if("alias"in p){const I=typeof p.alias=="string"?[p.alias]:p.alias;for(const C of I)w.push(Pt({},y,{components:m?m.record.components:y.components,path:C,aliasOf:m?m.record:y}))}let E,k;for(const I of w){const{path:C}=I;if(f&&C[0]!=="/"){const M=f.record.path,A=M[M.length-1]==="/"?"":"/";I.path=f.record.path+(C&&A+C)}if(E=CK(I,f,_),m?m.alias.push(E):(k=k||E,k!==E&&k.alias.push(E),v&&p.name&&!$x(E)&&a(p.name)),y.children){const M=y.children;for(let A=0;A<M.length;A++)s(M[A],E,m&&m.children[A])}m=m||E,(E.record.components&&Object.keys(E.record.components).length||E.record.name||E.record.redirect)&&c(E)}return k?()=>{a(k)}:Dc}function a(p){if(XL(p)){const f=r.get(p);f&&(r.delete(p),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(p);f>-1&&(n.splice(f,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function c(p){let f=0;for(;f<n.length&&IK(p,n[f])>=0&&(p.record.path!==n[f].record.path||!QL(p,n[f]));)f++;n.splice(f,0,p),p.record.name&&!$x(p)&&r.set(p.record.name,p)}function h(p,f){let m,v={},y,_;if("name"in p&&p.name){if(m=r.get(p.name),!m)throw dl(1,{location:p});_=m.record.name,v=Pt(Vx(f.params,m.keys.filter(k=>!k.optional).concat(m.parent?m.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),p.params&&Vx(p.params,m.keys.map(k=>k.name))),y=m.stringify(v)}else if(p.path!=null)y=p.path,m=n.find(k=>k.re.test(y)),m&&(v=m.parse(y),_=m.record.name);else{if(m=f.name?r.get(f.name):n.find(k=>k.re.test(f.path)),!m)throw dl(1,{location:p,currentLocation:f});_=m.record.name,v=Pt({},f.params,p.params),y=m.stringify(v)}const w=[];let E=m;for(;E;)w.unshift(E.record),E=E.parent;return{name:_,path:y,params:v,matched:w,meta:LK(w)}}return e.forEach(p=>s(p)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function Vx(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function OK(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:PK(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function PK(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function $x(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function LK(e){return e.reduce((t,n)=>Pt(t,n.meta),{})}function jx(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function QL(e,t){return t.children.some(n=>n===e||QL(e,n))}function RK(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(GL," "),a=s.indexOf("="),l=vf(a<0?s:s.slice(0,a)),c=a<0?null:vf(s.slice(a+1));if(l in t){let h=t[l];Ai(h)||(h=t[l]=[h]),h.push(c)}else t[l]=c}return t}function Bx(e){let t="";for(let n in e){const r=e[n];if(n=Z9(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ai(r)?r.map(s=>s&&n_(s)):[r&&n_(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function DK(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ai(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const MK=Symbol(""),Hx=Symbol(""),Nw=Symbol(""),ZL=Symbol(""),i_=Symbol("");function gc(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jo(e,t,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const h=m=>{m===!1?c(dl(4,{from:n,to:t})):m instanceof Error?c(m):_K(m)?c(dl(2,{from:t,to:m})):(a&&r.enterCallbacks[i]===a&&typeof m=="function"&&a.push(m),l())},p=s(()=>e.call(r&&r.instances[i],t,n,h));let f=Promise.resolve(p);e.length<3&&(f=f.then(h)),f.catch(m=>c(m))})}function Ry(e,t,n,r,i=s=>s()){const s=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(FK(c)){const p=(c.__vccOpts||c)[t];p&&s.push(Jo(p,n,r,a,l,i))}else{let h=c();s.push(()=>h.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${a.path}"`));const f=B9(p)?p.default:p;a.components[l]=f;const v=(f.__vccOpts||f)[t];return v&&Jo(v,n,r,a,l,i)()}))}}return s}function FK(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Gx(e){const t=Br(Nw),n=Br(ZL),r=He(()=>t.resolve(Et(e.to))),i=He(()=>{const{matched:c}=r.value,{length:h}=c,p=c[h-1],f=n.matched;if(!p||!f.length)return-1;const m=f.findIndex(hl.bind(null,p));if(m>-1)return m;const v=zx(c[h-2]);return h>1&&zx(p)===v&&f[f.length-1].path!==v?f.findIndex(hl.bind(null,c[h-2])):m}),s=He(()=>i.value>-1&&jK(n.params,r.value.params)),a=He(()=>i.value>-1&&i.value===n.matched.length-1&&KL(n.params,r.value.params));function l(c={}){return $K(c)?t[Et(e.replace)?"replace":"push"](Et(e.to)).catch(Dc):Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:s,isExactActive:a,navigate:l}}const UK=Ss({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gx,setup(e,{slots:t}){const n=_o(Gx(e)),{options:r}=Br(Nw),i=He(()=>({[qx(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[qx(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:mn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),VK=UK;function $K(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function jK(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ai(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function zx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const qx=(e,t,n)=>e??t??n,BK=Ss({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Br(i_),i=He(()=>e.route||r.value),s=Br(Hx,0),a=He(()=>{let h=Et(s);const{matched:p}=i.value;let f;for(;(f=p[h])&&!f.components;)h++;return h}),l=He(()=>i.value.matched[a.value]);cs(Hx,He(()=>a.value+1)),cs(MK,l),cs(i_,i);const c=ht();return Kn(()=>[c.value,l.value,e.name],([h,p,f],[m,v,y])=>{p&&(p.instances[f]=h,v&&v!==p&&h&&h===m&&(p.leaveGuards.size||(p.leaveGuards=v.leaveGuards),p.updateGuards.size||(p.updateGuards=v.updateGuards))),h&&p&&(!v||!hl(p,v)||!m)&&(p.enterCallbacks[f]||[]).forEach(_=>_(h))},{flush:"post"}),()=>{const h=i.value,p=e.name,f=l.value,m=f&&f.components[p];if(!m)return Wx(n.default,{Component:m,route:h});const v=f.props[p],y=v?v===!0?h.params:typeof v=="function"?v(h):v:null,w=mn(m,Pt({},y,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[p]=null)},ref:c}));return Wx(n.default,{Component:w,route:h})||w}}});function Wx(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const HK=BK;function GK(e){const t=NK(e.routes,e),n=e.parseQuery||RK,r=e.stringifyQuery||Bx,i=e.history,s=gc(),a=gc(),l=gc(),c=Lp(Bo);let h=Bo;xu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Py.bind(null,W=>""+W),f=Py.bind(null,tK),m=Py.bind(null,vf);function v(W,le){let re,Ee;return XL(W)?(re=t.getRecordMatcher(W),Ee=le):Ee=W,t.addRoute(Ee,re)}function y(W){const le=t.getRecordMatcher(W);le&&t.removeRoute(le)}function _(){return t.getRoutes().map(W=>W.record)}function w(W){return!!t.getRecordMatcher(W)}function E(W,le){if(le=Pt({},le||c.value),typeof W=="string"){const O=Ly(n,W,le.path),H=t.resolve({path:O.path},le),te=i.createHref(O.fullPath);return Pt(O,H,{params:m(H.params),hash:vf(O.hash),redirectedFrom:void 0,href:te})}let re;if(W.path!=null)re=Pt({},W,{path:Ly(n,W.path,le.path).path});else{const O=Pt({},W.params);for(const H in O)O[H]==null&&delete O[H];re=Pt({},W,{params:f(O)}),le.params=f(le.params)}const Ee=t.resolve(re,le),Ge=W.hash||"";Ee.params=p(m(Ee.params));const st=iK(r,Pt({},W,{hash:Q9(Ge),path:Ee.path})),D=i.createHref(st);return Pt({fullPath:st,hash:Ge,query:r===Bx?DK(W.query):W.query||{}},Ee,{redirectedFrom:void 0,href:D})}function k(W){return typeof W=="string"?Ly(n,W,c.value.path):Pt({},W)}function I(W,le){if(h!==W)return dl(8,{from:le,to:W})}function C(W){return j(W)}function M(W){return C(Pt(k(W),{replace:!0}))}function A(W){const le=W.matched[W.matched.length-1];if(le&&le.redirect){const{redirect:re}=le;let Ee=typeof re=="function"?re(W):re;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=k(Ee):{path:Ee},Ee.params={}),Pt({query:W.query,hash:W.hash,params:Ee.path!=null?{}:W.params},Ee)}}function j(W,le){const re=h=E(W),Ee=c.value,Ge=W.state,st=W.force,D=W.replace===!0,O=A(re);if(O)return j(Pt(k(O),{state:typeof O=="object"?Pt({},Ge,O.state):Ge,force:st,replace:D}),le||re);const H=re;H.redirectedFrom=le;let te;return!st&&oK(r,Ee,re)&&(te=dl(16,{to:H,from:Ee}),it(Ee,Ee,!0,!1)),(te?Promise.resolve(te):z(H,Ee)).catch(Y=>ao(Y)?ao(Y,2)?Y:xt(Y):Me(Y,H,Ee)).then(Y=>{if(Y){if(ao(Y,2))return j(Pt({replace:D},k(Y.to),{state:typeof Y.to=="object"?Pt({},Ge,Y.to.state):Ge,force:st}),le||H)}else Y=q(H,Ee,!0,D,Ge);return L(H,Ee,Y),Y})}function U(W,le){const re=I(W,le);return re?Promise.reject(re):Promise.resolve()}function P(W){const le=en.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(W):W()}function z(W,le){let re;const[Ee,Ge,st]=zK(W,le);re=Ry(Ee.reverse(),"beforeRouteLeave",W,le);for(const O of Ee)O.leaveGuards.forEach(H=>{re.push(Jo(H,W,le))});const D=U.bind(null,W,le);return re.push(D),Ne(re).then(()=>{re=[];for(const O of s.list())re.push(Jo(O,W,le));return re.push(D),Ne(re)}).then(()=>{re=Ry(Ge,"beforeRouteUpdate",W,le);for(const O of Ge)O.updateGuards.forEach(H=>{re.push(Jo(H,W,le))});return re.push(D),Ne(re)}).then(()=>{re=[];for(const O of st)if(O.beforeEnter)if(Ai(O.beforeEnter))for(const H of O.beforeEnter)re.push(Jo(H,W,le));else re.push(Jo(O.beforeEnter,W,le));return re.push(D),Ne(re)}).then(()=>(W.matched.forEach(O=>O.enterCallbacks={}),re=Ry(st,"beforeRouteEnter",W,le,P),re.push(D),Ne(re))).then(()=>{re=[];for(const O of a.list())re.push(Jo(O,W,le));return re.push(D),Ne(re)}).catch(O=>ao(O,8)?O:Promise.reject(O))}function L(W,le,re){l.list().forEach(Ee=>P(()=>Ee(W,le,re)))}function q(W,le,re,Ee,Ge){const st=I(W,le);if(st)return st;const D=le===Bo,O=xu?history.state:{};re&&(Ee||D?i.replace(W.fullPath,Pt({scroll:D&&O&&O.scroll},Ge)):i.push(W.fullPath,Ge)),c.value=W,it(W,le,re,D),xt()}let ee;function Te(){ee||(ee=i.listen((W,le,re)=>{if(!Se.listening)return;const Ee=E(W),Ge=A(Ee);if(Ge){j(Pt(Ge,{replace:!0}),Ee).catch(Dc);return}h=Ee;const st=c.value;xu&&dK(Rx(st.fullPath,re.delta),Cm()),z(Ee,st).catch(D=>ao(D,12)?D:ao(D,2)?(j(D.to,Ee).then(O=>{ao(O,20)&&!re.delta&&re.type===yf.pop&&i.go(-1,!1)}).catch(Dc),Promise.reject()):(re.delta&&i.go(-re.delta,!1),Me(D,Ee,st))).then(D=>{D=D||q(Ee,st,!1),D&&(re.delta&&!ao(D,8)?i.go(-re.delta,!1):re.type===yf.pop&&ao(D,20)&&i.go(-1,!1)),L(Ee,st,D)}).catch(Dc)}))}let xe=gc(),ie=gc(),Re;function Me(W,le,re){xt(W);const Ee=ie.list();return Ee.length?Ee.forEach(Ge=>Ge(W,le,re)):console.error(W),Promise.reject(W)}function Xe(){return Re&&c.value!==Bo?Promise.resolve():new Promise((W,le)=>{xe.add([W,le])})}function xt(W){return Re||(Re=!W,Te(),xe.list().forEach(([le,re])=>W?re(W):le()),xe.reset()),W}function it(W,le,re,Ee){const{scrollBehavior:Ge}=e;if(!xu||!Ge)return Promise.resolve();const st=!re&&pK(Rx(W.fullPath,0))||(Ee||!re)&&history.state&&history.state.scroll||null;return or().then(()=>Ge(W,le,st)).then(D=>D&&hK(D)).catch(D=>Me(D,W,le))}const dt=W=>i.go(W);let pt;const en=new Set,Se={currentRoute:c,listening:!0,addRoute:v,removeRoute:y,hasRoute:w,getRoutes:_,resolve:E,options:e,push:C,replace:M,go:dt,back:()=>dt(-1),forward:()=>dt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:ie.add,isReady:Xe,install(W){const le=this;W.component("RouterLink",VK),W.component("RouterView",HK),W.config.globalProperties.$router=le,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Et(c)}),xu&&!pt&&c.value===Bo&&(pt=!0,C(i.location).catch(Ge=>{}));const re={};for(const Ge in Bo)Object.defineProperty(re,Ge,{get:()=>c.value[Ge],enumerable:!0});W.provide(Nw,le),W.provide(ZL,Mk(re)),W.provide(i_,c);const Ee=W.unmount;en.add(W),W.unmount=function(){en.delete(W),en.size<1&&(h=Bo,ee&&ee(),ee=null,c.value=Bo,pt=!1,Re=!1),Ee()}}};function Ne(W){return W.reduce((le,re)=>le.then(()=>P(re)),Promise.resolve())}return Se}function zK(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const l=t.matched[a];l&&(e.matched.find(h=>hl(h,l))?r.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(h=>hl(h,c))||i.push(c))}return[n,r,i]}const eR="/vue-earphone-music/assets/logo-BuyWDoCF.png",qK={name:"HomeSongPlay",data(){return{songs:[],isPlaying:!1,pause:!1,backImage:"https://i.imgur.com/Mjs5yOr.jpg",homePlayList:["awD3iFkG2dmt4E9Oc8gu","xrftJ03d44UNT7Gm6T8f","pOrIB7mjQjnDdEJtpTsg","u0KPcCl3RyRBlfLB7udg","RBCnCji0uqExquAhqHEF","Gen1NSVenV3QfHzSAPkN","MibHYBTMBqQhbNvCjloa","xeA3kFMhLPwMAPU4ky4A","WEo5iN1IopUxaXZPBBwl","aJgIHyg7uk3dZ2CmuLV0","5lwjpimV1csVAoKdt85n","EZTFMSYU7Jg8yZBzioBs"]}},computed:{...ln(Un,["sound","playing","songList","current_song"]),...ln(Jn,["language","isMoblieScreen"]),...Mt(Un,["songList"])},methods:{...Vn(Un,["newSong","toggleAudio"]),async getSong(){this.homePlayList.forEach(async e=>{const t=await zr.doc(e).get();this.songs.push({...t.data()})})},clickPlay(){let e=yn.RangeInt(0,this.songs.length-1);this.songList=this.songs,this.isPlaying?this.toggleAudio():(this.isPlaying=!0,this.newSong(this.songs[0]),this.backImage=this.songs[e].coverImg),this.isPlaying&&!this.pause?this.pause=!0:this.isPlaying&&this.pause&&(this.pause=!1)}},watch:{playing(){this.playing?this.pause=!0:this.pause=!1},current_song(){this.backImage=this.current_song.coverImg}},mounted(){this.getSong()}},WK={class:"bg-white/30 py-7 px-9 rounded-xl text-center backdrop-blur-md"},KK={class:"relative"},YK=S("img",{src:eR,alt:"",class:"md:w-[300px] w-[250px]"},null,-1),XK={key:0,class:"playButton bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},JK=S("i",{class:"fas fa-play text-3xl text-zinc-200"},null,-1),QK=[JK],ZK={key:1,class:"bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},eY=i$('<div class="md:h-8 h-6 w-1.5 bg-pink-300 rounded-full animate-wavey"></div><div class="md:h-9 h-7 w-1.5 bg-pink-200 rounded-full animate-wavey animation-delay-200"></div><div class="md:h-10 h-8 w-1.5 bg-pink-100 rounded-full animate-wavey animation-delay-[150ms]"></div><div class="md:h-11 h-9 w-1.5 bg-pink-200 rounded-full animate-wavey animation-delay-300"></div><div class="md:h-8 h-6 w-1.5 bg-pink-300 rounded-full animate-wavey animation-delay-[75ms]"></div>',5),tY=[eY],nY={key:2,class:"bg-pink-500 w-20 h-20 rounded-full flex md:gap-1.5 gap-1 items-center justify-center mb-5"},rY=S("i",{class:"fas fa-pause text-3xl text-zinc-200"},null,-1),iY=[rY],oY={key:0,class:"text-lg font-bold"},sY={key:1,class:"text-lg font-bold text-pink-500"},aY={class:"italic font-normal"};function uY(e,t,n,r,i,s){return me(),_e("div",{class:"md:mb-8 bg-contain bg-center md:bg-fixed bg-no-repeat md:bg-contain flex flex-col min-h-[100px] items-center justify-center h-[calc(100vh-250px)] md:h-[calc(100vh-200px)]",style:jr(`background-image: url(${i.backImage})`)},[S("div",WK,[S("div",KK,[YK,S("div",{class:"flex items-center justify-center md:mt-[-110px] mt-[-100px] cursor-pointer",onClick:t[0]||(t[0]=qe((...a)=>s.clickPlay&&s.clickPlay(...a),["prevent"]))},[i.isPlaying?i.isPlaying&&i.pause?(me(),_e("div",ZK,tY)):i.isPlaying&&!i.pause?(me(),_e("div",nY,iY)):Hr("",!0):(me(),_e("div",XK,QK))])]),i.isPlaying?(me(),_e("div",sY,X(e.current_song.album),1)):(me(),_e("div",oY,X(e.$t("home.give_it_a_listen")),1))]),S("div",{class:Ke(["font-bold text-[13px] md:text-sm mt-3",{"text-center":e.language==="en","w-[50%]":e.language==="en"&&!e.isMoblieScreen}])},[S("span",aY,X(e.$t("home.cliam")),1)],2)],4)}const lY=Nt(qK,[["render",uY]]);function Kx(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function Ow(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:Kx(t[n])&&Kx(e[n])&&Object.keys(t[n]).length>0&&Ow(e[n],t[n])})}const tR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Al(){const e=typeof document<"u"?document:{};return Ow(e,tR),e}const cY={document:tR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function Yr(){const e=typeof window<"u"?window:{};return Ow(e,cY),e}function fY(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function hY(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function o_(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Sp(){return Date.now()}function dY(e){const t=Yr();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function pY(e,t){t===void 0&&(t="x");const n=Yr();let r,i,s;const a=dY(e);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),t==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function pd(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function mY(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function Dr(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!mY(r)){const i=Object.keys(Object(r)).filter(s=>t.indexOf(s)<0);for(let s=0,a=i.length;s<a;s+=1){const l=i[s],c=Object.getOwnPropertyDescriptor(r,l);c!==void 0&&c.enumerable&&(pd(e[l])&&pd(r[l])?r[l].__swiper__?e[l]=r[l]:Dr(e[l],r[l]):!pd(e[l])&&pd(r[l])?(e[l]={},r[l].__swiper__?e[l]=r[l]:Dr(e[l],r[l])):e[l]=r[l])}}}return e}function md(e,t,n){e.style.setProperty(t,n)}function nR(e){let{swiper:t,targetPosition:n,side:r}=e;const i=Yr(),s=-t.translate;let a=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const h=n>s?"next":"prev",p=(m,v)=>h==="next"&&m>=v||h==="prev"&&m<=v,f=()=>{l=new Date().getTime(),a===null&&(a=l);const m=Math.max(Math.min((l-a)/c,1),0),v=.5-Math.cos(m*Math.PI)/2;let y=s+v*(n-s);if(p(y,n)&&(y=n),t.wrapperEl.scrollTo({[r]:y}),p(y,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:y})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Bi(e,t){return t===void 0&&(t=""),[...e.children].filter(n=>n.matches(t))}function Ip(e){try{console.warn(e);return}catch{}}function Ap(e,t){t===void 0&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:fY(t)),n}function gY(e,t){const n=[];for(;e.previousElementSibling;){const r=e.previousElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function vY(e,t){const n=[];for(;e.nextElementSibling;){const r=e.nextElementSibling;t?r.matches(t)&&n.push(r):n.push(r),e=r}return n}function is(e,t){return Yr().getComputedStyle(e,null).getPropertyValue(t)}function Yx(e){let t=e,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function yY(e,t){const n=[];let r=e.parentElement;for(;r;)t?r.matches(t)&&n.push(r):n.push(r),r=r.parentElement;return n}function Xx(e,t,n){const r=Yr();return n?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}function uo(e){return(Array.isArray(e)?e:[e]).filter(t=>!!t)}let Dy;function bY(){const e=Yr(),t=Al();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function rR(){return Dy||(Dy=bY()),Dy}let My;function _Y(e){let{userAgent:t}=e===void 0?{}:e;const n=rR(),r=Yr(),i=r.navigator.platform,s=t||r.navigator.userAgent,a={ios:!1,android:!1},l=r.screen.width,c=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let p=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!p&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=i==="Win32";let y=i==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&y&&n.touch&&_.indexOf(`${l}x${c}`)>=0&&(p=s.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),y=!1),h&&!v&&(a.os="android",a.android=!0),(p||m||f)&&(a.os="ios",a.ios=!0),a}function iR(e){return e===void 0&&(e={}),My||(My=_Y(e)),My}let Fy;function wY(){const e=Yr(),t=iR();let n=!1;function r(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[c,h]=l.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));n=c<16||c===16&&h<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=r(),a=s||i&&t.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:a,isWebView:i}}function EY(){return Fy||(Fy=wY()),Fy}function TY(e){let{swiper:t,on:n,emit:r}=e;const i=Yr();let s=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(r("beforeResize"),r("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(f=>{a=i.requestAnimationFrame(()=>{const{width:m,height:v}=t;let y=m,_=v;f.forEach(w=>{let{contentBoxSize:E,contentRect:k,target:I}=w;I&&I!==t.el||(y=k?k.width:(E[0]||E).inlineSize,_=k?k.height:(E[0]||E).blockSize)}),(y!==m||_!==v)&&l()})}),s.observe(t.el))},h=()=>{a&&i.cancelAnimationFrame(a),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},p=()=>{!t||t.destroyed||!t.initialized||r("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",p)}),n("destroy",()=>{h(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",p)})}function SY(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;const s=[],a=Yr(),l=function(p,f){f===void 0&&(f={});const m=a.MutationObserver||a.WebkitMutationObserver,v=new m(y=>{if(t.__preventObserver__)return;if(y.length===1){i("observerUpdate",y[0]);return}const _=function(){i("observerUpdate",y[0])};a.requestAnimationFrame?a.requestAnimationFrame(_):a.setTimeout(_,0)});v.observe(p,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:typeof f.childList>"u"?!0:f.childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(v)},c=()=>{if(t.params.observer){if(t.params.observeParents){const p=yY(t.hostEl);for(let f=0;f<p.length;f+=1)l(p[f])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},h=()=>{s.forEach(p=>{p.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",h)}var IY={on(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const i=n?"unshift":"push";return e.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](t)}),r},once(e,t,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(r=>{typeof t>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,n,r;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),r=e):(t=s[0].events,n=s[0].data,r=s[0].context||e),n.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(r,[c,...n])}),e.eventsListeners&&e.eventsListeners[c]&&e.eventsListeners[c].forEach(h=>{h.apply(r,n)})}),e}};function AY(){const e=this;let t,n;const r=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=r.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?n=e.params.height:n=r.clientHeight,!(t===0&&e.isHorizontal()||n===0&&e.isVertical())&&(t=t-parseInt(is(r,"padding-left")||0,10)-parseInt(is(r,"padding-right")||0,10),n=n-parseInt(is(r,"padding-top")||0,10)-parseInt(is(r,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))}function xY(){const e=this;function t(z,L){return parseFloat(z.getPropertyValue(e.getDirectionLabel(L))||0)}const n=e.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:a,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,h=c?e.virtual.slides.length:e.slides.length,p=Bi(i,`.${e.params.slideClass}, swiper-slide`),f=c?e.virtual.slides.length:p.length;let m=[];const v=[],y=[];let _=n.slidesOffsetBefore;typeof _=="function"&&(_=n.slidesOffsetBefore.call(e));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(e));const E=e.snapGrid.length,k=e.slidesGrid.length;let I=n.spaceBetween,C=-_,M=0,A=0;if(typeof s>"u")return;typeof I=="string"&&I.indexOf("%")>=0?I=parseFloat(I.replace("%",""))/100*s:typeof I=="string"&&(I=parseFloat(I)),e.virtualSize=-I,p.forEach(z=>{a?z.style.marginLeft="":z.style.marginRight="",z.style.marginBottom="",z.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(md(r,"--swiper-centered-offset-before",""),md(r,"--swiper-centered-offset-after",""));const j=n.grid&&n.grid.rows>1&&e.grid;j?e.grid.initSlides(p):e.grid&&e.grid.unsetSlides();let U;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(z=>typeof n.breakpoints[z].slidesPerView<"u").length>0;for(let z=0;z<f;z+=1){U=0;let L;if(p[z]&&(L=p[z]),j&&e.grid.updateSlide(z,L,p),!(p[z]&&is(L,"display")==="none")){if(n.slidesPerView==="auto"){P&&(p[z].style[e.getDirectionLabel("width")]="");const q=getComputedStyle(L),ee=L.style.transform,Te=L.style.webkitTransform;if(ee&&(L.style.transform="none"),Te&&(L.style.webkitTransform="none"),n.roundLengths)U=e.isHorizontal()?Xx(L,"width",!0):Xx(L,"height",!0);else{const xe=t(q,"width"),ie=t(q,"padding-left"),Re=t(q,"padding-right"),Me=t(q,"margin-left"),Xe=t(q,"margin-right"),xt=q.getPropertyValue("box-sizing");if(xt&&xt==="border-box")U=xe+Me+Xe;else{const{clientWidth:it,offsetWidth:dt}=L;U=xe+ie+Re+Me+Xe+(dt-it)}}ee&&(L.style.transform=ee),Te&&(L.style.webkitTransform=Te),n.roundLengths&&(U=Math.floor(U))}else U=(s-(n.slidesPerView-1)*I)/n.slidesPerView,n.roundLengths&&(U=Math.floor(U)),p[z]&&(p[z].style[e.getDirectionLabel("width")]=`${U}px`);p[z]&&(p[z].swiperSlideSize=U),y.push(U),n.centeredSlides?(C=C+U/2+M/2+I,M===0&&z!==0&&(C=C-s/2-I),z===0&&(C=C-s/2-I),Math.abs(C)<1/1e3&&(C=0),n.roundLengths&&(C=Math.floor(C)),A%n.slidesPerGroup===0&&m.push(C),v.push(C)):(n.roundLengths&&(C=Math.floor(C)),(A-Math.min(e.params.slidesPerGroupSkip,A))%e.params.slidesPerGroup===0&&m.push(C),v.push(C),C=C+U+I),e.virtualSize+=U+I,M=U,A+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+w,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${e.virtualSize+I}px`),n.setWrapperSize&&(r.style[e.getDirectionLabel("width")]=`${e.virtualSize+I}px`),j&&e.grid.updateWrapperSize(U,m),!n.centeredSlides){const z=[];for(let L=0;L<m.length;L+=1){let q=m[L];n.roundLengths&&(q=Math.floor(q)),m[L]<=e.virtualSize-s&&z.push(q)}m=z,Math.floor(e.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-s)}if(c&&n.loop){const z=y[0]+I;if(n.slidesPerGroup>1){const L=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),q=z*n.slidesPerGroup;for(let ee=0;ee<L;ee+=1)m.push(m[m.length-1]+q)}for(let L=0;L<e.virtual.slidesBefore+e.virtual.slidesAfter;L+=1)n.slidesPerGroup===1&&m.push(m[m.length-1]+z),v.push(v[v.length-1]+z),e.virtualSize+=z}if(m.length===0&&(m=[0]),I!==0){const z=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");p.filter((L,q)=>!n.cssMode||n.loop?!0:q!==p.length-1).forEach(L=>{L.style[z]=`${I}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let z=0;y.forEach(q=>{z+=q+(I||0)}),z-=I;const L=z-s;m=m.map(q=>q<=0?-_:q>L?L+w:q)}if(n.centerInsufficientSlides){let z=0;if(y.forEach(L=>{z+=L+(I||0)}),z-=I,z<s){const L=(s-z)/2;m.forEach((q,ee)=>{m[ee]=q-L}),v.forEach((q,ee)=>{v[ee]=q+L})}}if(Object.assign(e,{slides:p,snapGrid:m,slidesGrid:v,slidesSizesGrid:y}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){md(r,"--swiper-centered-offset-before",`${-m[0]}px`),md(r,"--swiper-centered-offset-after",`${e.size/2-y[y.length-1]/2}px`);const z=-e.snapGrid[0],L=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(q=>q+z),e.slidesGrid=e.slidesGrid.map(q=>q+L)}if(f!==h&&e.emit("slidesLengthChange"),m.length!==E&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),v.length!==k&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const z=`${n.containerModifierClass}backface-hidden`,L=e.el.classList.contains(z);f<=n.maxBackfaceHiddenSlides?L||e.el.classList.add(z):L&&e.el.classList.remove(z)}}function kY(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let i=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const a=l=>r?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{n.push(l)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const l=t.activeIndex+s;if(l>t.slides.length&&!r)break;n.push(a(l))}else n.push(a(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const l=n[s].offsetHeight;i=l>i?l:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function CY(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let r=0;r<t.length;r+=1)t[r].swiperSlideOffset=(e.isHorizontal()?t[r].offsetLeft:t[r].offsetTop)-n-e.cssOverflowAdjustment()}function NY(e){e===void 0&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:r,rtlTranslate:i,snapGrid:s}=t;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-e;i&&(a=e),r.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)}),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const h=r[c];let p=h.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(p-=r[0].swiperSlideOffset);const f=(a+(n.centeredSlides?t.minTranslate():0)-p)/(h.swiperSlideSize+l),m=(a-s[0]+(n.centeredSlides?t.minTranslate():0)-p)/(h.swiperSlideSize+l),v=-(a-p),y=v+t.slidesSizesGrid[c],_=v>=0&&v<=t.size-t.slidesSizesGrid[c];(v>=0&&v<t.size-1||y>1&&y<=t.size||v<=0&&y>=t.size)&&(t.visibleSlides.push(h),t.visibleSlidesIndexes.push(c),r[c].classList.add(n.slideVisibleClass)),_&&r[c].classList.add(n.slideFullyVisibleClass),h.progress=i?-f:f,h.originalProgress=i?-m:m}}function OY(e){const t=this;if(typeof e>"u"){const p=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*p||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:s,isEnd:a,progressLoop:l}=t;const c=s,h=a;if(r===0)i=0,s=!0,a=!0;else{i=(e-t.minTranslate())/r;const p=Math.abs(e-t.minTranslate())<1,f=Math.abs(e-t.maxTranslate())<1;s=p||i<=0,a=f||i>=1,p&&(i=0),f&&(i=1)}if(n.loop){const p=t.getSlideIndexByData(0),f=t.getSlideIndexByData(t.slides.length-1),m=t.slidesGrid[p],v=t.slidesGrid[f],y=t.slidesGrid[t.slidesGrid.length-1],_=Math.abs(e);_>=m?l=(_-m)/y:l=(_+y-v)/y,l>1&&(l-=1)}Object.assign(t,{progress:i,progressLoop:l,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!c&&t.emit("reachBeginning toEdge"),a&&!h&&t.emit("reachEnd toEdge"),(c&&!s||h&&!a)&&t.emit("fromEdge"),t.emit("progress",i)}function PY(){const e=this,{slides:t,params:n,slidesEl:r,activeIndex:i}=e,s=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,l=f=>Bi(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];t.forEach(f=>{f.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)});let c,h,p;if(s)if(n.loop){let f=i-e.virtual.slidesBefore;f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else a?(c=t.filter(f=>f.column===i)[0],p=t.filter(f=>f.column===i+1)[0],h=t.filter(f=>f.column===i-1)[0]):c=t[i];c&&(c.classList.add(n.slideActiveClass),a?(p&&p.classList.add(n.slideNextClass),h&&h.classList.add(n.slidePrevClass)):(p=vY(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!p&&(p=t[0]),p&&p.classList.add(n.slideNextClass),h=gY(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!h===0&&(h=t[t.length-1]),h&&h.classList.add(n.slidePrevClass))),e.emitSlidesClasses()}const Rd=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,r=t.closest(n());if(r){let i=r.querySelector(`.${e.params.lazyPreloaderClass}`);!i&&e.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Uy=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},s_=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const r=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),i=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const a=i,l=[a-t];l.push(...Array.from({length:t}).map((c,h)=>a+r+h)),e.slides.forEach((c,h)=>{l.includes(c.column)&&Uy(e,h)});return}const s=i+r-1;if(e.params.rewind||e.params.loop)for(let a=i-t;a<=s+t;a+=1){const l=(a%n+n)%n;(l<i||l>s)&&Uy(e,l)}else for(let a=Math.max(i-t,0);a<=Math.min(s+t,n-1);a+=1)a!==i&&(a>s||a<i)&&Uy(e,a)};function LY(e){const{slidesGrid:t,params:n}=e,r=e.rtlTranslate?e.translate:-e.translate;let i;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?r>=t[s]&&r<t[s+1]-(t[s+1]-t[s])/2?i=s:r>=t[s]&&r<t[s+1]&&(i=s+1):r>=t[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function RY(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:a,snapIndex:l}=t;let c=e,h;const p=v=>{let y=v-t.virtual.slidesBefore;return y<0&&(y=t.virtual.slides.length+y),y>=t.virtual.slides.length&&(y-=t.virtual.slides.length),y};if(typeof c>"u"&&(c=LY(t)),r.indexOf(n)>=0)h=r.indexOf(n);else{const v=Math.min(i.slidesPerGroupSkip,c);h=v+Math.floor((c-v)/i.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),c===s&&!t.params.loop){h!==l&&(t.snapIndex=h,t.emit("snapIndexChange"));return}if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=p(c);return}const f=t.grid&&i.grid&&i.grid.rows>1;let m;if(t.virtual&&i.virtual.enabled&&i.loop)m=p(c);else if(f){const v=t.slides.filter(_=>_.column===c)[0];let y=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(t.slides.indexOf(v),0)),m=Math.floor(y/i.grid.rows)}else if(t.slides[c]){const v=t.slides[c].getAttribute("data-swiper-slide-index");v?m=parseInt(v,10):m=c}else m=c;Object.assign(t,{previousSnapIndex:l,snapIndex:h,previousRealIndex:a,realIndex:m,previousIndex:s,activeIndex:c}),t.initialized&&s_(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==m&&t.emit("realIndexChange"),t.emit("slideChange"))}function DY(e,t){const n=this,r=n.params;let i=e.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let s=!1,a;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){s=!0,a=l;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=a;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var MY={updateSize:AY,updateSlides:xY,updateAutoHeight:kY,updateSlidesOffset:CY,updateSlidesProgress:NY,updateProgress:OY,updateSlidesClasses:PY,updateActiveIndex:RY,updateClickedSlide:DY};function FY(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=t;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let a=pY(s,e);return a+=t.cssOverflowAdjustment(),r&&(a=-a),a||0}function UY(e,t){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:a}=n;let l=0,c=0;const h=0;n.isHorizontal()?l=r?-e:e:c=e,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${c}px, ${h}px)`);let p;const f=n.maxTranslate()-n.minTranslate();f===0?p=0:p=(e-n.minTranslate())/f,p!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)}function VY(){return-this.snapGrid[0]}function $Y(){return-this.snapGrid[this.snapGrid.length-1]}function jY(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),h=s.maxTranslate();let p;if(r&&e>c?p=c:r&&e<h?p=h:p=e,s.updateProgress(p),a.cssMode){const f=s.isHorizontal();if(t===0)l[f?"scrollLeft":"scrollTop"]=-p;else{if(!s.support.smoothScroll)return nR({swiper:s,targetPosition:-p,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-p,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(p),n&&(s.emit("beforeTransitionStart",t,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var BY={getTranslate:FY,setTranslate:UY,minTranslate:VY,maxTranslate:$Y,translateTo:jY};function HY(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${e}ms`,n.wrapperEl.style.transitionDelay=e===0?"0ms":""),n.emit("setTransition",e,t)}function oR(e){let{swiper:t,runCallbacks:n,direction:r,step:i}=e;const{activeIndex:s,previousIndex:a}=t;let l=r;if(l||(s>a?l="next":s<a?l="prev":l="reset"),t.emit(`transition${i}`),n&&s!==a){if(l==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function GY(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),oR({swiper:n,runCallbacks:e,direction:t,step:"Start"}))}function zY(e,t){e===void 0&&(e=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),oR({swiper:n,runCallbacks:e,direction:t,step:"End"}))}var qY={setTransition:HY,transitionStart:GY,transitionEnd:zY};function WY(e,t,n,r,i){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let a=e;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:h,previousIndex:p,activeIndex:f,rtlTranslate:m,wrapperEl:v,enabled:y}=s;if(s.animating&&l.preventInteractionOnTransition||!y&&!r&&!i||s.destroyed)return!1;const _=Math.min(s.params.slidesPerGroupSkip,a);let w=_+Math.floor((a-_)/s.params.slidesPerGroup);w>=c.length&&(w=c.length-1);const E=-c[w];if(l.normalizeSlideIndex)for(let I=0;I<h.length;I+=1){const C=-Math.floor(E*100),M=Math.floor(h[I]*100),A=Math.floor(h[I+1]*100);typeof h[I+1]<"u"?C>=M&&C<A-(A-M)/2?a=I:C>=M&&C<A&&(a=I+1):C>=M&&(a=I)}if(s.initialized&&a!==f&&(!s.allowSlideNext&&(m?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(f||0)!==a))return!1;a!==(p||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let k;if(a>f?k="next":a<f?k="prev":k="reset",m&&-E===s.translate||!m&&E===s.translate)return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(E),k!=="reset"&&(s.transitionStart(n,k),s.transitionEnd(n,k)),!1;if(l.cssMode){const I=s.isHorizontal(),C=m?E:-E;if(t===0){const M=s.virtual&&s.params.virtual.enabled;M&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),M&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[I?"scrollLeft":"scrollTop"]=C})):v[I?"scrollLeft":"scrollTop"]=C,M&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return nR({swiper:s,targetPosition:C,side:I?"left":"top"}),!0;v.scrollTo({[I?"left":"top"]:C,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(E),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(n,k),t===0?s.transitionEnd(n,k):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,k))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function KY(e,t,n,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),typeof e=="string"&&(e=parseInt(e,10));const i=this;if(i.destroyed)return;const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let a=e;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)a=a+i.virtual.slidesBefore;else{let l;if(s){const m=a*i.params.grid.rows;l=i.slides.filter(v=>v.getAttribute("data-swiper-slide-index")*1===m)[0].column}else l=i.getSlideIndexByData(a);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:h}=i.params;let p=i.params.slidesPerView;p==="auto"?p=i.slidesPerViewDynamic():(p=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&p%2===0&&(p=p+1));let f=c-l<p;if(h&&(f=f||l<Math.ceil(p/2)),f){const m=h?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?l+1:l-c+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(s){const m=a*i.params.grid.rows;a=i.slides.filter(v=>v.getAttribute("data-swiper-slide-index")*1===m)[0].column}else a=i.getSlideIndexByData(a)}return requestAnimationFrame(()=>{i.slideTo(a,t,n,r)}),i}function YY(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{enabled:i,params:s,animating:a}=r;if(!i||r.destroyed)return r;let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:l,h=r.virtual&&s.virtual.enabled;if(s.loop){if(a&&!h&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,e,t,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)}function XY(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this,{params:i,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:c,animating:h}=r;if(!c||r.destroyed)return r;const p=r.virtual&&i.virtual.enabled;if(i.loop){if(h&&!p&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function m(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const v=m(f),y=s.map(E=>m(E));let _=s[y.indexOf(v)-1];if(typeof _>"u"&&i.cssMode){let E;s.forEach((k,I)=>{v>=k&&(E=I)}),typeof E<"u"&&(_=s[E>0?E-1:E])}let w=0;if(typeof _<"u"&&(w=a.indexOf(_),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,e,t,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,e,t,n)}),!0;return r.slideTo(w,e,t,n)}function JY(e,t,n){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0);const r=this;if(!r.destroyed)return r.slideTo(r.activeIndex,e,t,n)}function QY(e,t,n,r){e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;let s=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const h=i.snapGrid[l],p=i.snapGrid[l+1];c-h>(p-h)*r&&(s+=i.params.slidesPerGroup)}else{const h=i.snapGrid[l-1],p=i.snapGrid[l];c-h<=(p-h)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,e,t,n)}function ZY(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:n}=e,r=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let i=e.clickedIndex,s;const a=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=e.getSlideIndex(Bi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),o_(()=>{e.slideTo(i)})):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=e.getSlideIndex(Bi(n,`${a}[data-swiper-slide-index="${s}"]`)[0]),o_(()=>{e.slideTo(i)})):e.slideTo(i)}else e.slideTo(i)}var e7={slideTo:WY,slideToLoop:KY,slideNext:YY,slidePrev:XY,slideReset:JY,slideToClosest:QY,slideToClickedSlide:ZY};function t7(e){const t=this,{params:n,slidesEl:r}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const i=()=>{Bi(r,`.${n.slideClass}, swiper-slide`).forEach((f,m)=>{f.setAttribute("data-swiper-slide-index",m)})},s=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),l=t.slides.length%a!==0,c=s&&t.slides.length%n.grid.rows!==0,h=p=>{for(let f=0;f<p;f+=1){const m=t.isElement?Ap("swiper-slide",[n.slideBlankClass]):Ap("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(m)}};if(l){if(n.loopAddBlankSlides){const p=a-t.slides.length%a;h(p),t.recalcSlides(),t.updateSlides()}else Ip("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(c){if(n.loopAddBlankSlides){const p=n.grid.rows-t.slides.length%n.grid.rows;h(p),t.recalcSlides(),t.updateSlides()}else Ip("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})}function n7(e){let{slideRealIndex:t,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,byController:a,byMousewheel:l}=e===void 0?{}:e;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:h,allowSlidePrev:p,allowSlideNext:f,slidesEl:m,params:v}=c,{centeredSlides:y}=v;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&v.virtual.enabled){n&&(!v.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):v.centeredSlides&&c.snapIndex<v.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=p,c.allowSlideNext=f,c.emit("loopFix");return}let _=v.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(v.slidesPerView,10)),y&&_%2===0&&(_=_+1));const w=v.slidesPerGroupAuto?_:v.slidesPerGroup;let E=w;E%w!==0&&(E+=w-E%w),E+=v.loopAdditionalSlides,c.loopedSlides=E;const k=c.grid&&v.grid&&v.grid.rows>1;h.length<_+E?Ip("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):k&&v.grid.fill==="row"&&Ip("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],C=[];let M=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(h.filter(ee=>ee.classList.contains(v.slideActiveClass))[0]):M=s;const A=r==="next"||!r,j=r==="prev"||!r;let U=0,P=0;const z=k?Math.ceil(h.length/v.grid.rows):h.length,q=(k?h[s].column:s)+(y&&typeof i>"u"?-_/2+.5:0);if(q<E){U=Math.max(E-q,w);for(let ee=0;ee<E-q;ee+=1){const Te=ee-Math.floor(ee/z)*z;if(k){const xe=z-Te-1;for(let ie=h.length-1;ie>=0;ie-=1)h[ie].column===xe&&I.push(ie)}else I.push(z-Te-1)}}else if(q+_>z-E){P=Math.max(q-(z-E*2),w);for(let ee=0;ee<P;ee+=1){const Te=ee-Math.floor(ee/z)*z;k?h.forEach((xe,ie)=>{xe.column===Te&&C.push(ie)}):C.push(Te)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),j&&I.forEach(ee=>{h[ee].swiperLoopMoveDOM=!0,m.prepend(h[ee]),h[ee].swiperLoopMoveDOM=!1}),A&&C.forEach(ee=>{h[ee].swiperLoopMoveDOM=!0,m.append(h[ee]),h[ee].swiperLoopMoveDOM=!1}),c.recalcSlides(),v.slidesPerView==="auto"?c.updateSlides():k&&(I.length>0&&j||C.length>0&&A)&&c.slides.forEach((ee,Te)=>{c.grid.updateSlide(Te,ee,c.slides)}),v.watchSlidesProgress&&c.updateSlidesOffset(),n){if(I.length>0&&j){if(typeof t>"u"){const ee=c.slidesGrid[M],xe=c.slidesGrid[M+U]-ee;l?c.setTranslate(c.translate-xe):(c.slideTo(M+Math.ceil(U),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-xe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-xe))}else if(i){const ee=k?I.length/v.grid.rows:I.length;c.slideTo(c.activeIndex+ee,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(C.length>0&&A)if(typeof t>"u"){const ee=c.slidesGrid[M],xe=c.slidesGrid[M-P]-ee;l?c.setTranslate(c.translate-xe):(c.slideTo(M-P,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-xe,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-xe))}else{const ee=k?C.length/v.grid.rows:C.length;c.slideTo(c.activeIndex-ee,0,!1,!0)}}if(c.allowSlidePrev=p,c.allowSlideNext=f,c.controller&&c.controller.control&&!a){const ee={slideRealIndex:t,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(Te=>{!Te.destroyed&&Te.params.loop&&Te.loopFix({...ee,slideTo:Te.params.slidesPerView===v.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...ee,slideTo:c.controller.control.params.slidesPerView===v.slidesPerView?n:!1})}c.emit("loopFix")}function r7(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const r=[];e.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),e.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var i7={loopCreate:t7,loopFix:n7,loopDestroy:r7};function o7(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function s7(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var a7={setGrabCursor:o7,unsetGrabCursor:s7};function u7(e,t){t===void 0&&(t=this);function n(r){if(!r||r===Al()||r===Yr())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(e);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(t)}function Jx(e,t,n){const r=Yr(),{params:i}=e,s=i.edgeSwipeDetection,a=i.edgeSwipeThreshold;return s&&(n<=a||n>=r.innerWidth-a)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function l7(e){const t=this,n=Al();let r=e;r.originalEvent&&(r=r.originalEvent);const i=t.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Jx(t,r,r.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=t;if(!l||!s.simulateTouch&&r.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(c)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const h=!!s.noSwipingClass&&s.noSwipingClass!=="",p=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&p&&(c=p[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?u7(f,c):c.closest(f))){t.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;a.currentX=r.pageX,a.currentY=r.pageY;const v=a.currentX,y=a.currentY;if(!Jx(t,r,v))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=y,i.touchStartTime=Sp(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let _=!0;c.matches(i.focusableElements)&&(_=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&n.activeElement.blur();const w=_&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",r)}function c7(e){const t=Al(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:a,enabled:l}=n;if(!l||!i.simulateTouch&&e.pointerType==="mouse")return;let c=e;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let h;if(c.type==="touchmove"){if(h=[...c.changedTouches].filter(A=>A.identifier===r.touchId)[0],!h||h.identifier!==r.touchId)return}else h=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const p=h.pageX,f=h.pageY;if(c.preventedByNestedSwiper){s.startX=p,s.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:p,startY:f,currentX:p,currentY:f}),r.touchStartTime=Sp());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(p<s.startX&&n.translate<=n.maxTranslate()||p>s.startX&&n.translate>=n.minTranslate())return}if(t.activeElement&&c.target===t.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=p,s.currentY=f;const m=s.currentX-s.startX,v=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(m**2+v**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let A;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+v*v>=25&&(A=Math.atan2(Math.abs(v),Math.abs(m))*180/Math.PI,r.isScrolling=n.isHorizontal()?A>i.touchAngle:90-A>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let y=n.isHorizontal()?m:v,_=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(y=Math.abs(y)*(a?1:-1),_=Math.abs(_)*(a?1:-1)),s.diff=y,y*=i.touchRatio,a&&(y=-y,_=-_);const w=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=_>0?"prev":"next";const E=n.params.loop&&!i.cssMode,k=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(E&&k&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const A=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(A)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let I;if(new Date().getTime(),r.isMoved&&r.allowThresholdMove&&w!==n.touchesDirection&&E&&k&&Math.abs(y)>=1){Object.assign(s,{startX:p,startY:f,currentX:p,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let C=!0,M=i.resistanceRatio;if(i.touchReleaseOnEdges&&(M=0),y>0?(E&&k&&!I&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**M))):y<0&&(E&&k&&!I&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**M))),C&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function f7(e){const t=this,n=t.touchEventsData;let r=e;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].filter(M=>M.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:h,enabled:p}=t;if(!p||!a.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&a.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}a.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const f=Sp(),m=f-n.touchStartTime;if(t.allowClick){const M=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(M&&M[0]||r.target,M),t.emit("tap click",r),m<300&&f-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Sp(),o_(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(a.followFinger?v=c?t.translate:-t.translate:v=-n.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}const y=v>=-t.maxTranslate()&&!t.params.loop;let _=0,w=t.slidesSizesGrid[0];for(let M=0;M<h.length;M+=M<a.slidesPerGroupSkip?1:a.slidesPerGroup){const A=M<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof h[M+A]<"u"?(y||v>=h[M]&&v<h[M+A])&&(_=M,w=h[M+A]-h[M]):(y||v>=h[M])&&(_=M,w=h[h.length-1]-h[h.length-2])}let E=null,k=null;a.rewind&&(t.isBeginning?k=a.virtual&&a.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(E=0));const I=(v-h[_])/w,C=_<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(m>a.longSwipesMs){if(!a.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(I>=a.longSwipesRatio?t.slideTo(a.rewind&&t.isEnd?E:_+C):t.slideTo(_)),t.swipeDirection==="prev"&&(I>1-a.longSwipesRatio?t.slideTo(_+C):k!==null&&I<0&&Math.abs(I)>a.longSwipesRatio?t.slideTo(k):t.slideTo(_))}else{if(!a.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(_+C):t.slideTo(_):(t.swipeDirection==="next"&&t.slideTo(E!==null?E:_+C),t.swipeDirection==="prev"&&t.slideTo(k!==null?k:_))}}function Qx(){const e=this,{params:t,el:n}=e;if(n&&n.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=a&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function h7(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function d7(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let i;const s=e.maxTranslate()-e.minTranslate();s===0?i=0:i=(e.translate-e.minTranslate())/s,i!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function p7(e){const t=this;Rd(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function m7(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const sR=(e,t)=>{const n=Al(),{params:r,el:i,wrapperEl:s,device:a}=e,l=!!r.nested,c=t==="on"?"addEventListener":"removeEventListener",h=t;n[c]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",e.onTouchStart,{passive:!1}),i[c]("pointerdown",e.onTouchStart,{passive:!1}),n[c]("touchmove",e.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",e.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",e.onTouchEnd,{passive:!0}),n[c]("pointerup",e.onTouchEnd,{passive:!0}),n[c]("pointercancel",e.onTouchEnd,{passive:!0}),n[c]("touchcancel",e.onTouchEnd,{passive:!0}),n[c]("pointerout",e.onTouchEnd,{passive:!0}),n[c]("pointerleave",e.onTouchEnd,{passive:!0}),n[c]("contextmenu",e.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",e.onClick,!0),r.cssMode&&s[c]("scroll",e.onScroll),r.updateOnWindowResize?e[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Qx,!0):e[h]("observerUpdate",Qx,!0),i[c]("load",e.onLoad,{capture:!0})};function g7(){const e=this,{params:t}=e;e.onTouchStart=l7.bind(e),e.onTouchMove=c7.bind(e),e.onTouchEnd=f7.bind(e),e.onDocumentTouchStart=m7.bind(e),t.cssMode&&(e.onScroll=d7.bind(e)),e.onClick=h7.bind(e),e.onLoad=p7.bind(e),sR(e,"on")}function v7(){sR(this,"off")}var y7={attachEvents:g7,detachEvents:v7};const Zx=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function b7(){const e=this,{realIndex:t,initialized:n,params:r,el:i}=e,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||e.originalParams,h=Zx(e,r),p=Zx(e,c),f=r.enabled;h&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof c[E]>"u")return;const k=r[E]&&r[E].enabled,I=c[E]&&c[E].enabled;k&&!I&&e[E].disable(),!k&&I&&e[E].enable()});const m=c.direction&&c.direction!==r.direction,v=r.loop&&(c.slidesPerView!==r.slidesPerView||m),y=r.loop;m&&n&&e.changeDirection(),Dr(e.params,c);const _=e.params.enabled,w=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!_?e.disable():!f&&_&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",c),n&&(v?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!y&&w?(e.loopCreate(t),e.updateSlides()):y&&!w&&e.loopDestroy()),e.emit("breakpoint",c)}function _7(e,t,n){if(t===void 0&&(t="window"),!e||t==="container"&&!n)return;let r=!1;const i=Yr(),s=t==="window"?i.innerHeight:n.clientHeight,a=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:s*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:h}=a[l];t==="window"?i.matchMedia(`(min-width: ${h}px)`).matches&&(r=c):h<=n.clientWidth&&(r=c)}return r||"max"}var w7={setBreakpoint:b7,getBreakpoint:_7};function E7(e,t){const n=[];return e.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(t+i)}):typeof r=="string"&&n.push(t+r)}),n}function T7(){const e=this,{classNames:t,params:n,rtl:r,el:i,device:s}=e,a=E7(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),i.classList.add(...t),e.emitContainerClasses()}function S7(){const e=this,{el:t,classNames:n}=e;t.classList.remove(...n),e.emitContainerClasses()}var I7={addClasses:T7,removeClasses:S7};function A7(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const i=e.slides.length-1,s=e.slidesGrid[i]+e.slidesSizesGrid[i]+r*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;n.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),n.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var x7={checkOverflow:A7},a_={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function k7(e,t){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Dr(t,r);return}if(e[i]===!0&&(e[i]={enabled:!0}),i==="navigation"&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),!(i in e&&"enabled"in s)){Dr(t,r);return}typeof e[i]=="object"&&!("enabled"in e[i])&&(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),Dr(t,r)}}const Vy={eventsEmitter:IY,update:MY,translate:BY,transition:qY,slide:e7,loop:i7,grabCursor:a7,events:y7,breakpoints:w7,checkOverflow:x7,classes:I7},$y={};let Pw=class lo{constructor(){let t,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=Dr({},n),t&&!n.el&&(n.el=t);const a=Al();if(n.el&&typeof n.el=="string"&&a.querySelectorAll(n.el).length>1){const p=[];return a.querySelectorAll(n.el).forEach(f=>{const m=Dr({},n,{el:f});p.push(new lo(m))}),p}const l=this;l.__swiper__=!0,l.support=rR(),l.device=iR({userAgent:n.userAgent}),l.browser=EY(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(p=>{p({params:n,swiper:l,extendParams:k7(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const h=Dr({},a_,c);return l.params=Dr({},h,$y,n),l.originalParams=Dr({},l.params),l.passedParams=Dr({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(p=>{l.on(p,l.params.on[p])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:r}=this,i=Bi(n,`.${r.slideClass}, swiper-slide`),s=Yx(i[0]);return Yx(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:n,params:r}=t;t.slides=Bi(n,`.${r.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const r=this;t=Math.min(Math.max(t,0),1);const i=r.minTranslate(),a=(r.maxTranslate()-i)*t+i;r.translateTo(a,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(r=>{const i=t.getSlideClasses(r);n.push({slideEl:r,classNames:i}),t.emit("_slideClass",r,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:h}=r;let p=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[h]?Math.ceil(s[h].swiperSlideSize):0,m;for(let v=h+1;v<s.length;v+=1)s[v]&&!m&&(f+=Math.ceil(s[v].swiperSlideSize),p+=1,f>c&&(m=!0));for(let v=h-1;v>=0;v-=1)s[v]&&!m&&(f+=s[v].swiperSlideSize,p+=1,f>c&&(m=!0))}else if(t==="current")for(let f=h+1;f<s.length;f+=1)(n?a[f]+l[f]-a[h]<c:a[f]-a[h]<c)&&(p+=1);else for(let f=h-1;f>=0;f-=1)a[h]-a[f]<c&&(p+=1);return p}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:r}=t;r.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Rd(t,a)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const a=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(a,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&t.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&t.isEnd&&!r.centeredSlides){const a=t.virtual&&r.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(a.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${t}`),r.emitContainerClasses(),r.params.direction=t,r.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let r=t||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Bi(r,i())[0];return!a&&n.params.createElements&&(a=Ap("div",n.params.wrapperClass),r.append(a),Bi(r,`.${n.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(n,{el:r,wrapperEl:a,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:a,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||is(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||is(r,"direction")==="rtl"),wrongRTL:is(a,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Rd(n,s):s.addEventListener("load",a=>{Rd(n,a.target)})}),s_(n),n.initialized=!0,s_(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:a,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),t!==!1&&(r.el.swiper=null,hY(r)),r.destroyed=!0),null}static extendDefaults(t){Dr($y,t)}static get extendedDefaults(){return $y}static get defaults(){return a_}static installModule(t){lo.prototype.__modules__||(lo.prototype.__modules__=[]);const n=lo.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>lo.installModule(n)),lo):(lo.installModule(t),lo)}};Object.keys(Vy).forEach(e=>{Object.keys(Vy[e]).forEach(t=>{Pw.prototype[t]=Vy[e][t]})});Pw.use([TY,SY]);const aR=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Pa(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Vu(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof e[r]>"u"?e[r]=t[r]:Pa(t[r])&&Pa(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:Vu(e[r],t[r]):e[r]=t[r]})}function uR(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function lR(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function cR(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function fR(e){e===void 0&&(e="");const t=e.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function C7(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function N7(e){let{swiper:t,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:a,scrollbarEl:l,paginationEl:c}=e;const h=i.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:p,pagination:f,navigation:m,scrollbar:v,virtual:y,thumbs:_}=t;let w,E,k,I,C,M,A,j;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(w=!0),i.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(E=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(p.pagination||p.pagination===!1)&&f&&!f.el&&(k=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(p.scrollbar||p.scrollbar===!1)&&v&&!v.el&&(I=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(p.navigation||p.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(C=!0);const U=P=>{t[P]&&(t[P].destroy(),P==="navigation"?(t.isElement&&(t[P].prevEl.remove(),t[P].nextEl.remove()),p[P].prevEl=void 0,p[P].nextEl=void 0,t[P].prevEl=void 0,t[P].nextEl=void 0):(t.isElement&&t[P].el.remove(),p[P].el=void 0,t[P].el=void 0))};i.includes("loop")&&t.isElement&&(p.loop&&!r.loop?M=!0:!p.loop&&r.loop?A=!0:j=!0),h.forEach(P=>{if(Pa(p[P])&&Pa(r[P]))Object.assign(p[P],r[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in r[P]&&!r[P].enabled&&U(P);else{const z=r[P];(z===!0||z===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?z===!1&&U(P):p[P]=r[P]}}),h.includes("controller")&&!E&&t.controller&&t.controller.control&&p.controller&&p.controller.control&&(t.controller.control=p.controller.control),i.includes("children")&&n&&y&&p.virtual.enabled?(y.slides=n,y.update(!0)):i.includes("virtual")&&y&&p.virtual.enabled&&(n&&(y.slides=n),y.update(!0)),i.includes("children")&&n&&p.loop&&(j=!0),w&&_.init()&&_.update(!0),E&&(t.controller.control=p.controller.control),k&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(p.pagination.el=c),f.init(),f.render(),f.update()),I&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(p.scrollbar.el=l),v.init(),v.updateSize(),v.setTranslate()),C&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=t.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),t.el.appendChild(a))),s&&(p.navigation.nextEl=s),a&&(p.navigation.prevEl=a),m.init(),m.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&t.changeDirection(r.direction,!1),(M||j)&&t.loopDestroy(),(A||j)&&t.loopCreate(),t.update()}function ek(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const n={on:{}},r={},i={};Vu(n,a_),n._emitClasses=!0,n.init=!1;const s={},a=aR.map(c=>c.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(c=>{typeof e[c]>"u"||(a.indexOf(c)>=0?Pa(e[c])?(n[c]={},i[c]={},Vu(n[c],e[c]),Vu(i[c],e[c])):(n[c]=e[c],i[c]=e[c]):c.search(/on[A-Z]/)===0&&typeof e[c]=="function"?t?r[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=e[c]:s[c]=e[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function O7(e,t){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:a,swiper:l}=e;uR(t)&&r&&i&&(l.params.navigation.nextEl=r,l.originalParams.navigation.nextEl=r,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),lR(t)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),cR(t)&&a&&(l.params.scrollbar.el=a,l.originalParams.scrollbar.el=a),l.init(n)}function P7(e,t,n,r,i){const s=[];if(!t)return s;const a=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),h=n.map(i);c.join("")!==h.join("")&&a("children"),r.length!==n.length&&a("children")}return aR.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in e&&c in t)if(Pa(e[c])&&Pa(t[c])){const h=Object.keys(e[c]),p=Object.keys(t[c]);h.length!==p.length?a(c):(h.forEach(f=>{e[c][f]!==t[c][f]&&a(c)}),p.forEach(f=>{e[c][f]!==t[c][f]&&a(c)}))}else e[c]!==t[c]&&a(c)}),s}const L7=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function jy(e,t,n){e===void 0&&(e={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},s=(a,l)=>{Array.isArray(a)&&a.forEach(c=>{const h=typeof c.type=="symbol";l==="default"&&(l="container-end"),h&&c.children?s(c.children,l):c.type&&(c.type.name==="SwiperSlide"||c.type.name==="AsyncComponentWrapper")?r.push(c):i[l]&&i[l].push(c)})};return Object.keys(e).forEach(a=>{if(typeof e[a]!="function")return;const l=e[a]();s(l,a)}),n.value=t.value,t.value=r,{slides:r,slots:i}}function R7(e,t,n){if(!n)return null;const r=p=>{let f=p;return p<0?f=t.length+p:f>=t.length&&(f=f-t.length),f},i=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:a}=n,l=e.value.params.loop?-t.length:0,c=e.value.params.loop?t.length*2:t.length,h=[];for(let p=l;p<c;p+=1)p>=s&&p<=a&&h.push(t[r(p)]);return h.map(p=>(p.props||(p.props={}),p.props.style||(p.props.style={}),p.props.swiperRef=e,p.props.style=i,mn(p.type,{...p.props},p.children)))}const D7={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:n,emit:r}=t;const{tag:i,wrapperTag:s}=e,a=ht("swiper"),l=ht(null),c=ht(!1),h=ht(!1),p=ht(null),f=ht(null),m=ht(null),v={value:[]},y={value:[]},_=ht(null),w=ht(null),E=ht(null),k=ht(null),{params:I,passedParams:C}=ek(e,!1);jy(n,v,y),m.value=C,y.value=v.value;const M=()=>{jy(n,v,y),c.value=!0};I.onAny=function(U){for(var P=arguments.length,z=new Array(P>1?P-1:0),L=1;L<P;L++)z[L-1]=arguments[L];r(U,...z)},Object.assign(I.on,{_beforeBreakpoint:M,_containerClasses(U,P){a.value=P}});const A={...I};if(delete A.wrapperClass,f.value=new Pw(A),f.value.virtual&&f.value.params.virtual.enabled){f.value.virtual.slides=v.value;const U={cache:!1,slides:v.value,renderExternal:P=>{l.value=P},renderExternalUpdate:!1};Vu(f.value.params.virtual,U),Vu(f.value.originalParams.virtual,U)}U_(()=>{!h.value&&f.value&&(f.value.emitSlidesClasses(),h.value=!0);const{passedParams:U}=ek(e,!1),P=P7(U,m.value,v.value,y.value,z=>z.props&&z.props.key);m.value=U,(P.length||c.value)&&f.value&&!f.value.destroyed&&N7({swiper:f.value,slides:v.value,passedParams:U,changedParams:P,nextEl:_.value,prevEl:w.value,scrollbarEl:k.value,paginationEl:E.value}),c.value=!1}),cs("swiper",f),Kn(l,()=>{or(()=>{L7(f.value)})}),Ma(()=>{p.value&&(O7({el:p.value,nextEl:_.value,prevEl:w.value,paginationEl:E.value,scrollbarEl:k.value,swiper:f.value},I),r("swiper",f.value))}),Tf(()=>{f.value&&!f.value.destroyed&&f.value.destroy(!0,!1)});function j(U){return I.virtual?R7(f,U,l.value):(U.forEach((P,z)=>{P.props||(P.props={}),P.props.swiperRef=f,P.props.swiperSlideIndex=z}),U)}return()=>{const{slides:U,slots:P}=jy(n,v,y);return mn(i,{ref:p,class:fR(a.value)},[P["container-start"],mn(s,{class:C7(I.wrapperClass)},[P["wrapper-start"],j(U),P["wrapper-end"]]),uR(e)&&[mn("div",{ref:w,class:"swiper-button-prev"}),mn("div",{ref:_,class:"swiper-button-next"})],cR(e)&&mn("div",{ref:k,class:"swiper-scrollbar"}),lR(e)&&mn("div",{ref:E,class:"swiper-pagination"}),P["container-end"]])}}},M7={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:n}=t,r=!1;const{swiperRef:i}=e,s=ht(null),a=ht("swiper-slide"),l=ht(!1);function c(f,m,v){m===s.value&&(a.value=v)}Ma(()=>{!i||!i.value||(i.value.on("_slideClass",c),r=!0)}),rC(()=>{r||!i||!i.value||(i.value.on("_slideClass",c),r=!0)}),U_(()=>{!s.value||!i||!i.value||(typeof e.swiperSlideIndex<"u"&&(s.value.swiperSlideIndex=e.swiperSlideIndex),i.value.destroyed&&a.value!=="swiper-slide"&&(a.value="swiper-slide"))}),Tf(()=>{!i||!i.value||i.value.off("_slideClass",c)});const h=He(()=>({isActive:a.value.indexOf("swiper-slide-active")>=0,isVisible:a.value.indexOf("swiper-slide-visible")>=0,isPrev:a.value.indexOf("swiper-slide-prev")>=0,isNext:a.value.indexOf("swiper-slide-next")>=0}));cs("swiperSlide",h);const p=()=>{l.value=!0};return()=>mn(e.tag,{class:fR(`${a.value}`),ref:s,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:p},e.zoom?mn("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[n.default&&n.default(h.value),e.lazy&&!l.value&&mn("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(h.value),e.lazy&&!l.value&&mn("div",{class:"swiper-lazy-preloader"})])}};function F7(e,t,n,r){return e.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Bi(e.el,`.${r[i]}`)[0];s||(s=Ap("div",r[i]),s.className=r[i],e.el.append(s)),n[i]=s,t[i]=s}}),n}function U7(e){let{swiper:t,extendParams:n,on:r,emit:i}=e;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function s(y){let _;return y&&typeof y=="string"&&t.isElement&&(_=t.el.querySelector(y),_)?_:(y&&(typeof y=="string"&&(_=[...document.querySelectorAll(y)]),t.params.uniqueNavElements&&typeof y=="string"&&_.length>1&&t.el.querySelectorAll(y).length===1&&(_=t.el.querySelector(y))),y&&!_?y:_)}function a(y,_){const w=t.params.navigation;y=uo(y),y.forEach(E=>{E&&(E.classList[_?"add":"remove"](...w.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=_),t.params.watchOverflow&&t.enabled&&E.classList[t.isLocked?"add":"remove"](w.lockClass))})}function l(){const{nextEl:y,prevEl:_}=t.navigation;if(t.params.loop){a(_,!1),a(y,!1);return}a(_,t.isBeginning&&!t.params.rewind),a(y,t.isEnd&&!t.params.rewind)}function c(y){y.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function h(y){y.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function p(){const y=t.params.navigation;if(t.params.navigation=F7(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let _=s(y.nextEl),w=s(y.prevEl);Object.assign(t.navigation,{nextEl:_,prevEl:w}),_=uo(_),w=uo(w);const E=(k,I)=>{k&&k.addEventListener("click",I==="next"?h:c),!t.enabled&&k&&k.classList.add(...y.lockClass.split(" "))};_.forEach(k=>E(k,"next")),w.forEach(k=>E(k,"prev"))}function f(){let{nextEl:y,prevEl:_}=t.navigation;y=uo(y),_=uo(_);const w=(E,k)=>{E.removeEventListener("click",k==="next"?h:c),E.classList.remove(...t.params.navigation.disabledClass.split(" "))};y.forEach(E=>w(E,"next")),_.forEach(E=>w(E,"prev"))}r("init",()=>{t.params.navigation.enabled===!1?v():(p(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:y,prevEl:_}=t.navigation;if(y=uo(y),_=uo(_),t.enabled){l();return}[...y,..._].filter(w=>!!w).forEach(w=>w.classList.add(t.params.navigation.lockClass))}),r("click",(y,_)=>{let{nextEl:w,prevEl:E}=t.navigation;w=uo(w),E=uo(E);const k=_.target;if(t.params.navigation.hideOnClick&&!E.includes(k)&&!w.includes(k)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===k||t.pagination.el.contains(k)))return;let I;w.length?I=w[0].classList.contains(t.params.navigation.hiddenClass):E.length&&(I=E[0].classList.contains(t.params.navigation.hiddenClass)),i(I===!0?"navigationShow":"navigationHide"),[...w,...E].filter(C=>!!C).forEach(C=>C.classList.toggle(t.params.navigation.hiddenClass))}});const m=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),p(),l()},v=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(t.navigation,{enable:m,disable:v,update:l,init:p,destroy:f})}const ai=Fa("albumInfo",{state:()=>({albumInfo:{},albumMakeTemp:{albumID:"",albumDesc:"",albumImg:"",albumName:"",albumSinger:"",albumSingerDesc:"",albumSingerImg:"",albumGenre:"Acoustic",albumUploadSingnerImgFile:{},albumUploadAlbumImgFile:{}},albumEditTemp:{isLoading:!1,isRelease:!1,albumID:"",albumDesc:"",albumImg:"",albumName:"",albumSinger:"",albumSingerDesc:"",albumSingerImg:"",albumGenre:"",albumSongs:[],albumUploadSingnerImgFile:{},albumUploadAlbumImgFile:{}}}),actions:{initalbumMakeTemp(){this.albumMakeTemp.albumDesc="",this.albumMakeTemp.albumID="",this.albumMakeTemp.albumGenre="Acoustic",this.albumMakeTemp.albumImg="",this.albumMakeTemp.albumName="",this.albumMakeTemp.albumDesc="",this.albumMakeTemp.albumSingerDesc="",this.albumMakeTemp.albumUploadSingnerImgFile={},this.albumMakeTemp.albumUploadAlbumImgFile={}},initalbumEditTemp(){this.albumEditTemp.isLoading=!1,this.albumEditTemp.albumDesc="",this.albumEditTemp.albumSinger="",this.albumEditTemp.albumID="",this.albumEditTemp.albumGenre="",this.albumEditTemp.albumImg="",this.albumEditTemp.albumName="",this.albumEditTemp.albumDesc="",this.albumEditTemp.albumSingerDesc="",this.albumEditTemp.albumSingerImg="",this.albumEditTemp.isRelease=!1,this.albumEditTemp.albumSongs=[],this.albumEditTemp.albumUploadSingnerImgFile={},this.albumEditTemp.albumUploadAlbumImgFile={}}}}),V7={data(){return{modules:[U7],albums:[],isfundraising:!1}},props:{gener:{type:String,required:!0}},computed:{...ln(ai,["albumInfo"]),...Mt(ai,["albumInfo"])},methods:{async getAlbums(){const e=this.gener.toLowerCase();try{let n=(await si.doc(e).get()).data().items;if(n.length===0)return;if(e==="fundraising"){let r=n.sort((i,s)=>s.createdAt-i.createdAt).filter(i=>i.isRelease===!0);this.albums=r,this.isfundraising=!0}else this.albums=n}catch(t){console.error("Error adding album:",t)}},signerName(e,t="",n=!1){return t==="member_fundraising"?zC(e,t,n):HC(e)},albumName(e,t,n){return t==="member_fundraising"?qC(e,t,n):GC(e)}},components:{Swiper:D7,SwiperSlide:M7,albumsCollection:si},beforeMount(){this.getAlbums()}},$7={class:"mt-3"},j7=["src"];function B7(e,t,n,r,i,s){const a=De("router-link"),l=De("swiper-slide"),c=De("swiper");return me(),_e("div",$7,[ae(c,{slidesPerView:2.5,spaceBetween:10,navigation:!0,modules:i.modules,breakpoints:{768:{slidesPerView:7.5,spaceBetween:20}}},{default:Wn(()=>[(me(!0),_e(vt,null,qi(i.albums,(h,p)=>(me(),ms(l,{key:p},{default:Wn(()=>[ae(a,{to:{name:"album",params:{gener:n.gener.toLowerCase(),albumSinger:h.albumSinger}}},{default:Wn(()=>[S("img",{src:h.isRelease?h.albumSingerImg:h.albumImg,alt:"",class:Ke({"rounded-full":i.isfundraising," rounded-md":!i.isfundraising})},null,10,j7),S("p",{class:Ke(["text-sm my-1 font-bold text-zinc-200 w-[130px] truncate overflow-hidden text-center mx-auto",{hidden:i.isfundraising}])}," 《"+X(s.albumName(h.albumName,h.type,h.temp))+"》 ",3),S("p",{class:Ke(["text-sm font-bold text-zinc-200",{"mt-2":i.isfundraising}])},X(s.signerName(h.albumSinger,h.type,h.temp)),3)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])])}const H7=Nt(V7,[["render",B7]]),G7={props:{gener:{type:String,required:!0}},components:{SwiperSong:H7},computed:{generHead(){const e={America:this.$t("home.america_pop_title"),Kpop:"KPOP",Jpop:"JPOP",Music:this.$t("home.piano_pop_title"),fundraising:this.$t("home.tomorrow_stars_title"),default:this.$t("menu.play_list")}[this.gener];return e||e.default}}},z7={class:"max-w-[1400px] mx-auto pl-2 pb-[35px]"},q7={class:"border-l-[7px] border-rose-500 bg-[#9b27504a] py-1 pl-[15px]"};function W7(e,t,n,r,i,s){const a=De("SwiperSong");return me(),_e("section",z7,[S("h6",q7,X(s.generHead),1),ae(a,{gener:n.gener},null,8,["gener"])])}const K7=Nt(G7,[["render",W7]]),Y7={data(){return{isCloseScreen:!1}},computed:{...ln($n,["userLoggedIn"]),...Mt(Rc,["isOpen","tab"]),screen(){return this.isCloseScreen?"transform: translate(-100%, 0%);":"transform: translate(0%, 0%);"}},methods:{closeScreen(){this.isCloseScreen=!0,this.$route.meta.requireScreen=!1},toggleAuthModal(){this.isCloseScreen=!0,this.$route.meta.requireScreen=!1,this.isOpen=!this.isOpen,this.tab="register"}},mounted(){this.$route.meta.requireScreen||(this.$refs.sign_in_wrapper.style.display="none"),this.userLoggedIn?(this.isCloseScreen=!0,this.$refs.sign_in_wrapper.style.display="none"):this.isCloseScreen=!1}},hR=e=>(R_("data-v-bf72f997"),e=e(),D_(),e),X7=hR(()=>S("div",{class:"blurBackground"},null,-1)),J7={class:"container"},Q7={class:"signInfoBox"},Z7=hR(()=>S("ul",{class:"bg-bubbles"},[S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li"),S("li")],-1));function eX(e,t,n,r,i,s){return me(),_e("div",{ref:"sign_in_wrapper",class:"sign_in_wrapper",style:jr(s.screen)},[X7,S("i",{class:"fas fa-times",onClick:t[0]||(t[0]=qe((...a)=>s.closeScreen&&s.closeScreen(...a),["prevent"]))}),S("div",J7,[S("div",Q7,[S("div",{href:"#",class:"get168Btn cursor-pointer",onClick:t[1]||(t[1]=qe((...a)=>s.toggleAuthModal&&s.toggleAuthModal(...a),["prevent"]))},X(e.$t("screen.sign_up_to_singer")),1),S("div",{href:"#",class:"get168Btn cursor-pointer",onClick:t[2]||(t[2]=qe((...a)=>s.closeScreen&&s.closeScreen(...a),["prevent"]))},X(e.$t("screen.browse_site")),1)])]),Z7],4)}const tX=Nt(Y7,[["render",eX],["__scopeId","data-v-bf72f997"]]),nX={components:{HomeSongPlayZone:lY,HomeSongListZone:K7,toastMessage:Zi,SignScreen:tX}},rX={class:"text-zinc-200 bg-zinc-900 mt-[55px] mb-[90px] relative"};function iX(e,t,n,r,i,s){const a=De("toastMessage"),l=De("SignScreen"),c=De("HomeSongPlayZone"),h=De("HomeSongListZone");return me(),_e("main",rX,[ae(a),ae(l),ae(c),ae(h,{gener:"fundraising"}),ae(h,{gener:"America"}),ae(h,{gener:"Kpop"}),ae(h,{gener:"Jpop"}),ae(h,{gener:"Music"})])}const oX=Nt(nX,[["render",iX]]),sX={data(){return{isCurrentPlaying:!1,toggle:!1,message:"",isFavSong:!1,success:!1}},components:{toastMessage:Zi},props:{songData:{type:Object,required:!0},index:{type:Number,required:!0}},computed:{...ln(Un,["playing","current_song","pauseCurrentSong"]),...ln($n,["userLoggedIn","uid"]),...Mt(Un,["playingIndex"]),...Mt($n,["favSongList"])},methods:{...Vn(Un,["newSong"]),playSong(e){this.newSong(e),this.isCurrentPlaying=!0},addToFav(e){this.userLoggedIn?(this.setFavSongToDatabase(e.docID),this.toggle=!this.toggle,this.success=!0,this.message=`已將 ${e.modified_name} 加入至您的播放清單`):(this.toggle=!this.toggle,this.message="該功能需登入才可使用，可免費註冊使用")},async delFormFav(e){try{await ul.doc(this.uid).update({favSongLists:Fe.firestore.FieldValue.arrayRemove(e.docID)}),this.favSongList=this.favSongList.filter(n=>e.docID!==n),this.isFavSong=!1,this.toggle=!this.toggle,this.success=!0,this.message=`已將 ${e.modified_name} 從您的播放清單移除`}catch(t){console.log("error => ",t)}},async setFavSongToDatabase(e){try{await ul.doc(this.uid).update({favSongLists:Fe.firestore.FieldValue.arrayUnion(e)}),this.favSongList.push(e),this.isFavSong=!0}catch(t){console.log("error => ",t)}}},mounted(){this.favSongList.length!==0&&(this.isFavSong=this.favSongList.includes(this.songData.docID))},watch:{playing(){this.current_song&&(this.current_song.modified_name==this.songData.modified_name?(this.isCurrentPlaying=!0,this.playingIndex=this.index):this.isCurrentPlaying=!1)},pauseCurrentSong(){this.pauseCurrentSong&&this.pauseCurrentSong.pause&&(this.current_song.modified_name==this.pauseCurrentSong.currentSong?this.isCurrentPlaying=!1:this.isCurrentPlaying=!0)}}},aX=S("p",{class:"flex-initial md:w-20 w-10"},"03:57",-1),uX={class:"flex-initial md:w-12 w-10 md:text-center text-end"},lX={key:0,class:"far fa-play-circle text-2xl text-rose-500/80"},cX={key:1,class:"far fa-pause-circle text-2xl text-rose-500/80"},fX=S("i",{class:"far fa-heart text-2xl text-rose-500/80"},null,-1),hX=[fX],dX=S("i",{class:"fas fa-heart text-2xl text-rose-500/80"},null,-1),pX=[dX];function mX(e,t,n,r,i,s){const a=De("toastMessage");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:i.success},null,8,["toggle","message","success"]),S("p",{class:"flex-1 truncate pr-3 cursor-pointer",onClick:t[0]||(t[0]=qe(l=>s.playSong(n.songData),["prevent"]))},X(n.songData.modified_name),1),S("div",{class:"flex cursor-pointer justify-center items-center",onClick:t[1]||(t[1]=qe(l=>s.playSong(n.songData),["prevent"]))},[aX,S("div",uX,[i.isCurrentPlaying?(me(),_e("i",cX)):(me(),_e("i",lX))])]),i.isFavSong?(me(),_e("div",{key:1,class:"w-10 text-end cursor-pointer",onClick:t[3]||(t[3]=qe(l=>s.delFormFav(n.songData),["prevent"]))},pX)):(me(),_e("div",{key:0,class:"w-10 text-end cursor-pointer",onClick:t[2]||(t[2]=qe(l=>s.addToFav(n.songData),["prevent"]))},hX))],64)}const gX=Nt(sX,[["render",mX]]),vX={data(){return{isPlaying:!1,songs:[],memberImage:eR}},components:{SongItem:gX},computed:{...ln(Un,["albumPageImgClass"]),...Mt(ai,["albumInfo"]),...Mt(Un,["songList"]),...Mt(e_,["toastCount"]),albumSingerImg(){return this.albumInfo.albumSingerImg?this.albumInfo.albumSingerImg:"https://i.imgur.com/arYdJI6.png"},signerName(){const{albumSinger:e,type:t,temp:n}=this.albumInfo;return t==="member_fundraising"?zC(e,t,n):HC(e)},signerDescription(){const{albumSinger:e,albumSingerDesc:t,type:n,temp:r}=this.albumInfo;return n==="member_fundraising"?cB(e,t,n,r):uB(e,t)},albumName(){const{albumName:e,type:t,temp:n}=this.albumInfo;return t==="member_fundraising"?qC(e,t,n):GC(e)},albumDescription(){const{albumName:e,albumDesc:t,type:n,temp:r}=this.albumInfo;return n==="member_fundraising"?fB(e,t,n,r):lB(e,t)}},methods:{...Vn(Un,["newSong"]),async getAlbumSongs(){try{(await zr.where("display_name","==",this.$route.params.albumSinger).get()).forEach((t,n)=>{this.songs.push({...t.data(),docID:t.id})})}catch(e){console.log("getAlbumSongs error => ",e)}},async getAlbumInfo(){try{const t=(await si.doc(this.$route.params.gener).get()).data().items.filter(n=>n.albumSinger===this.$route.params.albumSinger);this.albumInfo={...t[0]}}catch{}},palySong(){this.newSong(this.songList[0]),this.isPlaying=!0},formatIndex:yn.formatIndex},async mounted(){await this.getAlbumSongs(),this.songList=this.songs,window.scrollTo({top:0,left:0,behavior:"auto"}),this.toastCount=0},async beforeMount(){await this.getAlbumInfo()}},yX={class:"text-zinc-200 bg-zinc-900 pb-8 mt-[63px] mb-[90px]",id:"albumPage"},bX={class:"max-w-[1200px] mx-auto pt-10"},_X={class:"flex md:flex-row flex-col"},wX={class:"md:order-1 order-last w-[25%] hidden md:block sidebarBackgound"},EX={class:"max-w-[160px] mx-auto"},TX=["src"],SX={class:"text-center mt-6 px-5"},IX={class:"text-lg"},AX={class:"text-2xl pb-3"},xX={class:"text-zinc-400 text-left"},kX={class:"md:order-2 flex-1 px-3 md:px-14"},CX={class:"md:flex items-center border-b-2 border-[#e6dbdb21] pb-4"},NX={class:"flex md:flex-row flex-col justify-center"},OX=["src"],PX={class:"md:ml-10 md:mt-5 text-center md:text-left"},LX={class:"text-[25px] tracking-widest leading-loose text-white"},RX={class:"md:pb-5"},DX={class:"md:block hidden max-w-80"},MX={class:"mt-6"},FX={class:"px-2 md:px-0"},UX={class:"flex-none w-7 md:w-24 text-[12px] md:text-base md:leading-normal leading-6"};function VX(e,t,n,r,i,s){const a=De("SongItem");return me(),_e("main",yX,[S("div",bX,[S("div",_X,[S("div",wX,[S("div",EX,[S("img",{class:"rounded-full",src:s.albumSingerImg,alt:""},null,8,TX)]),S("div",SX,[S("p",IX,X(e.$t("singer")),1),S("p",AX,X(s.signerName),1),S("p",xX,X(s.signerDescription),1)])]),S("div",kX,[S("div",CX,[S("div",NX,[S("div",{class:Ke(["mx-auto",e.albumPageImgClass]),onClick:t[0]||(t[0]=qe((...l)=>s.palySong&&s.palySong(...l),["prevent"]))},[S("img",{src:e.albumInfo.albumImg,alt:""},null,8,OX)],2),S("div",PX,[S("p",LX,X(s.albumName),1),S("p",RX,X(s.signerName),1),S("p",DX,X(s.albumDescription),1)])])]),S("div",MX,[S("ul",FX,[(me(!0),_e(vt,null,qi(i.songs,(l,c)=>(me(),_e("li",{class:"flex py-3 items-center",key:l.coverImg},[S("p",UX,X(s.formatIndex(c))+". ",1),ae(a,{songData:l,index:c},null,8,["songData","index"])]))),128))])])])])])])}const $X=Nt(vX,[["render",VX]]),jX={name:"Upload",data(){return{is_dragover:!1,uploadsTemp:[],uploadSchema:{albumName:"required",albumSinger:"required",albumCoverImgUrl:"required",albumGenre:"required"},userData:{albumGenre:"America"},toggle:!1,message:""}},props:["addSong"],components:{toastMessage:Zi},methods:{upload(e){const t=e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files];console.log("files => ",t),t.forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsTemp.push({file:n,current_progress:0,icon:"",text_class:"",variant:"",isUploadComplete:!1,isUploading:!1})})},deleteSong(e){this.uploadsTemp.splice(e,1)},uploadSubmit(e){this.uploadsTemp.forEach((t,n)=>{const s=ri.ref().child(`songs/${t.file.name}`).put(t.file);this.uploadsTemp[n].icon="fas fa-spinner fa-spin",this.uploadsTemp[n].variant="bg-blue-400",this.uploadsTemp[n].isUploading=!0,s.on("state_changed",a=>{let l=a.bytesTransferred/a.totalBytes*100;this.uploadsTemp[n].current_progress=l},a=>{this.uploadsTemp[n].variant="bg-red-400",this.uploadsTemp[n].icon="fa fa-times",this.uploadsTemp[n].text_class="text-red-400"},async()=>{try{const a={album:e.albumName,coverImg:e.albumCoverImgUrl,uid:bo.currentUser.uid,display_name:e.albumSinger,original_name:s.snapshot.ref.name,modified_name:yn.formatSongName(s.snapshot.ref.name),genre:e.albumGenre,comment_count:0},l={albumDesc:"",albumImg:e.albumCoverImgUrl,albumName:e.albumName,albumSinger:e.albumSinger,albumSingerDesc:"",albumSingerImg:""};a.url=await s.snapshot.ref.getDownloadURL();const h=await(await zr.add(a)).get();this.addSong(h),await si.doc(e.albumGenre.toLowerCase()).update({items:Fe.firestore.FieldValue.arrayUnion(l)}),console.log("Album added successfully"),this.uploadsTemp[n].variant="bg-green-400",this.uploadsTemp[n].icon="fa fa-check",this.uploadsTemp[n].text_class="text-green-400",this.uploadsTemp[n].isUploadComplete=!0}catch(a){console.log("error => ",a)}})})},formatIndex:yn.formatIndex,formatSongName:yn.formatSongName}},BX={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},HX=S("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[S("span",{class:"card-title"},"上傳歌曲"),S("i",{class:"fas fa-upload float-right text-rose-500 text-xl"})],-1),GX={class:"p-6"},zX=S("h5",null,"請拖曳檔案到此",-1),qX=[zX],WX=S("hr",{class:"my-6"},null,-1),KX=S("label",{class:"inline-block mb-2"},"歌手名稱",-1),YX=S("label",{class:"inline-block mb-2"},"專輯名稱",-1),XX=S("label",{class:"inline-block mb-2"},"專輯類型",-1),JX=S("option",{class:"bg-gray-700 text-zinc-100",value:"America"},"America",-1),QX=S("option",{class:"bg-gray-700 text-zinc-100",value:"Kpop"},"Kpop",-1),ZX=S("option",{class:"bg-gray-700 text-zinc-100",value:"Jpop"},"Jpop",-1),e3=S("option",{class:"bg-gray-700 text-zinc-100",value:"Music"},"Music",-1),t3=S("label",{class:"inline-block mb-2"},"專輯封面",-1),n3=S("p",{class:"mb-3 border-b-2 border-[#fff]/30 pb-2"},"要上傳的歌曲:",-1),r3={class:"flex items-center justify-between"},i3={class:"overflow-hidden flex items-center"},o3={class:"pl-2 truncate"},s3={class:""},a3=["onClick"],u3=S("i",{class:"fa fa-times"},null,-1),l3=[u3],c3={key:0,class:"flex h-4 mt-1 overflow-hidden bg-gray-200 rounded"},f3=["disabled"];function h3(e,t,n,r,i,s){const a=De("toastMessage"),l=De("vee-field"),c=De("ErrorMessage"),h=De("vee-form");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message},null,8,["toggle","message"]),S("div",BX,[HX,S("div",GX,[S("div",{class:Ke(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"bg-rose-500 border-rose-500 border-solid":i.is_dragover}]),onDrag:t[0]||(t[0]=qe(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=qe(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=qe(p=>i.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=qe(p=>i.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=qe(p=>i.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=qe(p=>i.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=qe(p=>s.upload(p),["prevent","stop"]))},qX,34),S("input",{class:"block w-full text-md borderrounded-lg cursor-pointer text-gray-400 focus:outline-none mt-4",type:"file",multiple:"",onChange:t[7]||(t[7]=p=>s.upload(p))},null,32),WX,ae(h,{"validation-schema":i.uploadSchema,onSubmit:s.uploadSubmit,"initial-values":i.userData},{default:Wn(()=>[S("div",null,[KX,ae(l,{type:"text",name:"albumSinger",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"歌手名稱"}),ae(c,{class:"text-pink-600",name:"albumSinger"})]),S("div",null,[YX,ae(l,{type:"text",name:"albumName",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯名稱"}),ae(c,{class:"text-pink-600",name:"albumName"})]),S("div",null,[XX,ae(l,{as:"select",name:"albumGenre",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:Wn(()=>[JX,QX,ZX,e3]),_:1}),ae(c,{class:"text-red-600",name:"albumGenre"})]),S("div",null,[t3,ae(l,{type:"text",name:"albumCoverImgUrl",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"專輯封面"}),ae(c,{class:"text-pink-600",name:"albumCoverImgUrl"})]),n3,(me(!0),_e(vt,null,qi(i.uploadsTemp,(p,f)=>(me(),_e("div",{class:"mb-4",key:p.file.name},[S("div",{class:Ke(["border border-zinc-200 p-2 mb-4 rounded font-bold text-sm",p.text_class])},[S("div",r3,[S("div",i3,[S("i",{class:Ke(p.icon)},null,2),S("p",o3,X(s.formatIndex(f))+". "+X(s.formatSongName(p.file.name)),1)]),S("div",s3,[p.isUploadComplete?Hr("",!0):(me(),_e("button",{key:0,class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(m=>s.deleteSong(f),["prevent"])},l3,8,a3))])])],2),p.isUploading?(me(),_e("div",c3,[S("div",{class:Ke(["transition-all progress-bar",p.variant]),style:jr({width:p.current_progress+"%"})},null,6)])):Hr("",!0)]))),128)),S("button",{type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-rose-500 w-full hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",disabled:i.uploadsTemp.length==0}," 檔案上傳 ",8,f3)]),_:1},8,["validation-schema","onSubmit","initial-values"])])])],64)}const d3=Nt(jX,[["render",h3]]),p3={name:"CompositionItem",data(){return{showForm:!1,schema:{modified_name:"required",genre:"alpha_spaces"},is_submission:!1,show_alart:!1,alert_variant:"bg-blue-500",alert_message:"Please wait! Updating song info"}},props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number},removeSong:{type:Function,required:!0},updateUnsaveFlag:{type:Function}},methods:{async edit(e){this.is_submission=!0,this.show_alart=!0,this.alert_variant="bg-blue-500",this.alert_message="";try{await zr.doc(e.docID).update(e)}catch(t){console.log("error => ",t),this.is_submission=!1,this.alert_variant="bg-red-500",this.alert_message="Something went wrong! Try again later";return}this.updateSong(this.index,e),this.updateUnsaveFlag(!1),this.is_submission=!1,this.alert_variant="bg-green-500",this.alert_message="Success!"},async deleteSong(){const t=ri.ref().child(`songs/${this.song.original_name}`);try{await t.delete(),await zr.doc(this.song.docID).delete(),this.removeSong(this.index)}catch(n){console.log("error => ",n)}}},mounted(){}},m3={class:"border border-zinc-200 p-2 mb-4 rounded"},g3={class:"inline-block text-sm font-bold"},v3=S("i",{class:"fa fa-times"},null,-1),y3=[v3],b3=S("i",{class:"fa fa-pencil-alt"},null,-1),_3=[b3],w3={class:"mb-3"},E3=S("label",{class:"inline-block mb-2"},"歌曲名稱",-1),T3={class:"mb-3"},S3=S("label",{class:"inline-block mb-2"},"類型",-1),I3=S("button",{type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-green-700"}," 確定修改 ",-1),A3=["disabled"];function x3(e,t,n,r,i,s){const a=De("vee-field"),l=De("ErrorMessage"),c=De("vee-form");return me(),_e("div",m3,[Sa(S("div",null,[S("h4",g3,X(n.song.modified_name),1),S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600 float-right",onClick:t[0]||(t[0]=qe((...h)=>s.deleteSong&&s.deleteSong(...h),["prevent"]))},y3),S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-400 float-right",onClick:t[1]||(t[1]=qe(h=>i.showForm=!i.showForm,["prevent"]))},_3)],512),[[Bd,!i.showForm]]),Sa(S("div",null,[i.show_alart?(me(),_e("div",{key:0,class:Ke(["text-white text-center font-bold p-4 mb-4",i.alert_variant])},X(i.alert_message),3)):Hr("",!0),ae(c,{"validation-schema":i.schema,"initial-values":n.song,onSubmit:s.edit},{default:Wn(()=>[S("div",w3,[E3,ae(a,{name:"modified_name",type:"text",class:"block w-full py-1 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=h=>n.updateUnsaveFlag(!0))}),ae(l,{class:"text-red-600",name:"modified_name"})]),S("div",T3,[S3,ae(a,{name:"genre",type:"text",class:"block w-full py-1 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=h=>n.updateUnsaveFlag(!0))}),ae(l,{class:"text-red-600",name:"genre"})]),I3,S("button",{type:"button",class:"py-1 px-3 rounded text-white bg-gray-600",disabled:i.is_submission,onClick:t[4]||(t[4]=qe(h=>i.showForm=!1,["prevent"]))}," 取消 ",8,A3)]),_:1},8,["validation-schema","initial-values","onSubmit"])],512),[[Bd,i.showForm]])])}const k3=Nt(p3,[["render",x3]]),C3={name:"Manage",data(){return{songs:[],unsaveFlag:!1}},components:{toastMessage:Zi,UploadAdminManage:d3,CompositionItem:k3},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateUnsaveFlag(e){this.unsaveFlag=e}},async created(){(await zr.where("uid","==",bo.currentUser.uid).get()).forEach(t=>{this.addSong(t)})},beforeRouteLeave(e,t,n){if(!this.unsaveFlag)n();else{const r=confirm("你的檔案還未修改完必，有確定要離開嗎?");n(r)}}},N3={class:"text-zinc-200 bg-zinc-900 mt-[55px] mb-[90px] relative"},O3={class:"container mx-auto mt-14 pt-3 pr-1 md:pr-0"},P3={class:"md:grid md:grid-cols-3 md:gap-4"},L3={class:"col-span-1"},R3={class:"col-span-2"},D3={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},M3=S("div",{class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},[S("span",{class:"card-title"},"我的歌單"),S("i",{class:"fa fa-compact-disc float-right text-rose-400 text-xl"})],-1),F3={class:"p-6"};function U3(e,t,n,r,i,s){const a=De("toastMessage"),l=De("UploadAdminManage"),c=De("CompositionItem");return me(),_e("main",N3,[ae(a),S("section",O3,[S("div",P3,[S("div",L3,[ae(l,{ref:"upload",addSong:s.addSong},null,8,["addSong"])]),S("div",R3,[S("div",D3,[M3,S("div",F3,[(me(!0),_e(vt,null,qi(i.songs,(h,p)=>(me(),ms(c,{key:h.docID,song:h,updateSong:s.updateSong,index:p,removeSong:s.removeSong,updateUnsaveFlag:s.updateUnsaveFlag},null,8,["song","updateSong","index","removeSong","updateUnsaveFlag"]))),128))])])])])])])}const V3=Nt(C3,[["render",U3]]),Xi=Fa("alert",{state:()=>({isShowAlertConfirm:!1,alertMessage:"",delFavSong:{index:null,docID:""},delData:!1,deleteData:{}}),actions:{fireShowAlertConfirm(e){const{data:t,msg:n}=e;this.isShowAlertConfirm=!0,this.deleteData=t||{},this.alertMessage=n||""},closeAlert(){this.isShowAlertConfirm=!1,this.delFavSong={index:null,docID:""},this.deleteData={},this.alertMessage=""},delDataCheck(){this.isShowAlertConfirm=!1,this.delData=!0}}}),$3={name:"FavSongItem",data(){return{isCurrentPlaying:!1}},props:{favSong:{type:Object,required:!0},index:{type:Number,required:!0},isFinshRender:{type:Function,required:!0}},computed:{...ln(Un,["playing","current_song","pauseCurrentSong"]),...ln($n,["favSongList"]),...Mt(Un,["playingIndex"]),...Mt(Xi,["delFavSong","isShowAlertConfirm"])},methods:{...Vn(Un,["newSong"]),...Vn(Xi,["fireShowAlertConfirm"]),playSong(e){this.newSong(e),this.isCurrentPlaying=!0},delSongFromList(e,t){this.delFavSong.index=t,this.delFavSong.docID=e,this.fireShowAlertConfirm({msg:this.$t("alertMsg.delete_favsong",{favsongName:this.favSong.modified_name})})}},watch:{playing(){this.current_song&&(this.current_song.modified_name==this.favSong.modified_name?(this.isCurrentPlaying=!0,this.playingIndex=this.index):this.isCurrentPlaying=!1)},pauseCurrentSong(){this.pauseCurrentSong&&this.pauseCurrentSong.pause&&(this.current_song.modified_name==this.pauseCurrentSong.currentSong?this.isCurrentPlaying=!1:this.isCurrentPlaying=!0)}},mounted(){this.index===this.favSongList.length-1&&this.isFinshRender(!0)}},j3={class:"w-12 mr-4"},B3=["src"],H3={class:"flex flex-1 justify-between border-b border-b-zinc-200/30 items-center"},G3={class:"pr-3 flex-initial truncate md:w-80 w-44"},z3={class:"text-zinc-500 text-sm"},q3={class:"flex justify-between w-28"},W3=S("p",{class:"flex-initial w-14 text-start"},"03:57",-1),K3={class:"flex-initial md:text-center text-start"},Y3={key:0,class:"far fa-play-circle text-2xl text-rose-500/80"},X3={key:1,class:"far fa-pause-circle text-2xl text-rose-500/80"};function J3(e,t,n,r,i,s){return me(),_e(vt,null,[S("div",j3,[S("img",{class:"rounded-md",src:n.favSong.coverImg,alt:""},null,8,B3)]),S("div",H3,[S("div",{class:"cursor-pointer pr-3 flex-1",onClick:t[0]||(t[0]=qe(a=>s.playSong(n.favSong),["prevent"]))},[S("p",G3,X(n.favSong.modified_name),1),S("p",z3,X(n.favSong.display_name),1)]),S("div",q3,[S("div",{class:"cursor-pointer flex items-center",onClick:t[1]||(t[1]=qe(a=>s.playSong(n.favSong),["prevent"]))},[W3,S("div",K3,[i.isCurrentPlaying?(me(),_e("i",X3)):(me(),_e("i",Y3))])]),S("div",null,[S("i",{class:"fas fa-minus-square text-2xl text-rose-500/80 cursor-pointer",onClick:t[2]||(t[2]=qe(a=>s.delSongFromList(n.favSong.docID,n.index),["prevent"]))})])])])],64)}const Q3=Nt($3,[["render",J3]]),Z3={computed:{...ln(Xi,["isShowAlertConfirm","alertMessage"])},methods:{...Vn(Xi,["fireShowAlertConfirm","closeAlert","delDataCheck"])}},eJ={class:"relative top-[120px] md:m-auto w-full max-w-sm h-auto"},tJ={class:"relative py-4 text-center bg-zinc-800/90 rounded-lg shadow dark:bg-gray-800"},nJ=S("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),rJ=S("span",{class:"sr-only"},"Close modal",-1),iJ=[nJ,rJ],oJ=S("svg",{class:"text-gray-400 dark:text-gray-500 w-7 h-7 mb-1 mx-auto","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),sJ={class:"flex-1 text-gray-300 dark:text-gray-300 text-center"},aJ={class:"flex justify-center items-center space-x-4"};function uJ(e,t,n,r,i,s){return me(),_e("div",{id:"deleteModal",tabindex:"-1","aria-hidden":"true",class:Ke(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!e.isShowAlertConfirm}])},[S("div",eJ,[S("div",tJ,[S("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"deleteModal",onClick:t[0]||(t[0]=qe(a=>e.closeAlert(),["prevent"]))},iJ),oJ,S("div",{class:Ke(["flex items-center justify-around pt-2 py-5",{"px-5":e.$i18n.locale==="en"}])},[S("p",sJ,X(e.alertMessage),1)],2),S("div",aJ,[S("button",{"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-zinc-200 bg-black/10 rounded-lg border border-gray-500 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:t[1]||(t[1]=qe(a=>e.closeAlert(),["prevent"]))},X(e.$t("button.cancel")),1),S("button",{type:"submit",class:"py-2 px-3 text-sm font-medium text-center text-white bg-rose-600/80 rounded-lg hover:bg-red-900 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500/ dark:hover:bg-red-600 dark:focus:ring-red-900",onClick:t[2]||(t[2]=qe(a=>e.delDataCheck(),["prevent"]))},X(e.$t("button.confirm")),1)])])])],2)}const dR=Nt(Z3,[["render",uJ]]),By="/vue-earphone-music/assets/logo2-BpBPWk9v.png",lJ={data(){return{favSongs:[],currentSongCoverImg:By,listHeightStyle:""}},components:{FavSongItem:Q3,AlertDeleteConfirm:dR},computed:{...ln($n,["uid"]),...ln(Un,["playing","current_song","pauseCurrentSong"]),...Mt(Xi,["delData","delFavSong"]),...Mt($n,["favSongList"]),...Mt(Un,["songList","playingIndex"]),filter(){if(!this.current_song.coverImg&&this.songList.length===0)return{filter:"grayscale(50%)"}}},methods:{...Vn(Xi,["delFavSongItemDoc"]),...Vn(Un,["deleteSong"]),async getFavSongList(){try{const e=await ul.doc(this.uid).get();this.favSongList=e.data().favSongLists}catch(e){console.log("error => ",e)}},async getSongs(){try{this.favSongList.forEach(async e=>{const t=await zr.doc(e).get();this.favSongs.push({...t.data(),docID:e}),this.songList.push({...t.data(),docID:e})})}catch(e){console.log("error => ",e)}},isFinshRender(e){e&&(this.songList.length>0&&(this.currentSongCoverImg=this.songList[0].coverImg),yn.changeHightStyle(this.favSongList,this.$refs.listRef))}},async mounted(){this.songList=[],this.favSongList.length==0&&(this.playing?this.$refs.listRef.style.height="388px":this.$refs.listRef.style.height="418px"),await this.getFavSongList(),await this.getSongs(),Xk(()=>{this.favSongList.length===0&&(this.currentSongCoverImg=By)})},watch:{async delData(){if(this.delData){const e=this.delFavSong.index;try{await ul.doc(this.uid).update({favSongLists:Fe.firestore.FieldValue.arrayRemove(this.favSongs[e].docID)})}catch(t){console.log("error => ",t);return}this.favSongs.splice(e,1),this.favSongList.splice(e,1),this.deleteSong(e),this.delData=!1,this.delFavSong={index:null,docID:""}}},current_song(){yn.changeHightStyle(this.favSongList,this.$refs.listRef),Object.keys(this.current_song).length===0?this.currentSongCoverImg=By:this.currentSongCoverImg=this.current_song.favCoverImg?this.current_song.favCoverImg:this.current_song.coverImg}}},cJ={class:"bg-black/70 backdrop-blur-md w-full h-full"},fJ={class:"md:w-[550px] w-full bg-[#00000030] rounded md:border border-transparent md:border-gray-200/40 mx-auto"},hJ={class:"w-56 mx-auto"},dJ=["src"],pJ={class:"mt-2"},mJ={class:"text-center"};function gJ(e,t,n,r,i,s){const a=De("AlertDeleteConfirm"),l=De("FavSongItem");return me(),_e("main",{class:Ke(["text-zinc-200 bg-zinc-900 mt-[63px] relative",{"mb-[120px]":e.current_song.album}])},[ae(a),S("div",{class:"bg-cover bg-center md:bg-fixed bg-no-repeat md:bg-cover h-full",style:jr(`background-image: url(${i.currentSongCoverImg})`)},[S("div",cJ,[S("div",fJ,[S("div",hJ,[S("img",{src:i.currentSongCoverImg,style:jr(s.filter),alt:""},null,12,dJ)]),S("div",pJ,[S("p",mJ,X(e.$t("menu.play_list")),1)]),S("ul",{class:"md:mx-5 mx-5",style:jr(i.listHeightStyle),ref:"listRef"},[(me(!0),_e(vt,null,qi(i.favSongs,(c,h)=>(me(),_e("li",{class:"flex justify-center my-2",key:c.docID},[ae(l,{favSong:c,index:h,isFinshRender:s.isFinshRender},null,8,["favSong","index","isFinshRender"])]))),128))],4)])])],4)],2)}const vJ=Nt(lJ,[["render",gJ]]);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mR(e){var t=yJ(e,"string");return typeof t=="symbol"?t:t+""}function u_(e){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(e)}function bJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mR(r.key),r)}}function _J(e,t,n){return t&&nk(e.prototype,t),n&&nk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wJ(e,t,n){return t=mR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gR(e){return EJ(e)||TJ(e)||SJ(e)||IJ()}function EJ(e){if(Array.isArray(e))return l_(e)}function TJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SJ(e,t){if(e){if(typeof e=="string")return l_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(e,t)}}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Nm=typeof window<"u"&&typeof window.document<"u",Ji=Nm?window:{},Lw=Nm&&Ji.document.documentElement?"ontouchstart"in Ji.document.documentElement:!1,Rw=Nm?"PointerEvent"in Ji:!1,Kt="cropper",Dw="all",vR="crop",yR="move",bR="zoom",sa="e",aa="w",wu="s",Ho="n",vc="ne",yc="nw",bc="se",_c="sw",c_="".concat(Kt,"-crop"),rk="".concat(Kt,"-disabled"),Er="".concat(Kt,"-hidden"),ik="".concat(Kt,"-hide"),AJ="".concat(Kt,"-invisible"),xp="".concat(Kt,"-modal"),f_="".concat(Kt,"-move"),bf="".concat(Kt,"Action"),gd="".concat(Kt,"Preview"),Mw="crop",_R="move",wR="none",h_="crop",d_="cropend",p_="cropmove",m_="cropstart",ok="dblclick",xJ=Lw?"touchstart":"mousedown",kJ=Lw?"touchmove":"mousemove",CJ=Lw?"touchend touchcancel":"mouseup",sk=Rw?"pointerdown":xJ,ak=Rw?"pointermove":kJ,uk=Rw?"pointerup pointercancel":CJ,lk="ready",ck="resize",fk="wheel",g_="zoom",hk="image/jpeg",NJ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,OJ=/^data:/,PJ=/^data:image\/jpeg;base64,/,LJ=/^img|canvas$/i,ER=200,TR=100,dk={viewMode:0,dragMode:Mw,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ER,minContainerHeight:TR,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},RJ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',DJ=Number.isNaN||Ji.isNaN;function ct(e){return typeof e=="number"&&!DJ(e)}var pk=function(t){return t>0&&t<1/0};function Hy(e){return typeof e>"u"}function La(e){return u_(e)==="object"&&e!==null}var MJ=Object.prototype.hasOwnProperty;function Ou(e){if(!La(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&MJ.call(n,"isPrototypeOf")}catch{return!1}}function wr(e){return typeof e=="function"}var FJ=Array.prototype.slice;function SR(e){return Array.from?Array.from(e):FJ.call(e)}function vn(e,t){return e&&wr(t)&&(Array.isArray(e)||ct(e.length)?SR(e).forEach(function(n,r){t.call(e,n,r,e)}):La(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})),e}var Yt=Object.assign||function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return La(t)&&r.length>0&&r.forEach(function(s){La(s)&&Object.keys(s).forEach(function(a){t[a]=s[a]})}),t},UJ=/\.\d*(?:0|9){12}\d*$/;function $u(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return UJ.test(e)?Math.round(e*t)/t:e}var VJ=/^width|height|left|top|marginLeft|marginTop$/;function os(e,t){var n=e.style;vn(t,function(r,i){VJ.test(i)&&ct(r)&&(r="".concat(r,"px")),n[i]=r})}function $J(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function kn(e,t){if(t){if(ct(e.length)){vn(e,function(r){kn(r,t)});return}if(e.classList){e.classList.add(t);return}var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function Gi(e,t){if(t){if(ct(e.length)){vn(e,function(n){Gi(n,t)});return}if(e.classList){e.classList.remove(t);return}e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function Pu(e,t,n){if(t){if(ct(e.length)){vn(e,function(r){Pu(r,t,n)});return}n?kn(e,t):Gi(e,t)}}var jJ=/([a-z\d])([A-Z])/g;function Fw(e){return e.replace(jJ,"$1-$2").toLowerCase()}function v_(e,t){return La(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Fw(t)))}function _f(e,t,n){La(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Fw(t)),n)}function BJ(e,t){if(La(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Fw(t)))}var IR=/\s\s*/,AR=function(){var e=!1;if(Nm){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(s){t=s}});Ji.addEventListener("test",n,r),Ji.removeEventListener("test",n,r)}return e}();function gi(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(IR).forEach(function(s){if(!AR){var a=e.listeners;a&&a[s]&&a[s][n]&&(i=a[s][n],delete a[s][n],Object.keys(a[s]).length===0&&delete a[s],Object.keys(a).length===0&&delete e.listeners)}e.removeEventListener(s,i,r)})}function ti(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n;t.trim().split(IR).forEach(function(s){if(r.once&&!AR){var a=e.listeners,l=a===void 0?{}:a;i=function(){delete l[s][n],e.removeEventListener(s,i,r);for(var h=arguments.length,p=new Array(h),f=0;f<h;f++)p[f]=arguments[f];n.apply(e,p)},l[s]||(l[s]={}),l[s][n]&&e.removeEventListener(s,l[s][n],r),l[s][n]=i,e.listeners=l}e.addEventListener(s,i,r)})}function ju(e,t,n){var r;return wr(Event)&&wr(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,n)),e.dispatchEvent(r)}function xR(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Gy=Ji.location,HJ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function mk(e){var t=e.match(HJ);return t!==null&&(t[1]!==Gy.protocol||t[2]!==Gy.hostname||t[3]!==Gy.port)}function gk(e){var t="timestamp=".concat(new Date().getTime());return e+(e.indexOf("?")===-1?"?":"&")+t}function Fc(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,s=e.translateY,a=[];ct(i)&&i!==0&&a.push("translateX(".concat(i,"px)")),ct(s)&&s!==0&&a.push("translateY(".concat(s,"px)")),ct(t)&&t!==0&&a.push("rotate(".concat(t,"deg)")),ct(n)&&n!==1&&a.push("scaleX(".concat(n,")")),ct(r)&&r!==1&&a.push("scaleY(".concat(r,")"));var l=a.length?a.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function GJ(e){var t=pR({},e),n=0;return vn(e,function(r,i){delete t[i],vn(t,function(s){var a=Math.abs(r.startX-s.startX),l=Math.abs(r.startY-s.startY),c=Math.abs(r.endX-s.endX),h=Math.abs(r.endY-s.endY),p=Math.sqrt(a*a+l*l),f=Math.sqrt(c*c+h*h),m=(f-p)/p;Math.abs(m)>Math.abs(n)&&(n=m)})}),n}function vd(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:pR({startX:n,startY:r},i)}function zJ(e){var t=0,n=0,r=0;return vn(e,function(i){var s=i.startX,a=i.startY;t+=s,n+=a,r+=1}),t/=r,n/=r,{pageX:t,pageY:n}}function ss(e){var t=e.aspectRatio,n=e.height,r=e.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",s=pk(r),a=pk(n);if(s&&a){var l=n*t;i==="contain"&&l>r||i==="cover"&&l<r?n=r/t:r=n*t}else s?n=r/t:a&&(r=n*t);return{width:r,height:n}}function qJ(e){var t=e.width,n=e.height,r=e.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:t};var i=r%90*Math.PI/180,s=Math.sin(i),a=Math.cos(i),l=t*a+n*s,c=t*s+n*a;return r>90?{width:c,height:l}:{width:l,height:c}}function WJ(e,t,n,r){var i=t.aspectRatio,s=t.naturalWidth,a=t.naturalHeight,l=t.rotate,c=l===void 0?0:l,h=t.scaleX,p=h===void 0?1:h,f=t.scaleY,m=f===void 0?1:f,v=n.aspectRatio,y=n.naturalWidth,_=n.naturalHeight,w=r.fillColor,E=w===void 0?"transparent":w,k=r.imageSmoothingEnabled,I=k===void 0?!0:k,C=r.imageSmoothingQuality,M=C===void 0?"low":C,A=r.maxWidth,j=A===void 0?1/0:A,U=r.maxHeight,P=U===void 0?1/0:U,z=r.minWidth,L=z===void 0?0:z,q=r.minHeight,ee=q===void 0?0:q,Te=document.createElement("canvas"),xe=Te.getContext("2d"),ie=ss({aspectRatio:v,width:j,height:P}),Re=ss({aspectRatio:v,width:L,height:ee},"cover"),Me=Math.min(ie.width,Math.max(Re.width,y)),Xe=Math.min(ie.height,Math.max(Re.height,_)),xt=ss({aspectRatio:i,width:j,height:P}),it=ss({aspectRatio:i,width:L,height:ee},"cover"),dt=Math.min(xt.width,Math.max(it.width,s)),pt=Math.min(xt.height,Math.max(it.height,a)),en=[-dt/2,-pt/2,dt,pt];return Te.width=$u(Me),Te.height=$u(Xe),xe.fillStyle=E,xe.fillRect(0,0,Me,Xe),xe.save(),xe.translate(Me/2,Xe/2),xe.rotate(c*Math.PI/180),xe.scale(p,m),xe.imageSmoothingEnabled=I,xe.imageSmoothingQuality=M,xe.drawImage.apply(xe,[e].concat(gR(en.map(function(Se){return Math.floor($u(Se))})))),xe.restore(),Te}var kR=String.fromCharCode;function KJ(e,t,n){var r="";n+=t;for(var i=t;i<n;i+=1)r+=kR(e.getUint8(i));return r}var YJ=/^data:.*,/;function XJ(e){var t=e.replace(YJ,""),n=atob(t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);return vn(i,function(s,a){i[a]=n.charCodeAt(a)}),r}function JJ(e,t){for(var n=[],r=8192,i=new Uint8Array(e);i.length>0;)n.push(kR.apply(null,SR(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}function QJ(e){var t=new DataView(e),n;try{var r,i,s;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var a=t.byteLength,l=2;l+1<a;){if(t.getUint8(l)===255&&t.getUint8(l+1)===225){i=l;break}l+=1}if(i){var c=i+4,h=i+10;if(KJ(t,c,4)==="Exif"){var p=t.getUint16(h);if(r=p===18761,(r||p===19789)&&t.getUint16(h+2,r)===42){var f=t.getUint32(h+4,r);f>=8&&(s=h+f)}}}if(s){var m=t.getUint16(s,r),v,y;for(y=0;y<m;y+=1)if(v=s+y*12+2,t.getUint16(v,r)===274){v+=8,n=t.getUint16(v,r),t.setUint16(v,1,r);break}}}catch{n=1}return n}function ZJ(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var e2={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,n=this.options,r=this.container,i=this.cropper,s=Number(n.minContainerWidth),a=Number(n.minContainerHeight);kn(i,Er),Gi(t,Er);var l={width:Math.max(r.offsetWidth,s>=0?s:ER),height:Math.max(r.offsetHeight,a>=0?a:TR)};this.containerData=l,os(i,{width:l.width,height:l.height}),kn(t,Er),Gi(i,Er)},initCanvas:function(){var t=this.containerData,n=this.imageData,r=this.options.viewMode,i=Math.abs(n.rotate)%180===90,s=i?n.naturalHeight:n.naturalWidth,a=i?n.naturalWidth:n.naturalHeight,l=s/a,c=t.width,h=t.height;t.height*l>t.width?r===3?c=t.height*l:h=t.width/l:r===3?h=t.width/l:c=t.height*l;var p={aspectRatio:l,naturalWidth:s,naturalHeight:a,width:c,height:h};this.canvasData=p,this.limited=r===1||r===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(t.width-p.width)/2,p.top=(t.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=Yt({},p)},limitCanvas:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,a=this.cropBoxData,l=r.viewMode,c=s.aspectRatio,h=this.cropped&&a;if(t){var p=Number(r.minCanvasWidth)||0,f=Number(r.minCanvasHeight)||0;l>1?(p=Math.max(p,i.width),f=Math.max(f,i.height),l===3&&(f*c>p?p=f*c:f=p/c)):l>0&&(p?p=Math.max(p,h?a.width:0):f?f=Math.max(f,h?a.height:0):h&&(p=a.width,f=a.height,f*c>p?p=f*c:f=p/c));var m=ss({aspectRatio:c,width:p,height:f});p=m.width,f=m.height,s.minWidth=p,s.minHeight=f,s.maxWidth=1/0,s.maxHeight=1/0}if(n)if(l>(h?0:1)){var v=i.width-s.width,y=i.height-s.height;s.minLeft=Math.min(0,v),s.minTop=Math.min(0,y),s.maxLeft=Math.max(0,v),s.maxTop=Math.max(0,y),h&&this.limited&&(s.minLeft=Math.min(a.left,a.left+(a.width-s.width)),s.minTop=Math.min(a.top,a.top+(a.height-s.height)),s.maxLeft=a.left,s.maxTop=a.top,l===2&&(s.width>=i.width&&(s.minLeft=Math.min(0,v),s.maxLeft=Math.max(0,v)),s.height>=i.height&&(s.minTop=Math.min(0,y),s.maxTop=Math.max(0,y))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=i.width,s.maxTop=i.height},renderCanvas:function(t,n){var r=this.canvasData,i=this.imageData;if(n){var s=qJ({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),a=s.width,l=s.height,c=r.width*(a/r.naturalWidth),h=r.height*(l/r.naturalHeight);r.left-=(c-r.width)/2,r.top-=(h-r.height)/2,r.width=c,r.height=h,r.aspectRatio=a/l,r.naturalWidth=a,r.naturalHeight=l,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,os(this.canvas,Yt({width:r.width,height:r.height},Fc({translateX:r.left,translateY:r.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var n=this.canvasData,r=this.imageData,i=r.naturalWidth*(n.width/n.naturalWidth),s=r.naturalHeight*(n.height/n.naturalHeight);Yt(r,{width:i,height:s,left:(n.width-i)/2,top:(n.height-s)/2}),os(this.image,Yt({width:r.width,height:r.height},Fc(Yt({translateX:r.left,translateY:r.top},r)))),t&&this.output()},initCropBox:function(){var t=this.options,n=this.canvasData,r=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,s={width:n.width,height:n.height};r&&(n.height*r>n.width?s.height=s.width/r:s.width=s.height*r),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*i),s.height=Math.max(s.minHeight,s.height*i),s.left=n.left+(n.width-s.width)/2,s.top=n.top+(n.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=Yt({},s)},limitCropBox:function(t,n){var r=this.options,i=this.containerData,s=this.canvasData,a=this.cropBoxData,l=this.limited,c=r.aspectRatio;if(t){var h=Number(r.minCropBoxWidth)||0,p=Number(r.minCropBoxHeight)||0,f=l?Math.min(i.width,s.width,s.width+s.left,i.width-s.left):i.width,m=l?Math.min(i.height,s.height,s.height+s.top,i.height-s.top):i.height;h=Math.min(h,i.width),p=Math.min(p,i.height),c&&(h&&p?p*c>h?p=h/c:h=p*c:h?p=h/c:p&&(h=p*c),m*c>f?m=f/c:f=m*c),a.minWidth=Math.min(h,f),a.minHeight=Math.min(p,m),a.maxWidth=f,a.maxHeight=m}n&&(l?(a.minLeft=Math.max(0,s.left),a.minTop=Math.max(0,s.top),a.maxLeft=Math.min(i.width,s.left+s.width)-a.width,a.maxTop=Math.min(i.height,s.top+s.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=i.width-a.width,a.maxTop=i.height-a.height))},renderCropBox:function(){var t=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,t.movable&&t.cropBoxMovable&&_f(this.face,bf,r.width>=n.width&&r.height>=n.height?yR:Dw),os(this.cropBox,Yt({width:r.width,height:r.height},Fc({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ju(this.element,h_,this.getData())}},t2={initPreview:function(){var t=this.element,n=this.crossOrigin,r=this.options.preview,i=n?this.crossOriginUrl:this.url,s=t.alt||"The image to preview",a=document.createElement("img");if(n&&(a.crossOrigin=n),a.src=i,a.alt=s,this.viewBox.appendChild(a),this.viewBoxImage=a,!!r){var l=r;typeof r=="string"?l=t.ownerDocument.querySelectorAll(r):r.querySelector&&(l=[r]),this.previews=l,vn(l,function(c){var h=document.createElement("img");_f(c,gd,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),n&&(h.crossOrigin=n),h.src=i,h.alt=s,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(h)})}},resetPreview:function(){vn(this.previews,function(t){var n=v_(t,gd);os(t,{width:n.width,height:n.height}),t.innerHTML=n.html,BJ(t,gd)})},preview:function(){var t=this.imageData,n=this.canvasData,r=this.cropBoxData,i=r.width,s=r.height,a=t.width,l=t.height,c=r.left-n.left-t.left,h=r.top-n.top-t.top;!this.cropped||this.disabled||(os(this.viewBoxImage,Yt({width:a,height:l},Fc(Yt({translateX:-c,translateY:-h},t)))),vn(this.previews,function(p){var f=v_(p,gd),m=f.width,v=f.height,y=m,_=v,w=1;i&&(w=m/i,_=s*w),s&&_>v&&(w=v/s,y=i*w,_=v),os(p,{width:y,height:_}),os(p.getElementsByTagName("img")[0],Yt({width:a*w,height:l*w},Fc(Yt({translateX:-c*w,translateY:-h*w},t))))}))}},n2={bind:function(){var t=this.element,n=this.options,r=this.cropper;wr(n.cropstart)&&ti(t,m_,n.cropstart),wr(n.cropmove)&&ti(t,p_,n.cropmove),wr(n.cropend)&&ti(t,d_,n.cropend),wr(n.crop)&&ti(t,h_,n.crop),wr(n.zoom)&&ti(t,g_,n.zoom),ti(r,sk,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&ti(r,fk,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&ti(r,ok,this.onDblclick=this.dblclick.bind(this)),ti(t.ownerDocument,ak,this.onCropMove=this.cropMove.bind(this)),ti(t.ownerDocument,uk,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&ti(window,ck,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,n=this.options,r=this.cropper;wr(n.cropstart)&&gi(t,m_,n.cropstart),wr(n.cropmove)&&gi(t,p_,n.cropmove),wr(n.cropend)&&gi(t,d_,n.cropend),wr(n.crop)&&gi(t,h_,n.crop),wr(n.zoom)&&gi(t,g_,n.zoom),gi(r,sk,this.onCropStart),n.zoomable&&n.zoomOnWheel&&gi(r,fk,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&gi(r,ok,this.onDblclick),gi(t.ownerDocument,ak,this.onCropMove),gi(t.ownerDocument,uk,this.onCropEnd),n.responsive&&gi(window,ck,this.onResize)}},r2={resize:function(){if(!this.disabled){var t=this.options,n=this.container,r=this.containerData,i=n.offsetWidth/r.width,s=n.offsetHeight/r.height,a=Math.abs(i-1)>Math.abs(s-1)?i:s;if(a!==1){var l,c;t.restore&&(l=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(vn(l,function(h,p){l[p]=h*a})),this.setCropBoxData(vn(c,function(h,p){c[p]=h*a})))}}},dblclick:function(){this.disabled||this.options.dragMode===wR||this.setDragMode($J(this.dragBox,c_)?_R:Mw)},wheel:function(t){var n=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*r,t)))},cropStart:function(t){var n=t.buttons,r=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(ct(n)&&n!==1||ct(r)&&r!==0||t.ctrlKey))){var i=this.options,s=this.pointers,a;t.changedTouches?vn(t.changedTouches,function(l){s[l.identifier]=vd(l)}):s[t.pointerId||0]=vd(t),Object.keys(s).length>1&&i.zoomable&&i.zoomOnTouch?a=bR:a=v_(t.target,bf),NJ.test(a)&&ju(this.element,m_,{originalEvent:t,action:a})!==!1&&(t.preventDefault(),this.action=a,this.cropping=!1,a===vR&&(this.cropping=!0,kn(this.dragBox,xp)))}},cropMove:function(t){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;t.preventDefault(),ju(this.element,p_,{originalEvent:t,action:n})!==!1&&(t.changedTouches?vn(t.changedTouches,function(i){Yt(r[i.identifier]||{},vd(i,!0))}):Yt(r[t.pointerId||0]||{},vd(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var n=this.action,r=this.pointers;t.changedTouches?vn(t.changedTouches,function(i){delete r[i.identifier]}):delete r[t.pointerId||0],n&&(t.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Pu(this.dragBox,xp,this.cropped&&this.options.modal)),ju(this.element,d_,{originalEvent:t,action:n}))}}},i2={change:function(t){var n=this.options,r=this.canvasData,i=this.containerData,s=this.cropBoxData,a=this.pointers,l=this.action,c=n.aspectRatio,h=s.left,p=s.top,f=s.width,m=s.height,v=h+f,y=p+m,_=0,w=0,E=i.width,k=i.height,I=!0,C;!c&&t.shiftKey&&(c=f&&m?f/m:1),this.limited&&(_=s.minLeft,w=s.minTop,E=_+Math.min(i.width,r.width,r.left+r.width),k=w+Math.min(i.height,r.height,r.top+r.height));var M=a[Object.keys(a)[0]],A={x:M.endX-M.startX,y:M.endY-M.startY},j=function(P){switch(P){case sa:v+A.x>E&&(A.x=E-v);break;case aa:h+A.x<_&&(A.x=_-h);break;case Ho:p+A.y<w&&(A.y=w-p);break;case wu:y+A.y>k&&(A.y=k-y);break}};switch(l){case Dw:h+=A.x,p+=A.y;break;case sa:if(A.x>=0&&(v>=E||c&&(p<=w||y>=k))){I=!1;break}j(sa),f+=A.x,f<0&&(l=aa,f=-f,h-=f),c&&(m=f/c,p+=(s.height-m)/2);break;case Ho:if(A.y<=0&&(p<=w||c&&(h<=_||v>=E))){I=!1;break}j(Ho),m-=A.y,p+=A.y,m<0&&(l=wu,m=-m,p-=m),c&&(f=m*c,h+=(s.width-f)/2);break;case aa:if(A.x<=0&&(h<=_||c&&(p<=w||y>=k))){I=!1;break}j(aa),f-=A.x,h+=A.x,f<0&&(l=sa,f=-f,h-=f),c&&(m=f/c,p+=(s.height-m)/2);break;case wu:if(A.y>=0&&(y>=k||c&&(h<=_||v>=E))){I=!1;break}j(wu),m+=A.y,m<0&&(l=Ho,m=-m,p-=m),c&&(f=m*c,h+=(s.width-f)/2);break;case vc:if(c){if(A.y<=0&&(p<=w||v>=E)){I=!1;break}j(Ho),m-=A.y,p+=A.y,f=m*c}else j(Ho),j(sa),A.x>=0?v<E?f+=A.x:A.y<=0&&p<=w&&(I=!1):f+=A.x,A.y<=0?p>w&&(m-=A.y,p+=A.y):(m-=A.y,p+=A.y);f<0&&m<0?(l=_c,m=-m,f=-f,p-=m,h-=f):f<0?(l=yc,f=-f,h-=f):m<0&&(l=bc,m=-m,p-=m);break;case yc:if(c){if(A.y<=0&&(p<=w||h<=_)){I=!1;break}j(Ho),m-=A.y,p+=A.y,f=m*c,h+=s.width-f}else j(Ho),j(aa),A.x<=0?h>_?(f-=A.x,h+=A.x):A.y<=0&&p<=w&&(I=!1):(f-=A.x,h+=A.x),A.y<=0?p>w&&(m-=A.y,p+=A.y):(m-=A.y,p+=A.y);f<0&&m<0?(l=bc,m=-m,f=-f,p-=m,h-=f):f<0?(l=vc,f=-f,h-=f):m<0&&(l=_c,m=-m,p-=m);break;case _c:if(c){if(A.x<=0&&(h<=_||y>=k)){I=!1;break}j(aa),f-=A.x,h+=A.x,m=f/c}else j(wu),j(aa),A.x<=0?h>_?(f-=A.x,h+=A.x):A.y>=0&&y>=k&&(I=!1):(f-=A.x,h+=A.x),A.y>=0?y<k&&(m+=A.y):m+=A.y;f<0&&m<0?(l=vc,m=-m,f=-f,p-=m,h-=f):f<0?(l=bc,f=-f,h-=f):m<0&&(l=yc,m=-m,p-=m);break;case bc:if(c){if(A.x>=0&&(v>=E||y>=k)){I=!1;break}j(sa),f+=A.x,m=f/c}else j(wu),j(sa),A.x>=0?v<E?f+=A.x:A.y>=0&&y>=k&&(I=!1):f+=A.x,A.y>=0?y<k&&(m+=A.y):m+=A.y;f<0&&m<0?(l=yc,m=-m,f=-f,p-=m,h-=f):f<0?(l=_c,f=-f,h-=f):m<0&&(l=vc,m=-m,p-=m);break;case yR:this.move(A.x,A.y),I=!1;break;case bR:this.zoom(GJ(a),t),I=!1;break;case vR:if(!A.x||!A.y){I=!1;break}C=xR(this.cropper),h=M.startX-C.left,p=M.startY-C.top,f=s.minWidth,m=s.minHeight,A.x>0?l=A.y>0?bc:vc:A.x<0&&(h-=f,l=A.y>0?_c:yc),A.y<0&&(p-=m),this.cropped||(Gi(this.cropBox,Er),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}I&&(s.width=f,s.height=m,s.left=h,s.top=p,this.action=l,this.renderCropBox()),vn(a,function(U){U.startX=U.endX,U.startY=U.endY})}},o2={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&kn(this.dragBox,xp),Gi(this.cropBox,Er),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Yt({},this.initialImageData),this.canvasData=Yt({},this.initialCanvasData),this.cropBoxData=Yt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Yt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Gi(this.dragBox,xp),kn(this.cropBox,Er)),this},replace:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),n?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,vn(this.previews,function(r){r.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Gi(this.cropper,rk)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,kn(this.cropper,rk)),this},destroy:function(){var t=this.element;return t[Kt]?(t[Kt]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=r.left,s=r.top;return this.moveTo(Hy(t)?t:i+Number(t),Hy(n)?n:s+Number(n))},moveTo:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.canvasData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(ct(t)&&(r.left=t,i=!0),ct(n)&&(r.top=n,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,n){var r=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(r.width*t/r.naturalWidth,null,n)},zoomTo:function(t,n,r){var i=this.options,s=this.canvasData,a=s.width,l=s.height,c=s.naturalWidth,h=s.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&i.zoomable){var p=c*t,f=h*t;if(ju(this.element,g_,{ratio:t,oldRatio:a/c,originalEvent:r})===!1)return this;if(r){var m=this.pointers,v=xR(this.cropper),y=m&&Object.keys(m).length?zJ(m):{pageX:r.pageX,pageY:r.pageY};s.left-=(p-a)*((y.pageX-v.left-s.left)/a),s.top-=(f-l)*((y.pageY-v.top-s.top)/l)}else Ou(n)&&ct(n.x)&&ct(n.y)?(s.left-=(p-a)*((n.x-s.left)/a),s.top-=(f-l)*((n.y-s.top)/l)):(s.left-=(p-a)/2,s.top-=(f-l)/2);s.width=p,s.height=f,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),ct(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var n=this.imageData.scaleY;return this.scale(t,ct(n)?n:1)},scaleY:function(t){var n=this.imageData.scaleX;return this.scale(ct(n)?n:1,t)},scale:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=this.imageData,i=!1;return t=Number(t),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(ct(t)&&(r.scaleX=t,i=!0),ct(n)&&(r.scaleY=n,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,i=this.canvasData,s=this.cropBoxData,a;if(this.ready&&this.cropped){a={x:s.left-i.left,y:s.top-i.top,width:s.width,height:s.height};var l=r.width/r.naturalWidth;if(vn(a,function(p,f){a[f]=p/l}),t){var c=Math.round(a.y+a.height),h=Math.round(a.x+a.width);a.x=Math.round(a.x),a.y=Math.round(a.y),a.width=h-a.x,a.height=c-a.y}}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=r.rotate||0),n.scalable&&(a.scaleX=r.scaleX||1,a.scaleY=r.scaleY||1),a},setData:function(t){var n=this.options,r=this.imageData,i=this.canvasData,s={};if(this.ready&&!this.disabled&&Ou(t)){var a=!1;n.rotatable&&ct(t.rotate)&&t.rotate!==r.rotate&&(r.rotate=t.rotate,a=!0),n.scalable&&(ct(t.scaleX)&&t.scaleX!==r.scaleX&&(r.scaleX=t.scaleX,a=!0),ct(t.scaleY)&&t.scaleY!==r.scaleY&&(r.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var l=r.width/r.naturalWidth;ct(t.x)&&(s.left=t.x*l+i.left),ct(t.y)&&(s.top=t.y*l+i.top),ct(t.width)&&(s.width=t.width*l),ct(t.height)&&(s.height=t.height*l),this.setCropBoxData(s)}return this},getContainerData:function(){return this.ready?Yt({},this.containerData):{}},getImageData:function(){return this.sized?Yt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,n={};return this.ready&&vn(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=t[r]}),n},setCanvasData:function(t){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Ou(t)&&(ct(t.left)&&(n.left=t.left),ct(t.top)&&(n.top=t.top),ct(t.width)?(n.width=t.width,n.height=t.width/r):ct(t.height)&&(n.height=t.height,n.width=t.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(t){var n=this.cropBoxData,r=this.options.aspectRatio,i,s;return this.ready&&this.cropped&&!this.disabled&&Ou(t)&&(ct(t.left)&&(n.left=t.left),ct(t.top)&&(n.top=t.top),ct(t.width)&&t.width!==n.width&&(i=!0,n.width=t.width),ct(t.height)&&t.height!==n.height&&(s=!0,n.height=t.height),r&&(i?n.height=n.width/r:s&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=WJ(this.image,this.imageData,n,t);if(!this.cropped)return r;var i=this.getData(t.rounded),s=i.x,a=i.y,l=i.width,c=i.height,h=r.width/Math.floor(n.naturalWidth);h!==1&&(s*=h,a*=h,l*=h,c*=h);var p=l/c,f=ss({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),m=ss({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=ss({aspectRatio:p,width:t.width||(h!==1?r.width:l),height:t.height||(h!==1?r.height:c)}),y=v.width,_=v.height;y=Math.min(f.width,Math.max(m.width,y)),_=Math.min(f.height,Math.max(m.height,_));var w=document.createElement("canvas"),E=w.getContext("2d");w.width=$u(y),w.height=$u(_),E.fillStyle=t.fillColor||"transparent",E.fillRect(0,0,y,_);var k=t.imageSmoothingEnabled,I=k===void 0?!0:k,C=t.imageSmoothingQuality;E.imageSmoothingEnabled=I,C&&(E.imageSmoothingQuality=C);var M=r.width,A=r.height,j=s,U=a,P,z,L,q,ee,Te;j<=-l||j>M?(j=0,P=0,L=0,ee=0):j<=0?(L=-j,j=0,P=Math.min(M,l+j),ee=P):j<=M&&(L=0,P=Math.min(l,M-j),ee=P),P<=0||U<=-c||U>A?(U=0,z=0,q=0,Te=0):U<=0?(q=-U,U=0,z=Math.min(A,c+U),Te=z):U<=A&&(q=0,z=Math.min(c,A-U),Te=z);var xe=[j,U,P,z];if(ee>0&&Te>0){var ie=y/l;xe.push(L*ie,q*ie,ee*ie,Te*ie)}return E.drawImage.apply(E,[r].concat(gR(xe.map(function(Re){return Math.floor($u(Re))})))),w},setAspectRatio:function(t){var n=this.options;return!this.disabled&&!Hy(t)&&(n.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var n=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var s=t===Mw,a=n.movable&&t===_R;t=s||a?t:wR,n.dragMode=t,_f(r,bf,t),Pu(r,c_,s),Pu(r,f_,a),n.cropBoxMovable||(_f(i,bf,t),Pu(i,c_,s),Pu(i,f_,a))}return this}},s2=Ji.Cropper,CR=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bJ(this,e),!t||!LJ.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Yt({},dk,Ou(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _J(e,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),i;if(!n[Kt]){if(n[Kt]=this,r==="img"){if(this.isImg=!0,i=n.getAttribute("src")||"",this.originalUrl=i,!i)return;i=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=n.toDataURL());this.load(i)}}},{key:"load",value:function(n){var r=this;if(n){this.url=n,this.imageData={};var i=this.element,s=this.options;if(!s.rotatable&&!s.scalable&&(s.checkOrientation=!1),!s.checkOrientation||!window.ArrayBuffer){this.clone();return}if(OJ.test(n)){PJ.test(n)?this.read(XJ(n)):this.clone();return}var a=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=a,a.onabort=l,a.onerror=l,a.ontimeout=l,a.onprogress=function(){a.getResponseHeader("content-type")!==hk&&a.abort()},a.onload=function(){r.read(a.response)},a.onloadend=function(){r.reloading=!1,r.xhr=null},s.checkCrossOrigin&&mk(n)&&i.crossOrigin&&(n=gk(n)),a.open("GET",n,!0),a.responseType="arraybuffer",a.withCredentials=i.crossOrigin==="use-credentials",a.send()}}},{key:"read",value:function(n){var r=this.options,i=this.imageData,s=QJ(n),a=0,l=1,c=1;if(s>1){this.url=JJ(n,hk);var h=ZJ(s);a=h.rotate,l=h.scaleX,c=h.scaleY}r.rotatable&&(i.rotate=a),r.scalable&&(i.scaleX=l,i.scaleY=c),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,i=n.crossOrigin,s=r;this.options.checkCrossOrigin&&mk(r)&&(i||(i="anonymous"),s=gk(r)),this.crossOrigin=i,this.crossOriginUrl=s;var a=document.createElement("img");i&&(a.crossOrigin=i),a.src=s||r,a.alt=n.alt||"The image to crop",this.image=a,a.onload=this.start.bind(this),a.onerror=this.stop.bind(this),kn(a,ik),n.parentNode.insertBefore(a,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=Ji.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ji.navigator.userAgent),s=function(h,p){Yt(n.imageData,{naturalWidth:h,naturalHeight:p,aspectRatio:h/p}),n.initialImageData=Yt({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!i){s(r.naturalWidth,r.naturalHeight);return}var a=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=a,a.onload=function(){s(a.width,a.height),i||l.removeChild(a)},a.src=r.src,i||(a.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(a))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,i=this.image,s=n.parentNode,a=document.createElement("div");a.innerHTML=RJ;var l=a.querySelector(".".concat(Kt,"-container")),c=l.querySelector(".".concat(Kt,"-canvas")),h=l.querySelector(".".concat(Kt,"-drag-box")),p=l.querySelector(".".concat(Kt,"-crop-box")),f=p.querySelector(".".concat(Kt,"-face"));this.container=s,this.cropper=l,this.canvas=c,this.dragBox=h,this.cropBox=p,this.viewBox=l.querySelector(".".concat(Kt,"-view-box")),this.face=f,c.appendChild(i),kn(n,Er),s.insertBefore(l,n.nextSibling),Gi(i,ik),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,kn(p,Er),r.guides||kn(p.getElementsByClassName("".concat(Kt,"-dashed")),Er),r.center||kn(p.getElementsByClassName("".concat(Kt,"-center")),Er),r.background&&kn(l,"".concat(Kt,"-bg")),r.highlight||kn(f,AJ),r.cropBoxMovable&&(kn(f,f_),_f(f,bf,Dw)),r.cropBoxResizable||(kn(p.getElementsByClassName("".concat(Kt,"-line")),Er),kn(p.getElementsByClassName("".concat(Kt,"-point")),Er)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),wr(r.ready)&&ti(n,lk,r.ready,{once:!0}),ju(n,lk)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Gi(this.element,Er)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=s2,e}},{key:"setDefaults",value:function(n){Yt(dk,Ou(n)&&n)}}])}();Yt(CR.prototype,e2,t2,n2,r2,i2,o2);const a2={name:"CropperImage",data(){return{cropper:null,imageSrc:null,imageFile:[]}},emits:["isCloseCropper"],props:{tempCropperFile:{type:Object,require:!0}},methods:{initCropper(){this.cropper&&this.cropper.destroy();const e=this.$refs.cropImage;this.cropper=new CR(e,{aspectRatio:1,preview:".img-preview",viewMode:1,data:{x:0,y:0},minContainerHeight:600})},setImage(e){const t=new FileReader;t.readAsDataURL(this.tempCropperFile.file),t.onload=n=>{this.imageSrc=n.target.result,this.$nextTick(()=>{this.initCropper()})}},cropAndSave(){this.cropper.getCroppedCanvas().toBlob(e=>{const t=`cropped_${Date.now()}.jpeg`,n=new File([e],t,{type:"image/jpeg"}),r=URL.createObjectURL(n);this.$emit("isCloseCropper",{isClose:!0,file:n,imgUrl:r,imgType:this.tempCropperFile.imageType})},"image/jpeg")},closeCropper(){this.$emit("isCloseCropper",{isClose:!0}),this.cropper.destroy()}},mounted(){this.initCropper(),this.setImage()},beforeDestroy(){this.cropper&&this.cropper.destroy()}},u2={tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/90 right-0 left-0 z-40 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0"},l2={class:"relative md:top-[20px] md:m-auto w-full max-w-lg h-auto"},c2={class:"relative py-2 text-center bg-zinc-800 rounded-lg shadow dark:bg-gray-800"},f2=S("svg",{"aria-hidden":"true",class:"w-7 h-7",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),h2=[f2],d2={class:"mx-2"},p2={class:"max-w-lg relative"},m2=["src"],g2=S("div",{class:"absolute bottom-0 left-1 docs-preview"},[S("div",{class:"img-preview preview-md"})],-1),v2={class:"flex justify-center items-center mt-3"},y2={class:"w-full"};function b2(e,t,n,r,i,s){return me(),_e("div",u2,[S("div",l2,[S("div",c2,[S("button",{type:"button",class:"text-rose-500 absolute top-2.5 right-2.5 z-50 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[0]||(t[0]=(...a)=>s.closeCropper&&s.closeCropper(...a))},h2),S("div",d2,[S("div",p2,[S("img",{ref:"cropImage",src:i.imageSrc,alt:"Source Image"},null,8,m2),g2]),S("div",v2,[S("div",y2,[S("button",{type:"button",class:"w-full ml-1 py-1 rounded text-white bg-rose-600",onClick:t[1]||(t[1]=(...a)=>s.cropAndSave&&s.cropAndSave(...a))}," 確定裁切 ")])])])])])])}const NR=Nt(a2,[["render",b2]]),_2={data(){return{toggle:!1,message:"",tempCropperFile:{},uploadSignerImgTempUrl:"",uploadAlbumImgTempUrl:"",uploadSchema:{albumSinger:"required",albumName:"required",albumGenre:"required",albumDesc:"required|min:3"},userData:{albumGenre:"America"}}},components:{ToastMessage:Zi,CropperImag:NR},computed:{...Mt(ai,["albumMakeTemp"])},methods:{uploadSubmit(e){},uploadImg(e){return new Promise((t,n)=>{const r=e.target.files[0];if(!r)return;if(!["image/jpeg","image/png","image/jpg","image/bmp"].includes(r.type)){this.toggle=!this.toggle,this.message=this.$t("alertMsg.file_extension_check_alert"),n(new Error("Invalid file type."));return}const s=URL.createObjectURL(r),a=new Image;a.src=s,a.onload=()=>{const l=a.naturalWidth,c=a.naturalHeight;if(l!==c){this.toggle=!this.toggle,this.message=this.$t(""),n(new Error("Invalid image dimensions."));return}else if(l<200&&c<200){this.toggle=!this.toggle,this.message=this.$t("alertMsg.photo_pixel_than_suggetion_alert"),n(new Error("Invalid image dimensions."));return}else t({file:r,imgUrl:s})}})},async uploadSignerImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"signer"}},async uploadAlbumImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"album"}},isCloseCropper(e={}){console.log("setClose => ",e);const{isClose:t,file:n,imgUrl:r,imgType:i}=e;i==="signer"?(this.uploadSignerImgTempUrl=r,this.albumMakeTemp.albumUploadSingnerImgFile=n):i==="album"&&(this.uploadAlbumImgTempUrl=r,this.albumMakeTemp.albumUploadAlbumImgFile=n),t&&(this.tempCropperFile={})}}},w2={class:"p-6"},E2={class:"flex justify-between gap-2"},T2={key:0,class:"mx-auto"},S2=["src"],I2={key:0,class:"mx-auto"},A2=["src"],x2=S("hr",{class:"my-6"},null,-1),k2={class:"inline-block mb-2"},C2={class:"inline-block mb-2"},N2={class:"inline-block mb-2"},O2={class:"bg-gray-700 text-zinc-100",value:"Acoustic"},P2={class:"bg-gray-700 text-zinc-100",value:"Blues"},L2={class:"bg-gray-700 text-zinc-100",value:"Classical"},R2={class:"bg-gray-700 text-zinc-100",value:"Country"},D2={class:"bg-gray-700 text-zinc-100",value:"Dance"},M2={class:"bg-gray-700 text-zinc-100",value:"Drones"},F2={class:"bg-gray-700 text-zinc-100",value:"Dubstep"},U2={class:"bg-gray-700 text-zinc-100",value:"Easy Listening"},V2={class:"bg-gray-700 text-zinc-100",value:"Folk"},$2={class:"bg-gray-700 text-zinc-100",value:"Funk"},j2={class:"bg-gray-700 text-zinc-100",value:"Hip Hop"},B2={class:"bg-gray-700 text-zinc-100",value:"House"},H2={class:"bg-gray-700 text-zinc-100",value:"Kitsch"},G2={class:"bg-gray-700 text-zinc-100",value:"Latin"},z2={class:"bg-gray-700 text-zinc-100",value:"March"},q2={class:"bg-gray-700 text-zinc-100",value:"Metal"},W2={class:"bg-gray-700 text-zinc-100",value:"Opera"},K2={class:"bg-gray-700 text-zinc-100",value:"Pop"},Y2={class:"bg-gray-700 text-zinc-100",value:"Rock"},X2={class:"bg-gray-700 text-zinc-100",value:"Soul"},J2={class:"bg-gray-700 text-zinc-100",value:"Urban / R&B"},Q2={class:"bg-gray-700 text-zinc-100",value:"World Music"},Z2={class:"bg-gray-700 text-zinc-100",value:"Other"},eQ={class:"inline-block mb-2"},tQ={class:"inline-block mb-2"};function nQ(e,t,n,r,i,s){const a=De("ToastMessage"),l=De("CropperImag"),c=De("vee-field"),h=De("ErrorMessage"),p=De("vee-form");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),i.tempCropperFile.file?(me(),ms(l,{key:0,tempCropperFile:i.tempCropperFile,onIsCloseCropper:s.isCloseCropper},null,8,["tempCropperFile","onIsCloseCropper"])):Hr("",!0),S("div",w2,[S("div",E2,[S("label",{class:Ke(["relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"px-10":!i.uploadSignerImgTempUrl,"md:py-20 py-10":!i.uploadSignerImgTempUrl}])},[S("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=f=>s.uploadSignerImg(f))},null,32),i.uploadSignerImgTempUrl?(me(),_e("img",{key:1,src:i.uploadSignerImgTempUrl,alt:""},null,8,S2)):(me(),_e("h6",T2,X(e.$t("makeAlbumPage.upload_singer_photo")),1)),Sa(S("h6",{class:"absolute top-1 left-2 text-rose-500"},X(e.$t("makeAlbumPage.singer_photo")),513),[[Bd,i.uploadSignerImgTempUrl]])],2),S("label",{class:Ke(["relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid",{"px-10":!i.uploadAlbumImgTempUrl,"md:py-20 py-10":!i.uploadAlbumImgTempUrl}])},[S("input",{type:"file",class:"hidden",onChange:t[1]||(t[1]=f=>s.uploadAlbumImg(f))},null,32),i.uploadAlbumImgTempUrl?(me(),_e("img",{key:1,src:i.uploadAlbumImgTempUrl,alt:""},null,8,A2)):(me(),_e("h6",I2,X(e.$t("makeAlbumPage.upload_album_cover")),1)),Sa(S("h6",{class:"absolute top-1 left-2 text-rose-500"},X(e.$t("makeAlbumPage.album_cover")),513),[[Bd,i.uploadAlbumImgTempUrl]])],2)]),x2,ae(p,{"validation-schema":i.uploadSchema,"initial-values":i.userData},{default:Wn(()=>[S("div",null,[S("label",k2,X(e.$t("makeAlbumPage.singer_name")),1),ae(c,{type:"text",name:"albumSinger",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.singer_name"),modelValue:e.albumMakeTemp.albumSinger,"onUpdate:modelValue":t[2]||(t[2]=f=>e.albumMakeTemp.albumSinger=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumSinger"})]),S("div",null,[S("label",C2,X(e.$t("makeAlbumPage.album_name")),1),ae(c,{type:"text",name:"albumName",class:"block w-full py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.album_name"),modelValue:e.albumMakeTemp.albumName,"onUpdate:modelValue":t[3]||(t[3]=f=>e.albumMakeTemp.albumName=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumName"})]),S("div",null,[S("label",N2,X(e.$t("makeAlbumPage.album_genre")),1),ae(c,{as:"select",name:"albumGenre",class:"block h-10 w-full truncate px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",modelValue:e.albumMakeTemp.albumGenre,"onUpdate:modelValue":t[4]||(t[4]=f=>e.albumMakeTemp.albumGenre=f)},{default:Wn(()=>[S("option",O2,X(e.$t("makeAlbumPage.albumGenre.Acoustic")),1),S("option",P2,X(e.$t("makeAlbumPage.albumGenre.Blues")),1),S("option",L2,X(e.$t("makeAlbumPage.albumGenre.Classical")),1),S("option",R2,X(e.$t("makeAlbumPage.albumGenre.Country")),1),S("option",D2,X(e.$t("makeAlbumPage.albumGenre.Dance_Electronica")),1),S("option",M2,X(e.$t("makeAlbumPage.albumGenre.Drones")),1),S("option",F2,X(e.$t("makeAlbumPage.albumGenre.Dubstep")),1),S("option",U2,X(e.$t("makeAlbumPage.albumGenre.Easy_Listening")),1),S("option",V2,X(e.$t("makeAlbumPage.albumGenre.Folk")),1),S("option",$2,X(e.$t("makeAlbumPage.albumGenre.Funk")),1),S("option",j2,X(e.$t("makeAlbumPage.albumGenre.Hip_Hop")),1),S("option",B2,X(e.$t("makeAlbumPage.albumGenre.House")),1),S("option",H2,X(e.$t("makeAlbumPage.albumGenre.Kitsch")),1),S("option",G2,X(e.$t("makeAlbumPage.albumGenre.Latin")),1),S("option",z2,X(e.$t("makeAlbumPage.albumGenre.March"))+"/option> ",1),S("option",q2,X(e.$t("makeAlbumPage.albumGenre.Metal")),1),S("option",W2,X(e.$t("makeAlbumPage.albumGenre.Opera")),1),S("option",K2,X(e.$t("makeAlbumPage.albumGenre.Pop")),1),S("option",Y2,X(e.$t("makeAlbumPage.albumGenre.Rock")),1),S("option",X2,X(e.$t("makeAlbumPage.albumGenre.Soul")),1),S("option",J2,X(e.$t("makeAlbumPage.albumGenre.Urban_R&Bl")),1),S("option",Q2,X(e.$t("makeAlbumPage.albumGenre.World_Music")),1),S("option",Z2,X(e.$t("makeAlbumPage.albumGenre.Other")),1)]),_:1},8,["modelValue"]),ae(h,{class:"text-red-600",name:"albumGenre"})]),S("div",null,[S("label",eQ,X(e.$t("makeAlbumPage.album_desc")),1),ae(c,{as:"textarea",name:"albumDesc",class:"block w-full h-24 py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.descript_your_album"),modelValue:e.albumMakeTemp.albumDesc,"onUpdate:modelValue":t[5]||(t[5]=f=>e.albumMakeTemp.albumDesc=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumDesc"})]),S("div",null,[S("label",tQ,X(e.$t("makeAlbumPage.singer_desc")),1),ae(c,{as:"textarea",name:"albumSingerDesc",class:"block w-full h-24 py-1.5 px-3 mb-4 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("makeAlbumPage.descript_yourself"),modelValue:e.albumMakeTemp.albumSingerDesc,"onUpdate:modelValue":t[6]||(t[6]=f=>e.albumMakeTemp.albumSingerDesc=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumSingerDesc"})])]),_:1},8,["validation-schema","initial-values"])])],64)}const rQ=Nt(_2,[["render",nQ]]),iQ={props:{isShow:{type:Boolean,required:!0}},computed:{...ln($n,["uid"]),...Mt(ai,["albumMakeTemp"])},methods:{...Vn(ai,["initalbumMakeTemp"]),async releaseToPublic(){const{albumID:e}=this.albumMakeTemp,t=si.doc("fundraising"),n=await t.get();try{if(await t.collection(this.uid).doc(e).update({isRelease:!0}),n.exists){let s=n.data().items;s.forEach(a=>(a.albumID===e&&(a.isRelease=!0),a)),await t.update({items:s})}const i=this.albumMakeTemp.albumSinger;this.initalbumMakeTemp(),this.$router.push({name:"album",params:{gener:"fundraising",albumSinger:i}})}catch(r){console.log("error => ",r)}},goToHome(){this.initalbumMakeTemp(),this.$router.push({name:"home"})}}},oQ={class:"relative top-[120px] md:m-auto w-full max-w-sm h-auto"},sQ={class:"relative py-4 text-center bg-zinc-800/90 rounded-lg shadow dark:bg-gray-800"},aQ=S("svg",{class:"text-green-400 w-7 h-7 mb-1 mx-auto","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[S("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})],-1),uQ={class:"flex items-center justify-around pt-2 py-5"},lQ={class:"flex-1 text-gray-300 dark:text-gray-300 text-center"},cQ={class:"flex justify-center items-center space-x-4"};function fQ(e,t,n,r,i,s){return me(),_e("div",{id:"deleteModal",tabindex:"-1","aria-hidden":"true",class:Ke(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/50 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:!n.isShow}])},[S("div",oQ,[S("div",sQ,[aQ,S("div",uQ,[S("p",lQ,X(e.$t("alertMsg.album_complete_alert")),1)]),S("div",cQ,[S("button",{"data-modal-toggle":"deleteModal",type:"button",class:"py-2 px-3 text-sm font-medium text-zinc-200 bg-black/10 rounded-lg border border-gray-500 hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",onClick:t[0]||(t[0]=qe(a=>s.goToHome(),["prevent"]))},X(e.$t("button.publish_later")),1),S("button",{type:"submit",class:"py-2 px-3 text-sm font-medium text-center text-white bg-green-500/80 rounded-lg hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-red-300 dark:bg-red-500/ dark:hover:bg-red-600 dark:focus:ring-red-900",onClick:t[1]||(t[1]=qe(a=>s.releaseToPublic(),["prevent"]))},X(e.$t("button.yes")),1)])])])],2)}const hQ=Nt(iQ,[["render",fQ]]),dQ={data(){return{toggle:!1,message:"",success:!1,uploadsTemp:[],uploadAvilable:!0,isComplete:!1,showLoading:!1}},components:{toastMessage:Zi,alertCompleteConfirm:hQ,Loading:Wf},computed:{...Mt(ai,["albumMakeTemp"]),...Mt(Xi,["isShowAlertConfirm"]),...ln($n,["uid"]),canBeSubmit(){if(this.uid==""||this.albumMakeTemp.albumSinger==""||this.albumMakeTemp.albumName==""||this.albumMakeTemp.albumDesc==""||!this.albumMakeTemp.albumUploadSingnerImgFile.lastModified||!this.albumMakeTemp.albumUploadAlbumImgFile.lastModified||this.uploadsTemp.length===0)return!0}},methods:{uploadSong(e){[...e.target.files].forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=`${n.name}非mp3檔，請重傳`;return}this.uploadsTemp.push({file:n,current_progress:0,icon:"",text_class:"",variant:"",isUploadComplete:!1,isUploading:!1})})},async uploadImage(e){return this.showLoading=!0,new Promise((t,n)=>{const s=ri.ref().child(`images/${e.name}`).put(e);s.on("state_changed",a=>{},a=>{console.error("error => ",a),n(a)},async()=>{try{const a=await s.snapshot.ref.getDownloadURL();t(a)}catch(a){console.error("error => ",a),n(a)}})})},async uploadSignerImg(){const e=this.albumMakeTemp.albumUploadSingnerImgFile,t=await this.uploadImage(e);this.albumMakeTemp.albumSingerImg=t},async uploadAlbumImg(){const e=this.albumMakeTemp.albumUploadAlbumImgFile,t=await this.uploadImage(e);this.albumMakeTemp.albumImg=t},async storeToAlbum(){const e=`album_${Date.now()}_${Math.floor(Math.random()*1e4)}`;this.albumMakeTemp.albumID=e;const t={uid:this.uid,albumDesc:this.albumMakeTemp.albumDesc,albumImg:this.albumMakeTemp.albumImg,albumName:this.albumMakeTemp.albumName,albumSinger:this.albumMakeTemp.albumSinger,albumGenre:this.albumMakeTemp.albumGenre.toLocaleLowerCase(),albumSingerDesc:this.albumMakeTemp.albumSingerDesc,albumSingerImg:this.albumMakeTemp.albumSingerImg,albumID:e,isRelease:!1,type:"member_fundraising",createdAt:Fe.firestore.FieldValue.serverTimestamp(),fundraising_total:5e5,fundraising_raised:0,fundraising_count:0,fundraising_dueDate:"2024-11-01"},n=si.doc("fundraising"),r=bw.doc(this.uid);try{(await n.get()).exists?(await n.collection(this.uid).doc(e).set(t),t.createdAt=Date.now(),await n.update({items:Fe.firestore.FieldValue.arrayUnion(t)})):(await si.doc("fundraising").collection(this.uid).doc(e).set(t),t.createdAt=Date.now(),await si.doc("fundraising").set({items:[t]})),await r.update({albums:Fe.firestore.FieldValue.arrayUnion(e)})}catch(i){console.error("Error updating document: ",i);return}},async storeToSong(){this.showLoading=!1,this.uploadsTemp.forEach((e,t)=>{const i=ri.ref().child(`fundraising_songss/${e.file.name}`).put(e.file);this.uploadsTemp[t].icon="fas fa-spinner fa-spin",this.uploadsTemp[t].variant="bg-blue-400",this.uploadsTemp[t].isUploading=!0,i.on("state_changed",s=>{let a=s.bytesTransferred/s.totalBytes*100;this.uploadsTemp[t].current_progress=a},s=>{this.uploadsTemp[t].variant="bg-red-400",this.uploadsTemp[t].icon="fa fa-times",this.uploadsTemp[t].text_class="text-red-400"},async()=>{try{const s={albumID:this.albumMakeTemp.albumID,album:this.albumMakeTemp.albumName,coverImg:this.albumMakeTemp.albumImg,uid:this.uid,display_name:this.albumMakeTemp.albumSinger,original_name:i.snapshot.ref.name,modified_name:yn.formatSongName(i.snapshot.ref.name),genre:this.albumMakeTemp.albumGenre.toLowerCase(),comment_count:0,type:"member_fundingraise",createdAt:Fe.firestore.FieldValue.serverTimestamp()};s.url=await i.snapshot.ref.getDownloadURL(),await zr.add(s)}catch(s){console.log("error => ",s);return}this.uploadsTemp[t].variant="bg-green-400",this.uploadsTemp[t].icon="fa fa-check",this.uploadsTemp[t].text_class="text-green-400",this.uploadsTemp[t].isUploadComplete=!0,this.uploadsTemp.length-1===t&&(this.isComplete=!0,this.uploadAvilable=!1)})})},deleteSong(e){this.uploadsTemp.length<1||this.uploadsTemp.splice(e,1)},async submit(){await this.uploadSignerImg(),await this.uploadAlbumImg(),await this.storeToAlbum(),await this.storeToSong()},formatIndex:yn.formatIndex,formatSongName:yn.formatSongName},mounted(){this.uid||(this.toggle=!this.toggle,this.message=this.$t("ErroMsg.login_to_use"))}},pQ={class:"p-6"},mQ={class:"cursor-pointer py-1.5 px-3 mr-2 rounded text-zinc-100 bg-rose-500 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400"},gQ={class:"mt-4"},vQ={class:"mb-3 border-b-2 border-[#fff]/30 pb-2"},yQ={class:"flex items-center justify-between"},bQ={class:"overflow-hidden flex items-center"},_Q={class:"pl-2 truncate"},wQ={class:""},EQ=["onClick"],TQ=S("i",{class:"fa fa-times"},null,-1),SQ=[TQ],IQ={key:0,class:"flex h-4 mt-1 overflow-hidden bg-gray-200 rounded"},AQ={class:"flex justify-between items-center"},xQ={class:"text-sm text-pink-600"},kQ=["disabled"];function CQ(e,t,n,r,i,s){const a=De("Loading"),l=De("alertCompleteConfirm"),c=De("toastMessage");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l,{isShow:i.isComplete},null,8,["isShow"]),ae(c,{toggle:i.toggle,message:i.message,success:i.success},null,8,["toggle","message","success"]),S("div",pQ,[S("label",mQ,[S("input",{type:"file",class:"hidden",multiple:"",onChange:t[0]||(t[0]=h=>s.uploadSong(h))},null,32),S("span",null,X(e.$t("button.upload_song")),1)]),S("div",gQ,[S("p",vQ,X(e.$t("makeAlbumPage.the_song_you_want_to_upload"))+": ",1),(me(!0),_e(vt,null,qi(i.uploadsTemp,(h,p)=>(me(),_e("div",{class:"mb-4",key:h.file.name},[S("div",{class:Ke(["border border-zinc-200 p-2 mb-4 rounded font-bold text-sm",h.text_class])},[S("div",yQ,[S("div",bQ,[S("i",{class:Ke(h.icon)},null,2),S("p",_Q,X(s.formatIndex(p))+". "+X(s.formatSongName(h.file.name)),1)]),S("div",wQ,[h.isUploadComplete?Hr("",!0):(me(),_e("button",{key:0,class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(f=>s.deleteSong(p),["prevent"])},SQ,8,EQ))])])],2),h.isUploading?(me(),_e("div",IQ,[S("div",{class:Ke(["transition-all progress-bar",h.variant]),style:jr({width:h.current_progress+"%"})},null,6)])):Hr("",!0)]))),128)),S("div",AQ,[S("div",{class:Ke({"opacity-0":e.uid})},[S("span",xQ,X(e.$t("alertMsg.registered_yet")),1)],2),i.uploadAvilable?(me(),_e("button",{key:0,type:"submit",class:"py-1 px-3 mr-2 rounded text-zinc-100 bg-rose-500 w-30 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",disabled:s.canBeSubmit,onClick:t[1]||(t[1]=(...h)=>s.submit&&s.submit(...h))},X(e.$t("button.confirm_upload")),9,kQ)):Hr("",!0)])])])],64)}const NQ=Nt(dQ,[["render",CQ]]),OQ={components:{UploadImageMakeAlbum:rQ,UploadSongMakeAlbum:NQ}},PQ={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},LQ={class:"container mx-auto pt-1 pr-1 md:pr-0"},RQ={class:"md:grid md:grid-cols-3 md:gap-4"},DQ={class:"col-span-1"},MQ={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},FQ={class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},UQ={class:"card-title"},VQ=S("i",{class:"fa fa-music float-right text-rose-400 text-xl"},null,-1),$Q={class:"col-span-2 mt-3 md:mt-0"},jQ={class:"bg-zinc-900 rounded border border-gray-200 relative flex flex-col"},BQ={class:"px-6 pt-5 pb-3 font-bold border-b border-gray-200"},HQ={class:"card-title"},GQ=S("i",{class:"fa fa-upload float-right text-rose-400 text-xl"},null,-1);function zQ(e,t,n,r,i,s){const a=De("UploadImageMakeAlbum"),l=De("UploadSongMakeAlbum");return me(),_e("main",PQ,[S("section",LQ,[S("div",RQ,[S("div",DQ,[S("div",MQ,[S("div",FQ,[S("span",UQ,X(e.$t("makeAlbumPage.start_to_make_album_title")),1),VQ]),ae(a)])]),S("div",$Q,[S("div",jQ,[S("div",BQ,[S("span",HQ,X(e.$t("makeAlbumPage.upload_your_song_title")),1),GQ]),ae(l)])])])])])}const qQ=Nt(OQ,[["render",zQ]]),WQ={data(){return{toggle:!1,message:"",tempCropperFile:{},uploadSignerImgTempUrl:"",uploadAlbumImgTempUrl:"",uploadSchema:{albumSinger:"required",albumName:"required",albumGenre:"required",albumDesc:"required|min:3"},userData:{albumGenre:"America"}}},props:["isClose"],components:{ToastMessage:Zi,CropperImag:NR},computed:{...Mt(ai,["albumEditTemp"])},methods:{async uploadSignerImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"signer"}},async uploadAlbumImg(e){const{file:t,showAlert:n,message:r}=await yn.uploadImg(e);if(n){this.toggle=!this.toggle,this.message=r;return}this.tempCropperFile={file:t,imageType:"album"}},isCloseCropper(e={}){const{isClose:t,file:n,imgUrl:r,imgType:i}=e;i==="signer"?(this.uploadSignerImgTempUrl=r,this.albumEditTemp.albumUploadSingnerImgFile=n):i==="album"&&(this.uploadAlbumImgTempUrl=r,this.albumEditTemp.albumUploadAlbumImgFile=n),t&&(this.tempCropperFile={})}},watch:{isClose(){this.isClose||(this.uploadSignerImgTempUrl="",this.uploadAlbumImgTempUrl="")}}},KQ={class:"md:order-1 md:w-[50%] w-full rounded border border-gray-200/70 px-3"},YQ={class:"px-1 pt-6 pb-3 font-bold border-b border-gray-200 flex justify-between"},XQ={class:"card-title"},JQ=S("i",{class:"fa fa-music float-right text-rose-400 text-xl"},null,-1),QQ={class:"flex justify-between gap-5 mt-3"},ZQ={class:"relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid"},eZ=["src"],tZ={class:"absolute top-1 left-2 text-rose-500"},nZ={class:"relative flex justify-center w-64 px-1 py-1 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-00 hover:text-white hover:bg-rose-500/40 hover:border-rose-500 hover:border-solid"},rZ=["src"],iZ={class:"absolute top-1 left-2 text-rose-500"},oZ=S("div",{class:"my-4 border-b-[1.5px] border-zinc-500"},null,-1),sZ={class:"flex justify-start pl-1"},aZ={class:"inline-flex items-center mb-3 cursor-pointer"},uZ={class:"mr-5 truncate"},lZ=S("div",{class:"relative w-9 h-5 bg-white/20 border-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-rose-300 dark:peer-focus:ring-rose-500 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-rose-200 after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-rose-500"},null,-1),cZ={key:0,class:"truncate pl-2 text-emerald-500"},fZ=S("i",{class:"fas fa-check-circle"},null,-1),hZ={key:1,class:"truncate pl-2 text-rose-600"},dZ=S("i",{class:"fas fa-bell"},null,-1),pZ={class:"flex gap-2 items-center mb-3"},mZ={class:"flex gap-2 items-center mb-3"},gZ={class:"flex gap-2 items-center mb-3"},vZ={class:"bg-gray-700 text-zinc-100",value:"Acoustic"},yZ={class:"bg-gray-700 text-zinc-100",value:"Blues"},bZ={class:"bg-gray-700 text-zinc-100",value:"Classical"},_Z={class:"bg-gray-700 text-zinc-100",value:"Country"},wZ={class:"bg-gray-700 text-zinc-100",value:"Dance"},EZ={class:"bg-gray-700 text-zinc-100",value:"Drones"},TZ={class:"bg-gray-700 text-zinc-100",value:"Dubstep"},SZ={class:"bg-gray-700 text-zinc-100",value:"Easy Listening"},IZ={class:"bg-gray-700 text-zinc-100",value:"Folk"},AZ={class:"bg-gray-700 text-zinc-100",value:"Funk"},xZ={class:"bg-gray-700 text-zinc-100",value:"Hip Hop"},kZ={class:"bg-gray-700 text-zinc-100",value:"House"},CZ={class:"bg-gray-700 text-zinc-100",value:"Kitsch"},NZ={class:"bg-gray-700 text-zinc-100",value:"Latin"},OZ={class:"bg-gray-700 text-zinc-100",value:"March"},PZ={class:"bg-gray-700 text-zinc-100",value:"Metal"},LZ={class:"bg-gray-700 text-zinc-100",value:"Opera"},RZ={class:"bg-gray-700 text-zinc-100",value:"Pop"},DZ={class:"bg-gray-700 text-zinc-100",value:"Rock"},MZ={class:"bg-gray-700 text-zinc-100",value:"Soul"},FZ={class:"bg-gray-700 text-zinc-100",value:"Urban / R&B"},UZ={class:"bg-gray-700 text-zinc-100",value:"World Music"},VZ={class:"bg-gray-700 text-zinc-100",value:"Other"},$Z={class:"flex gap-2 items-center mb-3"},jZ={class:"flex gap-2 items-center mb-3"};function BZ(e,t,n,r,i,s){const a=De("ToastMessage"),l=De("CropperImag"),c=De("vee-field"),h=De("ErrorMessage"),p=De("vee-form");return me(),_e(vt,null,[ae(a,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),i.tempCropperFile.file?(me(),ms(l,{key:0,tempCropperFile:i.tempCropperFile,onIsCloseCropper:s.isCloseCropper},null,8,["tempCropperFile","onIsCloseCropper"])):Hr("",!0),S("div",KQ,[S("div",YQ,[S("span",XQ,X(e.$t("memberMamagePage.editAlbum.album_info")),1),JQ]),S("div",QQ,[S("label",ZQ,[S("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=f=>s.uploadSignerImg(f))},null,32),S("img",{src:i.uploadSignerImgTempUrl?i.uploadSignerImgTempUrl:e.albumEditTemp.albumSingerImg,alt:""},null,8,eZ),S("h6",tZ,X(e.$t("makeAlbumPage.singer_photo")),1)]),S("label",nZ,[S("input",{type:"file",class:"hidden",onChange:t[1]||(t[1]=f=>s.uploadAlbumImg(f))},null,32),S("img",{src:i.uploadAlbumImgTempUrl?i.uploadAlbumImgTempUrl:e.albumEditTemp.albumImg,alt:""},null,8,rZ),S("h6",iZ,X(e.$t("makeAlbumPage.album_cover")),1)])]),oZ,S("div",sZ,[S("label",aZ,[S("span",uZ,X(e.$t("memberMamagePage.editAlbum.make_album_public"))+" :",1),Sa(S("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=f=>e.albumEditTemp.isRelease=f),class:"sr-only peer",onChange:t[3]||(t[3]=(...f)=>e.updateRelease&&e.updateRelease(...f))},null,544),[[j$,e.albumEditTemp.isRelease]]),lZ,e.albumEditTemp.isRelease?(me(),_e("span",cZ,[Hc(X(e.$t("memberMamagePage.editAlbum.album_is_public"))+" ",1),fZ])):(me(),_e("span",hZ,[Hc(X(e.$t("memberMamagePage.editAlbum.album_is_private"))+" ",1),dZ]))])]),ae(p,{"validation-schema":i.uploadSchema,"initial-values":i.userData},{default:Wn(()=>[S("div",pZ,[S("label",{class:Ke({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},X(e.$t("memberMamagePage.editAlbum.singer_name"))+" :",3),ae(c,{type:"text",name:"albumSinger",class:"flex-1 py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.singer_name"),modelValue:e.albumEditTemp.albumSinger,"onUpdate:modelValue":t[4]||(t[4]=f=>e.albumEditTemp.albumSinger=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumSinger"})]),S("div",mZ,[S("label",{class:Ke({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},X(e.$t("memberMamagePage.editAlbum.album_name"))+" :",3),ae(c,{type:"text",name:"albumName",class:"flex-1 py-1.5 px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.album_name"),modelValue:e.albumEditTemp.albumName,"onUpdate:modelValue":t[5]||(t[5]=f=>e.albumEditTemp.albumName=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumName"})]),S("div",gZ,[S("label",{class:Ke({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},X(e.$t("memberMamagePage.editAlbum.album_genre"))+" :",3),ae(c,{as:"select",name:"albumGenre",class:"flex-1 h-10 max-w-[75%] md:max-w-full truncate px-3 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",modelValue:e.albumEditTemp.albumGenre,"onUpdate:modelValue":t[6]||(t[6]=f=>e.albumEditTemp.albumGenre=f)},{default:Wn(()=>[S("option",vZ,X(e.$t("makeAlbumPage.albumGenre.Acoustic")),1),S("option",yZ,X(e.$t("makeAlbumPage.albumGenre.Blues")),1),S("option",bZ,X(e.$t("makeAlbumPage.albumGenre.Classical")),1),S("option",_Z,X(e.$t("makeAlbumPage.albumGenre.Country")),1),S("option",wZ,X(e.$t("makeAlbumPage.albumGenre.Dance_Electronica")),1),S("option",EZ,X(e.$t("makeAlbumPage.albumGenre.Drones")),1),S("option",TZ,X(e.$t("makeAlbumPage.albumGenre.Dubstep")),1),S("option",SZ,X(e.$t("makeAlbumPage.albumGenre.Easy_Listening")),1),S("option",IZ,X(e.$t("makeAlbumPage.albumGenre.Folk")),1),S("option",AZ,X(e.$t("makeAlbumPage.albumGenre.Funk")),1),S("option",xZ,X(e.$t("makeAlbumPage.albumGenre.Hip_Hop")),1),S("option",kZ,X(e.$t("makeAlbumPage.albumGenre.House")),1),S("option",CZ,X(e.$t("makeAlbumPage.albumGenre.Kitsch")),1),S("option",NZ,X(e.$t("makeAlbumPage.albumGenre.Latin")),1),S("option",OZ,X(e.$t("makeAlbumPage.albumGenre.March"))+"/option> ",1),S("option",PZ,X(e.$t("makeAlbumPage.albumGenre.Metal")),1),S("option",LZ,X(e.$t("makeAlbumPage.albumGenre.Opera")),1),S("option",RZ,X(e.$t("makeAlbumPage.albumGenre.Pop")),1),S("option",DZ,X(e.$t("makeAlbumPage.albumGenre.Rock")),1),S("option",MZ,X(e.$t("makeAlbumPage.albumGenre.Soul")),1),S("option",FZ,X(e.$t("makeAlbumPage.albumGenre.Urban_R&Bl")),1),S("option",UZ,X(e.$t("makeAlbumPage.albumGenre.World_Music")),1),S("option",VZ,X(e.$t("makeAlbumPage.albumGenre.Other")),1)]),_:1},8,["modelValue"]),ae(h,{class:"text-red-600",name:"albumGenre"})]),S("div",$Z,[S("label",{class:Ke({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},X(e.$t("memberMamagePage.editAlbum.singer_desc"))+" :",3),ae(c,{as:"textarea",name:"albumSingerDesc",class:"flex-1 py-1.5 px-3 h-20 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.singer_desc"),modelValue:e.albumEditTemp.albumSingerDesc,"onUpdate:modelValue":t[7]||(t[7]=f=>e.albumEditTemp.albumSingerDesc=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumSingerDesc"})]),S("div",jZ,[S("label",{class:Ke({"w-20":e.$i18n.locale==="zh","w-28":e.$i18n.locale==="en",truncate:e.$i18n.locale==="en"})},X(e.$t("memberMamagePage.editAlbum.album_desc"))+" :",3),ae(c,{as:"textarea",name:"albumDesc",class:"flex-1 py-1.5 px-3 h-20 bg-white/10 text-zinc-100 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:e.$t("memberMamagePage.editAlbum.album_desc"),modelValue:e.albumEditTemp.albumDesc,"onUpdate:modelValue":t[8]||(t[8]=f=>e.albumEditTemp.albumDesc=f)},null,8,["placeholder","modelValue"]),ae(h,{class:"text-pink-600",name:"albumDesc"})])]),_:1},8,["validation-schema","initial-values"])])],64)}const HZ=Nt(WQ,[["render",BZ]]),GZ={data(){return{showLoading:!1,toggle:!1,message:"",uploadsNesSongs:[],deleteAlbumSongs:[]}},props:["isClose"],components:{Loading:Wf,toastMessage:Zi},computed:{...Mt(ai,["albumEditTemp"]),...ln($n,["uid"])},methods:{...Vn(ai,["initalbumEditTemp"]),async imageHandler(e){return new Promise((t,n)=>{const r=ri.ref(),i=this.albumEditTemp.albumUploadSingnerImgFile,s=this.albumEditTemp.albumUploadAlbumImgFile,a=ri.refFromURL(this.albumEditTemp.albumSingerImg),l=ri.refFromURL(this.albumEditTemp.albumImg);if(e==="singerImg"&&i.lastModified){const h=r.child(`images/${i.name}`).put(i);h.on("state_changed",p=>{},p=>{console.error("error => ",p),n(p)},async()=>{try{await a.delete();const p=await h.snapshot.ref.getDownloadURL();t(p)}catch(p){console.error("error => ",p)}})}else if(e==="albumImg"&&s.lastModified){const h=r.child(`images/${s.name}`).put(s);h.on("state_changed",p=>{},p=>{console.error("error => ",p),n(p)},async()=>{try{await l.delete();const p=await h.snapshot.ref.getDownloadURL();console.log("ImgUrl_album => ",p),t(p)}catch(p){console.error("error => ",p)}})}else t()})},async updateAlbumData(){const e=si.doc("fundraising"),t=await e.get(),n=e.collection(this.uid).doc(this.albumEditTemp.albumID),r={...this.albumEditTemp,albumGenre:this.albumEditTemp.albumGenre.toLocaleLowerCase()};delete r.albumUploadAlbumImgFile,delete r.albumUploadSingnerImgFile,delete r.albumSongs,delete r.isLoading;const i=t.data().items.map(s=>this.albumEditTemp.albumID===s.albumID?{...s,...r}:s);await e.update({items:i}),await n.update({...r})},async updateSongData(){console.log("this.albumEditTemp => ",this.albumEditTemp),(await zr.where("albumID","==",this.albumEditTemp.albumSongs[0].albumID).get()).forEach(t=>{t.ref.update({display_name:this.albumEditTemp.albumSinger,coverImg:this.albumEditTemp.albumImg,album:this.albumEditTemp.albumName})})},addNewSong(e){[...e.target.files].forEach(n=>{if(n.type!=="audio/mpeg"){this.toggle=!this.toggle,this.message=this.$t("alertMsg.non_mp3_file_alert",{file:n.name});return}this.uploadsNesSongs.push(n)})},deleteAlbumSong(e,t,n){this.albumEditTemp.albumSongs.length>1?(this.deleteAlbumSongs.push({songUrl:e,docID:t}),this.albumEditTemp.albumSongs.splice(n,1)):(this.toggle=!this.toggle,this.message=this.$t("alertMsg.at_leaset_one_alert"))},async deleteSongFromStorage(){const e=this.deleteAlbumSongs;if(!(e.length<1))return new Promise((t,n)=>{e.forEach(async(r,i)=>{const s=ri.refFromURL(r.songUrl);console.log("songRef => ",s);try{await s.delete(),await zr.doc(r.docID).delete(),i===e.length-1&&t()}catch(a){console.log("catch_error => ",a)}})})},async storeToSong(){const e=this.uploadsNesSongs;if(!(e.length<1))return new Promise((t,n)=>{e.forEach((r,i)=>{const l=ri.ref().child(`fundraising_songss/${r.name}`).put(r);l.on("state_changed",c=>{},c=>{console.log("task_error => ",c)},async()=>{try{const c={albumID:this.albumEditTemp.albumID,album:this.albumEditTemp.albumName,coverImg:this.albumEditTemp.albumImg,uid:this.uid,display_name:this.albumEditTemp.albumSinger,original_name:l.snapshot.ref.name,modified_name:yn.formatSongName(l.snapshot.ref.name),genre:this.albumEditTemp.albumGenre.toLowerCase(),comment_count:0,type:"member_fundingraise",createdAt:Fe.firestore.FieldValue.serverTimestamp()};c.url=await l.snapshot.ref.getDownloadURL(),await zr.add(c),i===e.length-1&&t()}catch(c){console.log("catch_error => ",c);return}})})})},async submitHandler(){this.showLoading=!0,this.albumEditTemp.albumSingerImg=await this.imageHandler("singerImg")||this.albumEditTemp.albumSingerImg,this.albumEditTemp.albumImg=await this.imageHandler("albumImg")||this.albumEditTemp.albumImg,await this.updateAlbumData(),await this.updateSongData(),await this.storeToSong(),await this.deleteSongFromStorage(),window.location.reload()},deleteNewSong(e){this.uploadsNesSongs.length<1||this.uploadsNesSongs.splice(e,1)},formatIndex:yn.formatIndex,formatSongName:yn.formatSongName},watch:{isClose(){this.isClose||(this.deleteAlbumSongs=[],this.uploadsNesSongs=[])}}},zZ={class:"md:order-2 flex-1 rounded border border-gray-200/70 px-3"},qZ={class:"px-1 pt-6 pb-3 font-bold border-b border-gray-200 flex justify-between"},WZ={class:"card-title"},KZ=S("i",{class:"fa fa-upload float-right text-rose-400 text-xl"},null,-1),YZ={class:"mt-3"},XZ={class:"flex items-center justify-between"},JZ={class:"overflow-hidden flex items-center"},QZ=S("i",null,null,-1),ZZ={class:"pl-2 truncate"},eee={class:""},tee=["onClick"],nee=S("i",{class:"fa fa-times"},null,-1),ree=[nee],iee={class:"flex items-center justify-between"},oee={class:"overflow-hidden flex items-center"},see=S("span",{class:"text-rose-500 italic"},"new",-1),aee={class:"pl-2 truncate"},uee={class:""},lee=["onClick"],cee=S("i",{class:"fa fa-times"},null,-1),fee=[cee],hee={class:"flex justify-between items-center mb-3"},dee={class:"cursor-pointer"},pee=S("i",{class:"fas fa-plus-square text-rose-500 text-3xl md:text-2xl"},null,-1);function mee(e,t,n,r,i,s){const a=De("Loading"),l=De("toastMessage");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l,{toggle:i.toggle,message:i.message,success:!1},null,8,["toggle","message"]),S("div",zZ,[S("div",qZ,[S("span",WZ,X(e.$t("memberMamagePage.editAlbum.uploaded_song_list")),1),KZ]),S("div",YZ,[(me(!0),_e(vt,null,qi(e.albumEditTemp.albumSongs,(c,h)=>(me(),_e("div",{key:h,class:"border border-zinc-200 p-2 mb-4 rounded font-bold text-sm"},[S("div",XZ,[S("div",JZ,[QZ,S("p",ZZ,X(s.formatIndex(h))+". "+X(c.modified_name),1)]),S("div",eee,[S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(p=>s.deleteAlbumSong(c.url,c.docID,h),["prevent"])},ree,8,tee)])])]))),128)),(me(!0),_e(vt,null,qi(i.uploadsNesSongs,(c,h)=>(me(),_e("div",{key:c.lastModified,class:"border border-zinc-200 p-2 mb-4 rounded text-sm"},[S("div",iee,[S("div",oee,[see,S("p",aee,X(s.formatSongName(c.name)),1)]),S("div",uee,[S("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-rose-600",onClick:qe(p=>s.deleteNewSong(h),["prevent"])},fee,8,lee)])])]))),128)),S("div",hee,[S("label",dee,[S("input",{type:"file",class:"hidden",multiple:"",onChange:t[0]||(t[0]=c=>s.addNewSong(c))},null,32),pee]),S("button",{type:"button",class:"w-auto py-1 px-3 rounded text-zinc-100 bg-rose-500 w-30 hover:bg-rose-600 disabled:bg-zinc-700 disabled:text-zinc-400",onClick:t[1]||(t[1]=(...c)=>s.submitHandler&&s.submitHandler(...c))},X(e.$t("button.confirm")),1)])])])],64)}const gee=Nt(GZ,[["render",mee]]),vee={data(){return{close:!0,showLoading:!1}},props:["toggle","albumID"],emits:["closeTheWindow"],components:{SongInfoEdit:HZ,SongUploadedEdit:gee,Loading:Wf},computed:{...ln(Xi,["isShowAlertConfirm"]),...ln($n,["uid"]),...Mt(ai,["albumEditTemp"])},methods:{...Vn(ai,["initalbumEditTemp"]),closeAlbumInfo(){this.close=!0,this.$emit("closeTheWindow",{closed:!0}),this.initalbumEditTemp()},async getAlbumData(e){this.showLoading=!0;const n=(await si.doc("fundraising").collection(this.uid).doc(e).get()).data();this.albumEditTemp.albumDesc=n.albumDesc,this.albumEditTemp.isRelease=n.isRelease,this.albumEditTemp.albumGenre=n.albumGenre[0].toUpperCase()+n.albumGenre.substring(1),this.albumEditTemp.albumID=n.albumID,this.albumEditTemp.albumImg=n.albumImg,this.albumEditTemp.albumName=n.albumName,this.albumEditTemp.albumSinger=n.albumSinger,this.albumEditTemp.albumSingerDesc=n.albumSingerDesc,this.albumEditTemp.albumSingerImg=n.albumSingerImg},async getSongs(e){(await zr.where("albumID","==",e).get()).forEach(n=>{this.albumEditTemp.albumSongs.push({...n.data(),docID:n.id})})}},watch:{toggle(){this.close=!1},async albumID(){this.albumID&&(await this.getAlbumData(this.albumID),await this.getSongs(this.albumID),this.showLoading=!1)}}},yee={class:"relative top-[10px] md:m-auto w-full max-w-5xl h-auto"},bee={class:"relative py-2 text-center bg-zinc-800 rounded-lg shadow dark:bg-gray-800"},_ee=S("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[S("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),wee=S("span",{class:"sr-only"},"Close modal",-1),Eee=[_ee,wee],Tee={class:"mx-2 flex justify-between md:flex-row flex-col gap-3"};function See(e,t,n,r,i,s){const a=De("Loading"),l=De("SongInfoEdit"),c=De("SongUploadedEdit");return me(),_e(vt,null,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),S("div",{tabindex:"-1","aria-hidden":"true",class:Ke(["overflow-y-auto overflow-x-hidden fixed top-0 bg-gray-900/70 right-0 left-0 z-40 justify-center items-center w-full md:inset-0 h-modal h-full px-3 md:px-0",{hidden:i.close}])},[S("div",yee,[S("div",bee,[S("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:t[0]||(t[0]=(...h)=>s.closeAlbumInfo&&s.closeAlbumInfo(...h))},Eee),S("div",Tee,[ae(l,{isClose:i.close},null,8,["isClose"]),ae(c,{isClose:i.close},null,8,["isClose"])])])])],2)],64)}const Iee=Nt(vee,[["render",See]]),Aee={name:"Member-Manage",data(){return{deleteTempAlbum:{},albums:[],albumID:"",profileName:"",unsaveFlag:!1,toggle:!1,showLoading:!1}},components:{toastMessage:Zi,MemberSongEdit:Iee,alertDeleteConfirm:dR,Loading:Wf},computed:{...Mt(Xi,["delData","deleteData","alertMessage"])},methods:{...Vn(Xi,["fireShowAlertConfirm"]),async openAlbum(e){this.toggle=!this.toggle,this.albumID=e},async getAlbums(e){const{albums:t,name:n}=(await bw.doc(e).get()).data();(await si.doc("fundraising").collection(e).orderBy("createdAt","desc").get()).forEach(i=>{this.albums.push({...i.data()})}),this.profileName=n,t&&t.forEach(i=>{})},async deleteAlbum(e,t){this.deleteTempAlbum={...e,index:t,urls:[]},this.fireShowAlertConfirm({msg:this.$t("alertMsg.delete_album",{albumName:e.albumName})})},async deleteAlbumCollection(){const e=si.doc("fundraising"),t=await e.get(),n=e.collection(this.deleteTempAlbum.uid).doc(this.deleteTempAlbum.albumID),r=t.data().items.filter(i=>this.deleteTempAlbum.albumID!==i.albumID);try{await n.delete(),await e.update({items:r})}catch(i){console.log("deleteAlbumCollection_error => ",i)}},async deleteSongCollection(){const e=await zr.where("albumID","==",this.deleteTempAlbum.albumID).get();try{e.forEach(async t=>{this.deleteTempAlbum.urls.push(t.data().url),await t.ref.delete()})}catch(t){console.log("deleteSongCollection_error => ",t)}},async deleteImgStorage(){const e=ri.refFromURL(this.deleteTempAlbum.albumImg),t=ri.refFromURL(this.deleteTempAlbum.albumSingerImg);try{await e.delete(),await t.delete()}catch(n){console.log("deleteImgStorage_error => ",n)}},async deleteSongStorage(){try{this.deleteTempAlbum.urls.forEach(async(e,t)=>{await ri.refFromURL(e).delete()})}catch(e){console.log("deleteSongStorage => ",e)}},closeTheWindow(e){e.closed===!0&&(this.albumID="")}},watch:{async delData(){this.delData&&(this.showLoading=!0,await this.deleteAlbumCollection(),await this.deleteSongCollection(),await this.deleteImgStorage(),await this.deleteSongStorage(),window.location.reload())},alertMessage(){this.alertMessage||(this.deleteTempAlbum={})}},mounted(){this.getAlbums(this.$route.params.uid)}},xee={class:"text-zinc-200 bg-zinc-900 mt-[55px] pt-[10px] pb-[10px] mb-[90px] relative"},kee={class:"p-6 md:w-[550px] w-full bg-gradient-to-b from-zinc-900 to-zinc-700 rounded md:border border-transparent md:border-gray-200/40 mx-auto"},Cee={class:"flex justify-around gap-0 items-center"},Nee={class:"text-gray-500 flex justify-center w-28 h-28 rounded-full border-2 border-zinc-500"},Oee=S("svg",{"data-encore-id":"icon",role:"img",viewBox:"0 0 24 24",fill:"currentColor",class:"w-16 h-1w-16"},[S("path",{d:"M10.165 11.101a2.5 2.5 0 0 1-.67 3.766L5.5 17.173A2.998 2.998 0 0 0 4 19.771v.232h16.001v-.232a3 3 0 0 0-1.5-2.598l-3.995-2.306a2.5 2.5 0 0 1-.67-3.766l.521-.626.002-.002c.8-.955 1.303-1.987 1.375-3.19.041-.706-.088-1.433-.187-1.727a3.717 3.717 0 0 0-.768-1.334 3.767 3.767 0 0 0-5.557 0c-.34.37-.593.82-.768 1.334-.1.294-.228 1.021-.187 1.727.072 1.203.575 2.235 1.375 3.19l.002.002.521.626zm5.727.657-.52.624a.5.5 0 0 0 .134.753l3.995 2.306a5 5 0 0 1 2.5 4.33v2.232H2V19.77a5 5 0 0 1 2.5-4.33l3.995-2.306a.5.5 0 0 0 .134-.753l-.518-.622-.002-.002c-1-1.192-1.735-2.62-1.838-4.356-.056-.947.101-1.935.29-2.49A5.713 5.713 0 0 1 7.748 2.87a5.768 5.768 0 0 1 8.505 0 5.713 5.713 0 0 1 1.187 2.043c.189.554.346 1.542.29 2.489-.103 1.736-.838 3.163-1.837 4.355m-.001.001z"})],-1),Pee={class:"md:w-64 w-44"},Lee=S("hr",{class:"my-6"},null,-1),Ree={class:"mb-3"},Dee={class:"grid grid-cols-4 gap-2"},Mee=["onClick"],Fee=["src","onClick"];function Uee(e,t,n,r,i,s){const a=De("Loading"),l=De("alertDeleteConfirm"),c=De("toastMessage"),h=De("MemberSongEdit");return me(),_e("main",xee,[ae(a,{isShow:i.showLoading},null,8,["isShow"]),ae(l),ae(c),ae(h,{toggle:i.toggle,albumID:i.albumID,onCloseTheWindow:s.closeTheWindow},null,8,["toggle","albumID","onCloseTheWindow"]),S("div",kee,[S("div",Cee,[S("label",Nee,[S("input",{type:"file",class:"hidden",onChange:t[0]||(t[0]=p=>e.uploadSignerImg(p))},null,32),Oee]),S("div",Pee,[S("h5",null,X(e.$t("memberMamagePage.profile")),1),S("p",null,X(i.profileName),1)])]),Lee,S("p",Ree,X(e.$t("memberMamagePage.created_album")),1),S("div",Dee,[(me(!0),_e(vt,null,qi(i.albums,(p,f)=>(me(),_e("div",{key:p.albumID,class:"col-span-1 cursor-pointer relative"},[S("i",{class:"fas fa-trash-alt absolute left-1 text-rose-500 hover:text-teal-500 text-xl",onClick:qe(m=>s.deleteAlbum(p,f),["prevent"])},null,8,Mee),S("img",{class:"rounded-md",src:p.albumImg,alt:"",onClick:qe(m=>s.openAlbum(p.albumID),["prevent"])},null,8,Fee)]))),128))])])])}const Vee=Nt(Aee,[["render",Uee]]),$ee=[{path:"/",name:"home",component:oX,meta:{requireScreen:!0}},{path:"/album/:gener/:albumSinger",name:"album",component:$X},{path:"/favSongList",name:"favSongList",component:vJ},{path:"/makeAlbum",name:"makeAlbum",component:qQ},{name:"admin-backStage",path:"/admin",component:V3,children:[]},{name:"member-backStage",path:"/member/:uid",component:Vee,children:[]},{path:"/:catchAll(.*)*",redirect:{path:"/"}}],OR=GK({history:bK("/vue-earphone-music"),routes:$ee});OR.beforeEach((e,t,n)=>{const r=$n();t.path!=="/"&&!r.userLoggedIn&&(e.meta.requireScreen=!1),n()});let ua=null;bo.onAuthStateChanged(()=>{ua||(ua=W$(j9),ua.use(J$()),ua.use(OR),ua.use(hB),ua.use(VL),ua.mount("#app"))});
